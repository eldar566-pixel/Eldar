<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Математический Атлас</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body, pre {
            background-color: #0d1117;
            color: #e6edf3;
            font-family: 'Consolas', 'Cascadia Code', 'SF Mono', 'Fira Code',
                         'Courier New', 'Lucida Console', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        body {
            padding: 20px;
            max-width: 100vw;
            overflow-x: hidden;
        }
        pre {
            white-space: pre;
            overflow-x: auto;
            max-width: 100%;
            -webkit-overflow-scrolling: touch;
        }
        @media (max-width: 768px) {
            body, pre {
                font-size: 9px;
                line-height: 1.3;
            }
            body {
                padding: 4px;
            }
            pre {
                tab-size: 2;
                -moz-tab-size: 2;
            }
        }
        @media (max-width: 480px) {
            body, pre {
                font-size: 7.5px;
                line-height: 1.25;
            }
        }
    </style>
</head>
<body>
<pre>
===============================================================================
                    МАТЕМАТИЧЕСКИЙ АТЛАС
===============================================================================
                                                                 Эльдар Ахметов
                                                             eldar566@gmail.com
-------------------------------------------------------------------------------
   Математика — это язык пространств
-------------------------------------------------------------------------------

   Комната, в которой мы сидим — это пространство.
   Множество всех возможных температур в этой комнате — тоже пространство.
   Множество всех функций, описывающих температуру — тоже пространство.

   Математика изучает пространства разных типов и связи между ними.

   Каждый раздел математики — это способ смотреть на пространство:

   +------------------+---------------------------------------------------+
   | РАЗДЕЛ           | ЧТО ВИДИТ В ПРОСТРАНСТВЕ                          |
   +------------------+---------------------------------------------------+
   | Теория множеств  | Только точки, никакой структуры                   |
   | Топология        | Какие точки "близки" (но без чисел-расстояний)    |
   | Метрика          | Расстояния между точками                          |
   | Линейная алгебра | Сложение и умножение на числа                     |
   | Группы           | Симметрии — преобразования, сохраняющие структуру |
   | Многообразия     | Локально похоже на ℝⁿ, глобально искривлено       |
   | Функц. анализ    | Бесконечномерные пространства функций             |
   +------------------+---------------------------------------------------+

   Одно и то же физическое пространство можно изучать всеми способами.
   Разные задачи требуют разных взглядов.

   Это карта математической территории. Атлас показывает связи между разделами.

-------------------------------------------------------------------------------
   Философия этого атласа
-------------------------------------------------------------------------------

   пустота → границы → пространство → структура → измерение

  +------------------+----------------------------------------------------+
  | РАЗДЕЛ           | ЧТО ДОБАВЛЯЕТСЯ К ПРОСТРАНСТВУ                     |
  +------------------+----------------------------------------------------+
  | Теория множеств  | Ничего. Пыль — точки без связей между собой.       |
  | Топология        | Ткань — понятие "рядом", связность, непрерывность. |
  | Группы           | Подвижность — каталог допустимых движений.         |
  | Метрика          | Твёрдость — числовые расстояния между точками.     |
  | Линейная алгебра | Плоскость — можно складывать и масштабировать.     |
  | Многообразия     | Кривизна — локально плоское, глобально изогнутое.  |
  | Анализ           | Измерение — функции как датчики на пространстве.   |
  +------------------+----------------------------------------------------+

 Во всей математике есть фундаментальное разделение:

   Объект — то, что существует независимо от способа описания.
            (вектор, тензор, многообразие, оператор)

   Наблюдатель — тот, кто выбирает систему координат и записывает числа.
                 (базис, карта, система отсчёта)

   Инвариант — то, о чём договорятся все наблюдатели.
               (длина, угол, ранг, спектр, топологический тип)

-------------------------------------------------------------------------------
 Нотации
-------------------------------------------------------------------------------

 ∈ ∉ ⊂ ⊆      принадлежит, включение         | ∀ ∃ ⇒ ⇔    кванторы, следование
 ∩ ∪ \        пересечение, объединение       | ¬ ∧ ∨      не, и, или
 ℕ ℤ ℚ ℝ ℂ    числовые множества             | ℍ 𝕆        кватернионы, октонионы
 ≅            изоморфизм                     | ⊗ ⊕        тензорное, прямая сумма
 ⟨·,·⟩ ‖·‖     скалярное произведение, норма  | V* Aᵀ A⁻¹  двойственность, транспонирование

-------------------------------------------------------------------------------
 Иерархия пространств — главная схема
-------------------------------------------------------------------------------

                          Множество
                     (точки без структуры)
                             |
           +-----------------+-----------------+
           |                 |                 |
           ▼                 ▼                 ▼
    Топологическое     Алгебраическое    Частичный порядок
     пространство       (группа,            (решётка)
     (близость)          кольцо)
           |                 |
           ▼                 ▼
     Метрическое       Векторное пр-во
     (расстояние)      (сложение, масштаб)
           |                 |
           +---------+-------+
                     |    ← здесь сходятся обе ветви
                     ▼
               Нормированное
           (норма задаёт метрику:
            d(x,y) = ‖x − y‖)
                     |
                 Банахово
                (+ полнота)
                     |
              Гильбертово
          (+ скал. произведение,
           углы между векторами)

         Вторая ветка (от Топологического пространства):

    Топологическое
     пространство
           |
           ▼
       Многообразие
      (локально ≅ ℝⁿ)
           |
     Гладкое многообразие
    (+ дифф. структура)
           |
     Риманово многообразие
    (+ метрический тензор:
     скал. произведение на
     касательном пространстве)

 Связь ветвей:
   Нормированное = Метрическое ∩ Векторное: норма однозначно
   задаёт метрику, и обе структуры совместны.
   Риманово мн-е в каждой точке p имеет скал. произведение
   на TₚM — локально это гильбертова структура.

-------------------------------------------------------------------------------
 Почему матанализ не в начале?
-------------------------------------------------------------------------------

 Традиционное образование: школа → матанализ → всё остальное.
 Этот атлас устроен иначе.

 Матанализ — это анализ на конкретном пространстве ℝⁿ.
 Мы сначала отвечаем: что такое пространство вообще?

   • Топология: что значит "близко" и "непрерывно"
   • Линейная алгебра: что значит "сложить" и "умножить на число"
   • Группы: что значит "симметрия"
   • Многообразия: что значит "локально как ℝⁿ"

 и потом показываем: вот как всё это работает на ℝⁿ (матанализ).

-------------------------------------------------------------------------------
 Одна задача — много языков
-------------------------------------------------------------------------------

 Теплопроводность в стержне. Одна физика, но:

 +-------------+--------------------------------------------------+
 | ЯЗЫК        | КАК ВЫГЛЯДИТ                                     |
 +-------------+--------------------------------------------------+
 | Физика      | Тепло течёт от горячего к холодному              |
 +-------------+--------------------------------------------------+
 | Матанализ   | ∂T/∂t = α·∂²T/∂x²  (уравнение в частных произв.) |
 +-------------+--------------------------------------------------+
 | Фурье       | T(x,t) = Σ cₙe^{−αn²t}sin(nπx/L)                 |
 +-------------+--------------------------------------------------+
 | Функанализ  | dT/dt = AT, где A = α·d²/dx² — оператор в L²     |
 +-------------+--------------------------------------------------+
 | Полугруппы  | T(t) = e^{At}T₀ — однопараметрическая полугруппа |
 +-------------+--------------------------------------------------+
 | Вероятность | Броуновское движение, диффузия частиц            |
 +-------------+--------------------------------------------------+

 Все эти языки описывают одно и то же. Атлас показывает, как переходить
 между ними. Иногда задача проще на одном языке, иногда — на другом.


 Вторая задача — ещё больше языков (течение в трубе)

 Вода течёт по трубе. Какой расход? Какие потери давления?

 +---------------+-----------------------------------------------------+
 | РАЗДЕЛ АТЛАСА | ЧТО ДАЁТ ДЛЯ ЭТОЙ ЗАДАЧИ                            |
 +---------------+-----------------------------------------------------+
 | Векторы       | Скорость v = (v_x, v_y, v_z) — векторное поле       |
 +---------------+-----------------------------------------------------+
 | Тензоры       | Напряжения τᵢⱼ — тензор 2-го ранга                  |
 |               | Связь τ и скорости: τᵢⱼ = μ(∂vᵢ/∂xⱼ + ∂vⱼ/∂xᵢ)      |
 +---------------+-----------------------------------------------------+
 | Формы         | Расход = ∬_S v·dS — интеграл 2-формы ρv             |
 +---------------+-----------------------------------------------------+
 | Матанализ     | Уравнение Навье-Стокса:                             |
 |               | ρ(∂v/∂t + (v·∇)v) = −∇p + μ∇²v + ρg                 |
 +---------------+-----------------------------------------------------+
 | Функанализ    | Слабые решения, пространства Соболева W^{1,2}       |
 +---------------+-----------------------------------------------------+
 | Группы        | Симметрия задачи: осевая → профиль Пуазейля         |
 |               | v(r) = v_max(1 − r²/R²) — параболический профиль    |
 +---------------+-----------------------------------------------------+
 | Размерности   | Число Рейнольдса Re = ρvL/μ — безразмерное.         |
 |               | Re &lt; 2300: ламинар, Re &gt; 4000: турбулентность |
 +---------------+-----------------------------------------------------+


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                              ЧАСТЬ I: ФУНДАМЕНТ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

===============================================================================
Философский фундамент
===============================================================================
-------------------------------------------------------------------------------
 Иерархия мышления: от пустоты к физике
-------------------------------------------------------------------------------

Вся математика и познание мира возникают из последовательности актов мышления:

        ∅ Пустота
         |
         | Акт 1: Выбор
         ↓
   +============================================================+
   |  Субъект наделяется возможностью действовать над пустотой  |
   +============================================================+
         |
         | Акт 2: Проведение границ
         ↓
   +============================================================+
   |  Пустота разрезается границами на образы                   |
   +============================================================+
         |
         | Акт 3: Манипуляции образами
         ↓
   +============================================================+
   |  Универсальны для всего живого                             |
   |  Не требуют символов                                       |
   |  Прямое оперирование паттернами                            |
   +============================================================+
         |
         | Акт 4: Категоризация
         ↓
   +============================================================+
   |  Теория множеств                                           |
   |  Минимальный язык для описания наборов объектов            |
   |  Мост между образами и коммуникацией                       |
   +============================================================+
         |
         | Акт 5: Коммуникация
         ↓
   +============================================================+
   |  Естественные языки                                        |
   |  Символическое представление образов                       |
   |  Потеря точности при передаче                              |
   +============================================================+
         |
         | Акт 6: Проверка коммуникации
         ↓
   +============================================================+
   |  Логика / Доказательства                                   |
   |  Нужны из-за ненадёжности языка                            |
   |  Попытка восстановить исходную ясность образов             |
   +============================================================+
         |
         | Акт 7: Применение к миру
         ↓
   +============================================================+
   |  Физика                                                    |
   |  Экспериментальная наука с высокой воспроизводимостью      |
   |  Математика = экспериментальная физика                     |
   +============================================================+


 Ключевые философские положения
+---+---------------------------------------------------------------------+
| 1 | Вселенная есть пустота, бесконечно переопределяющая границы         |
+---+---------------------------------------------------------------------+
| 2 | Существование объекта = возможность кому-то указать на этот объект  |
+---+---------------------------------------------------------------------+
| 3 | Мышление = указание, к каким множествам относятся объекты           |
+---+---------------------------------------------------------------------+
| 4 | Доказательство = явный путь по карте вложений множеств              |
+---+---------------------------------------------------------------------+
| 5 | Логика и математика = экспериментальная физика с высокой воспроизв. |
+---+---------------------------------------------------------------------+
| 6 | Понять = уметь визуально представить                                |
+---+---------------------------------------------------------------------+
| 7 | «Объект» и «пространство» — не свойства вещи, а роли, определяемые  |
|   | актом проведения границы наблюдателем                               |
+---+---------------------------------------------------------------------+

 Объект или пространство? — вопрос точки зрения
 Одна и та же сущность может быть и объектом, и пространством — в зависимости от
 того, где мы проводим границу наблюдения.

-------------------------------------------------------------------------------
 Пример: бублик (тор)
-------------------------------------------------------------------------------

 Бублик как объект (взгляд снаружи):
   Мы смотрим на тор как на целое. Он — один элемент в пространстве
   всех поверхностей, наряду со сферой, двойным тором и т.д.
   Нас интересуют его глобальные свойства: род, площадь, вложение в ℝ³.

 Бублик как пространство (взгляд изнутри):
   Мы "живём" на торе. Теперь нас интересуют точки на нём, пути между
   ними, функции на нём. Для муравья, ползущего по бублику, бублик —
   это весь мир, пространство, в котором он перемещается.

 Оба взгляда верны. Бублик один, но акт выбора границы определяет роль.

-------------------------------------------------------------------------------
 Рекурсия: пространство становится объектом
-------------------------------------------------------------------------------

   Уровень 0:  Точка p на торе T           ← p — объект
   Уровень 1:  Тор T                       ← T — пространство для p
   Уровень 2:  Пространство модулей торов  ← T становится объектом.
   Уровень 3:  Пространство всех модулей   ← предыдущее становится объектом
   ...

 На каждом уровне то, что было пространством, становится объектом
 в пространстве более высокого уровня. Граница поднимается.

-------------------------------------------------------------------------------
 Пример из физики: жидкость и газ
-------------------------------------------------------------------------------

 Этот пример особенно важен, потому что показывает, как один и тот же
 физический объект требует разных математических описаний.

 +---------------+--------------------------------------------------+
 | ПОДХОД        | ЖИДКОСТЬ/ГАЗ — ЭТО:                              |
 +---------------+--------------------------------------------------+
 | Термодинамика | Объект с параметрами (P, V, T, S)                |
 |               | "Чему равно давление газа в баллоне?"            |
 |               | Внутренняя структура неважна — только состояние. |
 +---------------+--------------------------------------------------+
 | Гидродинамика | Пространство с полями v(x,t), P(x,t), ρ(x,t)     |
 | (уравнения    | "Как течёт жидкость вокруг крыла?"               |
 | Навье-Стокса) | Каждая точка — место, где определены скорость,   |
 |               | давление, плотность. Само течение = траектории.  |
 +---------------+--------------------------------------------------+
 | Кинетическая  | Пространство молекул (фазовое пространство)      |
 | теория        | Каждая молекула — объект с координатами (x, v).  |
 |               | Газ = облако точек в 6N-мерном пространстве.     |
 +---------------+--------------------------------------------------+

 Ключевое наблюдение:

   • В термодинамике: газ = точка в пространстве состояний (P,V,T)
   • В гидродинамике: газ = само пространство, где живут поля
   • В кинетике: газ = множество частиц, каждая из которых объект

 Три разных уровня описания — три разных ответа на вопрос
 "что здесь объект, а что пространство".

 Уравнения Навье-Стокса, уравнение Больцмана, уравнение состояния —
 это не конкуренты, а описания на разных уровнях иерархии.

-------------------------------------------------------------------------------
 Практический критерий
-------------------------------------------------------------------------------

   Объект — когда спрашиваем "какой он?" (свойства целого)
   Пространство — когда спрашиваем "что в нём?" (структура внутри)

   Это не свойство вещи, а свойство вопроса, который мы задаём.

-------------------------------------------------------------------------------
 Философский вывод
-------------------------------------------------------------------------------

 "Объект" и "пространство" — не абсолютные свойства, а роли.
 Роль определяется актом проведения границы наблюдателем.

 Математика изучает структуры на всех уровнях одновременно —
 и даёт язык для перехода между ними.



===============================================================================
Теория множеств — базовые понятия
===============================================================================

Теория множеств — это взгляд на пространство как на пыль: есть точки, и больше
ничего. Никакой структуры, никаких связей. Мы ещё не знаем, какие точки "рядом",
не можем их складывать, не можем измерять расстояния. Только голый факт:
эта точка принадлежит этому множеству, или не принадлежит.

Это самый бедный взгляд — но именно с него всё начинается. Все остальные
структуры (топология, алгебра, метрика) будут надстройками над множествами.

В терминах "объект—наблюдатель": на уровне множеств ещё нет наблюдателя.
Нет системы координат, нет способа "записать" элемент числами. Есть только
сами объекты и вопрос: принадлежит или нет?

-------------------------------------------------------------------------------
 Что такое множество
-------------------------------------------------------------------------------

 Множество — это совокупность объектов, рассматриваемых как единое целое.

 Объекты, входящие в множество, называются его элементами.

 Способы задания:
   • Перечисление: A = {1, 2, 3}
   • Описание свойства: B = {x : x &gt; 0} = "все положительные x"

 Особые множества:
   ∅ = {} — пустое множество (не содержит элементов)
   U — универсум (множество всех рассматриваемых объектов)


 Два главных отношения
 +-----------------------------------------------------------------------+
 | x ∈ A     "x — элемент множества A"                                   |
 |            x — это один объект, лежащий внутри A                      |
 |                                                                       |
 |           +===============+                                           |
 |           |       A       |                                           |
 |           |    ●          |  ← точка x внутри A                       |
 |           |    x          |                                           |
 |           +===============+                                           |
 +-----------------------------------------------------------------------+

 +-----------------------------------------------------------------------+
 | B ⊆ A     "B — подмножество A"                                        |
 |           Каждый элемент B является элементом A                       |
 |           (B целиком лежит внутри A)                                  |
 |                                                                       |
 |           +=======================+                                   |
 |           |         A             |                                   |
 |           |    +---------+        |                                   |
 |           |    |    B    |        |  ← B целиком внутри A             |
 |           |    +---------+        |                                   |
 |           +=======================+                                   |
 +-----------------------------------------------------------------------+

 Важно не путать:
   • x ∈ A — x это объект внутри A
   • B ⊆ A — B это множество, все элементы которого в A

 Пример:  A = {1, 2, 3}
   • 2 ∈ A — да (2 — элемент A)
   • {2} ⊆ A — да ({2} — подмножество A)
   • {2} ∈ A — нет ({2} не является элементом A, элементы — числа)
   • 2 ⊆ A — не имеет смысла (2 — не множество)

 Пустое множество:
   • ∅ ⊆ A — всегда верно для любого A
   • ∅ ∈ A — верно только если ∅ явно указано как элемент


 Операции над множествами
+--------------+--------------------------+-----------------------------------+
| ОПЕРАЦИЯ     | ОПРЕДЕЛЕНИЕ              | ДИАГРАММА ВЕННА                   |
+--------------+--------------------------+-----------------------------------+
|              |                          |                                   |
| A ∪ B        | {x : x ∈ A или x ∈ B}    |     .-"""-.   .-"""-.             |
| ОБЪЕДИНЕНИЕ  |                          |    /███████\ /███████\            |
|              | Все элементы, которые    |   |█████████████████████|         |
|              | хотя бы в одном          |   |█████████████████████|         |
|              |                          |    \███████/ \███████/            |
|              |                          |     `-._.-"   `-._.-"             |
|              |                          |   Всё закрашенное                 |
|              |                          |                                   |
+--------------+--------------------------+-----------------------------------+
|              |                          |                                   |
| A ∩ B        | {x : x ∈ A и x ∈ B}      |     .-"""-.   .-"""-.             |
| ПЕРЕСЕЧЕНИЕ  |                          |    /       \ /       \            |
|              | Все элементы, которые    |   |         █         |           |
|              | в обоих множествах       |   |       █████       |           |
|              |                          |    \       █ /       /            |
|              |                          |     `-._.-" `-._.-"               |
|              |                          |   Только пересечение              |
|              |                          |                                   |
+--------------+--------------------------+-----------------------------------+
|              |                          |                                   |
| A \ B        | {x : x ∈ A и x ∉ B}      |     .-"""-.   .-"""-.             |
| РАЗНОСТЬ     |                          |    /███████\ /       \            |
|              | Элементы A, которых      |   |█████████         |            |
|              | нет в B                  |   |███████           |            |
|              |                          |    \███████/ \       /            |
|              |                          |     `-._.-"   `-._.-"             |
|              |                          |   A без пересечения               |
|              |                          |                                   |
+--------------+--------------------------+-----------------------------------+
|              |                          |  +===========================+    |
| Aᶜ или A'    | {x : x ∉ A}              |  |█████████████████████████  |    |
| ДОПОЛНЕНИЕ   |                          |  |██████ .-"""-. ██████████  |    |
|              | Все элементы универсума, |  |█████/       \ █████████   |    |
|              | не входящие в A          |  |████|    A    |█████████   |    |
|              |                          |  |█████\       /██████████   |    |
|              | Aᶜ = U \ A               |  |██████ `-._.-" ██████████  |    |
|              |                          |  +===========================+    |
|              |                          |  Всё, кроме A                     |
|              |                          |                                   |
+--------------+--------------------------+-----------------------------------+

-------------------------------------------------------------------------------
 Законы теории множеств
-------------------------------------------------------------------------------

 Коммутативность:    A ∪ B = B ∪ A           A ∩ B = B ∩ A
 Ассоциативность:    (A∪B)∪C = A∪(B∪C)       (A∩B)∩C = A∩(B∩C)
 Дистрибутивность:   A∩(B∪C) = (A∩B)∪(A∩C)   A∪(B∩C) = (A∪B)∩(A∪C)

 Законы де Моргана:
   (A ∪ B)ᶜ = Aᶜ ∩ Bᶜ    "не(A или B)" = "не A и не B"
   (A ∩ B)ᶜ = Aᶜ ∪ Bᶜ    "не(A и B)" = "не A или не B"

 Свойства пустого и универсума:
   A ∪ ∅ = A             A ∩ ∅ = ∅
   A ∪ U = U             A ∩ U = A
   A ∪ Aᶜ = U            A ∩ Aᶜ = ∅

-------------------------------------------------------------------------------
 Мощность множества
-------------------------------------------------------------------------------

 |A| — количество элементов в конечном множестве A.

 Примеры:
   |∅| = 0
   |{a, b, c}| = 3
   |{1, 2, {1,2}}| = 3  (три элемента: 1, 2, и множество {1,2})

 Формула включений-исключений:
   |A ∪ B| = |A| + |B| − |A ∩ B|

 Мощность множества подмножеств:
   Если |A| = n, то A имеет 2ⁿ подмножеств (включая ∅ и само A)

-------------------------------------------------------------------------------
 Декартово произведение
-------------------------------------------------------------------------------

 A × B = {(a, b) : a ∈ A, b ∈ B}

 Множество всех упорядоченных пар, где первый элемент из A, второй из B.

 Пример: {1, 2} × {a, b} = {(1,a), (1,b), (2,a), (2,b)}

 Геометрически: Если A и B — отрезки на осях, то A × B — прямоугольник.

   b +    +---------+
     |    |         |
     +    |  A × B  |
     |    |         |
   a +----+---------+----
          1         2

 |A × B| = |A| · |B|

 ℝ × ℝ = ℝ² — плоскость
 ℝ × ℝ × ℝ = ℝ³ — трёхмерное пространство

===============================================================================
Логика и доказательства
===============================================================================

Логические законы есть формализация самоочевидных экспериментальных результатов
манипуляций со множествами, полученных из наблюдений за поведением физических
объектов реальности. Впрочем, эти результаты не обязаны воспроизводиться всегда.

-------------------------------------------------------------------------------
Высказывания и множества
-------------------------------------------------------------------------------

 Философский фундамент: мышление = классификация по множествам

   В конечном итоге все наши мысли сводятся к указанию того,
   к каким множествам относятся мыслимые объекты.

 Когда мы думаем "этот стол деревянный", мы помещаем объект (стол)
 в множество (деревянные вещи). Когда думаем "5 — простое число",
 помещаем 5 в множество простых чисел.

-------------------------------------------------------------------------------
 Структура любого высказывания
-------------------------------------------------------------------------------

 Любое высказывание можно разложить на две части:

   • x — объект, о котором идёт речь
   • P — множество (свойство), к которому объект относится или нет

 +------------------------------------------------------------+
 | Высказывание  =  "объект x обладает свойством P"  =  x ∈ P |
 +------------------------------------------------------------+

 Примеры разложения:

   "Сократ смертен"
       x = Сократ
       P = {все смертные существа}
       Высказывание: Сократ ∈ P

   "7 — нечётное число"
       x = 7
       P = {нечётные числа} = {1, 3, 5, 7, 9, ...}
       Высказывание: 7 ∈ P  (истинно)

   "Эта жидкость — кислота"
       x = эта жидкость
       P = {кислоты}
       Высказывание: x ∈ P  (требует проверки)

 Почему это важно:
   Вся логика — это правила работы с принадлежностью объектов множествам.
   "P и Q" = x принадлежит и множеству P, и множеству Q = x ∈ (P ∩ Q)
   "P или Q" = x принадлежит хотя бы одному = x ∈ (P ∪ Q)
   "не P" = x не принадлежит P = x ∈ Pᶜ (дополнение)

-------------------------------------------------------------------------------
 Что такое логика и зачем она нужна
-------------------------------------------------------------------------------

 Логика — это нормативная дисциплина: она предписывает, как человеку следует
 думать, но не описывает, как он думает на самом деле.

 Цели логики:
   • Уметь доказывать новые утверждения на основе уже известных
   • Обеспечить средства для оценки аргументов на корректность

-------------------------------------------------------------------------------
 Базовые понятия
-------------------------------------------------------------------------------

 Высказывание — утверждение, которое можно проверить на истинность/ложность.
   Примеры:
     ✓ "2 + 2 = 4" — высказывание (истинное)
     ✓ "Москва — столица Франции" — высказывание (ложное)
     ✗ "Который час?" — не высказывание (вопрос)
     ✗ "x &gt; 5" — не высказывание, пока x не определён (предикат)

 Формула — высказывание, составленное из других высказываний через
 логические связки (∧, ∨, ¬, →, ↔) или кванторы (∀, ∃).

 Тавтология — формула, истинная при любых значениях составляющих.
   Пример: P ∨ ¬P (закон исключённого третьего) — всегда истинно.
   Тавтологии используются для построения методов доказательства.

-------------------------------------------------------------------------------
 Два уровня логики
-------------------------------------------------------------------------------

 Пропозициональная (логика высказываний, логика нулевого порядка):
   • Работает с готовыми высказываниями P, Q, R, ...
   • Связки: ∧, ∨, ¬, →, ↔
   • Можно проверить таблицей истинности (механически)

 Предикатная (логика первого порядка):
   • Добавляет переменные, предикаты и кванторы ∀, ∃
   • Позволяет говорить о свойствах объектов и отношениях между ними
   • Нужна для математики (утверждения типа "для всех n")

   Переменные — представляют элементы некоторого множества.
   Предикаты — функции, возвращающие истину/ложь для объектов.
     Пример: P(x) = "x чётное", Q(x,y) = "x &lt; y"
   Кванторы — позволяют делать утверждения о множествах объектов.

-------------------------------------------------------------------------------
 Два способа проверки логического следования
-------------------------------------------------------------------------------

 Способ 1: Таблица истинности (механический, для пропозициональной логики)
   • Выписать все комбинации значений переменных
   • Вычислить значения посылок и заключения
   • Проверить: если посылки = 1, то заключение = 1?

 Способ 2: Готовые методы (тавтологии с известной структурой)
   • Modus Ponens, Modus Tollens, от противного и др.
   • Не требуют таблиц — используют уже доказанные тавтологии

 Фундаментальный принцип:

   Теория множеств первична по отношению к логике.

   • Теория множеств = правила операций над объектами любой природы
   • Логика = правила операций над высказываниями любого языка

   Логика — это надстройка над теорией множеств.
   Сначала мыслим принадлежностями к множествам,
   и только потом даём определения логическим операциям.

+--------------+-------------------------+----------------------------------+
| ЛОГИЧЕСКАЯ   |  ОПРЕДЕЛЕНИЕ ЧЕРЕЗ      |  ДИАГРАММА ВЕННА                 |
| ОПЕРАЦИЯ     |  ТЕОРИЮ МНОЖЕСТВ        |  (заштриховано = результат)      |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| P ∧ Q        | x ∈ (P ∩ Q)             |       .-"""-.   .-"""-.          |
| "P и Q"      | x принадлежит           |      /   P   \ /   Q   \         |
|              | пересечению             |     |         █         |        |
|              |                         |     |       █████       |        |
|              |                         |      \       █ /       /         |
|              |                         |       `-._.-" `-._.-"            |
|              |                         |              ↑                   |
|              |                         |     Только это (пересечение)     |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| P ∨ Q        | x ∈ (P ∪ Q)             |       .-"""-.   .-"""-.          |
| "P или Q"    | x принадлежит           |      /███████\ /███████\         |
|              | объединению             |     |█████████████████████|      |
|              |                         |     |█████████████████████|      |
|              |                         |      \███████/ \███████/         |
|              |                         |       `-._.-"   `-._.-"          |
|              |                         |            ↑                     |
|              |                         |    Всё закрашенное (оба круга)   |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |  +===========================+   |
| ¬P           | x ∈ Pᶜ                  |  |█████████████████████████  |   |
| "не P"       | x принадлежит           |  |██████ .-"""-. ██████████  |   |
|              | дополнению              |  |█████/       \█████████    |   |
|              |                         |  |████|    P    |█████████   |   |
|              |                         |  |█████\       /██████████   |   |
|              |                         |  |██████ `-._.-" ██████████  |   |
|              |                         |  |█████████████████████████  |   |
|              |                         |  +===========================+   |
|              |                         |     ↑ Всё кроме P                |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| P ⇒ Q        | P ⊆ Q                   |       .------""""""------.       |
| "если P,     | Множество P вложено     |      /          Q         \      |
|  то Q"       | в множество Q           |     |    .---.             |     |
|              |                         |     |   |  P  |            |     |
|              | (каждый x из P          |     |    `---"             |     |
|              |  обязательно в Q)       |      \                    /      |
|              |                         |       `------.-----------"       |
|              | Эквивалентно: ¬P ∨ Q    |     P целиком внутри Q           |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| P ⇔ Q        | P = Q                   |         .-------.                |
| "P тогда и   | Множества совпадают     |        /         \               |
| только тогда,|                         |       |   P = Q   |              |
| когда Q"     | (P ⊆ Q) ∧ (Q ⊆ P)       |        \         /               |
|              |                         |         `-------"                |
|              |                         |     Один и тот же круг.          |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| ⊤            | U (универсум)           |  +===========================+   |
| "истина"     |                         |  |█████████████████████████  |   |
|              | x ∈ U  для любого x     |  |█████████████████████████  |   |
|              |                         |  |█████████ U █████████████  |   |
|              |                         |  |█████████████████████████  |   |
|              |                         |  +===========================+   |
|              |                         |     Всё пространство             |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| ⊥            | ∅ (пустое множество)    |      { }                         |
| "ложь"       |                         |      (ничего нет)                |
|              | x ∈ ∅ никогда           |                                  |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+

Кванторы (для предикатной логики):

+--------------+-------------------------+----------------------------------+
| КВАНТОР      |  ОПРЕДЕЛЕНИЕ            |  ВИЗУАЛИЗАЦИЯ                    |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| ∀x ∈ A: P(x) | P(x) истинно для всех x |  +===========+                   |
|              | из множества A          |  | · · · · · | ← каждая точка    |
| "для всех x  |                         |  | · · · · · |   в A имеет       |
|  из A верно  | Эквивалентно: A ⊆ P     |  | · · · · · |   свойство P      |
|  P(x)"       | (A вложено в множество  |  +===========+                   |
|              |  точек со свойством P)  |       A ⊆ P                      |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+
|              |                         |                                  |
| ∃x ∈ A: P(x) | P(x) истинно хотя бы    |  +===========+                   |
|              | для одного x из A       |  |           |                   |
| "существует  |                         |  |     ●     | ← хотя бы одна    |
|  x из A      | Эквивалентно: A ∩ P ≠ ∅ |  |           |   точка с P       |
|  со свойством| (пересечение A и        |  +===========+                   |
|  P"          |  множества точек с P    |      A ∩ P ≠ ∅                   |
|              |  непусто)               |                                  |
|              |                         |                                  |
+--------------+-------------------------+----------------------------------+

 Соответствие: логика ↔ теория множеств
+------------------------+------------------------------+
| ЛОГИКА                 | ТЕОРИЯ МНОЖЕСТВ              |
+------------------------+------------------------------+
| Высказывание P         | Множество {x : P(x) истинно} |
| Логический вывод P ⊢ Q | Вложение множеств: P ⊆ Q     |
| Тавтология             | Универсальное множество      |
| Противоречие           | Пустое множество ∅           |
+------------------------+------------------------------+

-------------------------------------------------------------------------------
 Табличный метод для логики высказываний (нулевого порядка)
-------------------------------------------------------------------------------

 Позволяет механически проверить любую формулу без творчества
 Работает только для конечного числа переменных, без кванторов ∀, ∃

 Таблица истинности логических операций
+---+---+-------+-------+----+-------+-------+
| P | Q | P ∧ Q | P ∨ Q | ¬P | P → Q | P ↔ Q |
+---+---+-------+-------+----+-------+-------+
| 0 | 0 |   0   |   0   | 1  |   1   |   1   |
| 0 | 1 |   0   |   1   | 1  |   1   |   0   |
| 1 | 0 |   0   |   1   | 0  |   0   |   0   |
| 1 | 1 |   1   |   1   | 0  |   1   |   1   |
+---+---+-------+-------+----+-------+-------+

-------------------------------------------------------------------------------
Алгоритм классификации формул
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
Задача 1: определение типа формулы
-------------------------------------------------------------------------------

 Задача: Определить тип формулы F

 Вход:  формула F с переменными P₁, P₂, ..., Pₙ
 Выход: тавтология / противоречие / выполнимая

 Алгоритм табличной проверки
+-----+--------------------------------------+
| ШАГ | ДЕЙСТВИЕ                             |
+-----+--------------------------------------+
| 1   | Выписать переменные: P₁, P₂, ..., Pₙ |
| 2   | Построить таблицу с 2ⁿ строками      |
| 3   | Вычислить F для каждой строки        |
| 4   | Классифицировать результат           |
+-----+--------------------------------------+

 Классификация
+----------------+--------------+
| РЕЗУЛЬТАТ      | ТИП ФОРМУЛЫ  |
+----------------+--------------+
| Все строки = 1 | Тавтология   |
| Все строки = 0 | Противоречие |
| Смешанные      | Выполнимая   |
+----------------+--------------+

Пример 1.1: Проверить (P → Q) ↔ (¬P ∨ Q)

  +---+---+-------+----+--------+------------------+
  | P | Q | P → Q | ¬P | ¬P ∨ Q | (P→Q) ↔ (¬P ∨ Q) |
  +---+---+-------+----+--------+------------------+
  | 0 | 0 |   1   | 1  |   1    |       1          |
  | 0 | 1 |   1   | 1  |   1    |       1          |
  | 1 | 0 |   0   | 0  |   0    |       1          |
  | 1 | 1 |   1   | 0  |   1    |       1          |
  +---+---+-------+----+--------+------------------+

  Все строки = 1  →  тавтология

Пример 1.2: Проверить P ∧ ¬P

  +---+----+--------+
  | P | ¬P | P ∧ ¬P |
  +---+----+--------+
  | 0 | 1  |   0    |
  | 1 | 0  |   0    |
  +---+----+--------+

  Все строки = 0  →  противоречие

Пример 1.3: Проверить закон де Моргана ¬(P ∧ Q) ↔ (¬P ∨ ¬Q)

  +---+---+-------+----------+----+----+---------+---+
  | P | Q | P ∧ Q | ¬(P ∧ Q) | ¬P | ¬Q | ¬P ∨ ¬Q | ↔ |
  +---+---+-------+----------+----+----+---------+---+
  | 0 | 0 |   0   |     1    | 1  | 1  |    1    | 1 |
  | 0 | 1 |   0   |     1    | 1  | 0  |    1    | 1 |
  | 1 | 0 |   0   |     1    | 0  | 1  |    1    | 1 |
  | 1 | 1 |   1   |     0    | 0  | 0  |    0    | 1 |
  +---+---+-------+----------+----+----+---------+---+

  Все строки = 1  →  тавтология

-------------------------------------------------------------------------------
Задача 2: проверка следования
-------------------------------------------------------------------------------

Задача: определить, следует ли B из посылок A₁, A₂, ..., Aₖ

Запись: A₁, A₂, ..., Aₖ ⊢ B

Ключевое: запятая между посылками означает ∧ (логическое И).

  A₁, A₂, ..., Aₖ ⊢ B   означает   (A₁ ∧ A₂ ∧ ... ∧ Aₖ) → B

Алгоритм:

  Шаг 1.  Выписать все переменные из всех формул A₁, ..., Aₖ, B
  Шаг 2.  Построить таблицу с 2ⁿ строками
  Шаг 3.  Для каждой строки вычислить A₁, A₂, ..., Aₖ, их конъюнкцию, и B
  Шаг 4.  Искать контрпример: строку, где (A₁ ∧ ... ∧ Aₖ) = 1, но B = 0

          • Контрпример найден     →  следование неверно
          • Контрпримера нет       →  следование верно

Пример 2.1: Проверить modus ponens  (P → Q) ∧ P ⊢ Q

  Обозначим: A₁ = (P → Q),  A₂ = P,  B = Q

  +---+---+----+----+---------+---+----------------+
  | P | Q | A₁ | A₂ | A₁ ∧ A₂ | B | Проверка       |
  +---+---+----+----+---------+---+----------------+
  | 0 | 0 | 1  | 0  |    0    | 0 | A₁∧A₂=0        |
  | 0 | 1 | 1  | 0  |    0    | 1 | A₁∧A₂=0        |
  | 1 | 0 | 0  | 1  |    0    | 0 | A₁∧A₂=0        |
  | 1 | 1 | 1  | 1  |    1    | 1 | A₁∧A₂=1, B=1 ✓ |
  +---+---+----+----+---------+---+----------------+

  Единственная строка где A₁∧A₂=1: P=1, Q=1.
  В ней B=1. Контрпримера нет  →  следование верно.

Пример 2.2: Проверить modus tollens  (P → Q) ∧ ¬Q ⊢ ¬P

  Обозначим: A₁ = (P → Q),  A₂ = ¬Q,  B = ¬P

  +---+---+----+----+---------+---+----------------+
  | P | Q | A₁ | A₂ | A₁ ∧ A₂ | B | Проверка       |
  +---+---+----+----+---------+---+----------------+
  | 0 | 0 | 1  | 1  |    1    | 1 | A₁∧A₂=1, B=1 ✓ |
  | 0 | 1 | 1  | 0  |    0    | 1 | A₁∧A₂=0        |
  | 1 | 0 | 0  | 1  |    0    | 0 | A₁∧A₂=0        |
  | 1 | 1 | 1  | 0  |    0    | 0 | A₁∧A₂=0        |
  +---+---+----+----+---------+---+----------------+

  Единственная строка где A₁∧A₂=1: P=0, Q=0.
  В ней B=1. Контрпримера нет  →  следование верно.

Пример 2.3: Проверить неверное следование  (P → Q) ∧ Q ⊢ P

  Обозначим: A₁ = (P → Q),  A₂ = Q,  B = P

  +---+---+----+----+---------+---+----------------+
  | P | Q | A₁ | A₂ | A₁ ∧ A₂ | B | Проверка       |
  +---+---+----+----+---------+---+----------------+
  | 0 | 0 | 1  | 0  |    0    | 0 | A₁∧A₂=0        |
  | 0 | 1 | 1  | 1  |    1    | 0 | A₁∧A₂=1, B=0 ✗ |
  | 1 | 0 | 0  | 0  |    0    | 1 | A₁∧A₂=0        |
  | 1 | 1 | 1  | 1  |    1    | 1 | A₁∧A₂=1, B=1 ✓ |
  +---+---+----+----+---------+---+----------------+

  Строка P=0, Q=1: A₁∧A₂=1, но B=0.
  Контрпример найден  →  следование неверно.
  (Это ошибка "утверждение консеквента")

-------------------------------------------------------------------------------
Ограничения метода
-------------------------------------------------------------------------------

  +--------------------------------------------------------------+
  | • Работает только для логики высказываний (нулевого порядка) |
  | • Не работает для логики предикатов (с ∀, ∃)                 |
  | • При n переменных требует 2ⁿ строк (экспоненциальный рост)  |
  | • Для n = 10 уже 1024 строки, для n = 20 — больше миллиона   |
  +--------------------------------------------------------------+

Связь с теорией множеств:

  Таблица истинности — перебор всех точек пространства {0,1}ⁿ.
  Формула задаёт подмножество (где она истинна).

  Тавтология = всё пространство.
  Противоречие = пустое множество.
  Следование (A₁ ∧ ... ∧ Aₖ) ⊢ B верно ⟺ множество (A₁ ∧ ... ∧ Aₖ) ⊆ множество B.


-------------------------------------------------------------------------------
Методы доказательств — с конкретными примерами задач
-------------------------------------------------------------------------------

 Что значит "доказать" в математике?

 Интуитивно:
   Доказать = убедить любого разумного человека, следуя правилам,
   которые он заранее принял.

 Формально:
   Доказательство — это конечная цепочка утверждений, где каждое:
   • либо аксиома (принятое без доказательства)
   • либо следует из предыдущих по правилам логики
   Последнее утверждение = то, что доказываем.

-------------------------------------------------------------------------------
 Чего доказательство не делает:
-------------------------------------------------------------------------------

   ✗ не объясняет "почему это правда" (это делает интуиция)
   ✗ не показывает, как это открыли (это история)
   ✗ не гарантирует понимание (можно проверить доказательство, не понимая)

   Доказательство — это верификация, а не объяснение.
   Хорошее доказательство объясняет, плохое — только убеждает.

-------------------------------------------------------------------------------
 Типы утверждений и что нужно для доказательства
-------------------------------------------------------------------------------

 +--------------+---------------------+-----------------------+
 | УТВЕРЖДЕНИЕ  | КАК ДОКАЗАТЬ        | КАК ОПРОВЕРГНУТЬ      |
 +--------------+---------------------+-----------------------+
 | ∀x: P(x)     | Доказать для        | один контрпример      |
 | "для всех"   | произвольного x     |                       |
 +--------------+---------------------+-----------------------+
 | ∃x: P(x)     | один пример         | Доказать для всех,    |
 | "существует" |                     | что P(x) ложно        |
 +--------------+---------------------+-----------------------+
 | ∀x∃y: P(x,y) | Для произвольного x | Найти x, для которого |
 | "для всех    | предъявить такой y  | нет подходящего y     |
 | существует"  |                     |                       |
 +--------------+---------------------+-----------------------+
 | ∃x∀y: P(x,y) | Предъявить x,       | Для любого x найти y, |
 | "существует  | работающий для      | нарушающий P          |
 | для всех"    | всех y              |                       |
 +--------------+---------------------+-----------------------+

 Важно: Примеры никогда не доказывают ∀-утверждения.
        Даже миллион примеров не доказывает, что "для всех".
        Но один контрпример опровергает.

-------------------------------------------------------------------------------
 Конструктивные vs неконструктивные доказательства
-------------------------------------------------------------------------------

 Конструктивное: Предъявляет объект явно.
   Пример: "Существует иррациональное число" — вот √2, и вот доказательство.

 Неконструктивное: Доказывает существование, не показывая объект.
   Пример: "Среди a^b есть иррациональное с иррациональным результатом —
           рациональное число". Рассмотрим √2^√2.
           Если рациональное — готово.
           Если иррациональное — то (√2^√2)^√2 = √2² = 2 — рациональное.
           Мы не знаем, какой случай верен, но один из них точно.

-------------------------------------------------------------------------------
 Как читать доказательства (практические советы)
-------------------------------------------------------------------------------

 1. Выпишите отдельно: что дано, что доказываем
 2. На каждом шаге спрашивайте: "откуда это следует?"
 3. Ищите ключевую идею — обычно один трюк, остальное — техника
 4. Попробуйте сломать доказательство — где оно использует условия?
 5. После прочтения — перескажите своими словами

 Если не можете объяснить простыми словами — вы не поняли.

Доказательство = явное описание пути по карте вложений и пересечений
множеств, приводящего к утверждению о принадлежности объекта множеству.

+------------------+----------------------+----------------------------------+
|  МЕТОД           |  СТРУКТУРА           |  ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ    |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| Modus ponens     |  1. P → Q (истинно)  |  Если объект в P, и P вложено    |
| (правило вывода) |  2. P (истинно)      |  в Q, то объект в Q              |
|                  |  ---------------     |                                  |
|                  |  ∴ Q (истинно)       |     +-------------+              |
|                  |                      |     |      Q      |              |
|                  | "Если P, то Q.       |     |  +-----+    |              |
|                  |  P верно.            |     |  |  P ●|    |              |
|                  |  Следовательно, Q"   |     |  +-----+    |              |
|                  |                      |     +-------------+              |
|                  |                      |     объект ● ∈ P ⊂ Q             |
|                  |                      |                                  |
| Пример задачи:   | Доказать: если n     | Решение:                         |
|                  | делится на 6, то n   | 1. n ⊢ 6 ⇒ n = 6k                |
|                  | делится на 3         | 2. n = 6k = 3·(2k)               |
|                  |                      | 3. ⇒ n ⊢ 3  ✓                    |
|                  |                      | "⊢ 6" ⊂ "⊢ 3"                    |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| Modus tollens    |  1. P → Q            |  Если объект не в Q, и P ⊂ Q,    |
| (отрицание       |  2. ¬Q               |  то объект не в P                |
|  следствия)      |  ---------------     |                                  |
|                  |  ∴ ¬P                |     +-------------+              |
|                  |                      |     |      Q      |              |
|                  | "Если P, то Q.       |     |  +-----+    |              |
|                  |  Q ложно.            |     |  |  P  |    |   ● не в Q   |
|                  |  Следовательно, P    |     |  +-----+    |              |
|                  |  ложно"              |     +-------------+              |
|                  |                      |     ⇒ ● не может быть в P        |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| REDUCTIO AD      |  Хотим доказать Q    |  Предполагаем ¬Q, приходим к     |
| ABSURDUM         |                      |  противоречию                    |
| (от противного)  |  1. Предполагаем ¬Q  |                                  |
|                  |  2. Выводим          |  +----------+                    |
|                  |     противоречие P∧¬P|  |Универсум |                    |
|                  |  ---------------     |  |  +--+    |                    |
|                  |  ∴ Q истинно         |  |  |Q | ¬Q | ← пусто.           |
|                  |                      |  |  +--+    |                    |
|                  | "Предположим         |  +----------+                    |
|                  |  противоположное.    |  Если ¬Q пусто, то все в Q       |
|                  |  Получаем абсурд.    |                                  |
|                  |  Значит, исходное    |                                  |
|                  |  верно"              |                                  |
|                  |                      |                                  |
| Пример задачи:   | Доказать √2 ∉ ℚ      | Решение:                         |
|                  |                      | 1. Предполагаем √2 ∈ ℚ           |
|                  |                      | 2. √2 = p/q (несократима)        |
|                  |                      | 3. 2q² = p² ⇒ p чётно (=2k)      |
|                  |                      | 4. 2q² = 4k² ⇒ q² = 2k²          |
|                  |                      | 5. ⇒ q чётно                     |
|                  |                      | 6. Но p,q оба чётны —            |
|                  |                      |    противоречие                  |
|                  |                      | 7. ⇒ √2 ∉ ℚ  ✓                   |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| прямое           |  Даны: предпосылки   |  Прямой путь от посылок к        |
| доказательство   |  P₁, P₂, ..., Pₙ     |  заключению через вложения       |
|                  |                      |                                  |
|                  |  Цель: Q             |  P₁ → P₂ → ... → Pₙ → Q          |
|                  |                      |                                  |
|                  |  Строим цепочку:     |  Каждая стрелка = вложение       |
|                  |  P₁ ⇒ ... ⇒ Pₙ ⇒ Q   |  множеств или логическое         |
|                  |                      |  следование                      |
|                  |                      |                                  |
| Пример задачи:   | Доказать: n чётно    | Решение:                         |
|                  | ⇒ n² чётно           | 1. n чётно ⇒ n = 2k              |
|                  |                      | 2. n² = (2k)² = 4k²              |
|                  |                      | 3. = 2·(2k²) = 2m, m=2k²         |
|                  |                      | 4. ⇒ n² чётно  ✓                 |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| математическая   |  База: P(0)          |  Домино падают:                  |
| ИНДУКЦИЯ         |  Шаг: P(n) ⇒ P(n+1)  |                                  |
|                  |  -------------       |  ●→●→●→●→●→...                   |
|                  |  ∴ ∀n: P(n)          |  0  1  2  3  4                   |
|                  |                      |                                  |
|                  | "Верно для 0.        |  Если толкнули 0, и каждое       |
|                  |  Если верно для n,   |  толкает следующее, то все       |
|                  |  то и для n+1.       |  упадут                          |
|                  |  Значит, верно для   |                                  |
|                  |  всех натуральных"   |                                  |
|                  |                      |                                  |
| Пример задачи:   | Доказать             | Решение:                         |
|                  | 1+2+...+n=n(n+1)/2     | База: n=1: 1=1·2/2=1  ✓        |
|                  |                      | Шаг: Пусть верно для n.          |
|                  |                      | Для n+1:                         |
|                  |                      | 1+...+n+(n+1) =                  |
|                  |                      | = n(n+1)/2 + (n+1)               |
|                  |                      | = (n+1)(n/2+1)                   |
|                  |                      | = (n+1)(n+2)/2  ✓                |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| разбор случаев   |  P ∨ Q               |  Универсум = P ∪ Q               |
|                  |  P ⇒ R               |                                  |
|                  |  Q ⇒ R               |  +--------------+                |
|                  |  -------------       |  |   R          |                |
|                  |  ∴ R                 |  | +---+  +---+ |                |
|                  |                      |  | | P |  | Q | |                |
|                  | "Либо P, либо Q.     |  | +---+  +---+ |                |
|                  |  и в том, и в другом |  +--------------+                |
|                  |  случае следует R"   |  Оба случая ведут в R            |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| контрапозиция    |  P → Q               |  P ⊂ Q эквивалентно              |
|                  |  =========           |  Qᶜ ⊂ Pᶜ                         |
|                  |  ¬Q → ¬P             |                                  |
|                  |                      |  +------------+                  |
|                  | "Если из P следует Q,|  |  Q    Qᶜ   |                  |
|                  |  то из НЕ-Q следует  |  |+--+  +--+  |                  |
|                  |  НЕ-P"               |  ||P |  |Pᶜ|  |                  |
|                  |                      |  |+--+  +--+  |                  |
|                  | Эквивалентные        |  +------------+                  |
|                  | формулировки.        |                                  |
|                  |                      |                                  |
| Пример задачи:   | Доказать: n² нечётно | Решение (контрапозиция):         |
|                  | ⇒ n нечётно          | Докажем: n чётно ⇒ n² чётно      |
|                  |                      | (это мы уже знаем)              |
|                  |                      | По контрапозиции:                |
|                  |                      | n² нечётно ⇒ n нечётно  ✓        |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+

Ключевая идея:

  Все методы доказательств сводятся к демонстрации того, что некоторый
  объект находится во вложенных друг в друга множествах.

  Доказать Q = показать путь вложений, ведущий к Q.


 Геометрическая интерпретация методов доказательства

 Каждый метод доказательства имеет простую визуализацию через вложенность
 множеств на диаграмме Венна. Это делает логику интуитивно понятной.

-------------------------------------------------------------------------------
 Modus ponens: "Если P, то Q. P верно. Следовательно, Q верно."
-------------------------------------------------------------------------------

   Формула: P → Q,  P  ⊢  Q

   Геометрически:
   Если P ⊂ Q (круг P полностью внутри круга Q)
   и объект x ∈ P
   то x ∈ Q (очевидно)

       +================================+
       |            Q                   |
       |      +------------+            |
       |      |     P      |            |
       |      |   ● x      |            |  ← x в P, но P внутри Q
       |      +------------+            |    ⇒ x автоматически в Q
       +================================+

   Пример: "Все студенты имеют студенческий билет."
           "Маша — студент."
           ⇒ "Маша имеет студенческий билет."

-------------------------------------------------------------------------------
 Reductio ad absurdum: "Предположим противоположное. Получаем абсурд."
-------------------------------------------------------------------------------

   Формула: Предположим ¬Q. Выводим противоречие. Следовательно, Q.

   Геометрически:
   Допустим P ⊂ Q (P внутри Q).
   Предполагаем: объект x принадлежит P и одновременно не принадлежит Q.
   Но это противоречие. (x не может быть в P и вне Q, если P ⊂ Q)
   Следовательно, если x ∈ P, то x ∈ Q.

       +================================+
       |            Q          ████████ | ← Qᶜ (дополнение)
       |      +------------+   █ ¬Q  ██ |
       |      |     P      |   ████████ |
       |      |            |   ████████ |
       |      +------------+   ████████ |
       +================================+

   Попытка поместить точку одновременно в P и в Qᶜ — противоречие.
   Эти области не пересекаются.

   Пример: "Доказать √2 ∉ ℚ"
           Предположим √2 ∈ ℚ ⇒ получаем противоречие ⇒ √2 ∉ ℚ

-------------------------------------------------------------------------------
 Философское замечание
-------------------------------------------------------------------------------

 Доказательства — это не вершина математики, а костыль для компенсации
 потерь при языковой передаче. В идеальном мире телепатов, где можно
 напрямую "показать" геометрию вложений, формальные доказательства
 были бы не нужны.

 Формализация математики — это не строгость сама по себе, а вынужденная
 мера при переходе к языковому описанию. Сама математика существует на
 доязычном уровне манипуляций с образами и вложениями множеств.


-------------------------------------------------------------------------------
Единство: логика = множества = порядок
-------------------------------------------------------------------------------

Предварительно: Что такое порядок?

  Частичный порядок ≤ на множестве X — это отношение, которое:
    • Рефлексивно: x ≤ x для любого x
    • Антисимметрично: x ≤ y и y ≤ x ⇒ x = y
    • Транзитивно: x ≤ y и y ≤ z ⇒ x ≤ z

  Примеры: ⊆ на множествах, ≤ на числах, "делит" на натуральных.

 Логика, множества и порядок — это три языка для описания одной структуры.

 Это не аналогия. Это тождество. Теорема Стоуна (1936) доказывает:
 булева алгебра ≅ алгебра множеств ≅ пропозициональная логика


 Один объект — три языка
+------------------+----------------------+--------------------+
| ЛОГИКА           | МНОЖЕСТВА            | ПОРЯДОК/РЕШЁТКА    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| Высказывание P   | Множество A          | Элемент a          |
|                  |                      |                    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| P ∧ Q  (И)       | A ∩ B  (пересечение) | a ∧ b  (meet, inf) |
|                  |                      |                    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| P ∨ Q  (или)     | A ∪ B  (объединение) | a ∨ b  (join, sup) |
|                  |                      |                    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| ¬P  (НЕ)         | Aᶜ  (дополнение)     | ¬a  (complement)   |
|                  |                      |                    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| P ⇒ Q  (следует) | A ⊆ B  (включение)   | a ≤ b  (порядок)   |
|                  |                      |                    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| истина ⊤         | Универсум U          | Максимум 1         |
|                  |                      |                    |
+------------------+----------------------+--------------------+
|                  |                      |                    |
| ложь ⊥           | Пустое ∅             | Минимум 0          |
|                  |                      |                    |
+------------------+----------------------+--------------------+

 Законы — одни и те же в трёх языках


 Де Моргана:    ¬(P∧Q) = ¬P∨¬Q     |  (A∩B)ᶜ = Aᶜ∪Bᶜ    |  аналогично
                ¬(P∨Q) = ¬P∧¬Q     |  (A∪B)ᶜ = Aᶜ∩Bᶜ    |

 Дистрибутивность:  P∧(Q∨R)=(P∧Q)∨(P∧R)|  A∩(B∪C)=(A∩B)∪(A∩C)|
                    P∨(Q∧R)=(P∨Q)∧(P∨R)|  A∪(B∩C)=(A∪B)∩(A∪C)|

 Исключ. третьего: P ∨ ¬P = ⊤      |  A ∪ Aᶜ = U        |  a ∨ ¬a = 1
 Противоречие:     P ∧ ¬P = ⊥      |  A ∩ Aᶜ = ∅        |  a ∧ ¬a = 0

 Это не "похожие законы" — это один закон, записанный тремя способами.


 Решётка и булева алгебра


 Решётка = частичный порядок, где любые два элемента имеют:
   a ∨ b = sup{a, b}  (наименьшая верхняя грань, join)
   a ∧ b = inf{a, b}  (наибольшая нижняя грань, meet)

 Булева алгебра = решётка с дополнением:
   Для каждого a существует ¬a:  a ∨ ¬a = 1  и  a ∧ ¬a = 0

+--------------------+-------------+-----------+
| Пример             | ∨ (join)    | ∧ (meet)  |
+--------------------+-------------+-----------+
| Подмножества 2^X   | A ∪ B       | A ∩ B     |
| Делители n         | НОК(a, b)   | НОД(a, b) |
| Высказывания       | P ∨ Q (или) | P ∧ Q (И) |
| Открытые множества | U₁ ∪ U₂     | U₁ ∩ U₂   |
+--------------------+-------------+-----------+

 Важно: Делители 12 — решётка, но не булева. (нет дополнения для 2, 3, 4, 6)
        Подмножества — булева алгебра (дополнение Aᶜ всегда существует)

 Интуиционистская логика и топология

 Таблица выше верна для классической логики (булева алгебра).
 Но есть интуиционистская логика, где ¬¬P ≠ P и P ∨ ¬P не всегда верно.

 +---------------------+--------------------------------+
 | КЛАССИЧЕСКАЯ        | ИНТУИЦИОНИСТСКАЯ               |
 +---------------------+--------------------------------+
 | Булева алгебра      | Алгебра Гейтинга               |
 | Подмножества        | Открытые множества топологии   |
 | P ∨ ¬P = ⊤ (всегда) | P ∨ ¬P ≠ ⊤ (не всегда)         |
 | ¬¬P = P             | ¬¬P ≠ P                        |
 | A ∪ Aᶜ = U          | U ∪ Int(Uᶜ) ≠ X в общем случае |
 +---------------------+--------------------------------+

 Почему открытые множества:
   • ¬U = Int(Uᶜ) = внутренность дополнения (не само дополнение)
   • U ∪ ¬U = U ∪ Int(Uᶜ) может не равняться X
   • Пример: U = (0,1) на ℝ. Тогда ¬U = Int((−∞,0]∪[1,∞)) = (−∞,0)∪(1,∞)
     и U ∪ ¬U = ℝ \ {0,1} ≠ ℝ.

 Связь с конструктивизмом:
   В интуиционистской логике "существует" = "можно построить".
   Закон исключённого третьего (P ∨ ¬P) неверен, потому что
   из невозможности построить контрпример не следует наличие примера.


===============================================================================
Аксиоматический метод — правила игры в математику
===============================================================================

-------------------------------------------------------------------------------
 Что такое аксиома
-------------------------------------------------------------------------------

 Аксиома — это утверждение, которое принимается без доказательства.

 Почему без доказательства? Потому что любое доказательство опирается на
 какие-то предшествующие утверждения. Если требовать доказывать всё, получим
 бесконечную цепочку или замкнутый круг. Нужна точка опоры.

Аналогия: Правила настольной игры

   • Вы не "доказываете", что в шахматах конь ходит буквой Г
   • Это правило игры — мы его принимаем, чтобы играть
   • Аксиомы = правила математической игры
   • Теоремы = всё, что можно вывести из правил

 Важно: Аксиомы не "истинны" и не "ложны" в абсолютном смысле.
 Они — соглашения. Разные наборы аксиом дают разные математики.

-------------------------------------------------------------------------------
 Зачем нужен аксиоматический метод
-------------------------------------------------------------------------------

 История: До конца XIX века математики работали "интуитивно".
 Потом обнаружились парадоксы — логические противоречия.

 Парадокс Рассела (1901):

   Пусть R = {x : x ∉ x} — "множество всех множеств, не содержащих себя"

   Вопрос: R ∈ R или R ∉ R?

   • Если R ∈ R, то по определению R должно быть R ∉ R - противоречие
   • Если R ∉ R, то по определению R должно быть R ∈ R - противоречие

 Вывод: Нельзя просто так создавать "множество всего, что удовлетворяет
 условию". Нужны ограничения — аксиомы, определяющие, какие множества
 "легальны".

 Решение: Система аксиом ZFC (Цермело-Френкель с аксиомой выбора)


===============================================================================
Аксиомы ZFC — фундамент современной математики
===============================================================================

ZFC = Zermelo-Fraenkel + Choice (Цермело-Френкель + Выбор)

Это система из ~9 аксиом, на которой построена почти вся современная
математика.

 Нотация

   ∀x — "для всех x" (квантор всеобщности)
   ∃x — "существует x" (квантор существования)
   →  — "следует", "влечёт"
   ↔  — "эквивалентно", "тогда и только тогда"
   ∧  — "и" (конъюнкция)
   ∨  — "или" (дизъюнкция)

 Аксиомы ZFC — сводная таблица
+---------------+----------------------------+--------------------------------+
| АКСИОМА       | ФОРМУЛА                    | ЧТО ДАЁТ                       |
+---------------+----------------------------+--------------------------------+
| 1. Объёмность | (∀x: x∈A ↔ x∈B) → A=B      | Множество = его элементы.      |
| Extensionality|                            | {1,2,3} = {3,1,2}              |
+---------------+----------------------------+--------------------------------+
| 2. Пустое мн. | ∃∅: ∀x: x∉∅               | "Ноль" теории множеств.        |
| Empty Set     |                            | Точка отсчёта для построений   |
+---------------+----------------------------+--------------------------------+
| 3. Пара       | ∀a∀b ∃P: x∈P ↔ (x=a∨x=b)   | Можно создать {a,b}.           |
| Pairing       |                            | Следствие: {a}={a,a}           |
+---------------+----------------------------+--------------------------------+
| 4. Объединение| ∀A ∃U: x∈U ↔ ∃B(B∈A∧x∈B)   | Можно слить множества.         |
| Union         |                            | ∪{{1,2},{3}} = {1,2,3}         |
+---------------+----------------------------+--------------------------------+
| 5. Булеан     | ∀A ∃P: B∈P ↔ B⊆A           | Множество всех подмножеств.    |
| Power Set     |                            | 𝒫({1,2}) = {∅,{1},{2},{1,2}}   |
|               |                            | |𝒫(A)| = 2^|A|                 |
+---------------+----------------------------+--------------------------------+
| 6. Бесконечн. | ∃I: ∅∈I ∧ (x∈I → x∪{x}∈I)  | Бесконечные множества сущ-ют.  |
| Infinity      |                            | Минимальное такое I = ℕ        |
+---------------+----------------------------+--------------------------------+
| 7. Выделение  | ∀A ∃B: x∈B ↔ (x∈A ∧ φ(x))  | {x∈A: φ(x)} — легально.        |
| Separation    |                            | {x: φ(x)} — нелегально.        |
|               |                            | (избегаем парадокса Рассела)   |
+---------------+----------------------------+--------------------------------+
| 8. Замена     | Образ множества под        | {f(a): a∈A} — множество.       |
| Replacement   | функцией — множество       | Нужно для больших кардиналов   |
+---------------+----------------------------+--------------------------------+
| 9. Регулярн.  | A≠∅ → ∃x∈A: x∩A=∅         | Нет x∈x, нет циклов a∈b∈a       |
| Foundation    |                            | Всё строится "снизу" из ∅      |
+---------------+----------------------------+--------------------------------+

 Важная тонкость: схемы аксиом


 Аксиомы 7 (Выделение) и 8 (Замена) — это не одиночные аксиомы, а схемы:
 для каждой формулы φ(x) получается своя аксиома.

   • "Выделение с φ(x) = (x чётное)" — одна аксиома
   • "Выделение с φ(x) = (x простое)" — другая аксиома
   • ...и так далее для каждой возможной формулы

 Поэтому ZFC формально содержит бесконечно много аксиом.
 Это не проблема — мы всё равно можем проверить любое конкретное
 доказательство за конечное время.

-------------------------------------------------------------------------------
 Парадокс Рассела и как ZFC его решает
-------------------------------------------------------------------------------

 Парадокс: Пусть R = {x : x ∉ x}. Тогда R ∈ R ⟺ R ∉ R. Противоречие.

 Решение в ZFC:
   Аксиома Выделения (Separation) запрещает строить {x : φ(x)}.
   Можно только {x ∈ A : φ(x)} — подмножество уже существующего A.

   Чтобы построить R = {x : x ∉ x}, нужно сначала иметь множество A,
   содержащее R. Но такого A не существует (по Регулярности x ∉ x всегда).

 Вывод: ZFC — это "свобода с ответственностью". Нельзя создавать
 множества "из воздуха" — только из уже построенных.


 Философский смысл аксиом
+---------------+----------------------------------------------------------+
| АКСИОМА       | ФИЛОСОФСКАЯ ИНТЕРПРЕТАЦИЯ                                |
+---------------+----------------------------------------------------------+
| Пустое мн-во  | Формализация "пустоты" — постулируем, что она существует |
+---------------+----------------------------------------------------------+
| Бесконечность | Бесконечность — не очевидность, а выбор играть в такую   |
|               | математику. Можно строить математику без этой аксиомы    |
+---------------+----------------------------------------------------------+
| Выделение     | Ограничение на "наивное" создание множеств — урок из     |
|               | парадокса Рассела. Свобода с ответственностью            |
+---------------+----------------------------------------------------------+
| Регулярность  | Всё строится иерархически из ∅. Нет "висящих в воздухе"  |
|               | или самореферентных конструкций                          |
+---------------+----------------------------------------------------------+

-------------------------------------------------------------------------------
 Визуализация: кумулятивная иерархия — "башня множеств"
-------------------------------------------------------------------------------

 Аксиомы ZFC порождают всю математику из ничего (пустого множества).
 Это происходит уровень за уровнем — кумулятивная иерархия V_α.


   V_ω+1  | 𝒫(V_ω) — степень бесконечного множества
          | Включает ℝ, все функции ℕ → ℕ, ...
          | Это уже несчётно.
   -------+--------------------------------------------------------------
          |
   V_ω    | V₀ ∪ V₁ ∪ V₂ ∪ ... — первый бесконечный уровень
          | Включает ℕ, все конечные множества, все конечные структуры
   -------+--------------------------------------------------------------
    ⋮      | ⋮
   V₃     | 𝒫(V₂) = все подмножества V₂
          | |V₃| = 2² = 4 элемента
   -------+--------------------------------------------------------------
   V₂     | 𝒫(V₁) = {∅, {∅}}
          | 2 элемента — можно отождествить с {0, 1}
   -------+--------------------------------------------------------------
   V₁     | 𝒫(V₀) = 𝒫(∅) = {∅}
          | 1 элемент — это "1" в конструкции натуральных чисел
   -------+--------------------------------------------------------------
   V₀     | ∅ — пустое множество, начало всего
          | 0 элементов — это "0"
   =======╧==============================================================

 Рост размеров:

   |V₀| = 0
   |V₁| = 2⁰ = 1
   |V₂| = 2¹ = 2
   |V₃| = 2² = 4
   |V₄| = 2⁴ = 16
   |V₅| = 2¹⁶ = 65536
   |V₆| = 2^65536 ≈ 10^19728 — уже непредставимо.
   ...
   |V_ω| = ℵ₀ (счётная бесконечность)
   |V_{ω+1}| = 2^{ℵ₀} = |ℝ| (континуум)

 Вывод: Вся математика "вырастает" из ∅ применением одной операции 𝒫.


 Где живут знакомые объекты

 +----------------------+--------------------------------+
 | ОБЪЕКТ               | ПЕРВЫЙ УРОВЕНЬ, ГДЕ ПОЯВЛЯЕТСЯ |
 +----------------------+--------------------------------+
 | ∅ = 0                | V₀                             |
 | 1 = {∅}              | V₁                             |
 | 2 = {∅, {∅}}         | V₂                             |
 | n (любое конечное)   | V_n                            |
 | ℕ (как множество)    | V_ω                            |
 | Функция f: ℕ → ℕ     | V_{ω+1} (как подмножество ℕ×ℕ) |
 | ℝ (как мн-во Дедек.) | V_{ω+1}                        |
 | Функция f: ℝ → ℝ     | V_{ω+2}                        |
 | Пространство C[0,1]  | V_{ω+2}                        |
 +----------------------+--------------------------------+

 Почти вся "рабочая" математика живёт в V_{ω+ω} — относительно низко.
 Большие кардиналы (недостижимые, измеримые, ...) требуют очень высоких V_α.


===============================================================================
Аксиома выбора — особый статус
===============================================================================
-------------------------------------------------------------------------------
 Аксиома выбора (AC)
-------------------------------------------------------------------------------

 Формула: ∀𝒜: (∀A∈𝒜: A≠∅) → ∃f: ∀A∈𝒜: f(A)∈A

 Смысл: Для любого семейства непустых множеств существует функция,
        выбирающая по одному элементу из каждого.

 Слово "одновременно" — психологическое, а не математическое.
    Математически: существует функция выбора f.
    Никакого "процесса выбирания" нет — функция просто есть (или нет).

        +---+  +---+  +---+  +---+
        | ● |  | ▲ |  | ■ |  | ◆ |  ...  бесконечно много коробок
        | ○ |  | △ |  | □ |  | ◇ |
        +---+  +---+  +---+  +---+
          ↓      ↓      ↓      ↓
          ●      ▲      ■      ◆    ← функция выбора f существует

 Без AC в некоторых моделях ZF: произведение непустых множеств пусто.
 Это не "мы не можем выбрать", а "выбора буквально не существует".


 Почему аксиома выбора неочевидна
+------------------------+------------------------------------------------+
| СЛУЧАЙ                 | СИТУАЦИЯ                                       |
+------------------------+------------------------------------------------+
| Конечное число коробок | Очевидно — просто перебираем (AC не нужна)     |
+------------------------+------------------------------------------------+
| Счётное число          | Достаточно аксиомы счётного множества (ACω)    |
|                        | — более слабой, чем полная AC                  |
+------------------------+------------------------------------------------+
| Несчётное число        | Как выбрать? Алгоритма нет. AC утверждает, что |
|                        | функция существует, даже без явного построения |
+------------------------+------------------------------------------------+

-------------------------------------------------------------------------------
 Что следует из аксиомы выбора
-------------------------------------------------------------------------------

 Хорошие следствия:

   • Любое векторное пространство имеет базис
   • Любой идеал содержится в максимальном идеале
   • Теорема Тихонова: произведение компактов компактно
   • Теорема Хана-Банаха: продолжение линейных функционалов
   • Любые два кардинала сравнимы: |A| ≤ |B| или |B| ≤ |A|

 Парадоксальные следствия:

   • Парадокс Банаха-Тарского:
     Шар можно разрезать на 5 частей и собрать два таких же шара.
     (части — не "обычные" куски, а патологические множества точек)
   • Существуют неизмеримые множества (по Лебегу)

 Статус:
   Аксиома выбора независима от ZF — её нельзя ни доказать, ни опровергнуть.
   Можно работать с ней (ZFC) или без неё (ZF). Большинство математиков
   принимают AC.

-------------------------------------------------------------------------------
 "Выбор" в философии vs "выбор" в аксиоме
-------------------------------------------------------------------------------

 В философском фундаменте "выбор" = способность субъекта различать,
 проводить границы, выделять объекты из пустоты. Это онтологический выбор.

 В аксиоме выбора "выбор" = существование функции, сопоставляющей элемент
 каждому множеству. Это техническая возможность.

 Связь:
   Философский выбор — первичен (без него нет математики вообще).
   Аксиома выбора — конкретное правило игры, которое можно принять или нет.

 Разница:
   Философский выбор: "Я могу выделить объект"
   Аксиома выбора: "Для любого (даже несчётного) семейства существует
                    способ одновременного выбора"

-------------------------------------------------------------------------------
 Зачем всё это нужно
-------------------------------------------------------------------------------

 Аксиомы ZFC — это не "истины о мире".
 Это правила игры, которые:

   1. Достаточно сильны, чтобы построить всю известную математику
   2. Достаточно ограничены, чтобы избежать парадоксов
   3. (Насколько известно) непротиворечивы
   4. Неполны (теорема Гёделя, 1931): существуют истинные утверждения
      о натуральных числах, недоказуемые в ZFC

 Неполнота — не баг, а фундаментальное свойство любой достаточно богатой
 формальной системы. ZFC не может доказать свою непротиворечивость изнутри.

 Когда далее мы пишем "существует множество X" или "выберем элемент из Y",
 мы опираемся на эти аксиомы. Математика — это следствия этих правил.

 Теперь, имея фундамент, можно строить числа.


-------------------------------------------------------------------------------
Теоремы Гёделя — границы формальных систем
-------------------------------------------------------------------------------

 Контекст:

 Теоремы Гёделя (1931) — это не абстрактная логика. Это фундаментальные
 результаты о том, что может и чего не может математика:

   • Почему некоторые задачи принципиально неразрешимы
   • Почему машина не может заменить математика полностью
   • Почему "истина" и "доказуемость" — разные вещи
   • Почему мы не можем быть уверены в непротиворечивости математики

 Для инженера: если задача неразрешима — это не наша вина, а граница теории.

-------------------------------------------------------------------------------
 Первая теорема Гёделя о неполноте
-------------------------------------------------------------------------------

 Формулировка (упрощённая):

   В любой непротиворечивой формальной системе, достаточно богатой,
   чтобы описать арифметику натуральных чисел, существует утверждение G,
   которое:
     • истинно (в стандартной интерпретации)
     • недоказуемо в этой системе

 Интуиция — "Парадокс лжеца":

   Рассмотрим предложение: "Это предложение ложно."
   Если оно истинно — значит оно ложно (противоречие).
   Если оно ложно — значит оно истинно (противоречие).
   Парадокс. Это предложение не имеет значения истинности.

   Гёдель построил математический аналог:
   "Это утверждение недоказуемо в системе S."

   Если оно доказуемо — мы доказали ложь (система противоречива).
   Если система непротиворечива — оно недоказуемо.
   Но тогда оно истинно (ведь оно говорит о своей недоказуемости).

 Идея доказательства:

   1. Гёдель закодировал формулы как числа (гёделева нумерация)
      Каждому символу — число, формуле — произведение степеней простых

   2. Доказательства тоже стали числами
      "x — доказательство формулы y" — это арифметическое соотношение.

   3. Построил формулу G, говорящую о себе:
      G = "Не существует числа, кодирующего доказательство формулы G"

 Следствие: ZFC (и любая "разумная" система) неполна.
   Существуют истинные утверждения о числах, которые ZFC не докажет.

-------------------------------------------------------------------------------
 Вторая теорема Гёделя о неполноте
-------------------------------------------------------------------------------

 Формулировка:

   Непротиворечивая система, достаточно богатая для арифметики,
   не может доказать свою собственную непротиворечивость.

 Интуиция:

   Утверждение Con(S) = "Система S непротиворечива" можно записать
   как арифметическую формулу (через гёделеву нумерацию).

   Гёдель показал: Con(S) → G
   (Если S непротиворечива, то G истинно)

   Если бы S доказывала Con(S), она доказала бы G.
   Но G недоказуема (по первой теореме).
   Значит, Con(S) тоже недоказуема в S.

 Философский смысл:

   Математика не может гарантировать свою собственную надёжность.
   Мы не можем доказать, что ZFC не приведёт к противоречию.
   Мы просто верим в это (и пока противоречий не нашли за 100 лет).

   Это похоже на bootstrapping: нельзя проверить компилятор самим собой.


 Что это означает на практике

 +----------------------------------+---------------------------------+
 | Неполнота не означает            | Неполнота означает              |
 +----------------------------------+---------------------------------+
 | "Математика бесполезна"          | Есть принципиальные границы     |
 | "Ничего нельзя доказать"         | Некоторые вопросы неразрешимы   |
 | "Компьютеры не могут доказывать" | Полная автоматизация невозможна |
 | "Нужно отказаться от формализма" | Интуиция остаётся важной        |
 +----------------------------------+---------------------------------+

 Примеры неразрешимых утверждений:

   • Континуум-гипотеза: |ℝ| = ℵ₁?  — независима от ZFC
   • Аксиома выбора — независима от ZF
   • Некоторые комбинаторные утверждения (Пэрис-Харрингтон)

 Для инженера:

   99.9% практических задач не затронуты неполнотой.
   Теоремы Гёделя важны для понимания границ, а не для ежедневной работы.
   Если алгоритм не находит решение — возможно, задача неразрешима,
   но обычно нужно просто искать лучше.

 Единая идея: Существуют вопросы, на которые формальная система
 не может ответить. Это не слабость — это теорема.


===============================================================================
Отношения — как из множеств возникает структура
===============================================================================

"Вся математика = изучение отношений между объектами"

 Отношение = способ сказать "эти объекты как-то связаны"

 В обыденной жизни мы постоянно используем отношения:

   • "Иван — отец Петра"        (отношение "быть отцом")
   • "Москва больше Твери"      (отношение "больше по населению")
   • "5 меньше 7"               (отношение "меньше")
   • "Эти два треугольника подобны" (отношение "подобие")
   • "A и B — друзья"           (отношение "дружба")

 Ключевая идея: Отношение — это просто множество пар (или троек, и т.д.),
 которые мы считаем "связанными".

   "меньше" на ℕ = {(1,2), (1,3), (2,3), (1,4), (2,4), (3,4), ...}

   Запись "3 &lt; 5" означает просто "(3, 5) ∈ R", где R — отношение "меньше".

 Зачем формализация?
   • Можно доказывать свойства отношений
   • Можно комбинировать отношения (композиция)
   • Можно классифицировать отношения по свойствам
   • Основа для порядка, эквивалентности, функций


-------------------------------------------------------------------------------
Формальное определение
-------------------------------------------------------------------------------

 Декартово произведение

 A × B = {(a, b) | a ∈ A, b ∈ B}  — множество всех упорядоченных пар

 Пример: {1, 2} × {a, b} = {(1,a), (1,b), (2,a), (2,b)}

 Формальное определение пары:
   (a, b) := {{a}, {a, b}}

   Это позволяет отличить (a,b) от (b,a): {{a},{a,b}} ≠ {{b},{a,b}} при a≠b
   Важно: упорядоченная пара строится из неупорядоченных множеств.

 Обобщение на n множеств:
 A₁ × A₂ × ... × Aₙ = {(a₁, a₂, ..., aₙ) | aᵢ ∈ Aᵢ}  — n-кортежи

 Пример: ℝ × ℝ × ℝ = ℝ³ — трёхмерное пространство

-------------------------------------------------------------------------------
 Что такое отношение
-------------------------------------------------------------------------------

 n-арное отношение на множествах A₁, ..., Aₙ — это подмножество:

   R ⊆ A₁ × A₂ × ... × Aₙ

 Кортеж (a₁, ..., aₙ) ∈ R означает "элементы связаны отношением R".

 +-----------+-------------------------------------------------------------+
 | АРНОСТЬ   | ПРИМЕРЫ                                                     |
 +-----------+-------------------------------------------------------------+
 |           |                                                             |
 | Унарное   | R ⊆ A  — просто подмножество (свойство)                     |
 | (n = 1)   | "чётные" ⊆ ℤ = {x ∈ ℤ | x делится на 2}                     |
 |           |                                                             |
 | Бинарное  | R ⊆ A × B  — связь между двумя элементами                   |
 | (n = 2)   | "меньше" ⊆ ℝ × ℝ = {(x,y) | x &lt; y}                         |
 |           | "делит" ⊆ ℕ × ℕ = {(a,b) | a | b}                           |
 |           |                                                             |
 | Тернарное | R ⊆ A × B × C  — связь между тремя элементами               |
 | (n = 3)   | "между" ⊆ ℝ × ℝ × ℝ = {(x,y,z) | x &lt; y &lt; z}             |
 |           | "сумма" = {(a,b,c) | a + b = c}                             |
 |           |                                                             |
 | n-арное   | Таблица в базе данных с n столбцами.                        |
 |           | Каждая строка — кортеж, таблица — отношение                 |
 |           |                                                             |
 +-----------+-------------------------------------------------------------+

-------------------------------------------------------------------------------
Важнейшие бинарные отношения
-------------------------------------------------------------------------------

Далее — таблица бинарных отношений, из которых строится вся математика.

+------------------+----------------------+----------------------------------+
|  ОТНОШЕНИЕ       |  СВОЙСТВА            |  ПРИМЕРЫ / ВИЗУАЛИЗАЦИЯ          |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 1. принадлежность| Базовое отношение    | • 3 ∈ ℕ                          |
|    x ∈ A         | Не рефлексивно       | • π ∈ ℝ                          |
|                  | (x ∉ x обычно)       | • {1} ∈ 𝒫(ℕ)                     |
| "элемент         |                      |                                  |
|  множества"      | Фундамент теории     |    A                             |
|                  | множеств             |   +-----+                        |
|                  |                      |   |  ●  | ← x ∈ A                |
|                  |                      |   +-----+                        |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 2. включение     | • Рефлексивна:       | • ℕ ⊆ ℤ ⊆ ℚ ⊆ ℝ ⊆ ℂ              |
|    A ⊆ B         |   A ⊆ A              | • {1,2} ⊆ {1,2,3}                |
|                  | • Транзитивна:       | • ∅ ⊆ A для любого A             |
| "подмножество"   |   A⊆B, B⊆C ⇒ A⊆C     |                                  |
|                  | • Антисимметрична:   |   +---------+                    |
|                  |   A⊆B, B⊆A ⇒ A=B     |   |    B    |                    |
|                  |                      |   |  +---+  |                    |
|                  | Частичный порядок    |   |  | A |  |                    |
|                  | на 𝒫(X)              |   |  +---+  |                    |
|                  |                      |   +---------+                    |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 3.эквивалентность| • Рефлексивна:       | • Равенство чисел (=)            |
|    x ~ y         |   x ~ x              | • Подобие треугольников          |
|                  | • Симметрична:       | • Сравнимость по модулю:         |
| "неразличимы     |   x~y ⇒ y~x          |   a ≡ b (mod n)                  |
|  относительно    | • Транзитивна:       | • Изоморфизм структур            |
|  свойства"       |   x~y, y~z ⇒ x~z     |                                  |
|                  |                      | Разбивает X на классы:           |
|                  | Даёт факторизацию:   |  +---+---+---+                   |
|                  | X/~ (фактормножество)|  |[x]|[y]|[z]|                   |
|                  |                      |  +---+---+---+                   |
|                  |                      |  классы эквивалентности          |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 4. (полный)      | • Рефлексивна:       | • ≤ на ℝ                         |
|    ПОРЯДОК       |                      |                                  |
|     x ≤ y        |   x ≤ x              | • Лексикографический на строках  |
|                  | • Антисимметрична:   | • Хронологический (время)        |
| "не больше"      |   x≤y, y≤x ⇒ x=y     |                                  |
|                  | • Транзитивна:       |      a ≤ b ≤ c ≤ d               |
|                  |   x≤y, y≤z ⇒ x≤z     |      ●---●---●---●               |
|                  | • ПОЛНОТА:           |                                  |
|                  |   ∀x,y: x≤y ∨ y≤x    |  Любые два элемента сравнимы     |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 5. частичный     | Как полный порядок,  | • ⊆ на 𝒫(X)                      |
|    порядок       | но без полноты       | • Делимость | на ℕ               |
|    x ⪯ y         |                      | • Импликация ⇒ на высказываниях  |
|                  | ∃x,y: несравнимы     |                                  |
| "не больше, но   |                      |      +--d--+                     |
|  не всегда       | Диаграмма Хассе:     |      |     |                     |
|  сравнимы"       |                      |      b     c  ← несравнимы       |
|                  |                      |      |     |                     |
|                  |                      |      +--a--+                     |
|                  |                      |                                  |
|                  |                      | Пример: {1,2} и {1,3}            |
|                  |                      | несравнимы по ⊆                  |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 6. функция       | • Тотальна:          | • f(x) = x²                      |
|    f: A → B      |   ∀a ∈ A: ∃b         | • sin: ℝ → [-1,1]                |
|                  | • Однозначна:        | • det: M_n → ℝ                   |
| "правило         |   f(a) определено    |                                  |
|  соответствия"   |   единственно        |   A = {1, 2}    B = {a, b, c}    |
|                  |                      |                                  |
|                  | Подмножество A×B с   |     1 --→ a                      |
|                  | условиями выше       |     2 --→ b                      |
|                  |                      |                                  |
|                  |                      |   Каждому элементу A             |
|                  |                      |   соответствует ровно один       |
|                  |                      |   элемент B                      |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 7. инъекция      | Функция с доп.       | • f(x) = 2x                      |
|    f: A ↣ B      | свойством:           | • exp: ℝ → ℝ⁺                    |
|                  |                      | • вложение ℕ в ℤ                 |
| "один к одному"  | f(x₁) = f(x₂)        |                                  |
|                  |   ⇒ x₁ = x₂          |   A = {1, 2}    B = {a, b, c}    |
|                  |                      |                                  |
|                  | Разные входы →       |     1 --→ a                      |
|                  | разные выходы        |     2 --→ b                      |
|                  |                      |           c  (не задействован)   |
|                  | Сохраняет различия   |                                  |
|                  |                      |   |A| ≤ |B|, в B могут быть      |
|                  |                      |   "лишние" элементы              |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 8. сюръекция     | Функция с доп.       | • f: ℝ → ℝ, f(x) = x³            |
|    f: A ↠ B      | свойством:           | • проекция ℝ² → ℝ: (x,y) ↦ x     |
|                  |                      |                                  |
| "на"             | ∀b ∈ B: ∃a ∈ A       |   A = {1, 2, 3}   B = {a, b}     |
|                  | такое, что f(a) = b  |                                  |
|                  |                      |     1 --→ a                      |
|                  | Накрывает весь B     |     2 --→ a  (оба в одну точку)  |
|                  |                      |     3 --→ b                      |
|                  | Каждый элемент B     |                                  |
|                  | имеет прообраз       |   |A| ≥ |B|, каждый элемент B    |
|                  |                      |   достигается хотя бы одним      |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+
|                  |                      |                                  |
| 9. биекция       | Функция, которая     | • f: ℝ → ℝ, f(x) = x             |
|    f: A ↔ B      | одновременно:        | • exp: ℝ → ℝ⁺                    |
|                  | • Инъекция           | • любой изоморфизм               |
| "взаимно-        | • Сюръекция          |                                  |
|  однозначное     |                      |   A = {1, 2, 3}   B = {a, b, c}  |
|  соответствие"   | Существует обратная  |                                  |
|                  | f⁻¹: B → A           |     1 ←-→ a                      |
|                  |                      |     2 ←-→ b                      |
|                  | |A| = |B|            |     3 ←-→ c                      |
|                  | (равномощны)         |                                  |
|                  |                      |   Идеальное соответствие:        |
|                  |                      |   каждому a — ровно один b,      |
|                  |                      |   и наоборот                     |
|                  |                      |                                  |
+------------------+----------------------+----------------------------------+

-------------------------------------------------------------------------------
Морфизм — функция, сохраняющая структуру
-------------------------------------------------------------------------------

Теперь, когда мы знаем что такое функция, можно определить морфизм.

 Ключевое понятие: Морфизм


 Функция (= Отображение) — правило f: A → B, сопоставляющее каждому
 элементу a ∈ A единственный элемент f(a) ∈ B.

 Морфизм — функция между структурами, которая сохраняет структуру.

 Изоморфизм — обратимый морфизм (биекция, сохраняющая структуру).
              Означает "структуры одинаковы с точностью до имён элементов".

+-----------------+------------------------+------------------------------+
| СТРУКТУРА       | МОРФИЗМ НАЗЫВАЕТСЯ     | ЧТО СОХРАНЯЕТ                |
+-----------------+------------------------+------------------------------+
| Множества       | Функция                | (ничего — базовый случай)    |
| Группы          | Гомоморфизм            | Операцию: φ(ab) = φ(a)φ(b)   |
| Кольца          | Гомоморфизм колец      | Обе операции: +, ×           |
| Векторные пр-ва | Линейное отображение   | Линейность: T(αu+βv)=αTu+βTv |
| Топологии       | Непрерывное отображ.   | Открытые множества           |
| Многообразия    | Гладкое отображение    | Гладкость                    |
| Порядки         | Монотонное отображение | Порядок: a≤b ⇒ f(a)≤f(b)     |
+-----------------+------------------------+------------------------------+

 Формула ≠ Функция (частая ошибка)


 Формула: способ вычисления, например f(x) = x²
 Функция: тройка (область A, кообласть B, правило соответствия)

 Почему это разные вещи:

 1. Одна функция — много формул:
    f(x) = x² = (x+1)² − 2x − 1 = x·x = ...   (разные записи одного)

 2. Одна формула — разные функции (зависит от области):
    +-----------+---------+-----------+-----------------------------+
    | ФОРМУЛА   | ОБЛАСТЬ | КООБЛАСТЬ | СВОЙСТВА                    |
    +-----------+---------+-----------+-----------------------------+
    | f(x) = x² | ℝ       | ℝ         | не инъективна: f(2) = f(−2) |
    | g(x) = x² | ℝ⁺      | ℝ⁺        | Инъективна и сюръективна.   |
    | h(z) = z² | ℂ       | ℂ         | Совсем другой объект        |
    +-----------+---------+-----------+-----------------------------+

 3. Функции без формул:
    D(x) = 1 если x ∈ ℚ, иначе 0  (функция Дирихле — нет "формулы".)

 Вывод: Функция = тройка (A, B, f: A → B).
        Формула — лишь один способ задать правило.


 Образ и прообраз множества

 Для функции f: A → B и подмножеств S ⊆ A, T ⊆ B:

 +-----------------+---------------------------------------+
 | ПОНЯТИЕ         | ОПРЕДЕЛЕНИЕ                           |
 +-----------------+---------------------------------------+
 | Образ множества | f(S) = {f(x) : x ∈ S}                 |
 | f(S)            | = все значения f на элементах S       |
 +-----------------+---------------------------------------+
 | Прообраз мн-ва  | f⁻¹(T) = {x ∈ A : f(x) ∈ T}           |
 | f⁻¹(T)          | = все точки, которые f отправляет в T |
 +-----------------+---------------------------------------+

 Важно: f⁻¹(T) — это не обратная функция.
    Прообраз определён всегда, даже если f необратима.
    Обратная функция f⁻¹: B → A существует только для биекций.

 Примеры:
   f(x) = x², f: ℝ → ℝ
   f({1, 2, 3}) = {1, 4, 9}                 — образ множества
   f⁻¹({4}) = {−2, 2}                       — прообраз точки
   f⁻¹({y : y &gt; 0}) = ℝ \ {0}               — прообраз интервала
   f⁻¹({−1}) = ∅                            — прообраз может быть пуст

 Свойства:
   • f(S₁ ∪ S₂) = f(S₁) ∪ f(S₂)             — образ объединения
   • f⁻¹(T₁ ∪ T₂) = f⁻¹(T₁) ∪ f⁻¹(T₂)       — прообраз объединения
   • f⁻¹(T₁ ∩ T₂) = f⁻¹(T₁) ∩ f⁻¹(T₂)       — прообраз пересечения
   • f(S₁ ∩ S₂) ⊆ f(S₁) ∩ f(S₂)             — для образа только ⊆ !

 Применение: Топология использует прообразы для определения непрерывности:
   f непрерывна ⟺ прообраз открытого множества открыт


Ключевые паттерны:

Проверка свойств отношения R:
  1. Рефлексивность: xRx для всех x?
  2. Симметричность: xRy ⇒ yRx?
  3. Транзитивность: xRy, yRz ⇒ xRz?
  4. Антисимметричность: xRy, yRx ⇒ x=y?

Комбинации определяют тип:
  • Рефлексивность + Симметричность + Транзитивность = Эквивалентность (разбиение на классы)
  • Рефлексивность + Антисимметричность + Транзитивность = Частичный порядок
  • + Полнота = Линейный порядок

-------------------------------------------------------------------------------
Отношения эквивалентности и классы эквивалентности
-------------------------------------------------------------------------------

 Интуиция: Эквивалентность = "Одинаковы с какой-то точки зрения"

 Равенство (=) — слишком строгое требование. Часто нам важно не полное
 тождество, а "одинаковость" по какому-то критерию:

   • Два человека "эквивалентны" по возрасту (им обоим 25 лет)
   • Два треугольника "эквивалентны" по форме (подобны)
   • Две дроби "эквивалентны" по значению (1/2 = 2/4 = 3/6)
   • Два числа "эквивалентны" по остатку от деления на 3

 Формально: отношение ~ называется эквивалентностью, если оно:

   1. Рефлексивно:  a ~ a      (каждый эквивалентен себе)
   2. Симметрично:  a ~ b ⇒ b ~ a  (порядок не важен)
   3. Транзитивно:  a ~ b, b ~ c ⇒ a ~ c  (эквивалентность "передаётся")

-------------------------------------------------------------------------------
 Класс эквивалентности = все, кто "одинаковы" с данным
-------------------------------------------------------------------------------

 Если ~ — эквивалентность на множестве X, то класс эквивалентности
 элемента a — это множество всех элементов, эквивалентных a:

   [a] = {x ∈ X | x ~ a}

 Ключевой факт: Классы эквивалентности разбивают множество X:

   • Каждый элемент x ∈ X лежит ровно в одном классе
   • Разные классы не пересекаются
   • Объединение всех классов = X

 Визуализация:

   Множество X:                  После разбиения X/~:
   +-----------------------+     +-----------------------+
   | ● ●   ○ ○ ○    ▪ ▪    |     |  [●]   [○]   [▪]      |
   |   ●   ○        ▪ ▪ ▪  |  →  |                       |
   |       ○ ○          ▪  |     | 3 класса              |
   +-----------------------+     +-----------------------+
   (элементы одного "типа"       (каждый класс — один
    отмечены одинаково)           элемент фактормножества)

-------------------------------------------------------------------------------
 Конкретные примеры классов эквивалентности
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Пример 1: Остатки от деления (модулярная арифметика)
-------------------------------------------------------------------------------

   Множество: ℤ (все целые числа)
   Отношение: a ~ b ⟺ a − b делится на 3  (записывают: a ≡ b (mod 3))

   Классы эквивалентности:
     [0] = {..., −6, −3, 0, 3, 6, 9, ...}   — числа с остатком 0
     [1] = {..., −5, −2, 1, 4, 7, 10, ...}  — числа с остатком 1
     [2] = {..., −4, −1, 2, 5, 8, 11, ...}  — числа с остатком 2

   Фактормножество: ℤ/3ℤ = {[0], [1], [2]} — всего 3 класса.
   (Это кольцо остатков — основа криптографии)

-------------------------------------------------------------------------------
 Пример 2: Дроби (рациональные числа)
-------------------------------------------------------------------------------

   Множество: ℤ × ℤ* = {(a, b) | a,b ∈ ℤ, b ≠ 0} — пары "числитель/знамен."
   Отношение: (a,b) ~ (c,d) ⟺ a·d = b·c  (дроби равны)

   Классы эквивалентности:
     [(1,2)] = {(1,2), (2,4), (3,6), (−1,−2), ...}  — все формы "одной
     [(1,3)] = {(1,3), (2,6), (−1,−3), ...}          половины"

   Рациональное число — это класс эквивалентности, а не конкретная дробь.
   ℚ = (ℤ × ℤ*)/~ — множество классов эквивалентности пар.

-------------------------------------------------------------------------------
 Пример 3: Подобие треугольников
-------------------------------------------------------------------------------

   Множество: все треугольники на плоскости
   Отношение: T₁ ~ T₂ ⟺ углы T₁ равны углам T₂

   Класс эквивалентности: все треугольники одной "формы" (разных размеров)

         +-+              +---+
        ╱   ╲            ╱     ╲
       ╱ 60° ╲          ╱  60°  ╲
      ╱       ╲        ╱         ╲          Все три — в одном
     ╱ 60° 60° ╲      ╱  60° 60°  ╲         классе эквивалентности
    +-----------+    +-------------+        (равносторонние)

-------------------------------------------------------------------------------
 Пример 4: Вещественные числа (конструкция через Коши)
-------------------------------------------------------------------------------

   Множество: все последовательности Коши рациональных чисел
   Отношение: {aₙ} ~ {bₙ} ⟺ |aₙ − bₙ| → 0

   Вещественное число — это класс эквивалентности последовательностей.
   Пример: √2 = [{1, 1.4, 1.41, 1.414, 1.4142, ...}]

   (Бесконечно много последовательностей сходятся к √2 — они все
    эквивалентны и образуют один класс, который мы называем числом √2)

-------------------------------------------------------------------------------
 Пример 5: Гомотопические классы путей (топология)
-------------------------------------------------------------------------------

   Множество: все пути из A в B в пространстве X
   Отношение: γ₁ ~ γ₂ ⟺ γ₁ можно непрерывно деформировать в γ₂

   Фундаментальная группа π₁(X) = классы эквивалентности замкнутых путей.
   Эта конструкция — основа алгебраической топологии.

-------------------------------------------------------------------------------
 Фактормножество X/~ — "склеивание" эквивалентных элементов
-------------------------------------------------------------------------------

 Фактормножество X/~ — это множество классов эквивалентности:

   X/~ = {[a] | a ∈ X}

 Интуиция: Мы "склеиваем" все эквивалентные элементы в одну точку.

 Проекция: Каноническое отображение π: X → X/~, где π(a) = [a].
   Оно "забывает" различия между эквивалентными элементами.

 Главная теорема (Универсальное свойство):

   Любая функция f: X → Y, постоянная на классах эквивалентности
   (т.е. a ~ b ⇒ f(a) = f(b)), единственным образом пропускается
   через фактормножество:

           X ------f------→ Y
           |                ↗
         π |            f̄  (существует единственная)
           ↓           ╱
          X/~ --------╱

 Где это используется:
   • ℤₙ = ℤ/nℤ         (модулярная арифметика, криптография)
   • ℚ = (ℤ×ℤ*)/~     (конструкция рациональных чисел)
   • ℝ = Коши/~        (конструкция вещественных чисел)
   • ℂ = ℝ[x]/(x²+1)  (конструкция комплексных чисел)
   • Проективное пространство ℙⁿ = (ℝⁿ⁺¹ \ 0)/~
   • Торы, бутылки Клейна и др. топологические объекты

 Интуиция: от часов к комплексным числам

   ℤ/12ℤ — арифметика часов. Мы "наматываем" целые числа на циферблат:
   13 часов = 1 час, потому что 13 ≡ 1 (mod 12). Мы объявили 12 = 0.

   ℝ[x]/(x²+1) — то же самое, но с многочленами. Мы "наматываем"
   многочлены, объявляя x²+1 = 0, то есть x² = −1.
   Получается: x — это "новое число", квадрат которого равен −1.
   Это и есть мнимая единица i. Комплексные числа a + bi — это
   многочлены степени ≤ 1 с арифметикой по модулю (x²+1).


 Зачем инженеру классы эквивалентности?

 1. Модулярная арифметика (ℤₙ):
    Хеш-функции, контрольные суммы, криптография — всё это работа
    с классами остатков.

 2. Конечные автоматы:
    Минимизация автомата = объединение "эквивалентных" состояний
    (тех, которые невозможно различить входными данными).

 3. Размерный анализ:
    Физические величины с одинаковой размерностью — один класс.
    "Метры в секунду" — это класс всех способов выразить скорость.

 4. Координаты:
    Тензор — это класс эквивалентности наборов чисел (координат),
    где два набора эквивалентны, если связаны законом преобразования.

 5. Кластеризация:
    Разбиение данных на кластеры — это фактически построение классов
    эквивалентности по критерию "похожести".


Философия:

  Математика изучает не сами объекты, а отношения между ними.
  Функция f: A → B важнее, чем A и B по отдельности.
  Современная математика (категорная) — это "математика стрелок".

===============================================================================
Отображения — как связываются структуры
===============================================================================

Примечания: Этот раздел — обзор типов отображений. Термины "группа",
"топология", "многообразие" определены в Части II.
Здесь они используются для иллюстрации общего паттерна.

В разделе «Отношения» мы определили функцию и морфизм. Здесь — подробные примеры.

"Хороший морфизм сохраняет структуру"

-------------------------------------------------------------------------------
Предварительное замечание о категориях
-------------------------------------------------------------------------------

 Все примеры ниже — частные случаи одной идеи: морфизм.

   • Объекты (множества, группы, пространства, ...)
   • Стрелки между ними (функции, гомоморфизмы, непрерывные отобр., ...)
   • Композиция стрелок (применить одну, потом другую)

 Это и есть категория — язык, объединяющий всю математику.
 Сейчас достаточно знать: разные виды отображений в таблице ниже — это
 морфизмы в разных категориях.

   Категория множеств:   морфизмы = функции
   Категория групп:      морфизмы = гомоморфизмы
   Категория топол. пр.: морфизмы = непрерывные отображения
   Категория вект. пр.:  морфизмы = линейные операторы


+----------------------+--------------------------+--------------------------+
| ПРЕОБРАЗОВАНИЕ       |  СТРУКТУРА               |  ПРИМЕРЫ                 |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 1. функция           | Множество → Множество    | • f(x) = x + 1           |
|    f: A → B          |                          | • проекция (x,y) ↦ x     |
|                      | Ничего не сохраняет      | • любое отображение      |
| Базовое отображение  | (нет доп. структуры)     |                          |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 2. гомоморфизм       | Группа → Группа          | • exp: (ℝ,+) → (ℝ⁺,×)    |
|    φ: G → H          |                          |   exp(a+b) = exp(a)exp(b)|
|                      | φ(g₁ ∗ g₂) =             | • det: (GL(n),×) → (ℝ*,×)|
| Сохраняет операцию   |    = φ(g₁) ⊙ φ(g₂)       |   det(AB) = det(A)det(B) |
|                      |                          |   (GL(n) = обратимые n×n |
|                      |                          |    матрицы)              |
|                      |                          |                          |
| Автоморфизм если     | Изоморфизм если биекция  | • комплексное сопряжение |
| G = H                | (структуры "одинаковы")  |   z ↦ z̄ на ℂ             |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 3. линейный оператор | Вект.пр-во → Вект.пр-во  | • Поворот в ℝ²           |
|    T: V → W          |                          | • Проекция на подпр-во   |
|                      | T(αv + βw) =             | • Дифференцирование      |
| Сохраняет линейную   |    = αT(v) + βT(w)       |   D: C¹ → C⁰             |
| структуру            |                          |   D(af + bg) =           |
|                      | Матрица в базисе         |   = aD(f) + bD(g)        |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 4. непрерывное       | Топол.пр-во → Топол.пр-во| • f: ℝ → ℝ непрерывная   |
|    отображение       |                          | • Деформация резины      |
|    f: X → Y          | Прообраз открытого       | • Любое f: M → N (гладк.)|
|                      | открыт:                  |                          |
| Сохраняет "близость" | U ∈ τ_Y ⇒ f⁻¹(U) ∈ τ_X   | Гомеоморфизм если        |
|                      |                          | биекция + f⁻¹ непрерывна |
|                      |                          | (топологически "то же")  |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 5. диффеоморфизм     | Многообразие →           | • Любое гладкое обратимое|
|    f: M → N          | Многообразие             |   отображение            |
|                      |                          | • ℝ ≅ (0,1) через        |
| Гладкое + обратимое  | f и f⁻¹ гладкие          |   f(x) = x/(1+|x|)       |
|                      |                          |                          |
|                      | Сохраняет гладкую        | Показывает геометрическую|
|                      | структуру                | эквивалентность          |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 6. производная       | Функция → Функция        | • D(x²) = 2x             |
|    d/dx              |                          | • D(sin) = cos           |
|                      | Линейный оператор:       | • D(eˣ) = eˣ             |
| Мгновенная скорость  | D(af + bg) = aD(f)+bD(g) |                          |
| изменения            |                          | Геометрия: касательная   |
|                      | Локальная аппроксимация  | к графику                |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 7. интеграл          | Функция → Число          | • ∫₀¹ x² dx = 1/3        |
|    ∫ₐᵇ f(x)dx        |                          | • ∫ sin x dx = -cos x+C  |
|                      | Линейный функционал:     |                          |
| Накопление           | ∫(af+bg) = a∫f + b∫g     | Геометрия: площадь под   |
| (площадь, масса)     |                          | графиком                 |
|                      | Обратная к производной   |                          |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 8. касательное       | Многообразие →           | • TₚS² — плоскость,      |
|    пространство      | Векторное пр-во          |   касающаяся сферы в p   |
|    TₚM               |                          | • TₚM — где "живут"      |
|                      | Искривлённое → Плоское   |   векторы скоростей      |
| "Плоскость в точке"  |                          |                          |
|                      | Функтор: M ↦ TₚM         | Линеаризация геометрии   |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 9. фундаментальная   | Топология → Алгебра      | • π₁(S¹) = ℤ             |
|    группа            |                          |   (окружность → целые)   |
|    π₁: Top → Grp     | Пространство ↦ Группа    | • π₁(S²) = {e}           |
|                      |                          |   (сфера тривиальна)     |
| функтор              | Петли с гомотопиями      | • π₁(T²) = ℤ × ℤ          |
|                      |                          |   (тор → две дыры)       |
| Геометрия → Алгебра  | "Дыры" превращает в      |                          |
|                      | алгебраическую структуру | Вычисление топологии     |
|                      |                          | через группы             |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+
|                      |                          |                          |
| 10. преобразование   | Функция → Функция        | • cos(ωt) ↔ δ(ω - ω₀)    |
|     Фурье            |                          | • Свёртка ↔ Умножение    |
|     ℱ: L²(ℝ) → L²(ℝ) | ℱ(f)(ω) = ∫ f(t)e⁻ⁱωᵗdt  |                          |
|                      |                          | Применения:              |
| Функтор              | Унитарный оператор       | • Обработка сигналов     |
| Время ↔ Частота      |                          | • Квантовая механика     |
|                      | Превращает дифф. ур-я    | • Дифф. уравнения        |
|                      | в алгебраические         |                          |
|                      |                          |                          |
+----------------------+--------------------------+--------------------------+

Общий паттерн:

  Хорошее преобразование сохраняет то, что важно:
    • Гомоморфизм сохраняет операцию
    • Непрерывное отображение сохраняет близость
    • Линейный оператор сохраняет линейность
    • Изометрия сохраняет расстояние

  Функтор — преобразование между категориями (подробно):
    Переводит объекты в объекты и стрелки в стрелки, сохраняя композицию.
    Пример: π₁ переводит топологические пространства в группы,
    а непрерывные отображения — в гомоморфизмы.

Зачем это нужно:

  1. Связь между областями: π₁ превращает топологию в алгебру
  2. Упрощение: Фурье превращает дифф. ур-я в алгебраические
  3. Понимание: касательное пространство делает геометрию плоской
  4. Вычисления: изоморфизм позволяет работать в удобной структуре

===============================================================================
Числа — как из пустоты возникают все числа
===============================================================================

-------------------------------------------------------------------------------
Построение натуральных чисел
-------------------------------------------------------------------------------

 Построение натуральных чисел из пустого множества (фон Нейман)

Вся математика возникает из единственного примитива: пустого множества ∅

+-------+-----------------------+------------------------------------+
| ЧИСЛО | ОПРЕДЕЛЕНИЕ           | ВИЗУАЛИЗАЦИЯ                       |
+-------+-----------------------+------------------------------------+
|       |                       |                                    |
| 0     | ∅                     | { }                                |
|       | Пустое множество      | Ничего нет                         |
|       |                       |                                    |
+-------+-----------------------+------------------------------------+
|       |                       |                                    |
| 1     | {∅}                   | { { } }                            |
|       | Множество, содержащее | Коробка с пустой коробкой          |
|       | пустое множество      |                                    |
|       |                       |                                    |
+-------+-----------------------+------------------------------------+
|       |                       |                                    |
| 2     | {∅, {∅}}             | { { }, { { } } }                   |
|       | = {0, 1}              | Коробка с: (пустой) и (коробкой    |
|       |                       | с пустой)                          |
|       |                       |                                    |
+-------+-----------------------+------------------------------------+
|       |                       |                                    |
| 3     | {∅, {∅}, {∅, {∅}}}   | { { }, { { } }, { { }, { { } } } } |
|       | = {0, 1, 2}           | Коробка с 0, 1 и 2                 |
|       |                       |                                    |
+-------+-----------------------+------------------------------------+
|       |                       |                                    |
| n     | {0, 1, 2, ..., n-1}   | Множество всех предыдущих чисел    |
|       |                       |                                    |
|       | n = {k : k &lt; n}    | n содержит в себе все числа        |
|       |                       | меньше себя                        |
|       |                       |                                    |
+-------+-----------------------+------------------------------------+

Рекурсивное определение:

  0 := ∅
  n+1 := n ∪ {n}   (следующее число = предыдущее + множество с предыдущим)

Глубинный смысл:

  • Из ничего (∅) возникает всё
  • Каждое число содержит все предыдущие: 3 ⊃ 2 ⊃ 1 ⊃ 0
  • Число = "память" о всех предыдущих шагах
  • Построение чисел = последовательное проведение границ в пустоте

От натуральных к остальным:

  ℕ = {0, 1, 2, 3, ...}     (определено выше)
        ↓
  ℤ = ℕ × ℕ / ~             (пары (a,b) как "a - b", с эквивалентностью)
        ↓
  ℚ = ℤ × ℤ* / ~            (пары (p,q) как "p/q", q≠0)
        ↓
  ℝ = {сечения Дедекинда}   (или последовательности Коши в ℚ)
        ↓
  ℂ = ℝ × ℝ                 (пары (a,b) как "a + bi")

Всё строится из ∅ последовательными актами проведения границ.

-------------------------------------------------------------------------------
 Дедекиндово сечение — как создать иррациональные числа из рациональных
-------------------------------------------------------------------------------

 Проблема: В ℚ есть "дырки"
   Уравнение x² = 2 не имеет решения в ℚ (доказательство — от противного)
   Но на числовой прямой должна быть точка √2.

 Идея Дедекинда (1858): определить число через разрез прямой

 Определение:
   Сечение (A, B) множества ℚ — это разбиение ℚ на два непустых класса:

   • A — "нижний класс": все рациональные числа слева от разреза
   • B — "верхний класс": все рациональные числа справа от разреза
   • A ∪ B = ℚ,  A ∩ B = ∅
   • Любой элемент A меньше любого элемента B
   • В классе A нет наибольшего элемента (ключевое условие)

 Визуализация:

   Числовая прямая ℚ:
   ←--●--●--●--●--●--|--●--●--●--●--●--→
         A          ✂         B
                 (разрез)

   Сечение для √2:
   A = {q ∈ ℚ : q &lt; 0  или  q² &lt; 2}     (все "слева от √2")
   B = {q ∈ ℚ : q &gt; 0  и  q² ≥ 2}       (все "справа от √2")

   В A нет наибольшего. Для любого q ∈ A с q² &lt; 2 найдётся
   рациональное r &gt; q с r² &lt; 2.

 Определение вещественного числа:
   ℝ := {все сечения (A, B) множества ℚ}

 Два типа сечений:
   1. B имеет наименьший элемент q ∈ ℚ → сечение задаёт рациональное q
   2. B не имеет наименьшего элемента → сечение задаёт иррациональное число

 Арифметика сечений:
   (A₁, B₁) + (A₂, B₂) := (A₁ + A₂, ...) где A₁ + A₂ = {a₁ + a₂}
   Аналогично определяются умножение, порядок и т.д.

 Глубинный смысл:
   • Иррациональное число — это не объект, а граница между объектами
   • √2 — это не конкретная дробь, а место разреза числовой прямой
   • Снова акт проведения границы создаёт новую сущность

 Альтернатива — последовательности Коши:
   ℝ можно также определить как классы эквивалентности
   фундаментальных последовательностей в ℚ
   (последовательностей, где |aₙ − aₘ| → 0 при n, m → ∞)

   Пример: 1, 1.4, 1.41, 1.414, 1.4142, ... → √2

   Оба подхода дают одно и то же множество ℝ.

-------------------------------------------------------------------------------
 Последовательность Коши — сходимость без знания предела
-------------------------------------------------------------------------------

 Проблема: Как понять, что последовательность сходится,
           если мы не знаем, к чему она сходится?

 Идея Коши: Последовательность сходится, если её члены
            становятся сколь угодно близки друг к другу.

 Определение:
   Последовательность {aₙ} называется последовательностью Коши
   (или фундаментальной), если:

   ∀ε &gt; 0  ∃N ∈ ℕ:  ∀n,m &gt; N  ⇒  |aₙ − aₘ| &lt; ε

   Словами: начиная с некоторого номера N, расстояние между
   любыми двумя членами меньше любого наперёд заданного ε.

 Визуализация:

   Обычная последовательность:
   "Все члены близки к пределу a"

         a₁    a₂  a₃ a₄a₅
    --●---●----●--●●●●------------→
                   ↑
                   a (предел)

   Последовательность Коши:
   "Все члены близки друг к другу"

         a₁      a₂    a₃  a₄ a₅ a₆ a₇.
    --●-------●-----●---●--●●●●●●--------→
                        +--+
                         &lt;ε
                    "слипаются"

 Примеры:

   ✓ Коши: aₙ = 1/n
     |aₙ − aₘ| = |1/n − 1/m| ≤ 1/n + 1/m → 0
     Члены: 1, 0.5, 0.33, 0.25, 0.2, ...  (слипаются около 0)

   ✓ Коши: aₙ = 1 + 1/2 + 1/4 + ... + 1/2ⁿ
     Частичные суммы геом. прогрессии: 1, 1.5, 1.75, 1.875, ...
     Сходится к 2, члены всё ближе друг к другу

   ✗ Не Коши: aₙ = n
     |aₙ₊₁ − aₙ| = 1 — не стремится к 0, члены разбегаются

   ✗ Не Коши: aₙ = (−1)ⁿ
     |aₙ₊₁ − aₙ| = 2 — члены прыгают между −1 и 1

 Теорема (критерий Коши):
 +-------------------------------------------------------+
 |                                                       |
 | В ℝ (вещественных числах):                            |
 |                                                       |
 | Последовательность сходится ⟺ Последовательность Коши |
 |                                                       |
 +-------------------------------------------------------+

 Важно: В ℚ это не так.

   Последовательность 1, 1.4, 1.41, 1.414, 1.4142, ... является Коши в ℚ,
   но не сходится в ℚ, потому что √2 ∉ ℚ.

   Это называется неполнота ℚ.

 Полнота ℝ:
   Множество ℝ называется полным, потому что в нём
   каждая последовательность Коши имеет предел.
   Это ключевое свойство, отличающее ℝ от ℚ.

 Конструкция Коши для ℝ:
   ℝ = {классы эквивалентности последовательностей Коши в ℚ}

   Две последовательности {aₙ} ~ {bₙ} эквивалентны, если |aₙ − bₙ| → 0

   Пример: (1, 1.4, 1.41, ...) ~ (1.5, 1.42, 1.415, ...) — обе "представляют" √2

 Глубинный смысл:
   Критерий Коши позволяет говорить о сходимости
   внутренним образом — через сами члены последовательности,
   не привлекая понятие "предела" извне.

-------------------------------------------------------------------------------
 Мощности множеств — разные размеры бесконечности
-------------------------------------------------------------------------------

 Два множества имеют одинаковую мощность, если между ними есть биекция.
 Для конечных множеств это очевидно: |{a,b,c}| = |{1,2,3}| = 3.

 А для бесконечных? Кантор показал: есть разные бесконечности.

 Счётные множества (мощность ℵ₀ — "алеф-ноль"):
   Множество называется счётным, если существует биекция с ℕ.
   То есть элементы можно "пронумеровать": a₁, a₂, a₃, ...

   • ℕ — счётно (тривиально)
   • ℤ — счётно. Биекция: 0, 1, −1, 2, −2, 3, −3, ...
   • ℚ — счётно. (удивительно — "больше" чисел, но та же мощность)
   • ℕ × ℕ — счётно (диагональный обход)

 Несчётные множества (мощность &gt; ℵ₀):
   • ℝ — несчётно.
   • (0,1) — несчётно (биекция с ℝ через tan)
   • 𝒫(ℕ) — несчётно (множество всех подмножеств ℕ)

-------------------------------------------------------------------------------
 Диагональный аргумент Кантора — почему ℝ несчётно
-------------------------------------------------------------------------------

 Теорема: Множество ℝ (или даже отрезок [0,1]) несчётно.

 Доказательство (от противного):

 Допустим, [0,1] счётно. Тогда все числа можно занумеровать:

   x₁ = 0. a₁₁ a₁₂ a₁₃ a₁₄ ...
   x₂ = 0. a₂₁ a₂₂ a₂₃ a₂₄ ...
   x₃ = 0. a₃₁ a₃₂ a₃₃ a₃₄ ...
   x₄ = 0. a₄₁ a₄₂ a₄₃ a₄₄ ...
   ...     ↘   ↘   ↘   ↘
              диагональ

 Построим число y = 0. b₁ b₂ b₃ b₄ ..., где:

   bₙ ≠ aₙₙ  (отличается от n-го числа в n-й цифре)

 Тогда y ≠ x₁ (отличается в 1-й цифре)
       y ≠ x₂ (отличается во 2-й цифре)
       y ≠ xₙ для любого n!

 Но y ∈ [0,1], значит y должно быть в списке. Противоречие.

 Вывод: [0,1] нельзя занумеровать. Множество ℝ несчётно.

 Глубинный смысл:
   Диагональный аргумент — универсальный метод. Он показывает:
   𝒫(A) всегда имеет бо́льшую мощность, чем A (теорема Кантора).
   Бесконечности образуют иерархию: ℵ₀ &lt; 2^ℵ₀ &lt; 2^(2^ℵ₀) &lt; ...

-------------------------------------------------------------------------------
 Континуум-гипотеза — загадка без ответа
-------------------------------------------------------------------------------

 Мощность ℝ называется континуум и обозначается c или 2^ℵ₀.

 Вопрос Кантора (1878):
   Существует ли множество мощности между ℵ₀ и c?
   То есть: бывает ли бесконечность "посередине" между ℕ и ℝ?

 Континуум-гипотеза (CH): Нет, не существует. То есть c = ℵ₁.

 Шокирующий результат XX века:

   • Гёдель (1940): CH совместима с ZFC (нельзя опровергнуть)
   • Коэн (1963):   ¬CH тоже совместима с ZFC (нельзя доказать)

   ⇒ CH независима от аксиом ZFC.

 Это не вопрос "мы пока не знаем". Это принципиально: в рамках ZFC
 вопрос не имеет ответа. Можно работать в математике с CH или без неё.

 Философский урок:
   Есть осмысленные математические вопросы, на которые аксиомы не отвечают.
   Математика — не единственная "истинная" система, а семейство возможных.


===============================================================================
Расширение чисел — чего не хватает?
===============================================================================

 Главная идея:

 Каждая числовая система возникает как ответ на вопрос:
 "Какое уравнение не имеет решения?"

 Расширяем числа → получаем решение → теряем какое-то свойство

 Терминология (строгие определения):
   • Поле = множество с +, ×, где всё кроме 0 обратимо (ℚ, ℝ, ℂ)
   • Кольцо = поле без обязательного деления (ℤ)
   • Алгебра с делением = "почти поле", но возможно некоммутативное (ℍ, 𝕆)


 Иерархия числовых систем
+-------+-------------+---------+----------------------+------------------+
| ЧИСЛО | УРАВНЕНИЕ   | РЕШЕНИЕ | ЧТО ТЕРЯЕМ           | ЧТО ПОЛУЧАЕМ     |
|       | БЕЗ РЕШЕНИЯ |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| ℕ     | x + 3 = 1   | нет в ℕ | —                    | Счёт             |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| ℤ     | 2x = 3      | нет в ℤ | "всегда ≥ 0"         | Вычитание        |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| ℚ     | x² = 2      | нет в ℚ | Дискретность         | Деление          |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| ℝ     | x² = −1     | нет в ℝ | Счётность            | Непрерывность    |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| ℂ     | все есть.   | —       | Порядок (&lt;, &gt;) | Алг. замкнутость |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| ℍ     | (спец.)     | —       | Коммутативность      | 4D вращения      |
|       |             |         | ab ≠ ba              |                  |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+
|       |             |         |                      |                  |
| 𝕆     | (спец.)     | —       | Ассоциативность      | 8D, исключит.    |
|       |             |         | (ab)c ≠ a(bc)        | структуры        |
|       |             |         |                      |                  |
+-------+-------------+---------+----------------------+------------------+

 Визуализация


   ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ
   |   |   |   |   |
   |   |   |   |   +-- Плоскость (2D): a + bi
   |   |   |   +------ Прямая (1D): непрерывная
   |   |   +---------- Прямая (1D): с дырками (√2 нет)
   |   +-------------- Прямая (1D): целые точки
   +------------------ Луч: 0, 1, 2, 3, ...

   ℍ (кватернионы): 4D, базис {1, i, j, k},  i² = j² = k² = ijk = −1
   𝕆 (октонионы):   8D, последняя алгебра с делением над ℝ

-------------------------------------------------------------------------------
 Теорема Фробениуса (1877) и теорема Гурвица (1898)
-------------------------------------------------------------------------------
 Фробениус: Ассоциативные алгебры с делением над ℝ:  ℝ, ℂ, ℍ — и всё.
 Гурвиц:   Нормированные алгебры с делением над ℝ:  ℝ, ℂ, ℍ, 𝕆 — и всё.

 Размерности: 1, 2, 4, 8 — больше нет.

 С каждым расширением теряем фундаментальное свойство:
   ℝ → ℂ:  теряем порядок
   ℂ → ℍ:  теряем коммутативность
   ℍ → 𝕆:  теряем ассоциативность
   𝕆 → 𝕊:  теряем возможность делить (появляются делители нуля)

 Седенионы 𝕊 (16D) и дальше — математически существуют, но бесполезны
 для физики: в них ab = 0 возможно при a ≠ 0 и b ≠ 0.
 Поэтому цепочка ℝ → ℂ → ℍ → 𝕆 — это всё, что есть.

-------------------------------------------------------------------------------
 Основная теорема алгебры
-------------------------------------------------------------------------------

 Любой многочлен с комплексными коэффициентами имеет корень в ℂ.

 Это значит: ℂ — замкнуто относительно решения уравнений.
 Дальше расширять "ради уравнений" не нужно.

 Поэтому ℂ называют "алгебраически замкнутым полем".

-------------------------------------------------------------------------------
 Числа как точки в пространствах — топологические различия
-------------------------------------------------------------------------------

 Иерархия вложений:

   ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ

   Каждое следующее множество "заполняет дыры" предыдущего:
   ℕ → ℤ : добавили отрицательные (решение a + x = 0)
   ℤ → ℚ : добавили дроби (решение ax = b)
   ℚ → ℝ : заполнили "дыры" (пределы последовательностей)
   ℝ → ℂ : добавили √(-1) (корни всех многочленов)


 Геометрическая картина:

   ℤ — решётка на прямой         ℂ — плоскость
   (отдельные точки)             (ℝ — горизонтальная ось)

   --●--●--●--●--●--●--           Im
     -2 -1  0  1  2  3             |
                                   |        ● 2+i
                               ----+----●--------► Re
                                   |     1
                                   ● -i
                                   |

   ℚ — "пыль" на прямой          ℝ — сплошная прямая
   (всюду плотно, но дырявое)    (без дыр, полное)

   -·-·-·-·-·-·-·-·-·-           ━━━━━━━━━━━━━━━━━━━
       √2 — дыра.                   √2 есть.

-------------------------------------------------------------------------------
 Топологические свойства
-------------------------------------------------------------------------------

 +---------+---------------------------------------------------------+
 | ПРОСТР. | ТОПОЛОГИЧЕСКИЕ СВОЙСТВА                                 |
 +---------+---------------------------------------------------------+
 | ℕ, ℤ    | Дискретная топология: каждая точка — открытое множество |
 |         | Не компактно, не связно (каждая точка — компонента)     |
 +---------+---------------------------------------------------------+
 | ℚ       | Всюду плотно в ℝ, но "дырявое"                          |
 |         | Не полно (последовательность → √2 не имеет предела в ℚ) |
 |         | Не связно (ℚ = (−∞,√2)∩ℚ ∪ (√2,+∞)∩ℚ — разбиение)       |
 +---------+---------------------------------------------------------+
 | ℝ       | Полное, связное, локально компактное                    |
 |         | Единственное полное упорядоченное поле.                 |
 +---------+---------------------------------------------------------+
 | ℂ       | Полное, связное, локально компактное                    |
 |         | Алгебраически замкнуто (любой многочлен имеет корень)   |
 |         | Нет порядка, совместимого с операциями.                 |
 +---------+---------------------------------------------------------+

 Ключевая мысль:
   ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ  — это не просто "добавление чисел".
   На каждом шаге меняется топология и алгебраическая структура пространства.


===============================================================================
Словарь математического жаргона
===============================================================================

Математики используют слова, которые редко объясняются в учебниках.
Вот словарь самых частых "невидимых" терминов.

 Каноническое (canonical)


 = "естественное", "единственное", "не требующее произвольного выбора"

 Пример:
   • V** ≅ V — канонический изоморфизм (есть естественное соответствие)
   • V* ≅ V — не канонический (нужно выбрать базис, результат зависит от
              выбора)

 Когда говорят "канонический" — значит есть один правильный способ,
 и не нужно делать никаких дополнительных выборов.

-------------------------------------------------------------------------------
 Корректно определено / хорошо определено
-------------------------------------------------------------------------------

 = "результат не зависит от способа представления"

 Проблема: Иногда один и тот же объект можно записать по-разному.
           Функция корректно определена, если даёт одинаковый ответ
           для всех представлений.

 Пример 1 (некорректно):
   Пусть f: ℤ/3ℤ → ℤ, f([x]) = остаток x при делении на 2.
   Проверим: f([0]) = 0, f([3]) = 1.
   Но [0] = [3] в ℤ/3ℤ. Значит f([0]) должно = f([3]).
   Противоречие: 0 ≠ 1. Функция f не корректно определена.

 Пример 2 (корректно):
   Пусть g: ℤ/6ℤ → ℤ/2ℤ, g([x]) = [x mod 2].
   Проверим: если [x] = [y] в ℤ/6ℤ, то x ≡ y (mod 6).
   Значит x ≡ y (mod 2), и [x mod 2] = [y mod 2].
   Функция g корректно определена. ✓

 Вывод: При работе с классами эквивалентности нужно всегда проверять
         корректность определения.

-------------------------------------------------------------------------------
 Без потери общности
-------------------------------------------------------------------------------

 = "достаточно рассмотреть частный случай, остальные сводятся к нему"

 Пример 1:
   Теорема: |a + b| ≤ |a| + |b|
   Доказательство: "Б.п.о. пусть a ≥ 0."
   Почему можно? Если a &lt; 0, заменим a на −a (модуль не изменится),
   и вернёмся к случаю a ≥ 0.

 Пример 2:
   Доказать что-то для двух точек A и B.
   "Б.п.о. пусть A левее B."
   Почему можно? Можем переименовать: A ↔ B.

 Когда можно использовать:
   • Есть симметрия в условии (a и b равноправны)
   • Можно привести к нужному случаю заменой переменных
   • Операция (переименование, смена знака) не меняет суть задачи

 Когда нельзя:
   • Условия для a и b разные
   • Преобразование меняет структуру задачи

-------------------------------------------------------------------------------
 Тривиальный / нетривиальный
-------------------------------------------------------------------------------

 Тривиальный = "очевидный", "пустой", "простейший возможный"
 Нетривиальный = "содержательный", "не сводящийся к очевидному"

 Примеры:
   • Тривиальное решение Ax = 0: x = 0
   • Тривиальная подгруппа: {e} или вся G
   • Нетривиальный корень: x ≠ 0

 Ирония: Что "тривиально" для профессора, может быть сложным для студента.
         "Тривиально следует." часто означает "я не хочу это объяснять".

-------------------------------------------------------------------------------
 Почему символ ∘ для композиции
-------------------------------------------------------------------------------

 Запись (f ∘ g)(x) = f(g(x)) означает: "применить сначала g, потом f".

 Почему справа налево:
   Из записи f(g(x)) — сначала вычисляем g(x), потом f от результата.
   Внутренняя функция применяется первой.

 Происхождение символа:
   ∘ — маленький кружок, "связующее звено" между функциями.
   Введён в XIX веке для краткости.

 Альтернативная нотация (редко):
   f ; g = g ∘ f — "сначала f, потом g" (читается слева направо)
   Используется в некоторых языках программирования и теории категорий.

 Запомнить: f ∘ g читать как "f после g" или "f круг g".

-------------------------------------------------------------------------------
 Единственный с точностью до
-------------------------------------------------------------------------------

 = "единственный, если не различать объекты определённого типа"

 Примеры:
   • "Базис единственен с точностью до порядка" — можно переставить векторы
   • "Решение единственно с точностью до знака" — есть ровно два: x и −x
   • "Группа единственна с точностью до изоморфизма" — все такие группы
     изоморфны друг другу

 Смысл: Есть несколько объектов, но они "одинаковы" в определённом смысле.


-------------------------------------------------------------------------------
Типичные ошибки в рассуждениях
-------------------------------------------------------------------------------

 Ошибка 1: Путать импликацию A⇒B с эквивалентностью A⟺B


   A ⇒ B  не означает  B ⇒ A

   Верно:  "Если n делится на 4, то n делится на 2"
   Неверно: "Если n делится на 2, то n делится на 4"
            Контрпример: n = 6 делится на 2, но 6 не делится на 4.

   Правильные отношения:
     A ⇒ B   (прямая импликация)
     B ⇒ A   (обратная импликация) — другое утверждение
     ¬B ⇒ ¬A (контрапозиция) — эквивалентно прямой


 Ошибка 2: Круговое доказательство


   Неправильно: "Докажем A. Предположим A. Тогда. Значит A. ∎"

   Это не доказательство. Вы использовали A для доказательства A.

   Более тонкая версия:
   "Из A следует B. Из B следует C. Из C следует A."
   Это доказывает A ⟺ B ⟺ C, но не доказывает, что A истинно.


 Ошибка 3: Путать порядок кванторов ∀x∃y и ∃y∀x


   ∀x ∃y: P(x,y)  — для каждого x существует свой y (y зависит от x)
   ∃y ∀x: P(x,y)  — существует один y, работающий для всех x

   Пример: Непрерывность vs равномерная непрерывность

   ∀ε&gt;0 ∀x ∃δ&gt;0: ...  — δ может зависеть от x и ε (просто непрерывность)
   ∀ε&gt;0 ∃δ&gt;0 ∀x: ...  — δ одна для всех x (равномерная непрерывность)

   Это разные свойства. f(x) = 1/x непрерывна на (0,1), но не равномерно.


 Ошибка 4: Деление на выражение, которое может быть нулём


   Неправильно: "Из ax = ay делим на a, получаем x = y"

   А если a = 0? Тогда 0 = 0 верно для любых x, y.

   Правильно: "Если a ≠ 0, то из ax = ay следует x = y."
              "Если a = 0, то равенство выполнено для любых x, y."


 Ошибка 5: Один пример — не доказательство


   Неправильно: "41 простое, 41+2=43 тоже простое.
                 Значит, если p простое, то p+2 тоже простое."

   Контрпример: 7 простое, но 7+2 = 9 = 3² не простое.

   Асимметрия:
     • Для доказательства ∀x P(x) нужно проверить все x
     • Для опровержения ∀x P(x) достаточно одного x с ¬P(x)


 Ошибка 6: Отождествлять необходимое и достаточное


   A — достаточное условие для B:  A ⇒ B  (если A, то точно B)
   A — необходимое условие для B:  B ⇒ A  (без A не бывает B)

   Пример: "Быть квадратом" для "делиться на 4"

   Достаточное? n = k² ⇒ n делится на 4?  Нет. (9 = 3², но 9 ∤ 4)
   Необходимое? n делится на 4 ⇒ n квадрат? Нет. (8 делится на 4, 8 ≠ k²)


-------------------------------------------------------------------------------
Зачем символы вместо слов
-------------------------------------------------------------------------------

 Вопрос: Почему математики пишут ∀ε&gt;0 ∃δ&gt;0 вместо слов?


 Причина 1: Компактность

   Словами:
   "Для любого положительного числа эпсилон найдётся такое положительное
    число дельта, что для всех x, если модуль разности x и a меньше дельта,
    то модуль разности f от x и L меньше эпсилон."

   Символами:
   ∀ε&gt;0 ∃δ&gt;0 ∀x: |x−a|&lt;δ ⇒ |f(x)−L|&lt;ε

   Одна строка вместо четырёх.


 Причина 2: Точность

   Порядок кванторов виден сразу:

   ∀ε ∃δ  — для каждого ε свой δ (обычная непрерывность)
   ∃δ ∀ε  — один δ для всех ε (другое свойство)

   Словами это легко перепутать.


 Причина 3: Манипуляция

   Логические правила применяются механически:

   ¬(∀x P(x)) = ∃x ¬P(x)   — просто переворачиваем квантор и отрицаем P
   ¬(∃x P(x)) = ∀x ¬P(x)

   Словами такие преобразования легко запутать.


 Совет для чтения:
   При первом чтении переводите символы в слова вслух.
   "Для всех эпсилон больше нуля существует дельта больше нуля."

 Совет для написания:
   Используйте символы для точности структуры.
   Добавляйте словесные пояснения для интуиции.


-------------------------------------------------------------------------------
Почему термины так называются (этимология)
-------------------------------------------------------------------------------

Понимание происхождения терминов помогает запомнить их смысл.

-------------------------------------------------------------------------------
 Алгебраические термины
-------------------------------------------------------------------------------

 Ядро (kernel, от нем. Kern = зерно, сердцевина):
   Историческая метафора: "сердцевина" того, что теряется при отображении.
   Ядро — это то, что "схлопывается" в нейтральный элемент.
   ker(φ) = {x : φ(x) = 0} — центральная часть "потерь".

 Образ (image, от лат. imago = отражение):
   Буквально: "картинка", "отражение" исходного множества.
   Im(f) = f(A) — куда "отображается" множество A.

 Гомоморфизм (ὁμός = одинаковый, μορφή = форма):
   "Сохраняющий форму" — переносит операции без изменения структуры.
   φ(a · b) = φ(a) · φ(b) — операция "выглядит одинаково" до и после.

 Изоморфизм (ἴσος = равный):
   "Равноформенный" — структуры полностью идентичны алгебраически.
   Биективный гомоморфизм: ничего не теряется, ничего не склеивается.

 Группа (фр. groupe, нем. Gruppe):
   Введено Галуа (1830-е) для "группы подстановок корней уравнения".
   Исходно: набор симметрий, связанных с алгебраическим уравнением.

 Кольцо (нем. Ring):
   Изначально: циклические структуры типа ℤ/nℤ, которые "закольцовываются".
   Дедекинд (1871) использовал для "колец целых чисел" в полях.

 Поле (нем. Körper = тело, англ. field):
   Немецкий термин "тело" = пространство для полноценной арифметики.
   Английский "field" = область/поле деятельности для всех операций.
   Поле — где можно делить на всё ненулевое.

 Идеал (от Куммера, 1840-е):
   Изначально "идеальные числа" — фиктивные элементы для восстановления
   единственности разложения на простые множители.
   Дедекинд формализовал как подмножество кольца.

-------------------------------------------------------------------------------
 Геометрические и топологические термины
-------------------------------------------------------------------------------

 Топология (τόπος = место, λόγος = учение):
   "Наука о местах/расположении" — изучает, что рядом с чем.
   Введено Листингом (1847): "Топология — геометрия положения".

 Многообразие (manifold, от нем. Mannigfaltigkeit):
   "Многообразное" — может выглядеть по-разному в разных местах,
   но локально всегда как ℝⁿ. Риман (1854).

 Гомотопия (ὁμός = одинаковый, τόπος = место):
   Два пути "одноместны" = можно непрерывно деформировать один в другой.

 Симплекс (лат. simplex = простой):
   Простейший многогранник в данной размерности:
   точка → отрезок → треугольник → тетраэдр → ...

 Компактный (лат. compactus = плотно сжатый):
   Множество "плотно упаковано" — из любого покрытия можно выбрать
   конечное подпокрытие. Нет "бесконечных дыр" или "убегания в бесконечность"

 Связный (connected):
   "Цельный" — нельзя разбить на два непересекающихся открытых множества.
   Можно дойти из любой точки в любую, не выходя из множества.

-------------------------------------------------------------------------------
 Аналитические термины
-------------------------------------------------------------------------------

 Непрерывный (continuous, от лат. continuus = связный):
   "Без разрывов" — малые изменения аргумента дают малые изменения значения.

 Дифференцируемый (от лат. differentia = разность):
   Можно вычислить "разностное отношение" и перейти к пределу.
   Функция "различима" — можно увидеть, как она меняется.

 Интеграл (от лат. integer = целый):
   "Восстановление целого" из частей (суммирование бесконечно малых).
   Лейбниц использовал ∫ как стилизованную букву S (summa).

 Сходимость (convergence, от лат. convergere = склоняться к):
   Члены последовательности "склоняются к" одной точке.

 Предел (limit, от лат. limes = граница):
   "Граница", к которой стремится последовательность или функция.


===============================================================================
Категорный взгляд — язык для всего, что далее
===============================================================================

Прежде чем перейти к конкретным структурам (группы, пространства, многообразия),
введём язык, на котором все они описываются единообразно.

 Главная идея:
 Математические объекты важны не сами по себе, а через отношения между ними.

 Категория = Объекты + Стрелки (морфизмы) между ними

      A --f--► B --g--► C

 Объекты: то, что мы изучаем (множества, группы, пространства)
 Стрелки: как объекты связаны (функции, гомоморфизмы, непрерывные отобр.)

 Ключевое свойство: стрелки можно композировать (g∘f: A → C)


 Примеры категорий (которые встретятся далее)
 +-----------+--------------+-------------------------+
 | КАТЕГОРИЯ | ОБЪЕКТЫ      | СТРЕЛКИ                 |
 +-----------+--------------+-------------------------+
 | Set       | Множества    | Функции                 |
 | Grp       | Группы       | Гомоморфизмы            |
 | Vect      | Вект. пр-ва  | Линейные отображения    |
 | Top       | Топ. пр-ва   | Непрерывные отображения |
 | Man       | Многообразия | Гладкие отображения     |
 +-----------+--------------+-------------------------+

 Во всех этих случаях паттерн один:
   • Есть объекты с какой-то структурой
   • Есть отображения, сохраняющие эту структуру
   • Отображения можно композировать


===============================================================================
Как математик думает — эвристики и методы мышления
===============================================================================

Мы определили основные объекты: множества, числа, отношения, категории.
Прежде чем строить на них пространства (Часть II) — несколько слов о том,
как устроено само математическое мышление. Что такое инвариант?
Когда обобщать? Когда искать контрпример? Эти эвристики пронизывают
весь атлас.



 Когда искать инвариант


 Инвариант — это величина, которая не меняется при преобразованиях.
 Если мы вращаем, деформируем, пересчитываем в другие координаты —
 а некоторое число или свойство остаётся тем же — это инвариант.
 Инварианты отделяют существенное от несущественного.

 Если объекты меняются, но что-то сохраняется — ищи инвариант.

 Примеры:
   • Вращения меняют координаты, но сохраняют длину: ‖v‖ = inv
   • Деформации меняют форму, но сохраняют число дырок: π₁ = inv
   • Время меняет систему, но сохраняет энергию: H = inv (если ∂L/∂t = 0)

 Эвристика: "Что не изменилось?" — первый вопрос математика.


 Когда обобщать, когда конкретизировать


 Обобщай, если:
   • Доказательство работает для более широкого класса
   • Конкретные детали не используются
   • Хочешь понять суть, отбросив "шум" частностей

 Конкретизируй, если:
   • Общая теорема не даёт явного ответа
   • Нужен вычислительный результат
   • Частный случай имеет дополнительную структуру

 Пример: Теорема о неподвижной точке (общая) → метод Ньютона (конкретный).
 Общая говорит "существует", конкретная говорит "как найти".


 Что делать, когда доказательство не идёт


 1. Проверь частные случаи
    Верно ли утверждение для n=1,2,3? Для простейших примеров?
    Если нет — ищи контрпример, а не доказательство.

 2. Ослабь утверждение
    Может быть, верно при дополнительных условиях?
    Может быть, верна более слабая оценка?

 3. Усиль утверждение
    Парадоксально, но иногда более сильное утверждение легче доказать.
    Индукция часто требует усиления гипотезы.

 4. Переформулируй
    Та же задача на другом языке (алгебра ↔ геометрия ↔ анализ).
    Иногда другой взгляд делает решение очевидным.

 5. Изучи аналогичные теоремы
    Как доказывали похожие результаты? Какие идеи использовали?


 Как выбирать между формализациями


 Одна задача — много языков (см. введение). Как выбрать?

 Критерии:
   • Какие операции нужны? (сложение → линалг, близость → топология)
   • Какой ответ нужен? (существование → абстрактно, число → конкретно)
   • Что известно? (симметрия → группы, гладкость → анализ)

 Эвристика: Выбирай язык, где задача становится стандартной.

 Пример: Уравнение теплопроводности
   • Хочу понять качественное поведение → полугруппы (e^{At})
   • Хочу посчитать конкретное решение → Фурье или численно
   • Хочу доказать существование → функанализ


 Принцип экономии структуры


 Не вводи больше структуры, чем нужно для решения.

 Плохо: "Пусть V — гильбертово пространство." (если нужна только норма)
 Хорошо: "Пусть V — нормированное пространство."

 Почему это важно:
   • Доказательство работает для более широкого класса
   • Легче понять, что именно используется
   • Результат легче применить в других контекстах

 Исключение: Если дополнительная структура делает доказательство проще,
 иногда стоит её использовать, а потом обобщить результат.


 Интуиция vs строгость


 Математик работает в два этапа:

   Этап 1 (интуиция): "Почему это должно быть правдой?"
   Рисунки, аналогии, физические соображения, примеры.
   Цель: понять, не доказать.

   Этап 2 (строгость): "Как это доказать?"
   Формальные определения, логические шаги, проверка всех случаев.
   Цель: убедить (себя и других).

 Ошибка новичка: пропускать этап 1.
   Без интуиции доказательство — это слепой перебор.

 Ошибка физика: останавливаться на этапе 1.
   Интуиция иногда обманывает (пример: парадоксы анализа XIX века).



▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                              ЧАСТЬ II: ПРОСТРАНСТВА
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

          Введение: Разные взгляды на одно пространство

===============================================================================
Три задачи на пространствах
===============================================================================

 Что можно делать с математическими объектами?


 Любая работа с пространством (и вообще с математическим объектом)
 Сводится к одной из трёх задач:

   Классификация — что это за объект? что возможно в принципе?
   Вычисления    — найти конкретное значение внутри известного
   Построение    — создать новый объект из имеющихся

 Эти три задачи исчерпывают всё, что можно делать в математике.

-------------------------------------------------------------------------------
 Классификация — нормативные границы
-------------------------------------------------------------------------------

 Классификация отвечает: Что это? Что возможно в принципе?

 Результат: "это X, а не Y", "это возможно / невозможно", "таких ровно N"

 Примеры:
   • Замкнутых поверхностей ровно столько: сферы с ручками + неориентир.
   • Твёрдое тело имеет 6 степеней свободы (не 5, не 7)
   • Уравнение 5-й степени не решается в радикалах (группа S₅ неразрешима)
   • Поле F = grad φ существует ⟺ rot F = 0 и область односвязна
   • Сфера и тор не гомеоморфны (разные π₁, разные χ)

 Классификация устанавливает границы — что можно искать, а что бессмысленно.

 Инструменты: топологические инварианты, группы симметрий, теоремы
 существования/единственности.

-------------------------------------------------------------------------------
 Вычисления — найти конкретное
-------------------------------------------------------------------------------

 Вычисления отвечают: Где именно? Сколько? Какое значение?

 Результат: число, координаты, формула, конкретный объект

 Примеры:
   • Найти корни уравнения x³ − 2x + 1 = 0
   • Вычислить интеграл ∫₀^∞ e^{−x²} dx = √π/2
   • Найти собственные значения матрицы
   • Определить кратчайший путь на поверхности (геодезическую)
   • Найти минимум функции на компакте

 Вычисления работают внутри границ, установленных классификацией.
 Если классификация говорит "не существует" — вычислять нечего.

 Инструменты: алгоритмы, методы оптимизации, численные методы,
 аналитические техники.

-------------------------------------------------------------------------------
 Построение — создать новое
-------------------------------------------------------------------------------

 Построение отвечает: Как получить новый объект из имеющихся?

 Результат: новый объект, которого раньше не было

 Примеры:
   • a × b — новый вектор из двух данных
   • V ⊗ W — новое пространство из двух данных
   • G/H — факторгруппа (новая группа из группы и подгруппы)
   • ℚ → ℝ — пополнение (новое пространство из старого)
   • Произведение M × N — новое многообразие
   • Касательное расслоение TM — новое пространство над M
   • Дополнительные построения в геометрии (провести прямую, опустить ⊥)

 Отличие от вычислений: вычисление находит существующее (корень уже есть,
 мы его ищем). Построение создаёт — до операции a × b этого вектора не было.

 Инструменты: операции (×, ⊗, ∧, /, ×), конструкции (пополнение,
 накрытие, расширение), универсальные свойства.

-------------------------------------------------------------------------------
 Связь трёх задач
-------------------------------------------------------------------------------

                      Классификация
                      "что возможно?"
                           |
              +------------+------------+
              ↓                         ↓
        Построение вычисления
      "создать новое"           "найти внутри"
              |                         |
              +----------+--------------+
                         ↓
                   Новые объекты
                         |
                         ↓
              Классификация новых.

 Классификация устанавливает границы →
   Построение создаёт объекты внутри границ →
     Вычисления находят конкретные значения →
       Результаты могут требовать новой классификации


 Классификация (что возможно, инварианты, типы):
   Группы — классификация симметрий и движений
   Топология — классификация пространств по форме
   Теория чисел — классификация чисел

 Вычисления (найти значение, решить уравнение):
   Линейная алгебра — системы уравнений, собственные значения
   Анализ — производные, интегралы, ряды
   Функциональный анализ — уравнения в бесконечной размерности

 Построение (создать новый объект):
   Произведения векторов — ⟨,⟩, ×, ∧, ⊗
   Двойственность — V → V*
   Тензоры — мультилинейные конструкции
   Многообразия — склейка из карт
   Дифф. формы — формы из векторов

 Большинство разделов включают все три задачи в разных пропорциях.


-------------------------------------------------------------------------------
Таблица пространств — центральная таблица
-------------------------------------------------------------------------------

 Пространство — центральный объект математики

 Вся математика изучает пространства и структуры на них:
   • Топология: форма пространства (дырки, связность)
   • Алгебра: симметрии пространства (группы)
   • Анализ: функции на пространстве
   • Геометрия: измерения на пространстве (метрика, кривизна)

-------------------------------------------------------------------------------
 Иерархия пространств — что добавляется на каждом уровне
-------------------------------------------------------------------------------

   Множество (просто набор точек)
       | + топология (понятие "близости", открытые множества)
       ↓
   Топологическое пространство
       | + локальная евклидовость (похоже на ℝⁿ в малом)
       ↓
   Многообразие
       | + метрика (способ измерять расстояния)
       ↓
   Риманово многообразие
       | + физические уравнения
       ↓
   Пространство-время (ото)

   Параллельная ветвь:

   Множество
       | + линейная структура (сложение, умножение на число)
       ↓
   Векторное пространство
       | + скалярное произведение
       ↓
   Евклидово пространство ℝⁿ
       | + бесконечная размерность
       ↓
   Гильбертово пространство (квантовая механика)

===============================================================================
Главные пространства — каталог
===============================================================================

 Обозначения в таблице:

   dim = размерность (сколько координат нужно для описания точки)
   π₁  = фундаментальная группа (какие петли нельзя стянуть в точку?)
         означает "все петли стягиваются", ℤ — "есть одна незамкнутая"
   H₁  = первая группа гомологий (похоже на π₁, но абелева версия)
   χ   = эйлерова характеристика = V − E + F (вершины − рёбра + грани)
         Инвариант формы: сфера χ=2, тор χ=0, проект. плоскость χ=1

   Инварианты — таблица

+-------------+-----+-------+-------+-----+-------------------------------------+
| ПРОСТРАНСТВО|dim  | π₁    | H₁    |  χ  | ЧТО ЭТО / ГДЕ ВСТРЕЧАЕТСЯ           |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Точка {*}   |  0  |   0   |   0   |  1  | Тривиальное; нульмерный "мир"       |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Прямая ℝ    |  1  |   0   |   0   |  —  | Некомпактна; время, температура     |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Окружность  |  1  |   ℤ   |   ℤ   |  0  | S¹ = {|z|=1}; углы, фазы, периоды    |
| S¹          |     |       |       |     | Группа U(1).                        |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Плоскость   |  2  |   0   |   0   |  —  | Некомпактна; обычная геометрия      |
| ℝ²          |     |       |       |     |                                     |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Сфера S²    |  2  |   0   |   0   |  2  | Поверхность шара; Земля, небо       |
|             |     |       |       |     | Все петли стягиваются.              |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Тор T²      |  2  |  ℤ²   |  ℤ²   |  0  | Бублик = S¹×S¹; два угла             |
|             |     |       |       |     | Периодические граничные условия     |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Проективная |  2  |  ℤ/2  |  ℤ/2  |  1   | ℝP² = "направления прямых"          |
| плоскость   |     |       |       |     | Неориентируема.                     |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| Бутылка     |  2  | ℤ⋊ℤ   |ℤ⊕ℤ/2   |  0  | Неориентируема; 4D нужно            |
| Клейна K    |     |       |       |     |                                     |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| 3-сфера S³  |  3  |   0   |   0   |  0  | ≅ SU(2). Пространство вращений      |
|             |     |       |       |     | (с точностью до ±)                  |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| SO(3)       |  3  |  ℤ/2  |  ℤ/2  |  —  | Все вращения в ℝ³                   |
|             |     |       |       |     | ≅ ℝP³ (не S³.)                      |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+
|             |     |       |       |     |                                     |
| ℝ⁴ (простр- |  4  |   0   |   0   |  —  | Пространство-время (СТО)            |
| время СТО)  |     |       |       |     | Плоское, метрика Минковского        |
|             |     |       |       |     |                                     |
+-------------+-----+-------+-------+-----+-------------------------------------+

-------------------------------------------------------------------------------
 Классификация замкнутых поверхностей (dim = 2)
-------------------------------------------------------------------------------

 Теорема: Любая замкнутая поверхность — это:

   Ориентируемая:        Сфера с g ручками (род g)

     g = 0     g = 1     g = 2
       ○         ◎        ◎◎      χ = 2 − 2g
     сфера     тор      "кренделёк"

   Неориентируемая:      Сфера с k "крестышками" (Мёбиус вклеен)

     k = 1     k = 2
      ℝP²       K        χ = 2 − k
   проект.   Клейна

 Это полная классификация. Других замкнутых поверхностей нет.

-------------------------------------------------------------------------------
 Связь пространств с группами
-------------------------------------------------------------------------------

 Многие важные пространства одновременно являются группами:

   S¹ ≅ U(1) ≅ SO(2)    — окружность = группа вращений плоскости
   S³ ≅ SU(2)           — 3-сфера = группа (двойное накрытие SO(3))
   SO(3) ≅ ℝP³          — вращения в 3D = проективное пространство
   GL(n), SL(n), O(n)   — группы матриц = многообразия

 Это группы Ли — группы, которые одновременно многообразия.

 Фундаментальная группа π₁ тоже связывает:
   π₁(S¹) = ℤ           — целые числа как группа
   π₁(T²) = ℤ²          — решётка
   π₁(∨ₙS¹) = Fₙ        — свободная группа


===============================================================================
Три отношения к пространству
===============================================================================

 Задача: определить предмет каждой области математики

+------------------+-------------+---------------------------+
| ОБЛАСТЬ          | ГЛАГОЛ      | ВОПРОС                    |
+------------------+-------------+---------------------------+
| Дифференциальная | Измеряет    | Как устроено изнутри?     |
| геометрия        |             | (кривизна, метрика, углы) |
+------------------+-------------+---------------------------+
| Алгебраическая   | Различает   | Чем отличается от других? |
| топология        |             | (инварианты: π₁, Hₙ)      |
+------------------+-------------+---------------------------+
| Теория групп     | Преобразует | Что можно с ним делать?   |
|                  |             | (симметрии, действия)     |
+------------------+-------------+---------------------------+

Слово "алгебраический":

+--------------------------+-------------------------------------------------+
| АЛГЕБРАИЧЕСКАЯ ТОПОЛОГИЯ | Пространство → Группа.  Алгебра как инструмент. |
| АЛГЕБРАИЧЕСКАЯ ГЕОМЕТРИЯ | Уравнения → Пространство. Алгебра как источник. |
+--------------------------+-------------------------------------------------+


-------------------------------------------------------------------------------
Группа — симметрии пространства
-------------------------------------------------------------------------------

Если множество — пыль, а топология — ткань, то группа — это подвижность.
Группа отвечает на вопрос: как можно двигаться в пространстве, не ломая его?
Какие преобразования допустимы?

В терминах "объект—наблюдатель" группа — это ключевое понятие.

-------------------------------------------------------------------------------
Группа — это каталог движений наблюдателя, не меняющих объект
-------------------------------------------------------------------------------

Если наблюдатель повернулся — объект выглядит иначе, но сам объект не изменился.
Группа SO(3) — это все возможные повороты. Каждый элемент группы — конкретный
поворот. Композиция — выполнить один поворот, потом другой.

Почему это фундаментально: физические законы не должны зависеть от того,
как стоит наблюдатель. "Ковариантность" в физике — это требование, чтобы
уравнения выглядели одинаково для всех наблюдателей, связанных группой.

Инвариант группы — то, что не меняется ни при каких движениях из группы.
Например, расстояние — инвариант группы вращений. Два наблюдателя, повёрнутые
друг относительно друга, измерят одинаковое расстояние.

-------------------------------------------------------------------------------
Группа как взгляд на пространство
-------------------------------------------------------------------------------

 Группа — это множество преобразований пространства, сохраняющих его
 структуру. Разные группы "видят" в одном пространстве разные вещи:

   • SO(3) видит в ℝ³ вращения (сохраняет расстояния и ориентацию)
   • GL(n) видит линейность (сохраняет прямые и начало координат)
   • Симметрии кристалла видят дискретную решётку

-------------------------------------------------------------------------------
 Откуда взялись группы — история
-------------------------------------------------------------------------------

 Уравнения 1, 2, 3, 4 степени — решаются формулами (Кардано, Феррари).
 Уравнение 5 степени: x⁵ + ax⁴ + bx³ + cx² + dx + e = 0

   лет искали формулу. Галуа (в 20 лет) доказал: её не существует.

 Как? Он связал уравнение с группой перестановок его корней:
   Если эта группа "разрешима" → формула существует.
   Группа перестановок 5 элементов — не разрешима → формулы нет.

 Так родилась теория групп — из вопроса о решении уравнений.

-------------------------------------------------------------------------------
 Физический взгляд: степени свободы твёрдого тела
-------------------------------------------------------------------------------

 Возьмём любой предмет — книгу, камень, молекулу.
 Какие движения с ним возможны, если нельзя деформировать?

 Сдвиги: можно перенести в любую точку пространства.
         Три направления: вперёд-назад, влево-вправо, вверх-вниз → 3 числа.

 Повороты: можно повернуть вокруг любой оси.
           Ось (2 параметра) + угол (1 параметр) → 3 числа.

 Итого: 6 параметров. Положение твёрдого тела описывается 6 числами.
        Не 5, не 7 — именно 6. Это факт о структуре пространства ℝ³.

 Множество всех таких движений называется SE(3) — специальная евклидова
 группа.

-------------------------------------------------------------------------------
 Почему это группа — свойства движений
-------------------------------------------------------------------------------

 Движения обладают определёнными свойствами:

 1. Два движения подряд — тоже движение
    Сначала сдвинуть, потом повернуть — получится какое-то движение.
    Не выходим за пределы SE(3).

 2. Порядок группировки не важен
    (A потом B) потом C = A потом (B потом C)
    Это свойство композиции любых отображений.

 3. Есть "ничего не делать"
    Тождественное движение — оставить всё на месте.

 4. Любое движение можно отменить
    Сдвинули на 3 метра вправо → сдвигаем на 3 метра влево.
    Повернули на 30° → поворачиваем на −30°.

 Эти четыре свойства — аксиомы группы.
 Они не придуманы, а следуют из природы понятия "движение".

-------------------------------------------------------------------------------
 Разные ограничения — разные группы
-------------------------------------------------------------------------------

 Какие движения "разрешены" зависит от того, что нужно сохранить:

 +-------------------+------------+---------------------------------+
 | ЧТО СОХРАНЯЕМ     | ГРУППА     | ГДЕ ВСТРЕЧАЕТСЯ                 |
 +-------------------+------------+---------------------------------+
 | Расстояния и углы | E(3)       | Твёрдое тело (с отражениями)    |
 | + ориентацию      | SE(3)      | Твёрдое тело (без отражений)    |
 | Только углы       | Конформная | Картография, комплексный анализ |
 | Параллельность    | Aff(3)     | Тени при солнечном свете        |
 | Только прямизну   | PGL(3)     | Перспектива в живописи          |
 | Объём             | SL(3)      | Несжимаемая жидкость            |
 | Линейность        | GL(3)      | Любая линейная деформация       |
 +-------------------+------------+---------------------------------+

 Меньше ограничений → больше группа:
   Линейные:  SO(3) ⊂ O(3) ⊂ SL(3) ⊂ GL(3)
   Аффинные:  SE(3) ⊂ E(3) ⊂ Aff(3)
   Связь: GL(3) ⊂ Aff(3), но E(3) ⊄ GL(3) (изометрии включают сдвиги)

 Это классификация: группа описывает, какие преобразования возможны.

-------------------------------------------------------------------------------
 Только повороты — группа SO(3)
-------------------------------------------------------------------------------

 Если объект закреплён в одной точке (волчок, гироскоп, спутник),
 остаются только повороты. Это группа SO(3).

   SO(3) = { повороты ℝ³ вокруг начала координат }
         = { ортогональные матрицы 3×3 с det = +1 }

 Размерность: 3 (три угла Эйлера, или ось + угол).

 Важный факт: SO(3) — неабелева группа.

   Повернуть по X, потом по Y  ≠  повернуть по Y, потом по X

   Можете проверить с книгой:
   1) положите книгу, поверните на 90° вокруг вертикали, потом
      на 90° вокруг горизонтальной оси "от себя"
   2) сделайте в обратном порядке
   Результаты разные.

 Это не абстракция — управление спутником должно это учитывать.

-------------------------------------------------------------------------------
 Дискретные симметрии — конечные группы
-------------------------------------------------------------------------------

 Не все объекты допускают любые повороты.
 Кристалл соли (куб) выглядит одинаково только при определённых поворотах.

 Симметрии квадрата — группа D₄:

    1---2     Исходный         2---1    Поворот на 90°
    |   |     квадрат          |   |
    |   |                      |   |
    4---3                      3---4

 Возможные преобразования:
   • 4 поворота: на 0°, 90°, 180°, 270°
   • 4 отражения: относительно горизонтали, вертикали, двух диагоналей

 Всего 8 элементов. Не 7, не 9 — ровно 8.
 Это полный ответ на вопрос "какие симметрии у квадрата".

 Симметрии правильных многогранников
 +----------------------+--------+----------------------+
 | МНОГОГРАННИК         | ГРУППА | ЧИСЛО СИММЕТРИЙ      |
 +----------------------+--------+----------------------+
 | Тетраэдр             | Td     | 24                   |
 | Куб / Октаэдр        | Oh     | 48 (они двойственны) |
 | Додекаэдр / Икосаэдр | Ih     | 120                  |
 +----------------------+--------+----------------------+

 Куб и октаэдр имеют одинаковую группу симметрий — они "геометрически
 эквивалентны" в смысле симметрий (двойственные многогранники).


===============================================================================
Группа — мотивация и примеры
===============================================================================

 Визуализация: симметрии квадрата


    1---2     Исходный         2---1    Поворот 90°      4---3   Поворот 180°
    |   |     квадрат          |   |    против часовой   |   |
    |   |                      |   |                     |   |
    4---3                      3---4                     1---2

    1---4     Отражение        2---3    Отражение        Всего 8 симметрий:
    |   |     (верт. ось)      |   |    (гориз. ось)     • 4 поворота
    |   |                      |   |                     • 4 отражения
    2---3                      1---4

   Любые две симметрии можно скомбинировать → получится симметрия.
   У каждой симметрии есть обратная (вернуть назад).
   Есть тождественная симметрия (ничего не делать).

   Это и есть группа D₄ — группа диэдра (симметрий квадрата).

-------------------------------------------------------------------------------
 Группа как множество преобразований
-------------------------------------------------------------------------------

 Группа формализует понятие "множество обратимых преобразований".

 +------------------+-------------------------------------------------+
 | АКСИОМА          | СМЫСЛ В ТЕРМИНАХ ПРЕОБРАЗОВАНИЙ                 |
 +------------------+-------------------------------------------------+
 | Замкнутость      | Композиция двух преобразований — преобразование |
 | Ассоциативность  | (f∘g)∘h = f∘(g∘h)                                 |
 | Нейтральный эл.  | Тождественное преобразование id                 |
 | Обратный элемент | Каждое преобразование обратимо                  |
 +------------------+-------------------------------------------------+

 Определение: Группа симметрий объекта X — множество всех биекций X → X,
              сохраняющих структуру X.


 Необходимость аксиом
+-----------------+---------------------------------------------------+
| АКСИОМА         | ПОЧЕМУ НЕОБХОДИМА                                 |
+-----------------+---------------------------------------------------+
| Композиция      | Последовательное применение симметрий — симметрия |
| Нейтральный     | Тождественное отображение сохраняет структуру     |
| Обратный        | Обратное к симметрии — симметрия                  |
| Ассоциативность | Следует из ассоциативности композиции функций     |
+-----------------+---------------------------------------------------+

===============================================================================
Формальное определение
===============================================================================

-------------------------------------------------------------------------------
 Определение группы
-------------------------------------------------------------------------------

 Группа (G, ·) — множество G с бинарной операцией · : G × G → G,
 удовлетворяющей аксиомам:

 Примечание о нотации: Запись (G, ·) — это кортеж (упорядоченная пара),
 где первый элемент — множество-носитель, второй — операция (сигнатура).
 Это не то же самое, что пара {{G}, {G, ·}} из теории множеств.
 Здесь скобки означают "структура = носитель + операции".

   +-----------------+-------------------+-----------------------+
   | АКСИОМА         | ФОРМУЛА           | СМЫСЛ                 |
   +-----------------+-------------------+-----------------------+
   |                 |                   |                       |
   | G1. Замкнутость | ∀a,b ∈ G: a·b ∈ G | Результат — элемент G |
   |                 |                   |                       |
   | G2. Ассоциатив- | ∀a,b,c ∈ G:       | Скобки не важны       |
   | ность           | (a·b)·c = a·(b·c) |                       |
   |                 |                   |                       |
   | G3. Нейтральный | ∃e ∈ G: ∀a ∈ G:   | "Ничего не делать"    |
   | элемент         | e·a = a·e = a     |                       |
   |                 |                   |                       |
   | G4. Обратный    | ∀a ∈ G ∃a⁻¹ ∈ G:  | Всё можно отменить    |
   | элемент         | a·a⁻¹ = a⁻¹·a = e |                       |
   |                 |                   |                       |
   +-----------------+-------------------+-----------------------+

 Примечания:
   • Нейтральный элемент единственный
   • Обратный элемент для каждого a единственный
   • (a⁻¹)⁻¹ = a
   • (a·b)⁻¹ = b⁻¹·a⁻¹  (порядок меняется)

-------------------------------------------------------------------------------
 Абелевы vs неабелевы группы
-------------------------------------------------------------------------------

 Абелева группа: ∀a,b: a·b = b·a (коммутативность)

+----------------------------+-------------------------------------------+
| АБЕЛЕВЫ (порядок не важен) | НЕАБЕЛЕВЫ (порядок важен)                 |
+----------------------------+-------------------------------------------+
|                            |                                           |
| (ℤ, +): 2+3 = 3+2          | D₄: поворот∘отражение ≠ отражение∘поворот |
| (ℝ, +): π+e = e+π          | Sₙ (n≥3): перестановки                    |
| (ℝ*, ×): 2×3 = 3×2         | GL(n): матрицы AB ≠ BA                    |
| (ℤ/n, +): циклические      | SO(3): вращения в 3D                      |
|                            |                                           |
+----------------------------+-------------------------------------------+

===============================================================================
Примеры групп — подробно
===============================================================================

 Пример 1: Целые числа (ℤ, +)


 Множество: ℤ = {..., -2, -1, 0, 1, 2, 3, ...}
 Операция:  сложение +

 Проверка аксиом:

   G1. Замкнутость:   a + b ∈ ℤ для любых a, b ∈ ℤ               ✓
                      (сумма целых — целое)

   G2. Ассоциативность: (a+b)+c = a+(b+c)                         ✓
                        (2+3)+4 = 5+4 = 9
                        2+(3+4) = 2+7 = 9

   G3. Нейтральный:   e = 0,  потому что a + 0 = 0 + a = a       ✓

   G4. Обратный:      a⁻¹ = −a,  потому что a + (−a) = 0         ✓

 Дополнительно: a + b = b + a  →  Абелева группа

 Визуализация: Сдвиги по числовой прямой

     ←----------●----------→
     ... -2  -1  0  1  2  3 ...

     +3 = "сдвинуться вправо на 3"
     −2 = "сдвинуться влево на 2"
      0 = "остаться на месте"


 Пример 2: Циклическая группа ℤ/n (или ℤₙ)


 Множество: ℤ/n = {0, 1, 2, ..., n−1}
 Операция:  сложение по модулю n

 Пример: ℤ/4 = {0, 1, 2, 3} — "арифметика часов" с 4 делениями

     Таблица Кэли (таблица умножения группы):

       +  |  0    1    2    3
     -----+--------------------
       0  |  0    1    2    3       0 — нейтральный элемент
       1  |  1    2    3    0       (строка и столбец для 0
       2  |  2    3    0    1        совпадают с заголовками)
       3  |  3    0    1    2

   Проверка: 2 + 3 = 5 mod 4 = 1  ✓ (см. таблицу)
             3 + 3 = 6 mod 4 = 2  ✓

 Визуализация:                   Нейтральный: e = 0
                                 Обратные:
        0                          0⁻¹ = 0  (0+0=0)
     3     1                       1⁻¹ = 3  (1+3=4≡0)
        2                          2⁻¹ = 2  (2+2=4≡0)
                                   3⁻¹ = 1  (3+1=4≡0)
   Сдвиги по кругу из 4 точек

 Генератор: Элемент g, степени которого дают всю группу.
            В ℤ/4: g = 1, потому что 1, 1+1=2, 1+1+1=3, 1+1+1+1=0
            Также g = 3 подходит: 3, 3+3=2, 3+3+3=1, 3+3+3+3=0
            Но g = 2 не подходит: 2, 2+2=0, 2+2+2=2, ... (не все элементы)


 Пример 3: Симметрии равностороннего треугольника D₃


 Симметрии треугольника — все способы положить его "тем же образом":

         1
        /\              Повороты:   e  = не вращать
       /  \                         r  = на 120° против часовой
      /    \                        r² = на 240° (= r∘r)
     /______\
    3        2          Отражения:  s₁ = относительно высоты из 1
                                    s₂ = относительно высоты из 2
                                    s₃ = относительно высоты из 3

 Всего 6 элементов: D₃ = {e, r, r², s₁, s₂, s₃}

     Таблица Кэли (композиция: сначала столбец, потом строка):

       ∘   |  e    r    r²   s₁   s₂   s₃
     ------+------------------------------
       e   |  e    r    r²   s₁   s₂   s₃
       r   |  r    r²   e    s₃   s₁   s₂
       r²  |  r²   e    r    s₂   s₃   s₁
       s₁  |  s₁   s₂   s₃   e    r    r²
       s₂  |  s₂   s₃   s₁   r²   e    r
       s₃  |  s₃   s₁   s₂   r    r²   e

 Наблюдения:
   • r ∘ s₁ = s₃,  но  s₁ ∘ r = s₂  →  неабелева
   • Подгруппа поворотов {e, r, r²} ≅ ℤ/3 — абелева
   • Каждое отражение: sᵢ² = e (применить дважды = ничего)

 Физический смысл: D₃ описывает симметрию молекулы с треугольной структурой
                   (например, BF₃ — трифторид бора)


 Пример 4: Группы перестановок Sₙ


 Sₙ = все перестановки n элементов
 |Sₙ| = n! элементов

 Пример: S₃ — все перестановки {1, 2, 3}

   Обозначение:  σ = (σ(1), σ(2), σ(3))

     e   = (1, 2, 3)  — тождественная перестановка
     σ₁  = (1, 3, 2)  — меняет местами 2 и 3
     σ₂  = (3, 2, 1)  — меняет местами 1 и 3
     σ₃  = (2, 1, 3)  — меняет местами 1 и 2
     σ₄  = (2, 3, 1)  — циклический сдвиг 1→2→3→1
     σ₅  = (3, 1, 2)  — циклический сдвиг 1→3→2→1

 Композиция: (σ ∘ τ)(x) = σ(τ(x))  — сначала τ, потом σ

 Цикловая запись (более компактная):
   σ₃ = (1 2) — транспозиция (меняет 1↔2, остальные на месте)
   σ₄ = (1 2 3) — 3-цикл (1→2, 2→3, 3→1)

 Факт: S₃ ≅ D₃ (группа перестановок 3 элементов изоморфна симметриям △)

 Критически важно:
   S₅ — неразрешимая группа (её нормальный ряд не достигает {e}
   через абелевы факторы). По теореме Абеля-Руффини это означает,
   что уравнение 5-й степени не решается в радикалах.


 Пример 5: Ненулевые действительные числа (ℝ*, ×)


 Множество: ℝ* = ℝ \ {0} = все действительные, кроме нуля
 Операция:  умножение ×

 Проверка аксиом:

   G1. Замкнутость:   a × b ∈ ℝ* для a, b ≠ 0                    ✓
                      (произведение ненулевых ненулевое)

   G2. Ассоциативность: (a×b)×c = a×(b×c)                         ✓

   G3. Нейтральный:   e = 1,  потому что a × 1 = 1 × a = a       ✓

   G4. Обратный:      a⁻¹ = 1/a,  потому что a × (1/a) = 1       ✓
                      (вот почему 0 исключён — у него нет обратного)

 Почему (ℝ, ×) не группа:
   × (что угодно) = 0,  но 0 × ? = 1 не имеет решения.
   У нуля нет обратного элемента.


 Что не является группой — контрпримеры

+-----------------+-----------------------+--------------------+
| СТРУКТУРА       | Почему не группа      | Как исправить      |
+-----------------+-----------------------+--------------------+
|                 |                       |                    |
| (ℕ, +)          | Нет обратных:         | → (ℤ, +) добавить  |
| натуральные     | 3 + ? = 0 не решается | отрицательные      |
|                 |                       |                    |
+-----------------+-----------------------+--------------------+
|                 |                       |                    |
| (ℤ, ×)          | Обратные не целые:    | → (ℚ*, ×) перейти  |
| целые           | 2⁻¹ = ½ ∉ ℤ           | к рациональным     |
|                 |                       |                    |
+-----------------+-----------------------+--------------------+
|                 |                       |                    |
| (ℝ, ×)          | 0 не имеет обратного  | → (ℝ*, ×) убрать 0 |
| действительные  | 0 × ? = 1 не решается |                    |
|                 |                       |                    |
+-----------------+-----------------------+--------------------+
|                 |                       |                    |
| Матрицы n×n с × | det=0 → нет обратной  | → GL(n) только     |
|                 |                       | обратимые (det≠0)  |
|                 |                       |                    |
+-----------------+-----------------------+--------------------+

===============================================================================
Подгруппы
===============================================================================

 Определение:
 H ≤ G называется подгруппой G (обозначение ≤, а не ⊆), если H — группа
 относительно той же операции (наследованной от G).

 Обозначение H ≤ G стандартно для подгрупп, H ⊆ G — для подмножеств.

 Критерий подгруппы (удобный для проверки):

   +-----------------------------------------+
   | H ≤ G  ⟺  H ≠ ∅  и  ∀a,b ∈ H: a·b⁻¹ ∈ H |
   +-----------------------------------------+

 (Одно условие вместо четырёх аксиом)

 Почему работает:
   • H ≠ ∅ ⇒ ∃a ∈ H ⇒ a·a⁻¹ = e ∈ H  (нейтральный есть)
   • e ∈ H ⇒ e·b⁻¹ = b⁻¹ ∈ H  (обратные есть)
   • a, b⁻¹ ∈ H ⇒ a·(b⁻¹)⁻¹ = a·b ∈ H  (замкнутость)

-------------------------------------------------------------------------------
 Примеры подгрупп
-------------------------------------------------------------------------------

   Группа              подгруппа                    обозначение
-------------------------------------------------------------------------------
   (ℤ, +)              Чётные числа 2ℤ               2ℤ &lt; ℤ
                       Кратные 3: 3ℤ                 3ℤ &lt; ℤ
                       Кратные n: nℤ                 nℤ &lt; ℤ

   (ℝ*, ×)             Положительные ℝ⁺              ℝ⁺ &lt; ℝ*
                       {1, −1}                       {±1} &lt; ℝ*

   D₄ (симметрии □)    Повороты {e, r, r², r³}       ≅ ℤ/4
                       {e, r²}                       ≅ ℤ/2
                       {e, s} для любого отражения   ≅ ℤ/2

   GL(n) (обратимые    SL(n) = {A : det A = 1}       специальная лин. группа
   матрицы)            O(n) = {A : AᵀA = I}          ортогональная группа
                       SO(n) = O(n) ∩ SL(n)          спец. ортогональная
-------------------------------------------------------------------------------
 Тривиальные подгруппы:
   {e} — тривиальная подгруппа (есть в любой группе)
   G — сама группа (несобственная подгруппа)

-------------------------------------------------------------------------------
 Теорема Лагранжа
-------------------------------------------------------------------------------

   +---------------------------------------------------------------------+
   |  Если G — конечная группа и H — подгруппа G, то:                    |
   |                                                                     |
   |              |H| делит |G|                                          |
   |                                                                     |
   |  Более того: |G| = |H| × [G : H], где [G : H] — индекс подгруппы   |
   +---------------------------------------------------------------------+

 Следствия:

   • Порядок элемента делит порядок группы
     (порядок элемента a = наименьшее n: aⁿ = e)

   • Группа простого порядка p — циклическая
     (других подгрупп, кроме {e} и G, нет)

   • В S₄ (24 элемента) подгруппы могут иметь порядок
     1, 2, 3, 4, 6, 8, 12, 24 (делители 24)
     Подгруппы порядка 5 или 7 невозможны


===============================================================================
Гомоморфизмы и изоморфизмы
===============================================================================

 Гомоморфизм — отображение, сохраняющее структуру


 Отображение φ: G → H называется гомоморфизмом групп, если:

   +---------------------------------------------+
   | ∀a, b ∈ G:   φ(a · b) = φ(a) ∗ φ(b)         |
   |                                             |
   | "Образ произведения = произведение образов" |
   +---------------------------------------------+

 Свойства (следуют автоматически):
   • φ(eG) = eH            (образ нейтрального — нейтральный)
   • φ(a⁻¹) = φ(a)⁻¹       (образ обратного — обратный)

 Примеры гомоморфизмов:
 +-------------------------+-------------------------------------+
 | ГОМОМОРФИЗМ             | ПРОВЕРКА: φ(a·b) = φ(a)*φ(b)        |
 +-------------------------+-------------------------------------+
 | exp: (ℝ,+) → (ℝ⁺,×)     | exp(a+b) = exp(a)×exp(b) ✓          |
 | det: (GL(n),×) → (ℝ*,×) | det(AB) = det(A)×det(B) ✓           |
 | sign: (Sₙ,∘) → ({±1},×) | sign(σ∘τ) = sign(σ)×sign(τ) ✓       |
 | mod n: (ℤ,+) → (ℤ/n,+)  | (a+b) mod n = (a mod n)+(b mod n) ✓ |
 +-------------------------+-------------------------------------+

-------------------------------------------------------------------------------
 Ядро и образ
-------------------------------------------------------------------------------

 Для гомоморфизма φ: G → H:

 +---------+------------------------+------------------------+
 | ПОНЯТИЕ | ОПРЕДЕЛЕНИЕ            | СВОЙСТВА               |
 +---------+------------------------+------------------------+
 | Ker(φ)  | {a ∈ G : φ(a) = eH}    | Нормальная подгруппа G |
 | (ядро)  | Что переходит в нейтр. | φ инъект. ⟺ Ker={e}    |
 +---------+------------------------+------------------------+
 | Im(φ)   | {φ(a) : a ∈ G} ⊆ H     | Подгруппа H            |
 | (образ) | Куда попадает G        | φ сюръект. ⟺ Im=H      |
 +---------+------------------------+------------------------+

 Пример: φ: ℤ → ℤ/6,  φ(k) = k mod 6
   Ker(φ) = 6ℤ = {..., −12, −6, 0, 6, 12, ...}
   Im(φ)  = ℤ/6 = {0, 1, 2, 3, 4, 5}

-------------------------------------------------------------------------------
 ★ Первая теорема об изоморфизме — фундаментальный результат
-------------------------------------------------------------------------------

 Теорема: Для любого гомоморфизма φ: G → H выполняется:

                        G / Ker(φ)  ≅  Im(φ)

 Геометрическая интуиция:

        G                           H
   +-------------+             +-------------+
   |  ○ ○ ○ ○    |     φ       |             |
   |  | | | |    | ---------▶  |   ●   ●     |   Im(φ) — куда попали
   |  ○ ○ ○ ○    |             |   |   |     |
   |  | | | |    |             |   ●   ●     |
   |  ○ ○ ○ ○    |             |             |
   +-------------+             +-------------+
       ↓
   Склеиваем элементы
   с одинаковым образом
       ↓
   +---------+
   |  ◉   ◉  |  G/Ker(φ)  — классы смежности
   |  ◉   ◉  |  (элементы, переходящие в одну точку, склеены)
   +---------+

 Смысл: "Факторизация по ядру убирает всё лишнее и оставляет только образ"

 Факторгруппа G/H — это фактор-множество G/∼, где
 отношение эквивалентности ∼ определено как g₁ ∼ g₂ ⟺ g₁g₂⁻¹ ∈ H.
 Ключевое условие: чтобы на G/∼ корректно определить групповую операцию,
 подгруппа H должна быть нормальной (gHg⁻¹ = H для всех g ∈ G).

 Пример: φ: ℤ → ℤ/6,  k ↦ k mod 6

   Ker(φ) = 6ℤ = {..., -6, 0, 6, 12, ...}
   Im(φ)  = ℤ/6

   Теорема: ℤ / 6ℤ ≅ ℤ/6  ✓
            (факторгруппа по ядру изоморфна образу)


 Изоморфизм — когда группы "одинаковые"


 Изоморфизм φ: G → H — гомоморфизм + биекция. Пишем G ≅ H.
 "G и H — одна группа, различаются только именами элементов"

 +-------------------+--------------------+--------------------------+
 | ИЗОМОРФИЗМ        | ОТОБРАЖЕНИЕ        | ПОЧЕМУ РАБОТАЕТ          |
 +-------------------+--------------------+--------------------------+
 | (ℤ, +) ≅ (2ℤ, +)  | φ(n) = 2n          | Чётные ↔ все целые       |
 | (ℝ, +) ≅ (ℝ⁺, ×)  | φ = exp, φ⁻¹ = ln  | Сложение ↔ умножение     |
 | ℤ/6 ≅ ℤ/2 × ℤ/3   | k ↦ (k mod2, mod3) | Китайская т. об остатках |
 | S¹ ≅ U(1) ≅ SO(2) | eiθ ↔ поворот на θ | Окружность ≅ вращения    |
 +-------------------+--------------------+--------------------------+

   ℤ/2 ≅ {±1}                         (два элемента, одна структура)
        φ(0) = 1,  φ(1) = −1

   S₃ ≅ D₃                            (6 элементов, симметрии △)

 Неизоморфные:

   ℤ/4 ≇ ℤ/2 × ℤ/2                   (разная структура)
        В ℤ/4 есть элемент порядка 4 (генератор).
        В ℤ/2 × ℤ/2 все элементы порядка ≤ 2.


===============================================================================
Группы в физике и жизни
===============================================================================

 Применения групп
+-----------------------+-------------------+----------------------------------+
| ОБЛАСТЬ               | ГРУППА            | ЧТО ОПИСЫВАЕТ                    |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Кристаллография       | 230 простр. групп | Все симметрии кристаллов         |
|                       |                   | NaCl: куб. симм. → оптика        |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Стандартная модель    | U(1)              | Электромагнетизм (фаза)          |
| физики частиц         | SU(2)             | Слабое взаимодействие            |
|                       | SU(3)             | Сильное взаимодействие (кварки)  |
|                       | U(1)×SU(2)×SU(3)  | Вся Стандартная модель           |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Теория относит.       | SO(3,1)           | Лоренц: сохраняет скорость света |
|                       |                   | 3 простр. + 1 время              |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Квант. механика       | SU(2)             | Спин частицы                     |
|                       |                   | e⁻: спин ½ → поворот 720°.       |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Музыка                | ℤ/12              | 12 полутонов, транспонирование   |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Криптография          | (ℤ/n)*            | RSA: мультипл. группа            |
|                       | Эллипт. кривые    | Группы точек на кривых           |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| теплофизика           | Группа подобия    | Размерный анализ = Группы Ли.    |
| (пример для инженера) | (масштабирование) |                                  |
|                       |                   | Поиск формулы Nu = f(Re, Pr)     |
|                       |                   | = выбор орбиты группы Ли по      |
|                       |                   | значениям инвариантов (Re, Pr)   |
|                       |                   |                                  |
|                       |                   | Физ.величины (α, λ, v, L) —      |
|                       |                   | координаты на многообразии,      |
|                       |                   | симметричном относительно        |
|                       |                   | действия группы масштабирования  |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+
|                       |                   |                                  |
| Комбинаторика         | Любая G           | Подсчёт "с точностью до симм."   |
|                       |                   | Лемма Бёрнсайда                  |
|                       |                   |                                  |
+-----------------------+-------------------+----------------------------------+

 Теоремы Силова — структура конечных групп

 Пусть |G| = pⁿ·m, где p простое и gcd(p, m) = 1.

 Силов-подгруппа: подгруппа порядка pⁿ (максимальная p-степень)

-------------------------------------------------------------------------------
 Теорема 1: Силов-подгруппа существует
-------------------------------------------------------------------------------
   Для любого простого p, делящего |G|, существует подгруппа порядка pⁿ.

-------------------------------------------------------------------------------
 Теорема 2: Все Силов-подгруппы сопряжены
-------------------------------------------------------------------------------
   Любые две p-Силов-подгруппы P и Q связаны: Q = gPg⁻¹ для некоторого g.

-------------------------------------------------------------------------------
 Теорема 3: Число Силов-подгрупп nₚ удовлетворяет
-------------------------------------------------------------------------------
   • nₚ ≡ 1 (mod p)
   • nₚ делит m = |G|/pⁿ

 Применение — классификация малых групп:

   |G| = 15 = 3·5:  n₃ | 5 и n₃ ≡ 1 (mod 3) ⇒ n₃ = 1
                    n₅ | 3 и n₅ ≡ 1 (mod 5) ⇒ n₅ = 1
                    Единственные Силов-подгруппы ⇒ нормальны ⇒ G ≅ ℤ₁₅

   Теоремы Силова — мощный инструмент: из размера группы можно вывести
   её структуру.


 Куда ведёт — связь с другими разделами
+----------------------+---------------+------------------------------+
| НАПРАВЛЕНИЕ          | СВЯЗЬ         | ИДЕЯ                         |
+----------------------+---------------+------------------------------+
|                      |               |                              |
| Группы Ли            | → (многообр.) | Группа + гладкая структура   |
|                      |               | SO(3), SU(2), GL(n)          |
|                      |               |                              |
+----------------------+---------------+------------------------------+
|                      |               |                              |
| Теория представлений | → (лин.алг.)  | g ↦ матрица ρ(g)             |
|                      |               | Группа через лин. алгебру    |
|                      |               |                              |
+----------------------+---------------+------------------------------+
|                      |               |                              |
| Теорема Нётер        | → (ДУ)        | Симметрия → закон сохранения |
|                      |               | Сдвиг t → энергия            |
|                      |               | Поворот → момент импульса    |
|                      |               |                              |
+----------------------+---------------+------------------------------+
|                      |               |                              |
| Фунд. группа π₁      | → (топология) | Петли образуют группу        |
|                      |               | Классификация пространств    |
|                      |               |                              |
+----------------------+---------------+------------------------------+

-------------------------------------------------------------------------------
Резюме: иерархия алгебраических структур
-------------------------------------------------------------------------------

 От простого к сложному


   Множество
       |
       | + одна операция + аксиомы группы
       ↓
   Группа (G, ·)
       |
       | + коммутативность
       ↓
   Абелева группа
       |
       | + вторая операция с дистрибутивностью
       ↓
   Кольцо (R, +, ×)
       |
       | + обратные для ×
       ↓
   Поле (F, +, ×) ← умножение коммутативно

       Важно: Поле = коммутативное умножение (ab = ba).
       Если убрать коммутативность ⇒ Тело (Division Ring).
       Пример тела: Кватернионы ℍ (ij ≠ ji).

   Далее — другой тип объекта (не «частный случай поля»,
   а новое множество V с действием поля F на него):

   Множество V + поле F + сложение в V + умножение на скаляры из F
       ↓
   Векторное пространство (V над F)
       |
       | + норма ‖·‖
       ↓
   Нормированное пространство
       |
       | + полнота (все пределы существуют)
       ↓
   Банахово пространство
       |
       | + скалярное произведение (‖x‖² = ⟨x,x⟩)
       ↓
   Гильбертово пространство

 Каждый уровень наследует структуру от предыдущего + добавляет новое.

-------------------------------------------------------------------------------
 Главная мысль
-------------------------------------------------------------------------------

   Группа = минимальная структура для описания симметрий.

   Если можешь:
     • Комбинировать преобразования (композиция)
     • Ничего не делать (нейтральный)
     • Отменять действия (обратный)

   — у нас группа.

   Симметрии объекта определяют его свойства.
   Группа симметрий — это "ДНК" объекта.

-------------------------------------------------------------------------------
 Прикладной пример: балансировка ротора турбины
-------------------------------------------------------------------------------

 Задача: Ротор турбины с 6 лопатками. При вращении возникает вибрация.
 Нужно понять, какие дефекты лопаток вызывают какие частоты вибрации.

                     ●
                    /|\        Группа симметрий ротора:
                  ╱  |  ╲      C₆ = {e, r, r², r³, r⁴, r⁵}
                ●    |    ●    где r = поворот на 60°
                |    ○    |
                ●    |    ●    Это циклическая группа порядка 6
                  ╲  |  ╱
                    \|/
                     ●

 Ключевой факт: Вибрация ротора раскладывается по представлениям группы C₆

 +-----------------+---------------------+---------------------------------+
 | ПРЕДСТАВЛЕНИЕ   | ФИЗИЧЕСКИЙ СМЫСЛ    | ЧАСТОТА ВИБРАЦИИ                |
 +-----------------+---------------------+---------------------------------+
 | Тривиальное     | Все лопатки одинак. | Нет вибрации (идеальный баланс) |
 | (симметричное)  | отклонены           |                                 |
 +-----------------+---------------------+---------------------------------+
 | Знакопеременное | Чередование ±       | f = 3 × об/с (3-кратная)        |
 |                 | "через одну"        |                                 |
 +-----------------+---------------------+---------------------------------+
 | 2-мерные        | Дисбаланс "волной"  | f = n × об/с (1×, 2×)           |
 | представления   | по окружности       |                                 |
 +-----------------+---------------------+---------------------------------+

 Практическое применение:
   • Если вибрация на частоте 1× об/с → статический дисбаланс (одна лопатка)
   • Если вибрация на частоте 2× об/с → пара противоположных лопаток
   • Если вибрация на частоте 3× об/с → каждая вторая лопатка

 Теория групп позволяет классифицировать типы дисбаланса до измерений

-------------------------------------------------------------------------------
 Ещё пример: трёхфазная электрическая сеть
-------------------------------------------------------------------------------

 Три фазы: A, B, C со сдвигом 120°

 Группа симметрий: C₃ = {e, r, r²} где r = сдвиг фаз на 120°

   • Симметричная нагрузка (все фазы одинаковы) → ток в нейтрали = 0
   • Нарушение симметрии → ток в нейтрали ≠ 0

 Метод симметричных составляющих (Фортескью): разложение несимметричной
 системы на симметричные компоненты — это разложение по представлениям C₃.


===============================================================================
Иерархия алгебраических структур
===============================================================================

-------------------------------------------------------------------------------
 Зачем нужны разные структуры
-------------------------------------------------------------------------------

 Каждая структура — ответ на вопрос: "Что мы хотим уметь делать?"

   Хотим складывать                    → Полугруппа
   + есть "ноль"                       → Моноид
   + можно вычитать                    → Группа
   + порядок не важен                  → Абелева группа
   + можно умножать                    → Кольцо
   + можно делить (кроме на 0)         → Поле

 Чем больше операций — тем больше можем, но тем меньше примеров.

-------------------------------------------------------------------------------
 Иерархия: что добавляется на каждом шаге
-------------------------------------------------------------------------------

  Полугруппа ------→ моноид ------→ группа ------→ абелева группа
       |                |              |                  |
   ассоциативность  + единица    + обратные      + коммутативность
   a(bc)=(ab)c        a·e=a       a·a⁻¹=e           ab=ba
       |                |              |                  |
   Пример:          Пример:       Пример:           Пример:
   (ℕ⁺, ·)          (ℕ, +, 0)     (ℤ, +, 0)         (ℤ, +)


  Абелева группа ------→ кольцо ------→ поле
         |                   |             |
     (одна операция)   + умножение    + деление
                       дистрибут.      (кроме 0)
                       a(b+c)=ab+ac    a≠0 ⇒ ∃a⁻¹
         |                   |             |
     Пример:             Пример:       Пример:
     (ℤ, +)              (ℤ, +, ×)     (ℚ, +, ×)


 Где встречаются в жизни
+------------+---------------------------------------------------+
| СТРУКТУРА  | ПРИМЕРЫ                                           |
+------------+---------------------------------------------------+
|            |                                                   |
| Полугруппа | Конкатенация строк "abc"+"def"="abcdef"           |
|            | (на самом деле моноид — есть пустая строка "")    |
|            |                                                   |
+------------+---------------------------------------------------+
|            |                                                   |
| Моноид     | (ℕ, +, 0) — натуральные с нулём. Вычитать нельзя. |
|            | Функции с композицией ∘ и единицей id             |
|            |                                                   |
+------------+---------------------------------------------------+
|            |                                                   |
| Группа     | Симметрии (всё можно отменить)                    |
|            | Криптография: эллиптические кривые, RSA           |
|            |                                                   |
+------------+---------------------------------------------------+
|            |                                                   |
| Кольцо     | Многочлены ℤ[x] — можно +,−,×, но не ÷            |
|            | Матрицы n×n — не всякая обратима                  |
|            | Целые ℤ — 5÷2 не целое.                           |
|            |                                                   |
+------------+---------------------------------------------------+
|            |                                                   |
| Поле       | ℚ, ℝ, ℂ — всё можно: +,−,×,÷                      |
|            | Конечные поля 𝔽ₚ — криптография, коды             |
|            |                                                   |
+------------+---------------------------------------------------+

Сводная таблица:
+----------------+--------+---------+----------+-----------+---+---------+
| СТРУКТУРА      | АССОЦ. | ЕДИНИЦА | ОБРАТНЫЕ | КОММУТАТ. | × | ДЕЛЕНИЕ |
+----------------+--------+---------+----------+-----------+---+---------+
| Полугруппа     | ✓      |         |          |           |   |         |
| Моноид         | ✓      | ✓       |          |           |   |         |
| Группа         | ✓      | ✓       | ✓        |           |   |         |
| Абелева группа | ✓      | ✓       | ✓        | ✓         |   |         |
| Кольцо         | ✓      | ✓       | ✓        | (+)       | ✓ |         |
| Поле           | ✓      | ✓       | ✓        | ✓✓        | ✓ | ✓       |
+----------------+--------+---------+----------+-----------+---+---------+

-------------------------------------------------------------------------------
 Почему это важно
-------------------------------------------------------------------------------

 Когда видишь новый объект, спроси: "Какая это структура?"

   • Матрицы — кольцо (умножать можно, делить не всегда)
   • Функции [0,1]→ℝ — векторное пространство (над полем ℝ)
   • Перестановки — группа (всё обратимо)
   • Многочлены — кольцо (или даже алгебра над полем)

 Зная структуру — знаешь, какие теоремы применимы.


===============================================================================
Кольца и поля — арифметика + алгебра
===============================================================================

-------------------------------------------------------------------------------
 Зачем это инженеру?
-------------------------------------------------------------------------------

 Кольца и поля — это не абстракция ради абстракции. Это основа:

   • Криптография: RSA работает в кольце ℤₙ (остатки от деления)
   • Коды ошибок: QR-коды, CD, интернет — поля Галуа GF(2⁸)
   • Дискретная математика: хеш-функции, контрольные суммы
   • Сигналы: Z-преобразование — это кольцо формальных рядов

 Главная идея: иногда нужна арифметика, где числа "заворачиваются"
 (как часы: после 12 идёт 1), или где деление работает иначе.

Группа — это одна операция. Но в арифметике есть две: сложение и умножение.
Как их совместить?

-------------------------------------------------------------------------------
 Кольцо = две связанные операции
-------------------------------------------------------------------------------

 Интуиция: Кольцо — это "арифметика", где можно складывать, вычитать,
 умножать, но не обязательно делить.

 Формально: Кольцо (R, +, ·) — это множество R с двумя операциями:

   • (R, +) — абелева группа (сложение работает как обычно)
   • (R, ·) — моноид (умножение есть, но обратных может не быть)
   • a·(b + c) = a·b + a·c  (дистрибутивность — скобки раскрываются)

 Примеры:

   +-----------------+---------------------------------------+
   | Кольцо          | Почему кольцо, а не поле               |
   +-----------------+---------------------------------------+
   | ℤ (целые)       | 2 не обратим: 1/2 ∉ ℤ                 |
   | ℤₙ (остатки)    | Если n не простое, есть делители нуля |
   | ℤ[x] (многочл.) | x не обратим: 1/x — не многочлен      |
   | Mₙ(ℝ) (матрицы) | Вырожденные матрицы не обратимы       |
   +-----------------+---------------------------------------+

 Делители нуля — странность колец:
   В ℤ₆:  2 · 3 = 6 = 0 (mod 6)
   Оба множителя ненулевые, но произведение = 0.
   Это не бывает в обычных числах — признак "дефекта" структуры.

-------------------------------------------------------------------------------
 Поле = Кольцо, где можно делить
-------------------------------------------------------------------------------

 Интуиция: Поле — это "полноценная арифметика" с делением.
 Всё, чему нас учили в школе про числа — это свойства полей.

 Формально: Поле — кольцо, где каждый a ≠ 0 имеет обратный a⁻¹.

 Примеры полей:
   • ℚ (рациональные) — минимальное поле, содержащее ℤ
   • ℝ (вещественные) — пополнение ℚ
   • ℂ (комплексные) — алгебраически замкнуто
   • ℤₚ при простом p — конечное поле (важно для криптографии)

 Почему ℤₚ — поле при простом p?

   В ℤ₅: элементы {0, 1, 2, 3, 4}

   Обратные: 1⁻¹ = 1,  2⁻¹ = 3 (потому что 2·3 = 6 = 1 mod 5)
             3⁻¹ = 2,  4⁻¹ = 4 (потому что 4·4 = 16 = 1 mod 5)

   Каждый ненулевой элемент обратим. Это поле.

 Почему ℤ₆ — не поле?

   В ℤ₆: 2 · 3 = 0, значит 2 и 3 — делители нуля.
   Делитель нуля не может быть обратим (иначе 0 = 2⁻¹·0 = 2⁻¹·2·3 = 3 ≠ 0).

 Теорема: ℤₙ — поле ⟺ n простое.

-------------------------------------------------------------------------------
 Идеалы — "делимость" в абстрактном кольце
-------------------------------------------------------------------------------

 Интуиция: Идеал — это обобщение понятия "все числа, делящиеся на n".

 В ℤ: множество всех чисел, делящихся на 3 — это {…, -6, -3, 0, 3, 6, …}
      Обозначение: 3ℤ или (3)

 Ключевое свойство: если a делится на 3, то и a·k делится на 3.
 "Делимость впитывает умножение" — это и есть определение идеала.

 Формально: Идеал I ⊂ R — это подмножество, такое что:
   • I — подгруппа по сложению
   • a ∈ I, r ∈ R  ⇒  r·a ∈ I  (умножение на любой элемент оставляет в I)

 Примеры:

   +----------------+----------------------------------------+
   | КОЛЬЦО         | ПРИМЕРЫ ИДЕАЛОВ                        |
   +----------------+----------------------------------------+
   | ℤ              | nℤ = {nk : k ∈ ℤ} — все идеалы такие   |
   | ℝ[x]           | (x² + 1) = все кратные (x² + 1)        |
   | C(X) (функции) | {f : f(x₀) = 0} — функции с нулём в x₀ |
   +----------------+----------------------------------------+

 Зачем идеалы?
   Идеалы позволяют "склеивать" элементы кольца — как нормальные подгруппы
   позволяют склеивать элементы группы. Результат — фактор-кольцо.

-------------------------------------------------------------------------------
 Фактор-кольцо — "арифметика остатков"
-------------------------------------------------------------------------------

 Интуиция: Фактор-кольцо R/I — это "склеивание" элементов, отличающихся
 на элемент из I. Как будто всё из I стало нулём.

 Главный пример:

   ℤ/3ℤ = {0̄, 1̄, 2̄} — остатки от деления на 3

   Здесь 0̄ = {..., -6, -3, 0, 3, 6, ...} (все кратные 3 "склеились" в 0)
         1̄ = {..., -5, -2, 1, 4, 7, ...}
         2̄ = {..., -4, -1, 2, 5, 8, ...}

   Арифметика: 2̄ + 2̄ = 4̄ = 1̄,   2̄ · 2̄ = 4̄ = 1̄

 Более глубокий пример — как построить ℂ:

   Проблема: в ℝ нет корня из -1.
   Решение: ℂ = ℝ[x]/(x² + 1)

   Берём многочлены от x с коэффициентами из ℝ.
   "Склеиваем" все кратные (x² + 1), то есть полагаем x² + 1 = 0.
   Тогда x² = -1, и x играет роль i.

   Элементы: a + bx (старшие степени редуцируются: x² → -1)
   Это в точности комплексные числа a + bi.

-------------------------------------------------------------------------------
 Конечные поля — криптография и коды
-------------------------------------------------------------------------------

 Теорема: Конечное поле существует тогда и только тогда, когда число
 элементов = pⁿ (степень простого). Обозначение: GF(pⁿ) или 𝔽_{pⁿ}.

   • GF(2) = {0, 1} — двоичная арифметика (XOR = сложение)
   • GF(2⁸) = 256 элементов — используется в AES, QR-кодах
   • GF(p) = ℤₚ — простейшие конечные поля

 Пример: GF(4) — поле из 4 элементов

   Нельзя просто взять ℤ₄ — там 2·2 = 0, делители нуля.

   Правильная конструкция: GF(4) = GF(2)[x]/(x² + x + 1)
   Элементы: {0, 1, x, x+1} с арифметикой mod 2 и mod (x² + x + 1)

   Таблица умножения:
   +---+---+---+---+-------+------+
   | · | 0 |   1   |   x   |  x+1 |
   +---+---+---+---+-------+------+
   | 0 | 0 |   0   |   0   |   0  |
   | 1 | 0 |   1   |   x   |  x+1 |
   | x | 0 |   x   |  x+1  |   1  |   ← x² = x+1 (из x²+x+1=0)
   |x+1| 0 |  x+1  |   1   |   x  |
   +---+---+-------+-------+------+

 Применение: Reed-Solomon коды (CD, DVD, QR) работают над GF(2⁸).
 Это позволяет исправлять ошибки математически точно.

-------------------------------------------------------------------------------
 Иерархия: от множества к полю
-------------------------------------------------------------------------------

         Множество (просто элементы)
              |
              ▼ + одна операция
         Полугруппа (ассоциативность)
              |
              ▼ + нейтральный элемент
          Моноид
              |
              ▼ + обратные элементы
          Группа
              |
              ▼ + коммутативность
       Абелева группа
              |
              ▼ + вторая операция (умножение) + дистрибутивность
          Кольцо (ℤ, ℤ[x], матрицы)
              |
              ▼ + нет делителей нуля
     Область целостности (ℤ)
              |
              ▼ + каждый ненулевой обратим
           Поле (ℚ, ℝ, ℂ, ℤₚ)

 На каждом шаге добавляется свойство → структура становится "лучше".
 Поле — самая "хорошая" арифметическая структура.


===============================================================================
Теория чисел — арифметика как структура
===============================================================================

 Теория чисел как взгляд на пространство


 Числа — это не просто объекты для вычислений. Числа образуют пространства
 с богатой структурой.

 +-------------------+------------------------+----------------------------+
 | ПРОСТРАНСТВО      | СТРУКТУРА              | ЧТО ИЗУЧАЕМ                |
 +-------------------+------------------------+----------------------------+
 | ℤ                 | Кольцо (+ и ×)         | Делимость, простые числа   |
 |                   | + порядок              |                            |
 +-------------------+------------------------+----------------------------+
 | ℤₙ = ℤ/nℤ          | Конечное кольцо        | Модулярная арифметика      |
 | (остатки mod n)   | При n=p — поле.        | Криптография               |
 +-------------------+------------------------+----------------------------+
 | ℚₚ (p-адические)  | Поле с ультраметрикой  | Локальный анализ           |
 |                   | |x+y|ₚ ≤ max(|x|ₚ,|y|ₚ)| Диофантовы уравнения       |
 +-------------------+------------------------+----------------------------+
 | ℤ[i] (Гауссовы)   | Кольцо в ℂ             | Суммы двух квадратов       |
 |                   | Евклидово              |                            |
 +-------------------+------------------------+----------------------------+

 Ключевая идея: Одно и то же число можно рассматривать в разных пространствах

   Число 7:
     • В ℤ: простое, неразложимо
     • В ℤ₇: нуль (7 ≡ 0 mod 7)
     • В ℤ[i]: всё ещё простое (7 ≡ 3 mod 4, не сумма двух квадратов)
     • В ℤ[√-5]: остаётся простым

   Число 6 в ℤ[√-5]: два разных разложения.
     = 2 · 3 = (1+√-5)(1-√-5)
     Это показывает, что в ℤ[√-5] нет единственности разложения.

 Теория чисел изучает, как арифметические свойства зависят от
 алгебраической структуры пространства.


Теория чисел изучает свойства целых чисел. Это одна из древнейших областей
математики, но она связана с самыми современными: криптографией, алгебраической
геометрией, теорией представлений.

-------------------------------------------------------------------------------
 Делимость — базовые понятия
-------------------------------------------------------------------------------

 a | b  означает  "a делит b"  ⟺  ∃k ∈ ℤ: b = a·k

 +-------------------+---------------------------------------------------+
 | ПОНЯТИЕ           | ОПРЕДЕЛЕНИЕ                                       |
 +-------------------+---------------------------------------------------+
 | НОД(a,b) = gcd    | Наибольший общий делитель                         |
 |                   | max{d : d|a и d|b}                                |
 +-------------------+---------------------------------------------------+
 | НОК(a,b) = lcm    | Наименьшее общее кратное                          |
 |                   | min{m &gt; 0 : a|m и b|m}                          |
 +-------------------+---------------------------------------------------+
 | Взаимно простые   | gcd(a,b) = 1                                      |
 +-------------------+---------------------------------------------------+
 | Простое число p   | p &gt; 1, делители только 1 и p                    |
 +-------------------+---------------------------------------------------+

 Ключевое соотношение:  gcd(a,b) · lcm(a,b) = a · b

-------------------------------------------------------------------------------
 Основная теорема арифметики
-------------------------------------------------------------------------------

 Каждое натуральное число n &gt; 1 единственным образом (с точностью до
 порядка) раскладывается в произведение простых:

   n = p₁^{a₁} · p₂^{a₂} · ... · pₖ^{aₖ}

 +---------------------+
 | Примеры:            |
 | 60 = 2² · 3 · 5     |
 | 100 = 2² · 5²       |
 | 2024 = 2³ · 11 · 23 |
 +---------------------+

 Следствия:

 +--------------------+--------------------------------------------------+
 | ОПЕРАЦИЯ           | ЧЕРЕЗ РАЗЛОЖЕНИЕ                                 |
 +--------------------+--------------------------------------------------+
 | gcd(a,b)           | Произведение p^{min(aₚ, bₚ)} по всем p           |
 | lcm(a,b)           | Произведение p^{max(aₚ, bₚ)} по всем p           |
 | a | b              | aₚ ≤ bₚ для всех p                               |
 | Число делителей    | (a₁+1)(a₂+1).(aₖ+1)                            |
 +--------------------+--------------------------------------------------+

 Аналогия с векторами:
   Число n ↔ вектор (a₁, a₂, a₃, ...) — показатели степеней простых
   Умножение ↔ сложение векторов
   gcd ↔ покомпонентный min
   lcm ↔ покомпонентный max

-------------------------------------------------------------------------------
 Сравнения по модулю — арифметика остатков
-------------------------------------------------------------------------------

 a ≡ b (mod n)  означает  n | (a − b)  ⟺  a и b дают одинаковый остаток

 +----------------------------------------------------------------------+
 | СВОЙСТВА (сравнения можно складывать, умножать, возводить в степень) |
 +----------------------------------------------------------------------+
 | a ≡ b, c ≡ d  ⇒  a + c ≡ b + d (mod n)                               |
 | a ≡ b, c ≡ d  ⇒  a · c ≡ b · d (mod n)                               |
 | a ≡ b         ⇒  aᵏ ≡ bᵏ (mod n)                                     |
 +----------------------------------------------------------------------+

 Кольцо ℤₙ = {0, 1, 2, ..., n−1} с операциями mod n

 +-------------+----------------------------------------------------+
 | n           | структура ℤₙ                                       |
 +-------------+----------------------------------------------------+
 | n = p       | Поле. Каждый ненулевой элемент обратим.            |
 | (простое)   | Пример: ℤ₅, где 2·3 = 6 ≡ 1, так что 2⁻¹ = 3       |
 +-------------+----------------------------------------------------+
 | n = pᵏ      | Локальное кольцо (единственный максимальный идеал) |
 +-------------+----------------------------------------------------+
 | n = p·q     | Есть делители нуля. В ℤ₆: 2·3 = 0                  |
 | (составное) | Но по КТО: ℤₙ ≅ ℤₚ × ℤ_q если gcd(p,q)=1            |
 +-------------+----------------------------------------------------+

 КТО (Китайская теорема об остатках):
   Если gcd(m,n) = 1, то ℤₘₙ ≅ ℤₘ × ℤₙ
   Практически: система x ≡ a (mod m), x ≡ b (mod n) имеет единств. решение

-------------------------------------------------------------------------------
 Малая теорема Ферма и функция Эйлера
-------------------------------------------------------------------------------

 φ(n) = функция Эйлера = количество чисел от 1 до n, взаимно простых с n

 +-------------+----------------+----------------------------------------+
 | n           | φ(n)           | ФОРМУЛА                                |
 +-------------+----------------+----------------------------------------+
 | p (простое) | p − 1          | Все кроме 0 взаимно просты с p         |
 | pᵏ          | pᵏ − pᵏ⁻¹      | = pᵏ(1 − 1/p)                          |
 | m·n         | φ(m)·φ(n)      | если gcd(m,n) = 1 (мультипликативна)   |
 | общий вид   | n∏(1 − 1/p)    | произведение по всем простым p | n     |
 +-------------+----------------+----------------------------------------+

 Теоремы:
 +---------------------+--------------------------------------+
 | Малая теорема Ферма | aᵖ ≡ a (mod p) для любого a          |
 | (p простое)         | Если gcd(a,p)=1: aᵖ⁻¹ ≡ 1 (mod p)    |
 +---------------------+--------------------------------------+
 | Теорема Эйлера      | a^{φ(n)} ≡ 1 (mod n) если gcd(a,n)=1 |
 | (обобщение)         | Это обобщение Ферма на составные n   |
 +---------------------+--------------------------------------+

 Применение — RSA криптография:
   Выбираем большие простые p, q. Пусть n = p·q, φ(n) = (p−1)(q−1).
   Выбираем e взаимно простое с φ(n), находим d: e·d ≡ 1 (mod φ(n)).
   Шифруем: c = mᵉ mod n. Расшифровываем: m = cᵈ mod n.
   Работает по теореме Эйлера: m^{ed} = m^{1 + kφ(n)} ≡ m (mod n).

-------------------------------------------------------------------------------
 P-адические числа — альтернативное пополнение ℚ
-------------------------------------------------------------------------------

 ℝ — это пополнение ℚ по обычной метрике |x − y|.
 Но есть другие метрики на ℚ.

 p-адическая норма:
   |x|ₚ = p^{−vₚ(x)}, где vₚ(x) = степень p в разложении x

 +-------------------------------------------------------------------------+
 | Примеры (p = 5):                                                        |
 |   |25|₅ = 5⁻² = 1/25    (25 = 5², много пятёрок → малая норма)          |
 |   |1/5|₅ = 5¹ = 5       (мало пятёрок в числителе)                      |
 |   |7|₅ = 5⁰ = 1         (нет пятёрок вообще)                            |
 |   |0|₅ = 0                                                              |
 +-------------------------------------------------------------------------+

 +--------------------+--------------------+-----------------------------+
 | СВОЙСТВО           | ОБЫЧНАЯ НОРМА |·|  | p-АДИЧЕСКАЯ |·|ₚ            |
 +--------------------+--------------------+-----------------------------+
 | Большие числа      | Далеко от 0        | Могут быть близко к 0!      |
 | Треугольник        | |x+y| ≤ |x|+|y|    | |x+y|ₚ ≤ max(|x|ₚ,|y|ₚ)      |
 |                    |                    | (Ультраметрика — сильнее)  |
 | Пополнение         | ℝ                  | ℚₚ (p-адические числа)       |
 | Алг. замыкание     | ℂ (dim 2 над ℝ)    | ℂₚ (бесконечномерно)        |
 +--------------------+--------------------+-----------------------------+

 Зачем это нужно:
   • Локально-глобальный принцип: уравнение имеет решение в ℚ ⟺
     имеет решение в ℝ и во всех ℚₚ (с оговорками)
   • Современная алгебраическая геометрия работает над всеми этими полями
   • Теория чисел: многие задачи проще решать "локально" в ℚₚ


 Связь с другими разделами
 +--------------------+----------------------------------------------+
 | РАЗДЕЛ             | СВЯЗЬ С ТЕОРИЕЙ ЧИСЕЛ                        |
 +--------------------+----------------------------------------------+
 | Группы             | (ℤ/nℤ)* — группа обратимых элементов         |
 |                    | Порядок = φ(n), теорема Лагранжа → Эйлер     |
 +--------------------+----------------------------------------------+
 | Кольца             | ℤ — главное кольцо идеалов                   |
 |                    | Идеал (n) = nℤ, факторкольцо = ℤₙ            |
 +--------------------+----------------------------------------------+
 | Поля               | ℤₚ — конечное поле, расширения → код. теория |
 |                    | ℚₚ — локальное поле для арифм. геометрии     |
 +--------------------+----------------------------------------------+
 | Топология          | ℤₚ = lim ℤ/pⁿℤ — проективный предел           |
 |                    | Топология на ℤₚ: база = классы mod pⁿ        |
 +--------------------+----------------------------------------------+
 | Комплексный анализ | ζ(s) = Σ n⁻ˢ — дзета-функция Римана          |
 |                    | Связывает простые числа и комплексный анализ |
 +--------------------+----------------------------------------------+


 Теория Галуа — почему нет формулы для корней 5-й степени


 Квадратное уравнение решается формулой (известно ~2000 лет).
 Кубическое и четвёртой степени — тоже (Кардано, Феррари, XVI век).
 Для пятой степени Абель (1824) доказал: общей формулы нет.
 Галуа (1832) объяснил почему — и создал теорию групп.

 Ключевая идея:
   Каждому многочлену p(x) соответствует группа Gal(p) — группа
   перестановок корней, сохраняющих все алгебраические соотношения.

 Теорема Галуа:
   Многочлен разрешим в радикалах (корни выражаются через +, −, ×, ÷, √)
   тогда и только тогда, когда его группа Галуа разрешима.

 Почему это работает:
   Извлечение корня √ⁿ добавляет «слой» симметрии — циклическую группу ℤ/nℤ.
   Разрешимая группа = можно разложить в «башню» циклических подгрупп.
   Симметрическая группа S₅ — не разрешима (содержит простую группу A₅).
   Поэтому общий многочлен 5-й степени не разрешим в радикалах.

 Соответствие Галуа:

 +---------------------------+---------------------------+
 | ПОДГРУППЫ Gal(p)          | ПРОМЕЖУТОЧНЫЕ ПОЛЯ        |
 +---------------------------+---------------------------+
 | Gal(p)                    | ℚ (базовое поле)          |
 | {e} (тривиальная)         | Поле разложения           |
 | Нормальная подгруппа H ◁ G | Нормальное расширение     |
 +---------------------------+---------------------------+

 Этот биективный «словарь» между группами и полями — одна из самых
 глубоких идей математики: задача об уравнениях решается через симметрии.


===============================================================================
Таблица групп — систематика симметрий
===============================================================================

 Группа = симметрии объекта
 Задача: классифицировать группы и их связи

 Иерархия групп


                     Все группы
                    /          \
           Конечные бесконечные
          /        \            /           \
     Абелевы    Неабелевы   Дискретные    Непрерывные
        |           |           |         (группы Ли)
     ℤ/n, ...   Sₙ, Dₙ, ...   ℤ, Fₙ, ...    |
                                         Компактные / Некомпактные
                                             |              |
                                        SO(n), SU(n)    ℝⁿ, GL(n)


Конечные группы — полная классификация существует

+-----------+---------+-----------------------------------------------+
| ГРУППА    | ПОРЯДОК | ЧТО ЭТО ГЕОМЕТРИЧЕСКИ / СВЯЗИ                 |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| {e}       | 1       | Тривиальная: "ничего не делать"               |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| ℤ/n       | n       | Циклическая: вращения n-угольника             |
|           |         | ≅ корни из 1: {1, ω, ω², ...}, ω = e^(2πi/n)  |
|           |         | Абелева. ℤ/p (p простое) — простейшие "атомы" |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| ℤ/2 × ℤ/2 | 4       | Группа Клейна: симметрии прямоугольника       |
| (четвёрка |         | не циклическая. (нет элемента порядка 4)      |
| Клейна)   |         |                                               |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| Dₙ        | 2n      | Диэдральная: вращения + отражения n-угольника |
|           |         | D₃ ≅ S₃ (единственный случай)                |
|           |         | Неабелева при n ≥ 3                           |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| Sₙ        | n!      | Симметрическая: все перестановки n элементов  |
|           |         | Любая конечная группа ⊂ Sₙ (теорема Кэли)     |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| Aₙ        | n!/2    | Знакопеременная: чётные перестановки          |
|           |         | A₅ — простейшая неабелева простая группа      |
|           |         | A₅ ≅ симметрии икосаэдра                      |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+
|           |         |                                               |
| Q₈        | 8       | Кватернионная: {±1, ±i, ±j, ±k}               |
|           |         | Неабелева, но все подгруппы нормальны         |
|           |         | Связь с вращениями в 3D (см. кватернионы)     |
|           |         |                                               |
+-----------+---------+-----------------------------------------------+

Бесконечные дискретные:

+--------+-------------------------------------------------+
| ГРУППА | ЧТО ЭТО / СВЯЗИ                                 |
+--------+-------------------------------------------------+
|        |                                                 |
| (ℤ, +) | Целые числа: сдвиги на целое вдоль прямой       |
|        | π₁(S¹) = ℤ — фундаментальная группа окружности. |
|        | Единственная бесконечная циклическая группа     |
|        |                                                 |
+--------+-------------------------------------------------+
|        |                                                 |
| ℤⁿ     | Решётка: вершины целочисленной решётки в ℝⁿ     |
|        | π₁(Tⁿ) = ℤⁿ — фундаментальная группа n-тора     |
|        |                                                 |
+--------+-------------------------------------------------+
|        |                                                 |
| Fₙ     | Свободная на n генераторах: все слова из n букв |
|        | π₁(∨ⁿS¹) = Fₙ — букет n окружностей             |
|        | "Универсальная": любая группа — её фактор       |
|        |                                                 |
+--------+-------------------------------------------------+

Группы Ли (непрерывные) — симметрии физики:

+----------------+----+-------------------------------------------------------+
| ГРУППА         |dim | ЧТО ЭТО / ГДЕ ВСТРЕЧАЕТСЯ                             |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| U(1) ≅ S¹      |  1 | Комплексные числа |z|=1, вращения плоскости           |
|                |    | Фаза в квантовой механике, электромагнетизм           |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| SO(2)          |  1 | Вращения плоскости (≅ U(1) как группы Ли)             |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| SO(3)          |  3 | Вращения в ℝ³: ориентация твёрдого тела               |
|                |    | не односвязна π₁(SO(3)) = ℤ/2                         |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| SU(2)          |  3 | Унитарные 2×2 с det=1, двойное накрытие SO(3)         |
|                |    | Спин в квантовой механике.                            |
|                |    | SU(2) ≅ S³ (3-сфера) — односвязна                     |
|                |    |                                                       |
|                |    | Важно для робототехники:                              |
|                |    | Кватернион q и −q задают одно и то же вращение.       |
|                |    | Поворот на 360° даёт −1, нужно 720° для возврата к 1. |
|                |    | Это не баг, это топология: π₁(SO(3)) = ℤ/2.           |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| SU(3)          |  8 | Симметрия сильного взаимодействия (кварки)            |
|                |    | Стандартная модель: SU(3)×SU(2)×U(1)                  |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| SO(3,1)        |  6 | Группа Лоренца: симметрии пространства-времени        |
|                |    | Специальная теория относительности                    |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| GL(n,ℝ)        | n² | Все обратимые n×n матрицы (det ≠ 0)                   |
|                |    | "Общая линейная группа"                               |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+
|                |    |                                                       |
| SL(n,ℝ)        |n²−1| Матрицы с det = 1 (сохраняют объём)                   |
|                |    |                                                       |
+----------------+----+-------------------------------------------------------+

 Ключевые связи


 1. Фундаментальные группы (топология → алгебра):
    π₁(S¹) = ℤ,  π₁(T²) = ℤ²,  π₁(∨ₙS¹) = Fₙ

 2. Накрытия (связь между группами):
    SU(2) →²:¹ SO(3),   ℝ → S¹ (exp),   SL(2,ℂ) →²:¹ SO(3,1)

 3. Классификация конечных простых групп (завершена ~1980):
    Циклические ℤ/p + Знакопеременные Aₙ (n≥5) +
    Группы лиева типа + 26 спорадических (включая "Монстра")

 4. Теорема о классификации конечных абелевых групп:
    Любая ≅ ℤ/n₁ × ℤ/n₂ × ... × ℤ/nₖ  (уникальное разложение)


Группы описывают симметрии — что можно делать с пространством. Но чтобы
говорить о непрерывности преобразований, нам нужно понятие близости.
Что значит "точки рядом"? Что значит "преобразование не рвёт пространство"?

Этим занимается топология — следующий фундаментальный взгляд на пространство.

===============================================================================
Топология — учение о близости без расстояний
===============================================================================

Если множество — это пыль, то топология — это ткань. Мы добавляем к точкам
понятие "рядом": какие точки можно считать близкими, какие — нет. Но мы
по-прежнему не знаем, насколько близко — нет чисел-расстояний.

Это минимальная структура для непрерывности. Чтобы сказать "функция непрерывна",
достаточно знать, какие точки рядом. Конкретные расстояния не нужны.

В терминах "объект—наблюдатель": топология — это свойство самого пространства,
а не наблюдателя. Два наблюдателя с разными системами координат увидят одну и
ту же топологию: те же дырки, ту же связность, те же границы. Топологические
свойства — это инварианты, не зависящие от способа описания.

Именно поэтому топология так фундаментальна: она говорит о форме объекта,
а не о том, как наблюдатель его записывает.

-------------------------------------------------------------------------------
 Топология как взгляд на пространство
-------------------------------------------------------------------------------

 Вспомним из введения: каждый раздел математики — это способ смотреть на
 пространство. Топология видит в пространстве только близость точек, но
 не расстояния между ними.

   Множество → топологическое пространство → метрическое
   (точки)            (близость)                          (расстояния)

 Топология — это "середина": больше структуры, чем у голого множества,
 но меньше, чем у метрического пространства.


 Главный пример: бублик = кружка


       Бублик (тор) кружка

          ╭--------╮                    ╭-╮
        ╭-╯  ╭--╮  ╰-╮               ╭--╯ ╰--╮
        |    |  |    |               | ╭-╮   |
        |    |  |    |               | | |   |
        ╰-╮  ╰--╯  ╭-╯               | ╰-╯   |
          ╰--------╯                 |       |
                                     ╰-------╯

   Одна дырка                      Одна дырка (ручка)

   Топологически одинаковы. Можно непрерывно деформировать одно в другое.
   Но бублик в кружку без ручки превратить нельзя — дырка исчезнет.

-------------------------------------------------------------------------------
 Зачем нужна топология
-------------------------------------------------------------------------------

 Проблема: Мы хотим говорить о "близости" и "непрерывности", но:

   • Не всегда есть расстояние (как измерить расстояние между функциями?)
   • Иногда расстояние избыточно (нам важна форма, а не размеры)
   • Разные расстояния могут давать одинаковую "близость"

 Решение: Определить "близость" напрямую, без расстояния.
          Вместо d(x,y) &lt; ε говорим: "y в окрестности x"

 Аналогия: Карта метро vs карта города
           • Карта города: точные расстояния, масштаб
           • Карта метро: только связи между станциями
           Для навигации в метро расстояния не нужны

-------------------------------------------------------------------------------
 Что изучает топология
-------------------------------------------------------------------------------

 Геометрия: углы, длины, расстояния — метрические инварианты
 Топология: связность, дырки, число компонент — топологические инварианты

 +--------------------------------------------------------------------+
 | Топология изучает свойства, инвариантные относительно непрерывных  |
 | деформаций (гомеоморфизмов). Допустимы: растяжение, сжатие, изгиб. |
 | Недопустимы: разрыв, склеивание.                                   |
 +--------------------------------------------------------------------+

 Гомеоморфные объекты:
 +--------------------------+--------------------------------------------+
 | ОБЪЕКТЫ                  | ТОПОЛОГИЧЕСКИЙ ИНВАРИАНТ                   |
 +--------------------------+--------------------------------------------+
 | ○ ≅ □ ≅ △                | Нет дырок, π₁ = 0                          |
 | Кружка ≅ Тор             | Одна дырка, π₁ = ℤ                         |
 | O ≅ D, B ≅ 8, A ≅ R      | Классификация по числу дырок               |
 +--------------------------+--------------------------------------------+

-------------------------------------------------------------------------------
 Физический взгляд: застывший объект
-------------------------------------------------------------------------------

 Топология смотрит на пространство как на застывший объект.
 Группа смотрит как на динамическую систему.

 Четыре вопроса топологии:

   1. Сколько в объекте дырок?
      Бублик — одна. Кружка с ручкой — тоже одна. Они "одинаковы".
      Шар — ни одной. Его нельзя деформировать в бублик.

   2. Есть ли у объекта граница?
      У диска есть (окружность). У сферы нет. У ленты Мёбиуса — один край.

   3. Можно ли его разрезать, не разбив на части?
      Разрежьте тор поперёк — останется трубка (одна часть).
      Разрежьте сферу — распадётся на две шапки (две части).

   4. Можно ли на нём различить "левое" и "правое"?
      На ленте Мёбиуса — нельзя. Она неориентируема.

 Это всё инварианты — свойства, которые не меняются при деформации.

 Контраст с группами:

   Группа спрашивает:    Какие движения возможны с этим объектом?
   Топология спрашивает: Какова форма этого объекта?

   Группа: динамика движения → SE(3), SO(3), D₄
   Топология: статика формы → дырки (π₁), связность (π₀), Эйлер (χ)

   Оба дают классификацию — устанавливают, что возможно, а что нет.
   Оба отвечают на вопрос "какого типа этот объект".

 Пример связи: Фундаментальная группа π₁(X) — это группа,
 которая классифицирует петли в топологическом пространстве X.
 Топология и алгебра встречаются.

-------------------------------------------------------------------------------
 Буквы алфавита: классификация по дыркам
-------------------------------------------------------------------------------

   Без дырок (все одинаковы):    C, G, I, J, L, M, N, S, U, V, W, Z

   Одна дырка (все одинаковы):   A, D, O, P, Q, R

   Две дырки (все одинаковы):    B, 8

 Это полная классификация букв с топологической точки зрения.
 Буква "O" и буква "D" — один и тот же объект (можно деформировать).
 Буква "O" и буква "C" — разные объекты (у C нет дырки).


===============================================================================
Открытые множества — базовое понятие
===============================================================================

 Определение открытого множества:
 Множество U ⊂ X называется открытым, если для каждой точки x ∈ U
 существует окрестность x, целиком содержащаяся в U.

 Эквивалентная формулировка (для метрического пространства):
 ∀x ∈ U  ∃ε &gt; 0:  B(x, ε) ⊂ U

 +----------------------------------------------------------+
 | x ∈ U  ⟺  x — внутренняя точка  ⟺  ∃ε &gt; 0: B(x,ε) ⊂ U |
 +----------------------------------------------------------+

 Граничные точки: ∀ε &gt; 0 шар B(x,ε) содержит точки как из U, так и из X\U
 Открытое множество не содержит своих граничных точек.


 Примеры на числовой прямой ℝ
 +---------------+--------------------------+--------------------------------+
 | ТИП ИНТЕРВАЛА | ВИЗУАЛИЗАЦИЯ             | СВОЙСТВО                       |
 +---------------+--------------------------+--------------------------------+
 |               |                          |                                |
 | открытый      | --○━━━━━━━━━━━━━━○--     | Открытое: у каждой точки       |
 | (0, 1)        |   0 не вход.   1 не вх.  | есть "запас" внутри            |
 |               |                          |                                |
 +---------------+--------------------------+--------------------------------+
 |               |                          |                                |
 | закрытый      | --●━━━━━━━━━━━━━━●--     | Закрытое: содержит границу     |
 | [0, 1]        |   0 входит     1 входит  | Нет "запаса" у краёв           |
 |               |                          |                                |
 +---------------+--------------------------+--------------------------------+
 |               |                          |                                |
 | полуоткрытый  | --●━━━━━━━━━━━━━━○--     | Ни открытое, ни закрытое       |
 | [0, 1)        |   0 входит    1 не вх.   | Такое бывает                   |
 |               |                          |                                |
 +---------------+--------------------------+--------------------------------+

-------------------------------------------------------------------------------
 Открытость зависит от объемлющего пространства
-------------------------------------------------------------------------------

 Одно и то же множество может быть открытым в одном пространстве
 и не открытым в другом.

 Пример 1: Множество [0, 1)
   • В ℝ: не открытое (точка 0 граничная)
   • В [0, ∞): открытое (нет точек левее 0, так что 0 — внутренняя)

 Пример 2: Множество [0, ½)
   В пространстве X = [0, 1] с индуцированной топологией из ℝ:
   • [0, ½) открыто в X (потому что [0, ½) = X ∩ (−1, ½))
   • Но точка 0 интуитивно кажется "краем" — это ловушка

 Вывод: Говоря "открытое", всегда уточняйте — в каком пространстве

-------------------------------------------------------------------------------
 Определение метрики
-------------------------------------------------------------------------------

 Метрика на множестве X — это функция d: X × X → [0, +∞), такая что:

   +-------------------------------------------------------------+
   | (M1)  d(x,y) = 0  ⟺  x = y       (тождество неразличимых)   |
   | (M2)  d(x,y) = d(y,x)             (симметрия)               |
   | (M3)  d(x,z) ≤ d(x,y) + d(y,z)   (неравенство треугольника) |
   +-------------------------------------------------------------+

 Пара (X, d) называется метрическим пространством.

 Примеры метрик:
   +---------------------+-----------------------------------------------+
   | ПРОСТРАНСТВО        | МЕТРИКА                                       |
   +---------------------+-----------------------------------------------+
   | ℝ                   | d(x,y) = |x − y|                              |
   | ℝⁿ (евклидова)      | d(x,y) = √(Σᵢ(xᵢ−yᵢ)²)                        |
   | ℝⁿ (манхэттенская)  | d(x,y) = Σᵢ|xᵢ−yᵢ|                            |
   | ℝⁿ (sup-метрика)    | d(x,y) = maxᵢ|xᵢ−yᵢ|                          |
   | C[a,b] (функции)    | d(f,g) = max_{x∈[a,b]}|f(x)−g(x)|             |
   | Дискретная          | d(x,y) = 0 если x=y, иначе 1                  |
   +---------------------+-----------------------------------------------+

 Зачем метрика:
   • Определяет понятие "близости" количественно
   • Порождает топологию (открытые множества через шары)
   • Позволяет говорить о сходимости: xₙ → x ⟺ d(xₙ,x) → 0

-------------------------------------------------------------------------------
 Формальное определение открытого множества (через метрику)
-------------------------------------------------------------------------------

 Пусть (X, d) — метрическое пространство.

 Открытый шар: B(x, ε) = {y : d(x,y) &lt; ε}
               (все точки ближе ε к центру x)

 Множество U называется открытым, если:

   +--------------------------------------------------------+
   | ∀x ∈ U  ∃ε &gt; 0:  B(x, ε) ⊆ U                        |
   |                                                        |
   | "Для каждой точки x из U существует шар с центром в x, |
   | целиком лежащий в U"                                   |
   +--------------------------------------------------------+

 Визуально:

        U — открытое                      V — не открытое
     ╭-----------------╮               ╭-----------------╮
     |    ╭---╮        |               |            ●----+ ← точка на
     |    | ● | шар    |               |           нет   |   границе,
     |    ╰---╯ внутри |               |           шара  |   шар не
     |                 |               |                 |   поместится
     ╰-----------------╯               ╰-----------------╯

-------------------------------------------------------------------------------
 Закрытые множества
-------------------------------------------------------------------------------

 Закрытое множество = дополнение открытого

   F закрыто  ⟺  X \ F открыто

 Эквивалентно: F содержит все свои предельные точки.
               (Если последовательность из F сходится, предел тоже в F)

 Примеры на ℝ:

   [0, 1]     закрытое    (ℝ \ [0,1] = (−∞,0) ∪ (1,+∞) — открытое)
   {0}        закрытое    (одна точка — вырожденный случай)
   [0, +∞)    закрытое    (полупрямая с включённым концом)
   ℚ          не закрытое (√2 — предельная точка, но √2 ∉ ℚ)

 Внимание: "Не открытое" ≠ "Закрытое".

   [0, 1)  — не открытое и не закрытое
   ∅       — и открытое, и закрытое (единственные такие: ∅ и всё X)
   ℝ       — и открытое, и закрытое

-------------------------------------------------------------------------------
 Граница, внутренность, замыкание
-------------------------------------------------------------------------------

 Для любого множества A ⊆ X:

   Int(A) = внутренность = наибольшее открытое подмножество A
          = {x ∈ A : ∃ε &gt; 0, B(x,ε) ⊆ A}

   Cl(A)  = замыкание = наименьшее закрытое надмножество A
          = A ∪ {все предельные точки A}

   ∂A     = граница = Cl(A) \ Int(A)
          = точки, в любой окрестности которых есть и A, и не-A

 Пример: A = (0, 1]

     -------○━━━━━━━━━━━━━━━━━━━━━━━━━●-------
            0                         1

   Int(A) = (0, 1)     — убрали точку 1 (она на границе)
   Cl(A)  = [0, 1]     — добавили точку 0 (предельная)
   ∂A     = {0, 1}     — две граничные точки

 Связь:
   A открыто  ⟺  A = Int(A)  ⟺  A не содержит своей границы
   A закрыто  ⟺  A = Cl(A)   ⟺  A содержит свою границу


===============================================================================
Топологическое пространство — абстракция
===============================================================================

 Идея: забыть про метрику, оставить только "открытые множества"


 Наблюдение: Все свойства непрерывности можно выразить через открытые
             множества, не упоминая расстояние.

 Идея: Что если напрямую задать, какие множества считать "открытыми"?
       Не выводить из метрики, а просто объявить.

 Нужны правила, чтобы "открытые" множества вели себя разумно.

-------------------------------------------------------------------------------
 Определение топологии
-------------------------------------------------------------------------------

 Топология на множестве X — это семейство τ ⊆ P(X) подмножеств X,
 удовлетворяющее трём аксиомам:

   +--------------------------------------------------------+
   | (T1)  ∅ ∈ τ  и  X ∈ τ                                  |
   | Пустое и всё пространство — открыты                    |
   |                                                        |
   | (T2)  U₁, U₂ ∈ τ  ⇒  U₁ ∩ U₂ ∈ τ                       |
   | Пересечение двух открытых — открыто                    |
   | (по индукции: конечное пересечение открытых — открыто) |
   |                                                        |
   | (T3)  {Uᵢ}ᵢ∈I ⊆ τ  ⇒  ⋃ᵢ∈I Uᵢ ∈ τ                      |
   | Объединение любого семейства открытых — открыто        |
   | (даже бесконечного, даже несчётного)                  |
   +--------------------------------------------------------+

 Пара (X, τ) называется топологическим пространством.
 Элементы τ называются открытыми множествами.


 Почему такие аксиомы

 Эти аксиомы выведены из свойств открытых множеств в метрическом пространстве:

 (T1) Очевидно: везде есть "запас", нигде нет "запаса"

 (T2) Если в U₁ есть шар радиуса ε₁, а в U₂ — радиуса ε₂,
      то в пересечении есть шар радиуса min(ε₁, ε₂)

      Почему только конечные? При бесконечном пересечении min может быть 0.

      Пример: ⋂ₙ (−1/n, 1/n) = {0} — одна точка, не открытое множество.

 (T3) Если точка в каком-то Uᵢ, у неё есть шар в этом Uᵢ,
      значит и в объединении есть шар. Работает для любого семейства.

-------------------------------------------------------------------------------
 Примеры топологий
-------------------------------------------------------------------------------

 Пусть X = {a, b, c} — три точки. Сравним топологии:

 +----------------+--------------------------+--------------------+
 | ТОПОЛОГИЯ      | ОТКРЫТЫЕ МНОЖЕСТВА       | СМЫСЛ              |
 +----------------+--------------------------+--------------------+
 |                |                          |                    |
 | Дискретная     | Все подмножества:        | Точки "далеко"     |
 | (максимальная) | ∅,{a},{b},{c},{a,b},     | друг от друга,     |
 |                | {a,c},{b,c},{a,b,c}      | каждая изолирована |
 |                |                          |                    |
 +----------------+--------------------------+--------------------+
 |                |                          |                    |
 | Антидискретная | Только ∅ и X:            | Точки "слиплись",  |
 | (минимальная)  | {∅, {a,b,c}}             | неразличимы        |
 |                |                          |                    |
 +----------------+--------------------------+--------------------+
 |                |                          |                    |
 | Промежуточная  | {∅, {a}, {a,b}, {a,b,c}} | a "открыта",       |
 | (пример)       |                          | c "закрыта"        |
 |                |                          |                    |
 +----------------+--------------------------+--------------------+

-------------------------------------------------------------------------------
 Стандартная топология на ℝ
-------------------------------------------------------------------------------

 τ = {U ⊆ ℝ : ∀x ∈ U ∃ε &gt; 0: (x−ε, x+ε) ⊆ U}

 Открытые множества = те, где каждая точка окружена интервалом.

 База топологии:

   Не нужно описывать все открытые множества.
   Достаточно задать базу — набор "кирпичиков", из которых
   объединениями получаются все остальные открытые.

   Для ℝ: база = все открытые интервалы (a, b)
   Для ℝⁿ: база = все открытые шары B(x, ε)

 Важно: Стандартная топология на ℝ порождается метрикой d(x,y) = |x−y|
        Но можно задать другие топологии на том же ℝ.


 Метрика → Топология (но не наоборот)


 Любая метрика d на X порождает топологию:
   τ_d = {U : ∀x ∈ U ∃ε &gt; 0: B_d(x,ε) ⊆ U}

 Но не любая топология порождается какой-то метрикой.
 (Такие топологии называются "метризуемыми")

 Пример неметризуемой топологии:
   Антидискретная на X с |X| &gt; 1: нельзя отделить точки шарами.

 Разные метрики могут давать одну топологию:

   На ℝ²:  d₁(x,y) = |x₁−y₁| + |x₂−y₂|        (манхэттенская)
           d₂(x,y) = √((x₁−y₁)² + (x₂−y₂)²)  (евклидова)
           d∞(x,y) = max(|x₁−y₁|, |x₂−y₂|)   (чебышёвская)

   Шары разной формы:  ◇ (d₁)    ○ (d₂)    □ (d∞)
   Но топология одна. Одни и те же множества открыты.

      ◇           ○           □
     ╱ ╲         ╱ ╲         +-+
    ╱   ╲       |   |        | |
    ╲   ╱       |   |        | |
     ╲ ╱         ╲ ╱         +-+

   Топологически эквивалентны (гомеоморфны как шары)

-------------------------------------------------------------------------------
 Аксиомы отделимости — насколько "хорошо" пространство
-------------------------------------------------------------------------------

 Проблема: Не все топологические пространства "хорошие".
 В антидискретной топологии две разные точки неразличимы.

 Аксиомы отделимости задают иерархию "хороших" пространств:

 +---------+---------------------------------------------------------------+
 | АКСИОМА | УСЛОВИЕ                                                       |
 +---------+---------------------------------------------------------------+
 |         |                                                               |
 | T₀      | Для любых x ≠ y найдётся окрестность одной из точек,          |
 |(Колмог.)| не содержащая другую.                                         |
 |         | (Хоть как-то можно различить)                                 |
 |         |                                                               |
 +---------+---------------------------------------------------------------+
 |         |                                                               |
 | T₁      | Для любых x ≠ y найдётся окрестность x, не содержащая y,      |
 |(Фреше)  | и окрестность y, не содержащая x.                             |
 |         | Эквивалентно: все одноточечные множества {x} замкнуты.        |
 |         |                                                               |
 +---------+---------------------------------------------------------------+
 |         |                                                               |
 | T₂      | Для любых x ≠ y найдутся непересекающиеся окрестности:        |
 |(Хаусд.) | U ∋ x, V ∋ y, U ∩ V = ∅                                       |
 |         |                                                               |
 |         |     x           y                                             |
 |         |    (U)         (V)        ← U и V не пересекаются             |
 |         |   ╭---╮       ╭---╮                                           |
 |         |   | ● |       | ● |                                           |
 |         |   ╰---╯       ╰---╯                                           |
 |         |                                                               |
 +---------+---------------------------------------------------------------+
 |         |                                                               |
 | T₃      | T₁ + для точки x и замкнутого F ∌ x найдутся                  |
 |(регул.) | непересекающиеся окрестности x и F.                           |
 |         |                                                               |
 +---------+---------------------------------------------------------------+
 |         |                                                               |
 | T₄      | T₁ + для любых непересекающихся замкнутых F, G                |
 |(норм.)  | найдутся непересекающиеся окрестности.                        |
 |         |                                                               |
 +---------+---------------------------------------------------------------+

 Иерархия:

   T₄ (нормальное) ⊂ T₃ (регулярное) ⊂ T₂ (хаусдорфово) ⊂ T₁ ⊂ T₀

 Почему T₂ (Хаусдорфовость) важна:

   1. Единственность пределов:
      В хаусдорфовом пространстве последовательность имеет
      не более одного предела. (Без T₂ предел может быть неединственным)

   2. Компакты замкнуты:
      В хаусдорфовом пространстве компактное подмножество замкнуто.

   3. Практика:
      Почти все пространства в анализе и геометрии — хаусдорфовы.
      ℝⁿ, многообразия, метрические пространства — все T₂.

 Примеры:

   ✓ ℝⁿ с обычной топологией — T₄ (нормальное)
   ✓ Любое метрическое пространство — T₄
   ✗ Антидискретная топология (|X| &gt; 1) — даже не T₀
   ✗ Прямая с удвоенной точкой — T₁, но не T₂

 Лемма Урысона (следствие T₄):
   В нормальном пространстве для любых непересекающихся замкнутых
   F и G существует непрерывная f: X → [0,1] с f|_F = 0 и f|_G = 1.
   (Можно "гладко" разделить множества функцией)


===============================================================================
Непрерывные отображения — сохранение близости
===============================================================================

-------------------------------------------------------------------------------
 Определение непрерывности
-------------------------------------------------------------------------------

 Пусть (X, τ_X) и (Y, τ_Y) — топологические пространства.

 +-----------------------------------------------------------+
 | Определение: f: X → Y непрерывно ⟺ ∀V ∈ τ_Y: f⁻¹(V) ∈ τ_X |
 | (прообраз открытого множества открыт)                     |
 +-----------------------------------------------------------+

 Здесь f⁻¹(V) = {x ∈ X : f(x) ∈ V} — прообраз (не обратная функция).

           Прообраз определён всегда, даже если f не обратима.

 Визуализация:

      X                           Y
   +-----------+    f        +-----------+
   | ╭------╮  |   ---→      |   ╭---╮   |
   | |f⁻¹(V)|  |             |   | V |   |   V открыто в Y
   | ╰------╯  |             |   ╰---╯   |
   +-----------+             +-----------+
     открыто?                  открыто ✓

   f непрерывно ⟺ для любого открытого V, его прообраз f⁻¹(V) открыт

-------------------------------------------------------------------------------
 Связь с ε-δ определением
-------------------------------------------------------------------------------

 Два определения — одна идея (для метрических пространств эквивалентны):
 +----------------+----------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ    | ФОРМУЛИРОВКА                                       |
 +----------------+----------------------------------------------------+
 | ε-δ (анализ)   | ∀ε&gt;0 ∃δ&gt;0: d(x,x₀)&lt;δ ⇒ d(f(x),f(x₀))&lt;ε |
 |                | "образ сколь угодно близок при близком аргументе"  |
 +----------------+----------------------------------------------------+
 | Топологическое | Прообраз открытого множества открыт                |
 |                | "окрестность образа ← окрестность аргумента"       |
 +----------------+----------------------------------------------------+

 Зачем топологическое? Работает без метрики.


 Примеры и контрпримеры
 +---------------------+-----------------------+-------------------------+
 | ФУНКЦИЯ             | НЕПРЕРЫВНА?           | ПОЧЕМУ                  |
 +---------------------+-----------------------+-------------------------+
 | f(x) = x²           | ДА                    | Прообраз (a,b) открыт   |
 | f(x) = sin(x)       | ДА                    | Гладкая → непрерывная   |
 | f(x) = |x|          | ДА                    | В каждой точке непр.    |
 | f(x) = ⌊x⌋          | нет                   | Прообраз не открыт      |
 | f(x) = θ(x) (Хеви) | НЕТ                   | Разрыв в x=0            |
 +---------------------+-----------------------+-------------------------+

   Проблема в точке 0: скачок.


===============================================================================
Гомеоморфизм — топологическая эквивалентность
===============================================================================

 Определение:
 Гомеоморфизм f: X → Y — это биекция, непрерывная в обе стороны:

   1. f — биекция (взаимно однозначное соответствие)
   2. f — непрерывна
   3. f⁻¹ — тоже непрерывна

 Если существует гомеоморфизм X → Y, пишем X ≅ Y ("X гомеоморфно Y")

 Смысл: X и Y имеют одинаковую топологическую структуру.
        Различаются только "именами" точек.

-------------------------------------------------------------------------------
 Физическая интерпретация: очень вязкое течение
-------------------------------------------------------------------------------

 Представьте объект из очень вязкой жидкости (тесто, пластилин, смола).
 Гомеоморфизм — это медленная деформация, при которой:

   • Материал течёт, меняет форму
   • Но не рвётся (нельзя создать дырку)
   • и не склеивается (нельзя заделать дырку)

 Бублик → кружка: тесто "перетекает", дырка сохраняется
 Бублик → шар: невозможно без разрыва (дырка должна исчезнуть)

 Эта интуиция связывает топологию с гидродинамикой:
   • Гомеоморфизм = итог бесконечно медленного несжимаемого течения
   • Топологические инварианты = то, что сохраняется при любом течении
   • Диффеоморфизм = гладкое течение (без "складок")


 Зачем нужна непрерывность f⁻¹?

 Непрерывная биекция не обязана быть гомеоморфизмом.

 Контрпример:

   X = [0, 2π)  с обычной топологией (полуинтервал)
   Y = S¹      окружность
   f(t) = (cos t, sin t)

      [0------------2π)         f          ╭------╮
       ●                       ---→       ╱   ●    ╲
       |                                 |    ↑     |
       +-→ растягивается на окружность   |  начало  |
                                          ╲        ╱
                                           ╰------╯

   f — биекция ✓
   f — непрерывна ✓
   f⁻¹ — не непрерывна ✗

   Почему? При обходе окружности, приближаясь к начальной точке,
   f⁻¹ делает скачок: .→ 2π−ε → 0 (разрыв)

   [0, 2π) и S¹ не гомеоморфны, хотя есть непрерывная биекция.

-------------------------------------------------------------------------------
 Примеры гомеоморфизмов
-------------------------------------------------------------------------------

 (0, 1) ≅ ℝ        через f(x) = tan(π(x − 1/2))
                   Открытый интервал ↔ вся прямая

 (0, 1) ≅ (0, ∞)   через f(x) = x/(1−x)

 Круг ≅ Квадрат    "Надуваем" квадрат до круга

 ℝ² \ {0} ≅ S¹×ℝ   Плоскость без начала ↔ Цилиндр
                   (полярные координаты: (r,θ) ↦ (θ, ln r))

 Не гомеоморфны:

 [0,1] ≇ (0,1)     Замкнутый интервал ≠ открытый (разное число концов)
 S¹ ≇ [0,1]        Окружность ≠ отрезок (у отрезка есть концы)
 S² ≇ T²           Сфера ≠ тор (разное число дырок)

-------------------------------------------------------------------------------
 Иерархия эквивалентностей
-------------------------------------------------------------------------------

 Изометрия ⊂ Диффеоморфизм ⊂ Гомеоморфизм ⊂ Гомотопическая эквивалентность

+-----------------+-------------------+------------------------------+
| ЭКВИВАЛЕНТНОСТЬ | ЧТО СОХРАНЯЕТ     | КВАДРАТ                      |
+-----------------+-------------------+------------------------------+
|                 |                   |                              |
| Изометрия       | Расстояния        | ≅ только себе/повороту       |
| (самое строгое) |                   |                              |
|                 |                   |                              |
+-----------------+-------------------+------------------------------+
|                 |                   |                              |
| Диффеоморфизм   | Гладкую структуру | ≅ кругу (гладко деформ.)     |
|                 |                   |                              |
+-----------------+-------------------+------------------------------+
|                 |                   |                              |
| Гомеоморфизм    | Топологию         | ≅ кругу (непрерывно деформ.) |
|                 |                   |                              |
+-----------------+-------------------+------------------------------+
|                 |                   |                              |
| Гомотоп. эквив. | "Форму дырок"     | ≃ точке (можно стянуть)     |
| (самое слабое)  |                   |                              |
|                 |                   |                              |
+-----------------+-------------------+------------------------------+

===============================================================================
Связность — "одним куском"
===============================================================================

 Связность — неформальное описание


 Связное пространство: не представимо как объединение двух непересекающихся
                       непустых открытых множеств

   Связное: не связное:
   ╭-----------╮               ╭-------╮   ╭-------╮
   |           |               |       |   |       |
   |     ●     |               |   ●   |   |   ●   |
   |           |               |       |   |       |
   ╰-----------╯               ╰-------╯   ╰-------╯
   один кусок                  два отдельных куска


 Формальное определение

 Топологическое пространство X называется связным, если
 не существует разбиения X = U ∪ V, где:

   • U, V ≠ ∅           (оба непусты)
   • U ∩ V = ∅          (не пересекаются)
   • U, V ∈ τ           (оба открыты)

 Эквивалентно: единственные множества, которые одновременно
               открыты и закрыты — это ∅ и X.

 Смысл: Нельзя "разрезать" X на два открытых куска.
        Между любыми двумя точками есть "топологический путь".


 Примеры

 Связные:

   [0, 1]      Любое разбиение на открытые невозможно
   (0, 1)      Тоже связно
   ℝ           Связно
   ℝⁿ          Связно для любого n
   S¹, S², Sⁿ  Все сферы связны
   Диск, шар   Связны

 Не связные:

   (0,1) ∪ (2,3)   Два интервала = два куска
                   U = (0,1), V = (2,3) — разбиение

   ℚ               Рациональные числа не связны
                   Разбиение: {q &lt; √2} и {q &gt; √2}
                   (оба открыты в индуцированной топологии)

   ℝ \ {0}         Прямая без нуля = два луча
                   U = (−∞, 0), V = (0, +∞)

   {0, 1}          Два изолированных точки (дискретная топология)
   (дискретная)    U = {0}, V = {1} — оба открыты

-------------------------------------------------------------------------------
 Линейная связность (сильнее)
-------------------------------------------------------------------------------

 X линейно связно, если любые две точки можно соединить путём:

   ∀x, y ∈ X  ∃γ: [0,1] → X непрерывная,  γ(0) = x,  γ(1) = y

 Связь:
   Линейно связное ⇒ Связное (всегда)
   Связное ⇒ Линейно связное (для "хороших" пространств, но не всегда)

 Контрпример (топологическая синусоида):

   A = {(x, sin(1/x)) : x &gt; 0} ∪ {(0, y) : −1 ≤ y ≤ 1}

       |╭╮   ╭╮   ╭╮
   ----+╯╰---╯╰---╯╰---  ← бесконечно осциллирует
       |                   при x → 0
       |
     вертикальный
     отрезок

   Это связно (в топологическом смысле)
   Но не линейно связно: нет непрерывного пути от синусоиды к отрезку

-------------------------------------------------------------------------------
 Компоненты связности
-------------------------------------------------------------------------------

 Компонента связности точки x — максимальное связное подмножество,
 содержащее x.

 Свойства:
   • X разбивается на непересекающиеся компоненты связности
   • Компонент может быть конечное число, счётное или несчётное

 Примеры:
   ℝ \ {0}       — две компоненты: (−∞, 0) и (0, +∞)
   ℤ (дискр.)   — счётно много компонент: каждая точка отдельно
   Канторово мн. — несчётно много компонент (каждая точка — компонента)

 H₀ в гомологиях считает компоненты связности:
   H₀(X) = ℤᵏ, где k = число компонент


===============================================================================
Компактность — конечность в бесконечности
===============================================================================

-------------------------------------------------------------------------------
 Зачем нужна компактность
-------------------------------------------------------------------------------

 Проблема: На бесконечном или незамкнутом множестве многие теоремы ломаются.

   • f(x) = x на (0, +∞): нет максимума и минимума
   • f(x) = 1/x на (0, 1): непрерывна, но неограничена
   • Последовательность в ℝ может "убежать" на бесконечность

 Решение: Компактность — свойство, гарантирующее "конечно-подобное"
          поведение на бесконечных множествах.

 Аналогия с теплотехникой:
   Компактное пространство — как ограниченная система без "утечек".
   Энергия не может "убежать на бесконечность".

-------------------------------------------------------------------------------
 Определение компактности (через покрытия)
-------------------------------------------------------------------------------

 Покрытие множества X — семейство множеств {Uᵢ}ᵢ∈I такое, что X ⊆ ⋃ᵢ Uᵢ
 Открытое покрытие — покрытие открытыми множествами.

 Определение:

   +--------------------------------------------------------------+
   | X компактно, если из любого открытого покрытия можно выбрать |
   | конечное подпокрытие.                                        |
   |                                                              |
   | ∀{Uᵢ}ᵢ∈I открытое покрытие X                                 |
   | ∃ конечное J ⊂ I:  X ⊆ ⋃ⱼ∈J Uⱼ                               |
   +--------------------------------------------------------------+

 Компактность: любое открытое покрытие имеет конечное подпокрытие
           Как бы мелко мы его ни покрывали, достаточно конечного числа.


 Пример: Почему [0,1] компактен, а (0,1) нет


 (0, 1) не компактен:

   Покрытие: Uₙ = (1/n, 1) для n = 2, 3, 4, ...

     U₂ = (1/2, 1)     +━━━━━━━━━━━━━+
     U₃ = (1/3, 1)   +━━━━━━━━━━━━━━━━+
     U₄ = (1/4, 1)  +━━━━━━━━━━━━━━━━━━+
     ⋮             ⋮

   ⋃ₙ Uₙ = (0, 1) — покрытие ✓

   Но любое конечное подпокрытие U_{n₁}, ..., U_{nₖ}
   покрывает только (1/N, 1), где N = max(n₁,...,nₖ).
   Точки (0, 1/N) не покрыты. ✗

 [0, 1] компактен:

   То же покрытие {(1/n, 1)} не покрывает [0,1] — не содержит 0.
   Любое покрытие [0,1] должно содержать окрестность 0 и окрестность 1.
   Это "замыкает" конструкцию, позволяя выбрать конечное подпокрытие.

   (Формальное доказательство: теорема Гейне-Бореля)

 Интуиция: (0,1) некомпактен не потому что "большой" — он ограничен.
   Проблема в отсутствии краёв: покрытия могут "утекать" к границе,
   требуя бесконечно много множеств, чтобы "догнать" точки у 0.
   Замкнутость добавляет края, к которым покрытия "прилипают".

-------------------------------------------------------------------------------
 Теорема Гейне-Бореля (для ℝⁿ)
-------------------------------------------------------------------------------

   +-----------------------------------------------+
   | В ℝⁿ: X компактно  ⟺  X замкнуто и ограничено |
   +-----------------------------------------------+

 Внимание: Это верно только для ℝⁿ. В общем топологическом пространстве
           замкнутость + ограниченность не гарантирует компактность.

 Контрпример (критично для функционального анализа):
   Единичный шар B = {f ∈ L²: ‖f‖ ≤ 1} в бесконечномерном L²:
     • Замкнут? Да
     • Ограничен? Да
     • Компактен? Нет
   Последовательность eₙ(x) = sin(nπx) ограничена, но не имеет
   сходящейся подпоследовательности в L².

   Это ломает интуицию из ℝⁿ. В бесконечномерных пространствах
   нужна слабая компактность или дополнительные условия.

   Важно: Хотя шар B некомпактен в сильной (нормовой) топологии,
   он слабо компактен (теорема Банаха-Алаоглу). Это критически важно
   для вариационного исчисления: минимум энергии существует именно
   благодаря слабой компактности.

 Почему это катастрофа для инженера:

   Теорема Вейерштрасса: "непрерывная функция на компакте достигает min".
   Но если пространство некомпактно — минимум может не существовать.

   В бесконечномерных задачах оптимизации (вариационное исчисление,
   обучение нейросетей) это означает:
     • Мы спускаемся по "горке", но дна нет
     • Минимизирующая последовательность fₙ "утекает на бесконечность"
     • Функция становится всё тоньше и выше, переставая быть функцией

   Решение: добавить регуляризацию (∫|f'|² ≤ C), которая делает
   допустимое множество компактным в слабой топологии.

 Примеры в ℝⁿ:

   +--------------------+-----------+-------------+------------------+
   | МНОЖЕСТВО          | ЗАМКНУТО? | ОГРАНИЧЕНО? | КОМПАКТНО?       |
   +--------------------+-----------+-------------+------------------+
   | [0, 1]             | Да        | Да          | Да               |
   | (0, 1)             | Нет       | Да          | Нет              |
   | [0, +∞)            | Да        | Нет         | Нет              |
   | ℕ = {1, 2, 3, ...} | Да        | Нет         | Нет              |
   | Единичный шар D²   | Да        | Да          | Да               |
   | Сфера S²           | Да        | Да          | Да               |
   | ℝⁿ                 | Да        | Нет         | Нет              |
   | {1/n : n ∈ ℕ}      | Нет       | Да          | Нет              |
   | {0}∪{1/n : n ∈ ℕ}  | Да        | Да          | Да (добавили 0!) |
   +--------------------+-----------+-------------+------------------+


 Свойства компактных пространств
+------------------------+------------------------------------+
| СВОЙСТВО               | ФОРМУЛИРОВКА                       |
+------------------------+------------------------------------+
|                        |                                    |
| Образ компакта         | f: X → Y непрерывна, X компактно   |
|                        | ⇒ f(X) компактно                   |
|                        |                                    |
+------------------------+------------------------------------+
|                        |                                    |
| Теорема Вейерштрасса   | f: X → ℝ непрерывна, X компактно   |
| (Ключ к оптимизации)   | ⇒ f достигает max и min            |
|                        |                                    |
+------------------------+------------------------------------+
|                        |                                    |
| Замкнутое ⊂ компакта   | X компактно, F ⊆ X замкнуто        |
|                        | ⇒ F компактно                      |
|                        |                                    |
+------------------------+------------------------------------+
|                        |                                    |
| Компакт в хаусдорфовом | Y хаусдорфово, X ⊆ Y компактно     |
|                        | ⇒ X замкнуто в Y                   |
|                        |                                    |
+------------------------+------------------------------------+
|                        |                                    |
| Теорема Тихонова       | X, Y компактны ⇒ X × Y компактно   |
|                        | (работает для любого произведения) |
|                        |                                    |
+------------------------+------------------------------------+

 Применения компактности
+------------------+------------------------------------------------+
| ОБЛАСТЬ          | КАК ИСПОЛЬЗУЕТСЯ                               |
+------------------+------------------------------------------------+
| Оптимизация      | На компакте экстремум существует (Вейерштрасс) |
+------------------+------------------------------------------------+
| Численные методы | Сходимость через подпоследовательности         |
+------------------+------------------------------------------------+
| Физика           | Компактное фазовое пр-во = замкнутая система   |
+------------------+------------------------------------------------+

 Термодинамика:
   Конечный резервуар (компактная область) vs бесконечная среда.
   Свойства решений уравнения теплопроводности существенно зависят
   от компактности области.


===============================================================================
Топологические инварианты — как различать пространства
===============================================================================

 Проблема: как доказать, что пространства разные?


 Гомеоморфизм показывает, что пространства одинаковы.
 Но как доказать, что гомеоморфизма не существует?

 Идея: Сопоставить пространству число или группу (инвариант).
       Если инварианты разные — пространства точно разные.

 Инвариант = свойство, сохраняющееся при гомеоморфизмах.


 Простые инварианты
+-------------------------+---------------------------------------------------+
| ИНВАРИАНТ               | ПРИМЕНЕНИЕ                                        |
+-------------------------+---------------------------------------------------+
|                         |                                                   |
| Число точек |X|         | |X| ≠ |Y| ⇒ X ≇ Y (для конечных)                  |
|                         |                                                   |
+-------------------------+---------------------------------------------------+
|                         |                                                   |
| Связность               | X связно, Y нет ⇒ X ≇ Y                           |
|                         | Пример: (0,1) ≇ (0,1)∪(2,3)                       |
|                         |                                                   |
+-------------------------+---------------------------------------------------+
|                         |                                                   |
| Компактность            | X компактно, Y нет ⇒ X ≇ Y                        |
|                         | Пример: [0,1] ≇ (0,1)                             |
|                         |                                                   |
+-------------------------+---------------------------------------------------+
|                         |                                                   |
| Число компонент π₀      | π₀(X) ≠ π₀(Y) ⇒ X ≇ Y                             |
|                         |                                                   |
+-------------------------+---------------------------------------------------+

 Проблема: Эти инварианты слишком грубые.
 S¹ и S² — обе связны и компактны, но разные. Нужны более тонкие инварианты.


 Главные (тонкие) инварианты
+---------------------+--------------------------------------+
| ИНВАРИАНТ           | ЧТО ИЗМЕРЯЕТ                         |
+---------------------+--------------------------------------+
| π₁ (фунд. группа)   | "Группа петель" — различает S¹ от S² |
| χ (Эйлерова хар-ка) | V − E + F — число "сетки"            |
| Hₙ (гомологии)      | "Дырки" разных размерностей          |
+---------------------+--------------------------------------+

-------------------------------------------------------------------------------
 Фундаментальная группа π₁ — подробное объяснение
-------------------------------------------------------------------------------

 Интуиция: Представьте, что вы привязали верёвку к точке и пошли гулять
 по пространству. Вернулись в начало. Можно ли стянуть верёвку в точку,
 не разрывая и не выходя из пространства?

   На плоскости: на плоскости с дыркой:

      ╭-----╮                      ╭-----╮
     ╱       ╲                    ╱   ●   ╲   ← дырка
    |    ●    |                  |  ╱   ╲  |
    |   start |                  | |     | |
     ╲       ╱                    ╲ ╲   ╱ ╱
      ╰-----╯                      ╰-----╯

   Можно стянуть → петля        Нельзя стянуть → петля
   "тривиальная"                "нетривиальная"


 Формальное определение:

 Петля в X с базовой точкой x₀ — это непрерывное отображение
   γ: [0,1] → X,  где γ(0) = γ(1) = x₀

 Две петли γ и δ называются гомотопными (γ ≃ δ), если одну можно
 непрерывно деформировать в другую, не разрывая и не отпуская x₀.

 Гомотопия = семейство петель H(s,t), где:
   • H(0,t) = γ(t)  — начинаем с γ
   • H(1,t) = δ(t)  — заканчиваем на δ
   • H(s,0) = H(s,1) = x₀  — базовая точка зафиксирована

 Фундаментальная группа:

   π₁(X, x₀) = {петли в X из x₀} / {гомотопия}
             = множество классов гомотопных петель

 Групповая операция:

   [γ] · [δ] = [γ * δ]

   где γ * δ = "сначала пройти γ, потом δ":

         ⎧ γ(2t)      если 0 ≤ t ≤ ½
   (γ*δ)(t) = ⎨
         ⎩ δ(2t−1)    если ½ ≤ t ≤ 1

   • Нейтральный элемент: константная петля [x₀]
   • Обратный элемент: [γ]⁻¹ = [γ⁻¹], где γ⁻¹(t) = γ(1−t)


 Примеры фундаментальных групп
+---------------------+-------------------+-----------------------------------+
| ПРОСТРАНСТВО        | π₁                | ОБЪЯСНЕНИЕ                        |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| ℝⁿ (любое n)        | {e} (тривиальная) | Любую петлю можно стянуть в точку |
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| Sⁿ при n ≥ 2        | {e} (тривиальная) | На сфере (n≥2) любая петля        |
| (сфера)             |                   | стягивается (нет "дырок")         |
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| S¹ (окружность)     | ℤ                 | Петли классифицируются числом     |
|                     |                   | оборотов: ..., −2, −1, 0, 1, 2,...|
|                     |                   | n&gt;0: против часовой             |
|                     |                   | n&lt;0: по часовой                 |
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| T² (тор = бублик)   | ℤ × ℤ             | Две независимых петли:            |
|                     |                   | "вокруг дырки" и "сквозь дырку"   |
|                     |                   |                                   |
|                     |                   |   ╭----------╮                    |
|                     |                   |  ╱  ╭----╮    ╲                   |
|                     |                   | |  | ●→→→|     |  ← петля a       |
|                     |                   | |   ╰----╯     |                  |
|                     |                   |  ╲    ↑       ╱   ← петля b       |
|                     |                   |   ╰----------╯                    |
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| ℝ² \ {0}            | ℤ                 | Плоскость без точки ≃ окружность  |
| (плоскость без 0)   |                   | Петли = обороты вокруг дырки      |
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| "Восьмёрка"         | F₂                | Свободная группа от 2 образующих  |
| S¹ ∨ S¹             | (свободная)       | Некоммутативна: ab ≠ ba.          |
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+
|                     |                   |                                   |
| ℝP² (проективная    | ℤ/2               | Есть петля, не стягиваемая,       |
| плоскость)          |                   | но дважды пройденная — стягивается|
|                     |                   |                                   |
+---------------------+-------------------+-----------------------------------+

-------------------------------------------------------------------------------
 Почему π₁(S¹) = ℤ — подробное объяснение
-------------------------------------------------------------------------------

 Окружность S¹ = {e^{iθ} : θ ∈ [0, 2π)} ⊂ ℂ
 Базовая точка: x₀ = 1 (при θ = 0)

 Петля с n оборотами: γₙ(t) = e^{2πint}, t ∈ [0,1]

   n = 0:  γ₀(t) = 1 (стоим на месте)
   n = 1:  γ₁(t) = e^{2πit} (один оборот против часовой)
   n = −1: γ₋₁(t) = e^{−2πit} (один оборот по часовой)
   n = 2:  γ₂(t) = e^{4πit} (два оборота против часовой)

 Теорема: γₙ ≃ γₘ ⟺ n = m

 Интуитивно: нельзя "размотать" оборот, не разрывая петлю.

 Групповая операция: [γₙ] · [γₘ] = [γₙ₊ₘ]

 Это в точности группа (ℤ, +)!

 Следствие: S¹ ≇ S² (сфера)
   π₁(S¹) = ℤ ≠ {e} = π₁(S²)
   Разные группы ⇒ пространства не гомеоморфны.

-------------------------------------------------------------------------------
 Применения фундаментальной группы
-------------------------------------------------------------------------------

 1. Топология: Различение пространств
    π₁(X) ≠ π₁(Y) ⇒ X ≇ Y

 2. Теорема Борсука-Улама:
    На поверхности Земли есть две антиподальные точки с одинаковыми
    температурой и давлением. (Следует из π₁(ℝP²) = ℤ/2)

 3. Теория узлов:
    π₁(ℝ³ \ узел) различает узлы (какие узлы можно развязать?)

 4. Физика:
    • Дефекты в кристаллах классифицируются π₁
    • Вихри в сверхтекучем гелии: π₁(пр-во параметров) = ℤ
    • Магнитные монополи: π₂(пр-во параметров)

 5. Покрытия:
    Накрывающие пространства ↔ подгруппы π₁
    Универсальное накрытие ↔ π₁ = {e}

-------------------------------------------------------------------------------
 Высшие гомотопические группы πₙ
-------------------------------------------------------------------------------

 π₁ измеряет "дырки для петель". А что если использовать сферы?

   π₁(X) — классы отображений S¹ → X   (петли)
   π₂(X) — классы отображений S² → X   (сферы)
   πₙ(X) — классы отображений Sⁿ → X   (n-сферы)

 Примеры:
 +------------+----------------------------------------+
 | ГРУППА     | ЗНАЧЕНИЕ                               |
 +------------+----------------------------------------+
 | π₁(S¹) = ℤ | Петля может обойти окружность n раз    |
 | π₁(S²) = 0 | На сфере любая петля стягивается       |
 | π₂(S²) = ℤ | S² может "обернуть" S² целое число раз |
 | π₃(S²) = ℤ | Расслоение Хопфа. (неожиданно ≠ 0)     |
 | πₙ(Sⁿ) = ℤ | Тождественное отображение генерирует   |
 +------------+----------------------------------------+

 Глубокий факт: π₃(S²) = ℤ ≠ 0

   Это значит, что 3-сферу можно нетривиально отобразить на 2-сферу.
   Это отображение называется расслоение Хопфа: S³ → S² со слоем S¹.
   Каждая точка S² — окружность в S³.

 В физике:
   • π₂ — классификация магнитных монополей
   • π₃ — классификация инстантонов
   • Расслоение Хопфа — связано со спином электрона

-------------------------------------------------------------------------------
 Гомологии — алгебра "дырок" в пространстве
-------------------------------------------------------------------------------

 Интуиция: Гомологии отвечают на вопрос "какие дырки есть в пространстве?"

   H₀ считает компоненты связности (сколько отдельных кусков)
   H₁ считает тоннели (дырки, через которые можно продеть верёвку)
   H₂ считает полости (замкнутые пустоты, как внутри мяча)

-------------------------------------------------------------------------------
 Ключевая идея: цикл vs граница
-------------------------------------------------------------------------------

 Цикл = замкнутый контур (начало совпадает с концом)
 Граница = контур, который ограничивает какую-то область

 Пример на плоскости с дыркой:

        +-----------------+          +-----------------+
        |    ╭---╮        |          |                 |
        |   ╱     ╲   γ   |          |    ╭---╮        |
        |  |   ●   |←-----|          |   ╱     ╲   δ   |
        |   ╲     ╱       |          |  |       |←-----|
        |    ╰---╯        |          |   ╲     ╱       |
        +-----------------+          |    ╰---╯        |
        γ обходит дырку ●            +-----------------+
                                     δ не обходит дырку

   γ — цикл, но не граница        δ — цикл и граница
   (нельзя "заполнить" — там дырка)  (можно заполнить диском)

   H₁ = {циклы} / {границы} = "циклы, которые нельзя заполнить"

   Для плоскости с дыркой: H₁ = ℤ (один генератор — обход дырки)
   Для обычной плоскости: H₁ = 0 (все циклы можно заполнить)

-------------------------------------------------------------------------------
 Конструкция: от склейки к алгебре
-------------------------------------------------------------------------------

 Идея гомологий — перевести геометрию в линейную алгебру.
 Пространство нарезается на простые куски, куски записываются
 формальными суммами, а вопрос «есть ли дырка?» превращается
 в вопрос «разрешима ли система линейных уравнений?».

 Шаг 1: Нарезка на симплексы

 Симплекс — минимальный «кирпич» каждой размерности:

   • 0-симплекс = точка        ●
   • 1-симплекс = отрезок      ●---●
   • 2-симплекс = треугольник  △
   • 3-симплекс = тетраэдр     ▲

 Любое «приличное» пространство можно разрезать на симплексы,
 склеенные по целым граням. Склейка двух симплексов — это их
 объединение, при котором общая часть является целой гранью
 какой-то размерности. Результат — симплициальный комплекс.

 Шаг 2: Ориентация — откуда берутся знаки

 Чтобы алгебра работала, симплексы должны быть ориентированы:

   • Точка: знак + или −
   • Отрезок: выбрано направление (начало → конец)
   • Треугольник: направление обхода (по или против часовой)
   • Тетраэдр: согласованная ориентация граней

 Ориентация — не украшение, а необходимость. Без неё невозможно
 определить знаки, и вся конструкция разваливается. Смена ориентации
 эквивалентна умножению на −1.

 Ключевое свойство: при склейке двух ориентированных треугольников
 вдоль общего ребра это ребро входит в каждый треугольник
 с противоположными ориентациями — и сокращается в сумме.
 Все внутренние рёбра исчезают, остаётся только внешняя граница.

       A                      A---D
      ╱ ╲    склейка вдоль   ╱ ╲ ╱    ∂ = внешний контур
     ╱ → ╲   ребра AC:      ╱ → ╲     (AC сократилось)
    B-----C                 B-----C

 Шаг 3: Цепи — формальные суммы

 Цепь размерности k — это формальная сумма ориентированных
 k-симплексов с целыми коэффициентами:

   c = n₁σ₁ + n₂σ₂ + ... + nₘσₘ,   nᵢ ∈ ℤ

 Коэффициент nᵢ = −1 означает тот же симплекс с обратной ориентацией.
 Множество всех k-цепей обозначают Cₖ. Это абелева группа:
   • (AB + BC) + (CD) = AB + BC + CD
   • Нулевая цепь: 0
   • Обратная: −(AB) = BA (обратная ориентация)

 Шаг 4: Граничный оператор ∂

 Оператор ∂ берёт ориентированную границу:

   ∂(отрезок AB) = B − A  (конец минус начало)

   ∂(треугольник ABC) = BC + CA + AB  (обход по границе)

           A
          ╱ ╲           ∂△ = AB + BC + CA
         ╱   ╲          (замкнутый контур)
        B-----C

   ∂(тетраэдр ABCD) = BCD − ACD + ABD − ABC  (четыре грани со знаками)

 Свойства ∂:
   • Линейность: ∂(c₁ + c₂) = ∂c₁ + ∂c₂
   • Понижение размерности: ∂: Cₖ → Cₖ₋₁
   • ∂∂ = 0 (граница границы пуста)

 Последнее — не магия, а следствие ориентации. Проверим:

   ∂(∂ △ABC) = ∂(AB + BC + CA)
             = (B−A) + (C−B) + (A−C)
             = 0  ✓

 Каждая вершина входит ровно два раза: как начало одного ребра
 и как конец другого. Знаки противоположны — всё сокращается.
 Это работает в любой размерности: ∂ₖ₋₁ ∘ ∂ₖ = 0.

 Шаг 5: Цепной комплекс и гомологии

 Итого имеем последовательность групп и операторов:

   ... → Cₖ₊₁ →∂ₖ₊₁ Cₖ →∂ₖ Cₖ₋₁ → ...

 Из ∂∂ = 0 следует: Im(∂ₖ₊₁) ⊆ ker(∂ₖ). Каждая граница — цикл.
 Вопрос: верно ли обратное? Всякий ли цикл — граница?

 Если да — дырок нет. Если нет — «лишние» циклы и есть дырки.

   Zₖ = ker(∂ₖ)    — циклы (цепи без границы)
   Bₖ = Im(∂ₖ₊₁)   — границы (цепи, являющиеся чьей-то границей)

   Hₖ = Zₖ / Bₖ    — k-я группа гомологий

 Hₖ измеряет зазор между «быть циклом» и «быть границей».
 Если Hₖ = 0 — все k-циклы являются границами (нет k-дырок).
 Если Hₖ ≠ 0 — есть циклы, которые нельзя заполнить.

 Связь с линейной алгеброй: ∂ₖ — это матрица (огромная, разреженная,
 почти все элементы 0, остальные ±1). Циклы = ядро матрицы.
 Границы = образ другой матрицы. Гомология = ядро/образ.
 Вся задача сводится к линейной алгебре, хотя матрицы гигантские.

 Пример: тор T²

   H₁(T²) = ℤ ⊕ ℤ — два независимых генератора:
   [меридиан] и [параллель]. Любой цикл на торе гомологичен
   n·[меридиан] + m·[параллель] для целых n, m.

   Меридиан — цикл (замкнут), но не граница: его нельзя
   «заполнить» диском, оставаясь на поверхности тора.

 Примеры:
 +-----------------+----+-----+----+------------------+
 | ПРОСТРАНСТВО    | H₀ | H₁  | H₂ | ИНТЕРПРЕТАЦИЯ    |
 +-----------------+----+-----+----+------------------+
 | Точка           | ℤ  | 0   | 0  | 1 кусок, нет дыр |
 | Окружность S¹   | ℤ  | ℤ   | 0  | 1 тоннель        |
 | Сфера S²        | ℤ  | 0   | ℤ  | 1 полость        |
 | Тор T²          | ℤ  | ℤ⊕ℤ | ℤ  | 2 тоннеля,1 пол. |
 | Бублик (полный) | ℤ  | ℤ   | 0  | 1 тоннель        |
 +-----------------+----+-----+----+------------------+

 Связь с эйлеровой характеристикой:

   χ = rank(H₀) − rank(H₁) + rank(H₂) − ...

   Для сферы: χ = 1 − 0 + 1 = 2  ✓
   Для тора:  χ = 1 − 2 + 1 = 0  ✓

-------------------------------------------------------------------------------
 Когомологии — двойственный взгляд через интегрирование
-------------------------------------------------------------------------------

 Гомологии: "какие замкнутые поверхности есть в пространстве?"
 Когомологии: "какие формы можно интегрировать по этим поверхностям?"

 Интуиция:

   Пусть есть 1-форма ω (как df = "градиент").
   Интеграл ∫_γ ω зависит только от класса γ в H₁.

   Если γ₁ ≃ γ₂ (гомологичны), то ∫_γ₁ ω = ∫_γ₂ ω.

 Замкнутая vs точная форма:

   Замкнутая форма: dω = 0
   Точная форма: ω = df для какой-то функции f

   Точная ⇒ замкнутая (потому что d² = 0)
   Но не наоборот. На пространствах с дырками есть замкнутые,
   но не точные формы.

 Пример — dθ на окружности:

   Форма dθ на S¹ — замкнутая (d(dθ) = 0).
   Но ∫_{S¹} dθ = 2π ≠ 0.

   Если бы dθ = df, то ∫_{S¹} dθ = f(конец) − f(начало) = 0.
   Противоречие. Значит dθ не точная на S¹.

 Когомологии де Рама:

   Hᵏ_dR(M) = {замкнутые k-формы} / {точные k-формы}
            = "формы, которые нельзя представить как df"

 Спаривание (теорема де Рама):

   ⟨ω, γ⟩ = ∫_γ ω  — интеграл формы по циклу

   Это задаёт изоморфизм: Hᵏ_dR(M) ≅ Hₖ(M; ℝ)*

   Когомологии = "линейные функционалы на гомологиях"
   (двойственность в действии)

-------------------------------------------------------------------------------
 Cw-комплексы — конструктор для пространств
-------------------------------------------------------------------------------

 Идея: Строить пространства из простых кусков — клеток (дисков).
       Как LEGO: начинаем с точек, приклеиваем отрезки, потом диски, и т.д.

 Клетки:
   0-клетка = точка                ●
   1-клетка = открытый интервал    ●-------●  (концы — 0-клетки)
   2-клетка = открытый диск        ◯  (граница — 1-клетки)
   n-клетка = открытый n-диск      (граница — (n−1)-клетки)

 "Приклеивание" — что это значит:

   Берём n-диск Dⁿ и отображаем его границу ∂Dⁿ = Sⁿ⁻¹
   на уже построенный скелет X^(n-1).

   Новое пространство = X^(n-1) ∪_f Dⁿ  (склейка по f: Sⁿ⁻¹ → X^(n-1))

 Пример: как построить сферу S²

   Способ 1 (минимальный):

     Шаг 0: Одна 0-клетка (точка) ●
     Шаг 2: Приклеиваем 2-клетку, вся граница идёт в эту точку

             ●  ----------►   ◯
          (точка)         (вся граница    (результат = S²)
                           схлопнута
                           в точку)

     S² = 1 нульмерная клетка + 1 двумерная клетка

   Способ 2 (как глобус):

     полюса (0-клетки) + 1 меридиан (1-клетка) +
     полусферы (2-клетки)

 Пример: как построить тор T²

     Тор = квадрат со склеенными противоположными сторонами:

        a --------► a              После склейки:
        |           |                    ╭-------╮
      b |           | b                 ╱         ╲
        |           |                  |  ╭-----╮  |
        ▼           ▼                  |  |     |  |
        a --------► a                   ╲ ╰-----╯  ╱
                                         ╰--------╯

     T² = 1 точка + 2 петли (a и b) + 1 квадрат
        = 1·(0-кл) + 2·(1-кл) + 1·(2-кл)

 Зачем cw-комплексы:

   1. Легко считать гомологии: H_n зависит только от n-клеток и (n±1)-клеток
   2. Эйлерова характеристика: χ = (число 0-кл) − (число 1-кл) + (число 2-кл)
   3. Многие пространства имеют простую клеточную структуру

   Для S²: χ = 1 − 0 + 1 = 2  ✓
   Для T²: χ = 1 − 2 + 1 = 0  ✓

-------------------------------------------------------------------------------
 Группы гомотопий сфер — почему это сложно и интересно
-------------------------------------------------------------------------------

 Вопрос: Сколькими существенно разными способами можно отобразить
         одну сферу на другую?

 πₙ(Sᵐ) = классы отображений Sⁿ → Sᵐ (с точностью до деформации)

 Простые случаи (интуиция работает):

   π₁(S¹) = ℤ:  Петлю на окружности можно обмотать 0, 1, 2, ... раз.
               Число оборотов — целое число.

   π₁(S²) = 0:  Любую петлю на сфере можно стянуть в точку
               (нет "дырки", за которую зацепиться).

   πₙ(Sⁿ) = ℤ:  Сферу на себя можно "обернуть" целое число раз.
               (Степень отображения)

-------------------------------------------------------------------------------
 Сюрприз: π₃(S²) = ℤ ≠ 0
-------------------------------------------------------------------------------

   Казалось бы: 3-мерная сфера "больше" 2-мерной. Любое отображение
   S³ → S² должно сжимать лишнее измерение, всё должно стягиваться.

   Но нет. Существует нетривиальное отображение — расслоение Хопфа:

     h: S³ → S²,  где прообраз каждой точки — окружность S¹

   Представьте: S³ "разлинована" непересекающимися окружностями,
   и каждая окружность соответствует точке на S².

     S³ = ⋃ (окружностей),  индексированных точками S²

   Эти окружности зацеплены друг с другом. Каждые две — как звенья цепи.
   Поэтому отображение нельзя "распутать" в константу.

   Физика: Расслоение Хопфа описывает топологию спина электрона.

 Таблица групп πₙ₊ₖ(Sⁿ):
 +-----+---+----+------+--------+-----+-----+
 | k\n | 1 | 2  | 3    | 4      | 5   | ∞   |
 +-----+---+----+------+--------+-----+-----+
 | 0   | ℤ | ℤ  | ℤ    | ℤ      | ℤ   | ℤ   |
 | 1   | 0 | ℤ  | ℤ₂   | ℤ₂     | ℤ₂  | ℤ₂  |
 | 2   | 0 | ℤ₂ | ℤ₂   | ℤ₂     | ℤ₂  | ℤ₂  |
 | 3   | 0 | ℤ₂ | ℤ₁₂  | ℤ⊕ℤ₁₂  | ℤ₂₄ | ℤ₂₄ |
 +-----+---+----+------+--------+-----+-----+

   Столбец ∞ — стабильные группы: при n ≥ k+2 ответ не меняется.

 Почему такие странные числа (ℤ₁₂, ℤ₂₄)?

   Это глубокий результат. Откуда 24? Связь с:
   • 24 = размерность решётки Лича (теория кодов)
   • 24 делителей модулярных форм (теория чисел)
   • 24 в формуле Римана для ζ(−1) = −1/12 (через 2·12 = 24)

   Группы гомотопий сфер — окно в глубокие связи разных областей математики.

-------------------------------------------------------------------------------
 Стабилизация и надстройка — почему таблица "успокаивается"
-------------------------------------------------------------------------------

 Надстройка Σ: берём пространство X и "подвешиваем" его:

   ΣX = (X × [0,1]) / (X×{0} ~ точка, X×{1} ~ точка)
       = "два конуса, склеенных по X"

   Пример: ΣS⁰ = S¹  (два конуса над двумя точками = окружность)
          ΣS¹ = S²  (два конуса над окружностью = сфера)
          ΣSⁿ = Sⁿ⁺¹

 Теорема Фрейденталя:

   Надстройка индуцирует гомоморфизм: Σ: πₖ(Sⁿ) → πₖ₊₁(Sⁿ⁺¹)

   При n ≥ k+2 этот гомоморфизм — изоморфизм.

   Поэтому в таблице: π₃(S²) → π₄(S³) → π₅(S⁴) → ...
   начиная с π₄(S³) группа стабилизируется = ℤ₂.

 Стабильные группы πₖˢ:

   πₖˢ = lim πₙ₊ₖ(Sⁿ)  при n → ∞

   Это "настоящие" инварианты, очищенные от размерных эффектов.
   Вычисление πₖˢ — одна из главных задач алгебраической топологии.

 Инструменты вычисления:

   • Теорема Гуревича: связывает πₙ и Hₙ для "хороших" пространств
   • Точные последовательности: связывают π для расслоений F → E → B
   • Спектральные последовательности: систематический метод вычисления
   • Пространства K(G,n) Эйленберга-Маклейна: стандартные блоки

-------------------------------------------------------------------------------
 Эйлерова характеристика — число, определяющее форму
-------------------------------------------------------------------------------

 Определение (для полиэдров):

   χ = V − E + F

   V = число вершин (vertices)
   E = число рёбер (edges)
   F = число граней (faces)

 Примеры:
 +-----------+----+----+----+---+
 | ФИГУРА    | V  | E  | F  | χ |
 +-----------+----+----+----+---+
 | Тетраэдр  | 4  | 6  | 4  | 2 |
 | Куб       | 8  | 12 | 6  | 2 |
 | Октаэдр   | 6  | 12 | 8  | 2 |
 | Додекаэдр | 20 | 30 | 12 | 2 |
 | Икосаэдр  | 12 | 30 | 20 | 2 |
 +-----------+----+----+----+---+

 Теорема Эйлера: Для любого выпуклого полиэдра χ = 2.

 Более того: χ — топологический инвариант. Зависит только от "формы"
 поверхности, а не от разбиения на грани.

 Эйлерова характеристика поверхностей:
 +-----------------------+-------+---------------------------------------+
 | ПОВЕРХНОСТЬ           |  χ    | ПОЯСНЕНИЕ                             |
 +-----------------------+-------+---------------------------------------+
 | Сфера S²              |  2    | "Шар": нет дырок                      |
 +-----------------------+-------+---------------------------------------+
 | Тор T² (бублик)       |  0    | Одна "дырка"                          |
 +-----------------------+-------+---------------------------------------+
 | Двойной тор           | −2    | Две "дырки"                           |
 |                       |       |                                       |
 |   ╭---------------╮   |       |                                       |
 |  ╱  ╭---╮   ╭---╮  ╲  |       |                                       |
 | |   |   |   |   |   | |       |                                       |
 |  ╲  ╰---╯   ╰---╯  ╱  |       |                                       |
 |   ╰---------------╯   |       |                                       |
 |                       |       |                                       |
 +-----------------------+-------+---------------------------------------+
 | g-тор (род g)         | 2−2g  | g "дырок"                             |
 +-----------------------+-------+---------------------------------------+
 | Проективная плоскость |  1    | Неориентируемая                       |
 | ℝP²                   |       |                                       |
 +-----------------------+-------+---------------------------------------+
 | Бутылка Клейна        |  0    | Неориентируемая, χ = 0 как у тора,    |
 |                       |       | но π₁ другая.                         |
 +-----------------------+-------+---------------------------------------+

 Формула: χ = 2 − 2g (для ориентируемых поверхностей рода g)

 Что такое род g?
   Род = "число дырок" в поверхности.
   Сфера: g=0 (нет дырок). Тор: g=1 (одна дырка, как в бублике).
   g-тор получается из сферы "прикреплением g ручек".
   Формально: g = (2 − χ)/2 для ориентируемых замкнутых поверхностей.

 Связь с другими инвариантами:

   χ = Σ (−1)ⁿ · rank(Hₙ)     (через группы гомологий)

 Применения:

   • Теорема о причёсывании: на S² (χ=2) нельзя причесать ёжика
     (векторное поле обязательно имеет нули)
   • На торе (χ=0) причесать можно.
   • Формула Гаусса-Бонне: ∫∫ K dA = 2πχ (связь кривизны и топологии)

-------------------------------------------------------------------------------
 Классификация компактных поверхностей
-------------------------------------------------------------------------------

 Связная сумма M # N (операция над поверхностями):
   1. Вырезать из M и N по маленькому диску
   2. Склеить M и N по границам этих дисков
   Результат: новая поверхность. Пример: тор = S² # (ручка).

 Теорема (классификация):
 Каждая связная компактная поверхность гомеоморфна ровно одной из:

   Ориентируемые:
   • Сфера S² (род 0)
   • Тор T² (род 1)
   • Двойной тор (род 2)
   • . g-кратный тор (род g)

   Неориентируемые:
   • Проективная плоскость ℝP²
   • Бутылка Клейна
   • . (связные суммы с ℝP²)

 Ориентируемость — можно ли определить "правое" и "левое"?

   На сфере или торе: Да — обойдя вокруг, правое останется правым.

   На ленте Мёбиуса: Нет — обойдя вокруг, правое станет левым.

       Лента Мёбиуса:

       Возьмите полоску бумаги,    ╭-----------------╮
       перекрутите на 180° и       |   →  →  →  →    | ← одна сторона
       склейте концы.              ╰-----------------╯
                                         ↓ склеить с перекрутом
       Результат: поверхность      ╭-----------------╮
       с одной стороной.           |   ←  →  →  ←    | ← та же сторона.
                                   ╰-----------------╯

   Бутылка Клейна = лента Мёбиуса, "заклеенная" в трубку
   (нельзя вложить в ℝ³ без самопересечения)

 Инварианты, различающие поверхности:
 +----------------+---+--------+---------------+
 | ПОВЕРХНОСТЬ    | χ | π₁     | ОРИЕНТИРУЕМА? |
 +----------------+---+--------+---------------+
 | Сфера S²       | 2 | {e}    | Да            |
 | Тор T²         | 0 | ℤ×ℤ    | Да            |
 | Бутылка Клейна | 0 | другая | Нет           |
 | ℝP²            | 1 | ℤ/2    | Нет           |
 +----------------+---+--------+---------------+

 Важно: χ и π₁ вместе полностью классифицируют компактные поверхности.


-------------------------------------------------------------------------------
Таблица инвариантов — чем различать пространства
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Идея инварианта
-------------------------------------------------------------------------------

 Проблема: как доказать, что два пространства разные?
   Бублик ≠ сфера — это "видно", но нужен строгий аргумент.

 Решение: сопоставить пространству число или группу.
   Если числа разные → пространства точно разные.

 Инвариант = то, что не меняется при деформации (без разрывов и склеек).


 Главные инварианты с объяснениями
+-------------------+---------------------------------------------------------+
| ИНВАРИАНТ         | ЧТО ОЗНАЧАЕТ ПРОСТЫМИ СЛОВАМИ                           |
+-------------------+---------------------------------------------------------+
|                   |                                                         |
| π₀ (связность)    | Сколько кусков? Если объект распадается на части.       |
|                   | π₀(● ●) = 2 (две точки), π₀(○) = 1 (один круг)          |
|                   |                                                         |
+-------------------+---------------------------------------------------------+
|                   |                                                         |
| π₁ (фунд. группа) | Какие петли нельзя стянуть в точку?                     |
|                   | На плоскости — все петли стягиваются: π₁ = 0            |
|                   | На окружности — петля вокруг не стянется: π₁ = ℤ        |
|                   | На бублике — две независимые петли: π₁ = ℤ×ℤ            |
|                   |                                                         |
+-------------------+---------------------------------------------------------+
|                   |                                                         |
| χ (Эйлер)         | Формула V − E + F для разбиения на многоугольники.      |
|                   | Сфера: χ = 2 (любое разбиение)                         |
|                   | Бублик: χ = 0                                           |
|                   | Поверхность с g дырками: χ = 2 − 2g                     |
|                   |                                                         |
+-------------------+---------------------------------------------------------+
|                   |                                                         |
| Ориентируемость   | Есть ли "две стороны"?                                  |
|                   | Сфера, бублик — ДА (можно покрасить в два цвета)        |
|                   | Лента Мёбиуса, бутылка Клейна — нет (одна сторона)      |
|                   |                                                         |
+-------------------+---------------------------------------------------------+
|                   |                                                         |
| Размерность       | Сколько чисел нужно, чтобы задать точку?                |
|                   | Прямая: dim = 1, плоскость: dim = 2, пространство: dim=3|
|                   |                                                         |
+-------------------+---------------------------------------------------------+
|                   |                                                         |
| Компактность      | Ограничено и замкнуто?                                  |
|                   | Сфера — компактна (конечная), ℝ — нет (бесконечна)      |
|                   |                                                         |
+-------------------+---------------------------------------------------------+

-------------------------------------------------------------------------------
 Как использовать
-------------------------------------------------------------------------------

 Инвариант различается  →  пространства точно разные.
   χ(сфера) = 2 ≠ 0 = χ(бублик)  →  сфера ≇ бублик ✓

 Инварианты совпадают   →  ещё не факт, что одинаковые.
   Нужно проверять другие инварианты или искать явный изоморфизм.

 Пример: Как доказать, что кружка = бублик?
   χ = 0 у обоих, π₁ = ℤ у обоих, ориентируемы оба.
   Но это не доказательство. Нужно построить деформацию.


-------------------------------------------------------------------------------
Резюме: центральные понятия топологии
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Иерархия понятий
-------------------------------------------------------------------------------

   Множество X
       |
       | + топология τ (семейство "открытых" множеств)
       ↓
   Топологическое пространство (X, τ)
       |
       +--→ Открытые/закрытые множества
       |    Граница, внутренность, замыкание
       |
       +--→ Непрерывные отображения f: X → Y
       |    (прообраз открытого открыт)
       |
       +--→ Гомеоморфизм (топологическая эквивалентность)
       |    (непрерывная биекция с непрерывным обратным)
       |
       +--→ Связность (нельзя разбить на два открытых)
       |
       +--→ Компактность (конечные подпокрытия)
       |
       +--→ Инварианты (π₁, Hₙ, χ, ...)
            для различения пространств

-------------------------------------------------------------------------------
 Связь с другими структурами
-------------------------------------------------------------------------------

                    Топология (близость)
                         |
            + метрика    |
            (расстояние) |
                         ↓
                Метрическое пространство
                         |
       + лин. структура  |
         + норма (‖x‖,   |
       d(x,y) = ‖x−y‖)  ↓
              Нормированное пространство
                         |
          + полнота      |
        (все пределы     |
         существуют)     ↓
               Банахово пространство
                         |
        + скал. произв.  |
        (‖x‖²=⟨x,x⟩)    ↓
               Гильбертово пространство

 Каждый уровень наследует топологию от предыдущего,
 но добавляет дополнительную структуру.

-------------------------------------------------------------------------------
 Практические следствия
-------------------------------------------------------------------------------

 Для инженера / прикладника:

 • Непрерывность функций — ключ к численным методам
   (близкие входы дают близкие выходы = устойчивость)

 • Компактность — гарантия существования решений
   (экстремумы существуют, последовательности сходятся)

 • Связность — "целостность" системы
   (можно ли перейти из одного состояния в другое?)

 • Топологические инварианты — "форма" пространства параметров
   (сколько "дырок" в допустимой области?)

-------------------------------------------------------------------------------
 Полная схема вложенности пространств
-------------------------------------------------------------------------------

 Каждый уровень добавляет структуру и ограничивает класс пространств:

 +-------------------------------------------------------------------------+
 |                                                                         |
 |   МНОЖЕСТВО                                                             |
 |       |                                                                 |
 |       | + топология τ                                                   |
 |       ↓                                                                 |
 |   ТОПОЛОГИЧЕСКОЕ ПРОСТРАНСТВО                                           |
 |       |                                                                 |
 |       | + аксиома T₂ (хаусдорфовость)                                   |
 |       ↓                                                                 |
 |   хаусдорфово пространство (единственность пределов)                    |
 |       |                                                                 |
 |       | + метризуемость (топология порождается метрикой)                |
 |       ↓                                                                 |
 |   метрическое пространство (понятие расстояния)                         |
 |       |                                                                 |
 |       | + полнота (все посл-ти Коши сходятся)                           |
 |       ↓                                                                 |
 |   ПОЛНОЕ МЕТРИЧЕСКОЕ ПРОСТРАНСТВО                                       |
 |       |                                                                 |
 |       | + линейная структура + норма                                    |
 |       ↓                                                                 |
 |   банахово пространство (полное нормированное)                          |
 |       |                                                                 |
 |       | + норма из скалярного произведения                              |
 |       ↓                                                                 |
 |   гильбертово пространство (полное со скал. произв.)                    |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Примеры на каждом уровне:
 +--------------------+----------------------------------------+
 | УРОВЕНЬ            | ПРИМЕРЫ                                |
 +--------------------+----------------------------------------+
 | Топологическое     | ℝⁿ, любое множество с любой топологией |
 +--------------------+----------------------------------------+
 | Хаусдорфово        | ℝⁿ, многообразия, но не антидискретное |
 +--------------------+----------------------------------------+
 | Метрическое        | ℝⁿ, C[0,1], ℓᵖ, любое с метрикой      |
 +--------------------+----------------------------------------+
 | Полное метрическое | ℝⁿ, C[0,1], ℓᵖ, но не ℚ, не (0,1)     |
 +--------------------+----------------------------------------+
 | Банахово           | ℝⁿ, C[0,1], ℓᵖ (p≥1), Lᵖ              |
 +--------------------+----------------------------------------+
 | Гильбертово        | ℝⁿ, L², ℓ², но не C[0,1], не ℓ¹        |
 +--------------------+----------------------------------------+

 Примечание: Lᵖ — пространство функций с конечным ∫|f|ᵖ. Полное определение
 требует интеграла Лебега. В ℝⁿ можно использовать Римана.

-------------------------------------------------------------------------------
 Что такое норма
-------------------------------------------------------------------------------

 Норма ‖·‖ на векторном пространстве V — это "длина вектора":

   • ‖x‖ ≥ 0,  причём ‖x‖ = 0 ⟺ x = 0
   • ‖αx‖ = |α|·‖x‖           (масштабирование)
   • ‖x + y‖ ≤ ‖x‖ + ‖y‖      (неравенство треугольника)

 Норма порождает метрику: d(x,y) = ‖x − y‖
 Примеры: ‖x‖₂ = √(Σxᵢ²) в ℝⁿ,  ‖f‖₂ = √(∫|f|²) в L²

-------------------------------------------------------------------------------
 Метризуемость — как доказывать, что пространство (не) метризуемо
-------------------------------------------------------------------------------

 Определение:
   Топологическое пространство (X, τ) называется метризуемым, если
   существует метрика d на X, порождающая топологию τ.

-------------------------------------------------------------------------------
 Необходимые условия метризуемости (если нарушены — не метризуемо)
-------------------------------------------------------------------------------

 1. Хаусдорфовость (T₂):
    Метрическое пространство всегда T₂.
    ⇒ Если пространство не хаусдорфово — оно не метризуемо.

    Пример: Антидискретная топология на {a,b} — точки неразделимы.

 2. Первая аксиома счётности:
    В метрическом пространстве каждая точка имеет счётную базу
    окрестностей (шары радиуса 1/n).
    ⇒ Если нет счётной базы окрестностей — не метризуемо.

 3. Секвенциальность:
    В метрическом пространстве замкнутость эквивалентна
    секвенциальной замкнутости (содержит пределы своих последовательностей).
    ⇒ Если есть секвенциально замкнутое, но не замкнутое — не метризуемо.

-------------------------------------------------------------------------------
 Достаточные условия (теоремы о метризуемости)
-------------------------------------------------------------------------------

 Две аксиомы счётности:

   • Первая (A₁): каждая точка имеет счётную базу окрестностей
     (шары радиуса 1/n в метрическом пространстве)

   • Вторая (A₂): вся топология имеет счётную базу
     (любое открытое = объединение элементов счётного семейства)

   A₂ ⇒ A₁, но не наоборот. Пример: несчётное дискретное пространство
   удовлетворяет A₁ (база точки = сама точка), но не A₂.

 Теорема Урысона:
   Регулярное (T₃) + Вторая аксиома счётности ⇒ метризуемо.
   (Нужна счётная база всей топологии, не только окрестностей точек)

 Теорема Нагаты-Смирнова:
   T₃ + σ-локально конечная база ⇒ метризуемо.

-------------------------------------------------------------------------------
 Стратегии доказательства неметризуемости
-------------------------------------------------------------------------------

 Стратегия 1: Нарушение T₂
   Показать, что две точки нельзя разделить непересекающимися окрестностями.
   Пример: X с антидискретной топологией (τ = {∅, X}).

 Стратегия 2: Нет счётной базы окрестностей
   Найти точку, у которой любая счётная система окрестностей
   не является базой.
   Пример: Несчётное произведение ∏ᵢℝ с топологией произведения.

 Стратегия 3: Секвенциальный аргумент
   Найти множество A, которое секвенциально замкнуто,
   но не замкнуто топологически.

 Стратегия 4: Компактность + несчётность
   В компактном метрическом пространстве каждое открытое покрытие
   имеет счётное подпокрытие (свойство Линделёфа).
   ⇒ Если компактно, но нет счётного подпокрытия — не метризуемо.

-------------------------------------------------------------------------------
 Классические примеры
-------------------------------------------------------------------------------

 +--------------------------+-------------+-------------------------------+
 | ПРОСТРАНСТВО             | МЕТРИЗУЕМО? | ПОЧЕМУ                        |
 +--------------------------+-------------+-------------------------------+
 | ℝⁿ (станд. топология)    | ДА          | Евклидова метрика             |
 +--------------------------+-------------+-------------------------------+
 | ℝ (топология Зарисского) | НЕТ         | Не T₂: замкнутые = конечные   |
 +--------------------------+-------------+-------------------------------+
 | ℝ (стрелка, топология    | НЕТ         | Сепарабельно, но нет счётной  |
 | Зоргенфрея)              |             | базы (T₂, но не 2-счётно)    |
 +--------------------------+-------------+-------------------------------+
 | [0,1]^[0,1] (куб Тихон.) | НЕТ         | Нет счётной базы окрестностей |
 +--------------------------+-------------+-------------------------------+
 | βℕ (Стоуна-Чеха)         | НЕТ         | Несчётное дискретное подпр-во |
 |                          |             | в компакте                    |
 +--------------------------+-------------+-------------------------------+
 | ω₁ (первый несчётный     | НЕТ         | Секвенциально компактно,      |
 | ординал)                 |             | но не компактно               |
 +--------------------------+-------------+-------------------------------+

 Пошаговый пример: Доказать, что [0,1]^ℝ не метризуемо

   1. Это несчётное произведение компактов ⇒ компактно (Тихонов).
   2. Предположим, что метризуемо.
   3. Тогда имеет счётную базу окрестностей в каждой точке.
   4. Рассмотрим точку x = (0, 0, 0, ...) — нуль во всех координатах.
   5. Базисная окрестность зависит от конечного числа координат.
   6. Счётная база ⇒ затрагивает счётное множество координат.
   7. Но координат несчётно много ⇒ противоречие.

 Итог: [0,1]^ℝ не метризуемо, т.к. нет счётной базы окрестностей.

-------------------------------------------------------------------------------
 Прикладной пример: связность трубопроводной сети
-------------------------------------------------------------------------------

 Задача: Тепловая сеть города. Нужно понять, что произойдёт при аварии.

            Котельная
               ●===========●===========● Район А
               |           |           |
               |           |           |
               ●===========●===========● Район Б
               |           |           |
               |           |           |
               ●===========●===========● Район В

 Топологический взгляд:

 1. Связность:
    Сеть связна = из любой точки можно добраться до любой другой.
    Если авария разрезает сеть на две части → сеть становится несвязной.

 2. Число независимых циклов = первое число Бетти β₁:

    β₁ = E − V + 1     (для связного графа)
    E = число рёбер (трубопроводов)
    V = число вершин (узлов)

    Для нашей сети: V = 9, E = 12  ⇒  β₁ = 12 − 9 + 1 = 4

    Смысл: Можно отключить 4 трубы без потери связности.
    (при правильном выборе)

 3. Практический вывод:

    • β₁ = 0: древовидная сеть, любая авария отключает часть потребителей
    • β₁ &gt; 0: кольцевая сеть, есть резервные пути
    • Чем больше β₁, тем надёжнее сеть (но дороже строительство)


-------------------------------------------------------------------------------
 Топологическая эквивалентность в теплообменниках:
-------------------------------------------------------------------------------

 Два теплообменника с одинаковой топологией течения — одинаково работают.

   Труба в трубе:     ===============     Противоток: эффективность ~100%
                      ---------------

   Пластинчатый:      +===+ +===+        Противоток с перемешиванием
                      |   | |   |
                      +===+ +===+        эффективность ~95%

   Смесительный:      жидкости            Прямоток (топологически
                      смешиваются         другой) — эффективность ~50%

 Топология течения (противоток/прямоток/перекрёстный) определяет
 теоретический предел эффективности теплообмена.


Топология даёт понятие близости, но не говорит, как измерять и вычислять.
Чтобы работать с пространством количественно — складывать векторы, решать
уравнения, находить проекции — нужна дополнительная структура.

Линейная алгебра добавляет к пространству операции сложения и умножения
на число. Это делает возможными вычисления — и это язык почти всей физики.

===============================================================================
Линейная алгебра — язык линейных преобразований
===============================================================================

Линейная алгебра добавляет к пространству плоскость. Теперь пространство не
просто "связное" (топология) — оно ровное, без кривизны. Можно провести прямую
линию, можно сложить два вектора, можно растянуть вектор в два раза.

В терминах "объект—наблюдатель" линейная алгебра — это место, где наблюдатель
впервые появляется по-настоящему.

-------------------------------------------------------------------------------
Базис — это выбор наблюдателя. Координаты — его язык.
-------------------------------------------------------------------------------

Один и тот же вектор v существует независимо от базиса. Но чтобы записать его
числами (3, 4, 5), нужно выбрать базис. Другой наблюдатель в другом базисе
запишет тот же вектор как (1, 2, 6). Вектор не изменился — изменилась запись.

Матрица перехода между базисами — это словарь для перевода между языками
двух наблюдателей. Формула A' = P⁻¹AP говорит: "вот как выглядит тот же
оператор A глазами нового наблюдателя".

Что инвариантно (не зависит от наблюдателя):
  • Ранг матрицы — сколько независимых направлений она задействует
  • Определитель — во сколько раз меняется объём
  • След — сумма собственных значений
  • Характеристический полином — "ДНК" оператора

Эти инварианты — настоящие свойства объекта. Конкретные числа в матрице —
лишь способ записи, зависящий от базиса.

-------------------------------------------------------------------------------
 Линейная алгебра как взгляд на пространство
-------------------------------------------------------------------------------

 Линейная алгебра видит в пространстве две операции:
   • Сложение векторов (можно складывать точки)
   • Умножение на число (можно растягивать/сжимать)

 Это больше структуры, чем у топологии (только близость),
 но меньше, чем у метрики (конкретные расстояния).

 Ключевой факт: Почти все пространства в физике и инженерии — векторные.
   • Силы можно складывать
   • Скорости можно складывать
   • Состояния в квантовой механике можно складывать


Линейная алгебра — вторая по важности структура после множеств. Она описывает
всё, что можно "складывать" и "растягивать": векторы, функции, матрицы.

Почему это центральная тема:
  • Квантовая механика живёт в векторных пространствах
  • Нелинейные задачи линеаризуются (производная)
  • Данные — это векторы в ℝⁿ
  • Линейные системы решаются явно

-------------------------------------------------------------------------------
 Место в общей картине
-------------------------------------------------------------------------------

 Линейная алгебра — это изучение векторных пространств и
 линейных отображений между ними.

 Почему это важно:
   • Это простейшая структура, где можно складывать и растягивать
   • Линейные задачи решаемы (в отличие от нелинейных)
   • Нелинейные задачи приближаются линейными (производная)
   • Квантовая механика живёт в векторных пространствах

   +--------------------------------+
   | ИЕРАРХИЯ ПРЕОБРАЗОВАНИЙ        |
   +--------------------------------+
   |                                |
   | Произвольные отображения       |
   | ↓ сохраняют непрерывность      |
   | Непрерывные (топология)        |
   | ↓ сохраняют гладкость          |
   | Гладкие (анализ, многообразия) |
   | ↓ сохраняют линейную структуру |
   | Линейные  ← мы здесь           |
   | ↓ сохраняют углы и длины       |
   | Ортогональные (группа O(n))    |
   | ↓ сохраняют ориентацию         |
   | Вращения (группа SO(n))        |
   |                                |
   +--------------------------------+


 Векторное пространство — формальное определение

 +-------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ВЕКТОРНОЕ ПРОСТРАНСТВО                               |
 +-------------------------------------------------------------------+
 |                                                                   |
 | Векторное пространство над полем F — это множество V с двумя      |
 | операциями: сложением (+) и умножением на скаляр (·), такими что: |
 |                                                                   |
 | аксиомы сложения (V — абелева группа по +):                       |
 | (V1) u + v = v + u                    (коммутативность)           |
 | (V2) (u + v) + w = u + (v + w)        (ассоциативность)           |
 | (V3) ∃ 0 ∈ V: v + 0 = v              (нейтральный элемент)        |
 | (V4) ∀v ∃(−v): v + (−v) = 0          (обратный элемент)           |
 |                                                                   |
 | АКСИОМЫ УМНОЖЕНИЯ НА СКАЛЯР:                                      |
 | (V5) α(βv) = (αβ)v                   (ассоциативность)            |
 | (V6) 1·v = v                         (единица поля)               |
 |                                                                   |
 | АКСИОМЫ ДИСТРИБУТИВНОСТИ:                                         |
 | (V7) α(u + v) = αu + αv              (по векторам)                |
 | (V8) (α + β)v = αv + βv              (по скалярам)                |
 |                                                                   |
 +-------------------------------------------------------------------+

 Характеристическое свойство: Векторное пространство допускает:
   • Складывать объекты (параллелограмм)
   • Растягивать/сжимать объекты (умножение на число)
   • и эти операции ведут себя "хорошо" (согласованно)

 Почему именно эти аксиомы:
   Это минимальный набор правил, при которых работает интуиция
   "стрелок, которые можно складывать и растягивать".


 Примеры векторных пространств
+-----------------+-----------------------------+---------------+-------------+
| ПРОСТРАНСТВО    | ЭЛЕМЕНТЫ                    | РАЗМЕРНОСТЬ   | КОММЕНТАРИЙ |
+-----------------+-----------------------------+---------------+-------------+
|                 |                             |               |             |
| ℝⁿ              | (x₁, x₂, ..., xₙ), xᵢ ∈ ℝ    | n             | Стандартный |
|                 |                             |               | пример      |
|                 |                             |               |             |
+-----------------+-----------------------------+---------------+-------------+
|                 |                             |               |             |
| C([a,b])        | Непрерывные функции f: ℝ→ℝ  | ∞             | Функции —   |
|                 | (f+g)(x) = f(x)+g(x)        |               | тоже векторы|
|                 |                             |               |             |
+-----------------+-----------------------------+---------------+-------------+
|                 |                             |               |             |
| ℝ[x]≤n          | Многочлены степени ≤ n      | n + 1         | Базис:      |
|                 | a₀ + a₁x + ... + aₙxⁿ       |               | 1, x, x²,...|
|                 |                             |               |             |
+-----------------+-----------------------------+---------------+-------------+
|                 |                             |               |             |
| M_{m×n}(ℝ)      | Матрицы размера m×n         | m·n           | Базис: Eᵢⱼ  |
|                 |                             |               |             |
+-----------------+-----------------------------+---------------+-------------+
|                 |                             |               |             |
| ℂⁿ              | (z₁, ..., zₙ), zᵢ ∈ ℂ        | n (над ℂ)     | Или 2n над ℝ|
|                 |                             |               |             |
+-----------------+-----------------------------+---------------+-------------+

 Контрпример: Что не является векторным пространством

 +-----------------------+-----------------------------------------------+
 | {(x,y) ∈ ℝ² : x ≥ 0}  | (1,0) ∈ V, но (−1)·(1,0) = (−1,0) ∉ V         |
 | (правая полуплоскость) | Нет замкнутости относительно ×скаляр.         |
 +-----------------------+-----------------------------------------------+


 Линейная независимость и базис

 +----------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ЛИНЕЙНАЯ КОМБИНАЦИЯ                         |
 +----------------------------------------------------------+
 |                                                          |
 | Линейная комбинация векторов v₁, ..., vₖ — это выражение |
 |                                                          |
 | α₁v₁ + α₂v₂ + ... + αₖvₖ,  где αᵢ ∈ F (скаляры)           |
 |                                                          |
 +----------------------------------------------------------+

 +------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ЛИНЕЙНАЯ НЕЗАВИСИМОСТЬ                              |
 +------------------------------------------------------------------+
 |                                                                  |
 | Векторы v₁, ..., vₖ линейно независимы, если из равенства        |
 |                                                                  |
 | α₁v₁ + α₂v₂ + ... + αₖvₖ = 0                                     |
 |                                                                  |
 | следует, что α₁ = α₂ = ... = αₖ = 0.                             |
 |                                                                  |
 | Иначе говоря: единственный способ получить 0 — взять все αᵢ = 0. |
 |                                                                  |
 +------------------------------------------------------------------+

 Геометрический смысл и примеры:
 +-------------------+------------------------------+
 | УТВЕРЖДЕНИЕ       | ПОЧЕМУ                       |
 +-------------------+------------------------------+
 | 2 вектора ЛНЗ     | ⟺ не на одной прямой        |
 | 3 вектора ЛНЗ     | ⟺ не в одной плоскости      |
 | ЛЗ = "избыточные" | Один выражается через другие |
 +-------------------+------------------------------+

 +------------------------------------+-----------------------------------+
 | ПРИМЕР В ℝ³                        | ЛНЗ ИЛИ ЛЗ?                       |
 +------------------------------------+-----------------------------------+
 | e₁=(1,0,0), e₂=(0,1,0), e₃=(0,0,1) | ЛНЗ: α₁e₁+α₂e₂+α₃e₃=0 ⇒ все αᵢ=0  |
 | v₁=(1,0,0), v₂=(0,1,0), v₃=(1,1,0) | ЛЗ: v₁+v₂−v₃=0 (нашли ненулевые) |
 +------------------------------------+-----------------------------------+

 +-------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: БАЗИС                                                |
 +-------------------------------------------------------------------+
 |                                                                   |
 | Базис пространства V — это набор векторов {e₁, ..., eₙ}, который: |
 |                                                                   |
 | (1) Линейно независим                                             |
 | (2) Порождает V (любой v ∈ V выражается как v = Σ αᵢeᵢ)           |
 |                                                                   |
 | Эквивалентно: базис — это минимальная порождающая система,        |
 | или максимальная линейно независимая система.                     |
 |                                                                   |
 +-------------------------------------------------------------------+

 +--------------------------------------------------------------------+
 | ТЕОРЕМА О РАЗМЕРНОСТИ                                              |
 +--------------------------------------------------------------------+
 |                                                                    |
 | Все базисы одного пространства содержат одинаковое число векторов. |
 | Это число называется размерностью пространства: dim(V).            |
 |                                                                    |
 +--------------------------------------------------------------------+

 Примеры размерностей:
   • dim(ℝⁿ) = n
   • dim(M_{m×n}) = m·n
   • dim(ℝ[x]≤n) = n + 1
   • dim({непрерывные функции}) = ∞


 Два типа базисов в бесконечномерных пространствах

 +---------------+-----------------------------+------------------------+
 | ТИП           | ОПРЕДЕЛЕНИЕ                 | ПРИМЕР                 |
 +---------------+-----------------------------+------------------------+
 |               |                             |                        |
 | базис Гамеля  | v = Σ αᵢeᵢ (конечная сумма) | Для C[0,1] такой базис |
 | (алгебраич.)  | Каждый вектор — конечная    | несчётен. Не можем     |
 |               | линейная комбинация         | явно построить.        |
 |               |                             |                        |
 +---------------+-----------------------------+------------------------+
 |               |                             |                        |
 | базис Шаудера | v = Σ αᵢeᵢ (бесконечный     | {1, x, x², ...} для    |
 | (топологич.)  | сходящийся ряд)             | аналитических функций  |
 |               | Требуется топология.        | {sin nx, cos nx} — L²  |
 |               |                             |                        |
 +---------------+-----------------------------+------------------------+

 Почему это важно:
   • В алгебре по умолчанию базис Гамеля
   • В рядах Фурье и функ. анализе — базис Шаудера
   • dim_Гамель(L²) = несчётна, dim_Шаудер(L²) = счётна (если сепарабельно)

 Одно и то же пространство имеет разные "размерности" в зависимости от того,
 какой тип базиса используется.


 Линейное отображение — сохраняющее структуру

 +------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ЛИНЕЙНОЕ ОТОБРАЖЕНИЕ                                |
 +------------------------------------------------------------------+
 |                                                                  |
 | Отображение T: V → W называется линейным, если:                  |
 |                                                                  |
 | (L1) T(u + v) = T(u) + T(v)      (сохраняет сложение)            |
 | (L2) T(αv) = αT(v)               (сохраняет умножение на скаляр) |
 |                                                                  |
 | Эквивалентно (в одной формуле):                                  |
 |                                                                  |
 | T(αu + βv) = αT(u) + βT(v)       (сохраняет линейные комбинации) |
 |                                                                  |
 +------------------------------------------------------------------+

 Следствия из определения:
 +---------------------+-------------------------------+
 | СВОЙСТВО            | ПОЧЕМУ                        |
 +---------------------+-------------------------------+
 | T(0) = 0            | T(0·v) = 0·T(v) = 0           |
 | T(−v) = −T(v)       | T((−1)·v) = (−1)·T(v)         |
 | T(Σαᵢvᵢ) = ΣαᵢT(vᵢ) | Многократное применение L1+L2 |
 +---------------------+-------------------------------+

 Ключевой факт: T полностью определяется значениями на базисе.
   Если знаем T(e₁),...,T(eₙ), то T(v) = T(Σαᵢeᵢ) = ΣαᵢT(eᵢ)

 Примеры линейных отображений:
 +-------------------+---------------------------+-------------------+
 | ОТОБРАЖЕНИЕ       | ФОРМУЛА                   | ГДЕ ИСПОЛЬЗУЕТСЯ  |
 +-------------------+---------------------------+-------------------+
 | Поворот на θ      | (x,y) ↦ (xcosθ−ysinθ,...) | Геометрия, физика |
 | Проекция на ось x | (x,y) ↦ (x, 0)            | Тень, компоненты  |
 | Дифференцирование | p ↦ p' для p ∈ ℝ[x]       | Анализ            |
 | Интегрирование    | p ↦ ∫p                    | Анализ            |
 | Умножение на A    | v ↦ Av                    | Системы уравнений |
 +-------------------+---------------------------+-------------------+

 Контрпример: T(x,y)=(x+1, y) — не линейное. T(0,0)=(1,0)≠(0,0)


 Матрица — линейное отображение в координатах

 +=================================================================+
 | Главная ошибка инженеров: матрица — это не тензор.              |
 +=================================================================+
 |                                                                 |
 | Матрица — это таблица чисел, запись координат чего-то в базисе. |
 | Одна и та же матрица 3×3 может представлять:                    |
 |                                                                 |
 | • Линейный оператор T: V → V    (тензор типа (1,1))             |
 | • Билинейную форму B: V×V → ℝ  (тензор типа (0,2))              |
 | • Квадратичную форму Q(v)       (тензор типа (0,2))             |
 | • Просто набор коэффициентов    (не тензор вообще)             |
 |                                                                 |
 | без указания, что это — матрица бессмысленна при смене базиса.  |
 | Разные объекты преобразуются по разным законам:                 |
 |                                                                 |
 | A' = P⁻¹AP    (оператор)     vs     A' = PᵀAP    (форма)        |
 |                                                                 |
 | Путаница здесь — источник половины ошибок в механике и физике.  |
 +=================================================================+

 Ключевая идея: Матрица = запись T в выбранных базисах
                Сменил базис → сменилась матрица, но T то же.

 Построение: T: V → W, базис {eⱼ} в V, базис {fᵢ} в W
   T(eⱼ) = Σᵢ aᵢⱼfᵢ  →  j-й столбец A = координаты T(eⱼ) в {fᵢ}

 Пример: Поворот на 90° в ℝ²
 +-----------------+----------------+------------------------+
 | БАЗИСНЫЙ ВЕКТОР | ОБРАЗ          | СТОЛБЕЦ МАТРИЦЫ        |
 +-----------------+----------------+------------------------+
 | e₁ = (1,0)      | T(e₁) = (0,1)  | (0, 1)ᵀ — 1-й столбец  |
 | e₂ = (0,1)      | T(e₂) = (−1,0) | (−1, 0)ᵀ — 2-й столбец |
 +-----------------+----------------+------------------------+

   Матрица: A = | 0  −1|   Проверка: A|1| = |0| = T(1,0) ✓
                | 1   0|              |0|   |1|

 +---------------------------------------------------------+
 | ТЕОРЕМА: T ↔ A, S ↔ B  ⇒  S∘T ↔ BA  (порядок обратный) |
 +---------------------------------------------------------+

 Изоморфизм: Выбор базисов даёт биекцию
   Hom(V, W) ≅ M_{m×n}(F)
 где Hom(V, W) — пространство линейных отображений V → W,
     M_{m×n}(F) — пространство матриц m×n над полем F,
     m = dim(W), n = dim(V).

 Важно: Изоморфизм зависит от выбора базисов. Разные базисы → разные
 матрицы для одного оператора. Связь: A' = P⁻¹AP (смена базиса).


 Критическое предупреждение (частая ошибка)

 Закон A' = P⁻¹AP верен для линейного оператора (тензор типа (1,1)).

 Для квадратичной/билинейной формы (тензор типа (0,2)) закон другой:

   A' = PᵀAP   (не P⁻¹, а Pᵀ.)

 +-------------------+--------------------------------+
 | ОБЪЕКТ            | ЗАКОН ТРАНСФОРМАЦИИ            |
 +-------------------+--------------------------------+
 | Линейный оператор | A' = P⁻¹AP                     |
 | T: V → V          | (подобие матриц)               |
 +-------------------+--------------------------------+
 | Билинейная форма  | A' = PᵀAP                      |
 | B: V × V → ℝ      | (конгруэнтность матриц)        |
 +-------------------+--------------------------------+
 | Метрика gᵢⱼ       | g'ᵢⱼ = (∂xᵏ/∂x'ⁱ)(∂xˡ/∂x'ʲ)gₖₗ  |
 | (тензор (0,2))    | (два нижних индекса)          |
 +-------------------+--------------------------------+

 Где это критично: При вычислении собственных значений квадратичной формы
 (момент инерции, тензор напряжений) используйте PᵀAP, не P⁻¹AP.

 Типы тензоров


 Физический смысл: матрица связывает разные величины


 Умножение матрицы на вектор w = Av имеет два принципиально разных смысла:

-------------------------------------------------------------------------------
 Смысл 1: активное преобразование — вектор реально меняется
-------------------------------------------------------------------------------

   Был вектор v, стал другой вектор w = Av
   Физически: повернули, растянули, деформировали сам объект

   Примеры:
   • Повернули стержень на 30° (матрица поворота)
   • Растянули пружину (матрица деформации)
   • Изменили скорость при столкновении

-------------------------------------------------------------------------------
 Смысл 2: пассивное преобразование — вектор тот же, меняются координаты
-------------------------------------------------------------------------------

   Был вектор v с координатами (3, 4) в старом базисе
   Тот же вектор имеет координаты (1.5, 4) в новом базисе
   Физически: ничего не изменилось, просто пересчитали числа

   Примеры:
   • Измерили длину в метрах, потом в футах
   • Перешли от декартовых координат к полярным
   • Сменили систему отсчёта (со вагона → со земли)

-------------------------------------------------------------------------------
 Смысл 3: матрица как физический закон — связь между разными величинами
-------------------------------------------------------------------------------

 Это главное применение в физике и инженерии.
 Матрица описывает, как одна векторная величина порождает другую.

 +-------------------------------------------------------------------+
 | МАТРИЦА ТЕПЛОПРОВОДНОСТИ  q = −λ·∇T                               |
 +-------------------------------------------------------------------+
 |                                                                   |
 | ∇T — градиент температуры (вектор, К/м): "куда и как быстро       |
 | растёт температура"                                               |
 | q  — тепловой поток (вектор, Вт/м²): "куда и сколько течёт тепло" |
 | λ  — матрица теплопроводности                                     |
 | (далее узнаем, что это "тензор 2-го ранга")                       |
 |                                                                   |
 | В изотропном материале (металл, вода):                            |
 | λᵢⱼ = λ·δᵢⱼ  (скаляр × единичная матрица)                         |
 | Тепло течёт вдоль градиента (в направлении убывания T)            |
 |                                                                   |
 | В анизотропном материале (дерево, кристалл, слоистая изоляция):   |
 |     ⎛λₓₓ  λₓᵧ  λₓᵤ⎞                                                |
 | λ = ⎜λᵧₓ  λᵧᵧ  λᵧᵤ⎟                                                |
 |     ⎝λᵤₓ  λᵤᵧ  λᵤᵤ⎠                                                |
 |                                                                   |
 | Тепло может течь не вдоль градиента.                              |
 | Греешь с одной стороны — тепло уходит вбок.                       |
 |                                                                   |
 +-------------------------------------------------------------------+

 +---------------------------------------------------------------+
 | МАТРИЦА НАПРЯЖЕНИЙ  σ                                         |
 +---------------------------------------------------------------+
 |                                                               |
 | n — нормаль к площадке (вектор, направление)                  |
 | F = σ·n — сила на единицу площади (вектор, Н/м²)              |
 | σ — матрица напряжений 3×3                                    |
 |                                                               |
 |                                                               |
 | σ говорит: "если площадка направлена так (n),                 |
 | то сила на неё будет такая (F)"                               |
 |                                                               |
 | Это не одна сила — это правило для всех возможных площадок.   |
 | σ содержит полную информацию о напряжённом состоянии в точке. |
 |                                                               |
 +---------------------------------------------------------------+

 +------------------------------------------------------------------+
 | МАТРИЦА ИНЕРЦИИ  I                                               |
 +------------------------------------------------------------------+
 |                                                                  |
 | ω — угловая скорость (вектор): "вокруг какой оси и как быстро"   |
 | L = I·ω — момент импульса (вектор)                               |
 | I — матрица инерции 3×3                                          |
 |                                                                  |
 |                                                                  |
 | Для симметричного тела (шар, куб):                               |
 | L ∥ ω  (момент параллелен угловой скорости)                      |
 |                                                                  |
 | Для несимметричного тела (гантеля под углом):                    |
 | L и ω не параллельны.                                            |
 | Крутишь вокруг одной оси — момент направлен в другую сторону.    |
 | (Поэтому колёса балансируют — убирают недиагональные элементы I) |
 |                                                                  |
 +------------------------------------------------------------------+

 +----------------------------------------------------------------+
 | ПРО ВЕКТОРНОЕ ПОЛЕ                                             |
 +----------------------------------------------------------------+
 |                                                                |
 | Если есть поле векторов v(x,y,z) (например, скорость ветра):   |
 |                                                                |
 | • одна матрица A для всех точек: глобальное преобразование     |
 | A = поворот → всё поле повернулось                             |
 | A = растяжение → всё поле растянулось                          |
 | Физически: сменили систему координат                           |
 |                                                                |
 | • разная матрица A(x,y,z) в каждой точке: локальная деформация |
 | Это поле матриц (далее узнаем: "тензорное поле")               |
 | Пример: тензор деформации в материале под нагрузкой            |
 | В каждой точке своё растяжение/сдвиг                           |
 |                                                                |
 +----------------------------------------------------------------+

 Итог: Матрица — это не просто "таблица чисел", а:
   • Либо преобразование (активное или пассивное)
   • Либо физический закон, связывающий причину и следствие


 Ядро и образ — главные подпространства

 +---------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЯ                                                   |
 +---------------------------------------------------------------+
 |                                                               |
 | Для линейного T: V → W:                                       |
 |                                                               |
 | ядро:    ker(T) = {v ∈ V : T(v) = 0}  (что переходит в ноль)  |
 | образ:   Im(T) = {T(v) : v ∈ V}       (куда попадаем)         |
 |                                                               |
 | Оба являются подпространствами (замкнуты относительно + и ·). |
 |                                                               |
 +---------------------------------------------------------------+

 +--------------------------------------------+
 | ТЕОРЕМА О РАЗМЕРНОСТИ (Rank-Nullity)       |
 +--------------------------------------------+
 |                                            |
 | dim(V) = dim(ker T) + dim(Im T)            |
 | ↑              ↑                           |
 | nullity         rank                       |
 | (дефект)         (ранг)                    |
 |                                            |
 | "Размерность области = потери + результат" |
 |                                            |
 +--------------------------------------------+

 Пример: Проекция T: ℝ³ → ℝ³, T(x,y,z) = (x,y,0)

   ker(T) = {(0,0,z) : z ∈ ℝ} = ось z         dim(ker T) = 1
   Im(T) = {(x,y,0) : x,y ∈ ℝ} = плоскость xy  dim(Im T) = 2

   Проверка: 3 = 1 + 2 ✓

 Геометрическая интуиция:

   V (3-мерное)                    W (целевое пр-во)
   +-------------------+
   |      ╱╲           |
   |     ╱  ╲ ker(T)   |
   |    ╱    ╲ = ось z |           +-----------------+
   |   ╱      ╲        |    T      |                 |
   |  ╱ плоск. ╲       | --------▶ |    Im(T)        |
   | ╱   xy     ╲      |           |  = плоскость    |
   |╱------------╲     |           |                 |
   +-------------------+           +-----------------+

   dim(V) = 3
   dim(ker T) = 1  (что "схлопывается" в 0)
   dim(Im T) = 2   (что "выживает")

   Теорема: 3 = 1 + 2  ✓

   Смысл: Пространство V "расщепляется" на две части:
          - ker T (что теряется)
          - дополнение (что переходит в образ 1-1)

 Связь с системами уравнений:

 +---------+-------------------------------------------+
 | ПОНЯТИЕ | ЧТО ОЗНАЧАЕТ                              |
 +---------+-------------------------------------------+
 | ker(A)  | Решения Ax = 0 (однородная система)       |
 | Im(A)   | Линейная оболочка столбцов A              |
 | rank(A) | Число ненулевых строк в ступенчатой форме |
 +---------+-------------------------------------------+

 +----------------------+-----------------------------------------+
 | СВОЙСТВО T           | УСЛОВИЕ                                 |
 +----------------------+-----------------------------------------+
 | Инъективно (1-1)     | ker(T) = {0}                            |
 | Сюръективно (на)     | Im(T) = W                               |
 | Биективно (изоморф.) | ker={0} и Im=W ⟺ dim V = dim W, det ≠ 0 |
 +----------------------+-----------------------------------------+


Ядро и образ — универсальная структура


 Структура (ker, Im) присутствует для любого морфизма между структурами:

+----------------+--------------+-----------------+-------------------+
| РАЗДЕЛ         | ОПЕРАТОР     | KER             | IM                |
+----------------+--------------+-----------------+-------------------+
| Лин. алгебра   | T: V → W     | ker T ⊂ V       | Im T ⊂ W          |
| Теория групп   | φ: G → H     | ker φ ⊲ G       | Im φ ≤ H          |
| Дифф. формы    | d: Ωᵏ → Ωᵏ⁺¹ | ker d (замкн.)  | Im d (точные)     |
| XXI Дифф. ур-я | L: C∞ → C∞   | ker L (решения) | Im L (достижимые) |
| КМ (физика)    | Ĥ−E          | ker(Ĥ−E)=сост.  | спектр={E: ker≠0} |
+----------------+--------------+-----------------+-------------------+

 Теорема о размерности: dim(V) = dim(ker T) + dim(Im T)

 Когомологии: Hᵏ = ker(dₖ) / Im(dₖ₋₁)

 Собственные значения и собственные векторы

 +---------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ                                                   |
 +---------------------------------------------------------------+
 |                                                               |
 | Ненулевой вектор v называется собственным для T (или A), если |
 |                                                               |
 | T(v) = λv   (или Av = λv)                                     |
 |                                                               |
 | Число λ называется собственным значением.                     |
 |                                                               |
 +---------------------------------------------------------------+

 Геометрический смысл собственных значений:

 +--------------+----------------------+--------------------------------+
 | ЗНАЧЕНИЕ λ   | ГЕОМ. ДЕЙСТВИЕ       | ПРИМЕР                         |
 +--------------+----------------------+--------------------------------+
 | λ &gt; 1        | Растяжение           | λ=2: удлинение вдвое           |
 | 0 &lt; λ &lt; 1    | Сжатие               | λ=0.5: сжатие вдвое            |
 | λ = 1        | Без изменений        | Направление сохранено          |
 | λ = 0        | Коллапс (в 0)        | Проекция уничтожает это напр.  |
 | λ &lt; 0        | Отражение + масштаб  | λ=-1: чистое отражение         |
 | |λ| = 1      | Изометрия/отражение  | Сохраняет длину                |
 +--------------+----------------------+--------------------------------+

 Как найти:

   Av = λv  ⟺  (A − λI)v = 0  ⟺  v ∈ ker(A − λI)

   Чтобы ker ≠ {0}, нужно det(A − λI) = 0.

   Характеристический многочлен: p(λ) = det(A − λI)
   Собственные значения = корни p(λ).

 Пример: A = |3  1|
             |0  2|

   det(A − λI) = det|3−λ   1 | = (3−λ)(2−λ) − 0 = λ² − 5λ + 6
                    | 0   2−λ|

   Корни: λ₁ = 3, λ₂ = 2

   Для λ₁ = 3:  (A−3I)v = 0 → |0  1||v₁| = 0 → v₂ = 0 → v₁ = (1,0)
                              |0 −1||v₂|

   Для λ₂ = 2:  (A−2I)v = 0 → |1  1||v₁| = 0 → v₁ = −v₂ → v₂ = (−1,1)
                              |0  0||v₂|

 Инварианты (не зависят от базиса):

   det(A) = λ₁ · λ₂ · ... · λₙ  (произведение собственных значений)
   tr(A) = λ₁ + λ₂ + ... + λₙ   (сумма собственных значений)

-------------------------------------------------------------------------------
 Диагонализация — выбор "правильного" базиса
-------------------------------------------------------------------------------

 Идея:
   В базисе из собственных векторов матрица становится диагональной.

 +-------------------------------------------------------------------------+
 | ТЕОРЕМА О ДИАГОНАЛИЗАЦИИ                                                |
 +-------------------------------------------------------------------------+
 |                                                                         |
 | Матрица A диагонализуема ⟺ существует базис из собственных векторов.    |
 |                                                                         |
 | Тогда A = PDP⁻¹, где:                                                   |
 |   P = [v₁ | v₂ | ... | vₙ] — матрица из собственных векторов            |
 |   D = diag(λ₁, λ₂, ..., λₙ) — диагональная из собственных значений      |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Зачем это нужно:

 +--------------------------+--------------------------------------------+
 | ЗАДАЧА                   | КАК ПОМОГАЕТ                               |
 +--------------------------+--------------------------------------------+
 | Степени матрицы Aⁿ       | PD^nP⁻¹, где Dⁿ = diag(λ₁ⁿ,...,λₙⁿ)        |
 | Дифференц. уравнения     | eᴬᵗ вычисляется через диагональ            |
 | Анализ устойчивости      | Поведение при t→∞ зависит от |λᵢ|          |
 +--------------------------+--------------------------------------------+

 Условия диагонализуемости:

 +------------------------+----------------------------------------+
 | СИТУАЦИЯ               | ДИАГОНАЛИЗУЕМА?                        |
 +------------------------+----------------------------------------+
 | Все λᵢ различны        | ДА (достаточно, не необходимо)         |
 | Кратные λ, но хватает  | ДА (пример: I, где λ=1 кратности n)    |
 | собственных векторов   |                                        |
 | Не хватает с.в.        | нет → Жорданова форма                  |
 | Пример: A = [0 1; 0 0] | НЕТ (λ=0 кратности 2, только 1 вектор) |
 +------------------------+----------------------------------------+

-------------------------------------------------------------------------------
 Связь с группами
-------------------------------------------------------------------------------

 Обратимые матрицы образуют группу GL(n) — общая линейная группа

   +-----------+------------------+---------------------------------+
   | ПОДГРУППА | УСЛОВИЕ          | ЧТО СОХРАНЯЕТ                   |
   +-----------+------------------+---------------------------------+
   | GL(n)     | det(A) ≠ 0       | Линейную структуру              |
   | SL(n)     | det(A) = 1       | + объём                         |
   | O(n)      | AᵀA = I          | + длины и углы                  |
   | SO(n)     | AᵀA = I, det=1   | + ориентацию                    |
   | U(n)      | A*A = I (компл.) | Эрмитово скалярное произведение |
   | SU(n)     | A*A = I, det=1   | + объём (квант. механика)      |
   +-----------+------------------+---------------------------------+

 det: GL(n) → ℝ* — это гомоморфизм групп
 ker(det) = SL(n) — ядро гомоморфизма

 Связь с группами Ли:
   GL(n), O(n), SO(n), U(n), SU(n) — это всё группы Ли
   (одновременно группы и многообразия)

-------------------------------------------------------------------------------
 Экспонента матрицы — ключ к системам ДУ
-------------------------------------------------------------------------------

 Определение:
 +---------------------------------------------+
 |                                             |
 | e^A = I + A + A²/2! + A³/3! + ... = Σ Aⁿ/n! |
 |                                             |
 | (ряд всегда сходится для любой матрицы A)   |
 |                                             |
 +---------------------------------------------+

 Зачем нужно:
   Система линейных ДУ  ẋ = Ax  имеет решение  x(t) = e^{At}·x(0)

 Вычисление (если A диагонализуема):

   A = PDP⁻¹,  где D = diag(λ₁, λ₂, ..., λₙ)

   e^A = P · diag(e^{λ₁}, e^{λ₂}, ..., e^{λₙ}) · P⁻¹

 Свойства:
   • e^0 = I
   • e^{A+B} = e^A·e^B  только если AB = BA.
   • (e^A)⁻¹ = e^{−A}
   • d/dt e^{At} = A·e^{At}
   • det(e^A) = e^{tr(A)}

 Пример для теплофизики:

   Система из n комнат с температурами T₁, T₂, ..., Tₙ:
   Ṫ = A·T, где A — матрица теплопроводностей

   Решение: T(t) = e^{At}·T(0)

   Собственные значения A (все отрицательные) → скорости затухания
   Собственные векторы A → "моды" системы (какие комнаты греются вместе)

 Связь с группами Ли:
   e^A отображает алгебру Ли gl(n) в группу Ли GL(n)
   Это экспоненциальное отображение — фундамент теории групп Ли


 Один объект — три взгляда
+------------------------+---------------------+------------------------+
| АЛГЕБРА                | ГЕОМЕТРИЯ           | АНАЛИЗ                 |
+------------------------+---------------------+------------------------+
|                        |                     |                        |
| Матрица A              | Преобразование      | Система линейных       |
| (таблица чисел)        | пространства        | уравнений Ax = b       |
|                        |                     |                        |
+------------------------+---------------------+------------------------+
|                        |                     |                        |
| det(A)                 | Коэффициент         | Условие                |
| (число)                | изменения объёма    | разрешимости           |
|                        | + знак ориентации   | (det≠0 ⟺ ∃! решение)  |
|                        |                     |                        |
+------------------------+---------------------+------------------------+
|                        |                     |                        |
| Собственный вектор v   | Инвариантное        | Решение                |
| Av = λv                | направление         | (A−λI)v = 0            |
|                        | (не поворачивается) |                        |
|                        |                     |                        |
+------------------------+---------------------+------------------------+
|                        |                     |                        |
| Собственное значение λ | Коэффициент         | Корень характ.         |
|                        | растяжения вдоль v  | многочлена det(A−λI)=0 |
|                        |                     |                        |
+------------------------+---------------------+------------------------+
|                        |                     |                        |
| Диагонализация         | Выбор "правильного" | Разделение             |
| A = PDP⁻¹              | базиса (из собств.  | переменных             |
|                        | векторов)           |                        |
|                        |                     |                        |
+------------------------+---------------------+------------------------+

-------------------------------------------------------------------------------
 Формулы для вычислений
-------------------------------------------------------------------------------

 Определитель 2×2:   det|a  b| = ad − bc
                        |c  d|

 Определитель 3×3:   Разложение по первой строке:

   det|a  b  c| = a·det|e  f| − b·det|d  f| + c·det|d  e|
      |d  e  f|        |h  i|        |g  i|        |g  h|
      |g  h  i|

 Обратная 2×2:       |a  b|⁻¹ =   1   | d  −b|
                     |c  d|    ------ |−c   a|
                              ad−bc

 Метод Гаусса:       Приведение к ступенчатому виду элементарными
                     преобразованиями строк

 Собственные значения: решить det(A − λI) = 0

 Собственные векторы: для каждого λ решить (A − λI)v = 0

 Диагонализация: A = PDP⁻¹, где P = [v₁|v₂|.|vₙ] из собств. векторов


 SVD — сингулярное разложение (король разложений)


 Проблема: Диагонализация A = PDP⁻¹ работает только для квадратных матриц,
           и то не для всех (нужен полный набор собственных векторов).

 Решение: SVD работает для любой матрицы m×n!

 +----------------------------------------------------------------------+
 | ТЕОРЕМА (SVD): Любая матрица A ∈ ℝᵐˣⁿ раскладывается как             |
 |                                                                      |
 | A = UΣVᵀ                                                             |
 |                                                                      |
 | где:                                                                 |
 | • U ∈ ℝᵐˣᵐ — ортогональная (UᵀU = I), столбцы = левые синг. векторы  |
 | • Σ ∈ ℝᵐˣⁿ — диагональная, σ₁ ≥ σ₂ ≥ ... ≥ 0 (сингулярные числа)     |
 | • V ∈ ℝⁿˣⁿ — ортогональная (VᵀV = I), столбцы = правые синг. векторы |
 +----------------------------------------------------------------------+

 Геометрический смысл:
   Любое линейное преобразование = поворот U × растяжение Σ × поворот Vᵀ

      +---+   Vᵀ    +---+    Σ     ╱╲      U     ◇
      |   |  ---→   |   |  ---→   ╱  ╲   ---→   ╱ ╲
      +---+ поворот +---+ растяж. ╲  ╱ поворот  ╲ ╱
      квадрат       квадрат        ╲╱            ◇
                                 эллипс       эллипс (повёрнутый)

 Связь с собственными значениями:
   • σᵢ² = собственные значения AᵀA (или AAᵀ)
   • Столбцы V = собственные векторы AᵀA
   • Столбцы U = собственные векторы AAᵀ

 Приложения (почему SVD — "король"):
 +-----------------+----------------------------------------------+
 | ЗАДАЧА          | КАК ИСПОЛЬЗОВАТЬ SVD                         |
 +-----------------+----------------------------------------------+
 | Сжатие данных   | A ≈ Σᵣ σᵢuᵢvᵢᵀ (оставить первые r членов)    |
 | (изображения)   | Ошибка = σᵣ₊₁ (теорема Эккарта-Янга)         |
 +-----------------+----------------------------------------------+
 | PCA             | Главные компоненты = правые синг. векторы V  |
 | (анализ данных) | (для центрированных данных)                  |
 +-----------------+----------------------------------------------+
 | Псевдообращение | A⁺ = VΣ⁺Uᵀ, где Σ⁺ᵢᵢ = 1/σᵢ (для σᵢ ≠ 0)     |
 | (МНК)           | Решение Ax≈b: x = A⁺b                        |
 +-----------------+----------------------------------------------+
 | Ранг матрицы    | rank(A) = число ненулевых σᵢ                 |
 +-----------------+----------------------------------------------+
 | Норма матрицы   | ‖A‖₂ = σ₁ (максимальное сингулярное число)   |
 |                 | ‖A‖_F = √(Σσᵢ²) (норма Фробениуса)           |
 +-----------------+----------------------------------------------+
 | Число обусл-ти  | cond(A) = σ₁/σₙ (чувствительность к ошибкам) |
 +-----------------+----------------------------------------------+

 Сравнение с диагонализацией:
   • Диагонализация: A = PDP⁻¹ (только квадратные, не всегда существует)
   • SVD: A = UΣVᵀ (любые матрицы, всегда существует)

 Частный случай: симметричные положительно определённые
   Для A = Aᵀ &gt; 0:  SVD совпадает с диагонализацией.
   • U = V = P (матрица собственных векторов)
   • σᵢ = λᵢ (сингулярные числа = собственные значения)
   • A = PΛPᵀ = UΣVᵀ — это одно и то же.

   Для симметричных (не обязательно полож. опр.): σᵢ = |λᵢ|


 Приложения

+---------------------+----------------------------------------------------------+
| ОБЛАСТЬ             | КАК ИСПОЛЬЗУЕТСЯ ЛИНЕЙНАЯ АЛГЕБРА                        |
+---------------------+----------------------------------------------------------+
|                     |                                                          |
| дифф. уравнения     | y' = Ay → решение y(t) = eᴬᵗy₀                           |
| (устойчивость)      | Re(λ)&gt;0: рост, Re(λ)&lt;0: затухание, Re(λ)=0: колеб. |
|                     |                                                          |
+---------------------+----------------------------------------------------------+
|                     |                                                          |
| квантовая механика  | Наблюдаемые = эрмитовы операторы (A = A*)                |
|                     | Собств. значения = результаты измерений                  |
|                     | Собств. векторы = состояния                              |
|                     |                                                          |
+---------------------+----------------------------------------------------------+
|                     |                                                          |
| анализ данных (PCA) | Ковариационная матрица C = (1/n)XᵀX                      |
|                     | Собств. векторы = главные компоненты                     |
|                     | Собств. значения = дисперсия по направлениям             |
|                     |                                                          |
+---------------------+----------------------------------------------------------+
|                     |                                                          |
| графы и сети        | PageRank = главный собств. вектор                        |
|                     | Спектральная кластеризация = с.в. лапласиана             |
|                     |                                                          |
+---------------------+----------------------------------------------------------+
|                     |                                                          |
| механика            | Собств. частоты колебаний = √λ                           |
|                     | Моды колебаний = собственные векторы                     |
|                     |                                                          |
+---------------------+----------------------------------------------------------+

-------------------------------------------------------------------------------
 Двойственное пространство v* (краткое введение)
-------------------------------------------------------------------------------

 Определение:
   V* = {φ: V → ℝ | φ линейна} — множество всех линейных функций на V

 Пример: V = ℝ³
   φ(x, y, z) = 2x + 3y − z  — элемент V* (линейная функция)
   Действие: φ(1, 0, 2) = 2·1 + 3·0 − 1·2 = 0

 Факты (для конечномерного V):
   • dim(V*) = dim(V)  Только для конечномерных.
   • Базис V*: функции eⁱ(eⱼ) = δⁱⱼ (1 если i=j, иначе 0)
   • Элемент V* называется ковектором или линейным функционалом

 Для бесконечномерных: dim(V*) может быть больше dim(V).
    Пример: V = ℓ¹ (абсолютно суммируемые: Σ|xₙ|&lt;∞), V* = ℓ∞ (ограниченные посл-ти)

 Зачем:
   • Тензоры живут на V* × ... × V* × V × ... × V
   • Дифференциал df — элемент кокасательного пространства T*ₚM
   • Подробно (Двойственность)

-------------------------------------------------------------------------------
 Связь с другими разделами
-------------------------------------------------------------------------------

 Группы:
   GL(n), O(n), SO(n) — группы матриц
   Теория представлений: группа → матрицы

 Многообразия:
   TₚM — касательное пространство = векторное пространство
   Локально линейная алгебра работает.

 Двойственность:
   V* — двойственное пространство (линейные функционалы на V)
   Строки матрицы ↔ столбцы транспонированной

 Тензоры:
   Тензор ранга 2 = линейное отображение = матрица (в базисе)

 Ряды:
   Функции = векторы бесконечномерного пространства
   Коэффициенты Фурье = координаты в ортонормированном базисе

-------------------------------------------------------------------------------
 Прикладной пример: тепловой баланс системы отопления
-------------------------------------------------------------------------------

 Задача: Здание с 4 комнатами. Известны теплопотери и теплопередача между
 комнатами. Найти температуры в стационарном режиме.

         T₁ ======+          Теплопотери наружу: αᵢ·(Tᵢ − Tнар)
         |        |          Теплообмен между: kᵢⱼ·(Tᵢ − Tⱼ)
    Qотопл₁  T₂ ==+== T₃
         |        |          Тепло от отопления: Qᵢ
         T₄ ======+

 Уравнения баланса (для каждой комнаты):

   Qᵢ = αᵢ(Tᵢ − Tнар) + Σⱼ kᵢⱼ(Tᵢ − Tⱼ)
   "Подвод = потери наружу + теплообмен с соседями"

 Это линейная система. Запишем в матричной форме:

   +                              +   +    +     +              +
   | α₁+k₁₂+k₁₄   −k₁₂   0   −k₁₄ |   | T₁ |     | Q₁ + α₁·Tнар |
   | −k₁₂   α₂+k₁₂+k₂₃  −k₂₃   0  | · | T₂ |  =  | Q₂ + α₂·Tнар |
   |   0    −k₂₃  α₃+k₂₃+k₃₄  −k₃₄|   | T₃ |     | Q₃ + α₃·Tнар |
   | −k₁₄    0    −k₃₄  α₄+k₁₄+k₃₄|   | T₄ |     | Q₄ + α₄·Tнар |
   +                              +   +    +     +              +

                    K · T = Q

 Численный пример:
   α₁ = α₂ = α₃ = α₄ = 100 Вт/К (теплопотери)
   k₁₂ = k₂₃ = k₃₄ = k₁₄ = 50 Вт/К (теплообмен между комнатами)
   Tнар = 0°C, Q₁ = 3000 Вт (отопление только в комнате 1)

   Матрица K:
   +                     +
   | 200  −50    0   −50 |
   | −50  200  −50    0  |
   |   0  −50  200  −50  |
   | −50    0  −50  200  |
   +                     +

   Решение: T = K⁻¹ · Q
   T₁ = 20°C, T₂ = 10°C, T₃ = 5°C, T₄ = 10°C

-------------------------------------------------------------------------------
 Собственные значения — моды релаксации
-------------------------------------------------------------------------------

 Если отключить отопление, температуры будут падать.
 Как именно? Решение: T(t) = Σ cᵢ · vᵢ · e^(−λᵢt)

   λᵢ = собственные значения K  (скорости релаксации)
   vᵢ = собственные векторы K   (моды — как "форма" остывания)

   • Наименьшее λ₁ → самая медленная мода (всё здание вместе)
   • Наибольшее λₙ → самая быстрая мода (выравнивание между комнатами)

 Мораль: Линейная алгебра — это язык тепловых расчётов.
 Матрица теплопроводности + собственные значения = полное понимание системы.


Мы научились складывать векторы и умножать их на числа. Но как умножать
векторы друг на друга? Оказывается, единственного ответа нет — разные
задачи требуют разных произведений. Это ключ к пониманию тензоров.

-------------------------------------------------------------------------------
Произведения векторов — разные вопросы, разные ответы
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Почему столько видов умножения
-------------------------------------------------------------------------------

 Числа: 2 × 3 = 6. Один способ умножения.

 Векторы: Что мы хотим узнать о двух векторах?

   • Насколько сонаправлены?          → Скалярное ·    → число
   • Что перпендикулярно обоим?       → Векторное ×   → вектор
   • Все комбинации компонент?        → Тензорное ⊗   → матрица
   • Какую площадь охватывают?        → Внешнее ∧     → бивектор

 Разные вопросы требуют разных операций.

+-----------------+-----------+-----------------------------------------------+
| ПРОИЗВЕДЕНИЕ    | РЕЗУЛЬТАТ | ВОПРОС / ГЕОМЕТРИЧЕСКИЙ СМЫСЛ                 |
+-----------------+-----------+-----------------------------------------------+
| u · v           | число     | "Насколько u и v сонаправлены?" = |u||v|cos θ |
| u × v           | вектор    | "Что ⊥ обоим?" (только в ℝ³ и ℝ⁷.)            |
| u ⊗ v           | матрица   | "Все комбинации компонент?" (u⊗v)ᵢⱼ = uᵢvⱼ   |
| u ∧ v           | бивектор  | "Какую площадь охватывают?" (любая размерн.)  |
+-----------------+-----------+-----------------------------------------------+

 Главное различие: внутреннее vs внешнее произведение

 +-----------------+---------------------------+-------------------------+
 |                 | ВНУТРЕННЕЕ (·, свёртка)   | ВНЕШНЕЕ (⊗, ∧)          |
 +-----------------+---------------------------+-------------------------+
 | Изменение ранга | УМЕНЬШАЕТ                 | УВЕЛИЧИВАЕТ             |
 |                 | вектор×вектор → скаляр    | вектор×вектор → матрица |
 +-----------------+---------------------------+-------------------------+
 | Смысл           | СОНАПРАВЛЕННОСТЬ          | НОВЫЙ ОБЪЕКТ            |
 |                 | "насколько параллельны"   | в пространстве большей  |
 |                 |                           | размерности             |
 +-----------------+---------------------------+-------------------------+
 | Формула         | aᵢbⁱ (свёртка по индексу) | (a⊗b)ᵢⱼ = aᵢbⱼ          |
 +-----------------+---------------------------+-------------------------+

 Запомнить: Внутреннее — "сжимает", внешнее — "расширяет".

-------------------------------------------------------------------------------
 Почему векторное произведение существует только в ℝ³ и ℝ⁷?
-------------------------------------------------------------------------------

 Это глубокий результат, связанный с алгебрами с делением над ℝ:

   dim 1:  ℝ (вещественные числа)
   dim 2:  ℂ (комплексные числа)
   dim 4:  ℍ (кватернионы) — некоммутативны
   dim 8:  𝕆 (октонионы) — неассоциативны

 и всё. Других алгебр с делением над ℝ не существует (теорема Гурвица).

-------------------------------------------------------------------------------
 А что дальше? (удвоение Кэли-Диксона)
-------------------------------------------------------------------------------

   Dim 16: 𝕊 (седенионы) — есть делители нуля.
           ab = 0, но a ≠ 0 и b ≠ 0
           Также теряется альтернативность

   Можно продолжать удвоение бесконечно (dim 32, 64, ...), но каждый раз
   теряется всё больше свойств. Алгебры с делением кончаются на 𝕆.

 Иерархия потерь:
   ℝ → ℂ:   потеряли упорядоченность
   ℂ → ℍ:   потеряли коммутативность (ab ≠ ba)
   ℍ → 𝕆:   потеряли ассоциативность ((ab)c ≠ a(bc))
   𝕆 → 𝕊:   потеряли отсутствие делителей нуля (ab = 0, a,b ≠ 0)

 Связь с векторным произведением:

   В ℝ³:  u × v связано с кватернионами ℍ
          (умножение мнимых частей кватернионов)

   В ℝ⁷:  u × v связано с октонионами 𝕆
          (умножение мнимых частей октонионов)

 Отличие: В ℝ⁷ векторное произведение не удовлетворяет тождеству Якоби:
   u × (v × w) + v × (w × u) + w × (u × v) ≠ 0

   Следствие: (ℝ⁷, ×) не является алгеброй Ли, в отличие от (ℝ³, ×) = so(3)

 Это подчёркивает уникальность размерностей 1, 2, 3, 4, 7, 8.


 Скалярное произведение — формальное определение

 +------------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ                                    |
 +------------------------------------------------------------------------+
 |                                                                        |
 | Скалярное произведение на векторном пространстве V (над ℝ) — это       |
 | функция ⟨·,·⟩: V × V → ℝ, удовлетворяющая:                              |
 |                                                                        |
 | (S1) ⟨u, v⟩ = ⟨v, u⟩                         (симметричность)            |
 |                                                                        |
 | (S2) ⟨αu + βv, w⟩ = α⟨u, w⟩ + β⟨v, w⟩        (линейность по 1-му арг.)     |
 |                                                                        |
 | (S3) ⟨v, v⟩ ≥ 0, причём ⟨v, v⟩ = 0 ⟺ v = 0  (положит. определённость)    |
 |                                                                        |
 | Пространство V со скалярным произведением называется Евклидовым        |
 | (или пред-Гильбертовым).                                               |
 |                                                                        |
 +------------------------------------------------------------------------+

 Зачем нужны именно эти аксиомы:
 +---------------+----------------------------------------------+
 | АКСИОМА       | ГЕОМЕТРИЧЕСКИЙ СМЫСЛ                         |
 +---------------+----------------------------------------------+
 | S1 симметрия  | Угол между u и v = угол между v и u          |
 | S2 линейность | Проекция суммы = сумма проекций              |
 | S3 положит.   | Длина ≥ 0, и = 0 только для нулевого вектора |
 +---------------+----------------------------------------------+

 Примеры скалярных произведений:
 +------------------+-----------------------------+
 | ПРОСТРАНСТВО     | ФОРМУЛА ⟨u, v⟩               |
 +------------------+-----------------------------+
 | Стандартное ℝⁿ   | Σᵢ uᵢvᵢ = u₁v₁ + ... + uₙvₙ |
 | С весами         | Σᵢ wᵢuᵢvᵢ, где wᵢ &gt; 0    |
 | Функции на [a,b] | ∫ₐᵇ f(x)g(x) dx             |
 +------------------+-----------------------------+

 Контрпример: ⟨u,v⟩ = u₁v₁ − u₂v₂ — не скалярное произведение.
 Проверка: ⟨(0,1),(0,1)⟩ = −1 &lt; 0 ✗ (это псевдоевклидова метрика из ОТО)

-------------------------------------------------------------------------------
 Цепочка: скалярное произведение → норма → метрика
-------------------------------------------------------------------------------

 Скалярное произведение порождает всю геометрию:

   Скалярное произведение ⟨u, v⟩
            |
            | ‖v‖ = √⟨v, v⟩
            ↓
         Норма ‖·‖ (длина вектора)
            |
            | d(u, v) = ‖u − v‖
            ↓
        Метрика d(·,·) (расстояние между точками)
            |
            ↓
       Топология (понятие близости, открытые множества)

 Важно: Эта цепочка идёт только в одну сторону.

   • Не всякая метрика порождается нормой (пр: дискретная метрика)
   • Не всякая норма порождается скал. произв. (пр: ‖v‖ = max|vᵢ|)

 +-------------------------------------------------------------------------+
 | НЕРАВЕНСТВО КОШИ-БУНЯКОВСКОГО-ШВАРЦА                                    |
 +-------------------------------------------------------------------------+
 |                                                                         |
 |   |⟨u, v⟩| ≤ ‖u‖ · ‖v‖                                                   |
 |                                                                         |
 | Равенство ⟺ u и v пропорциональны (лежат на одной прямой).             |
 |                                                                         |
 | следствие: |cos θ| = |⟨u,v⟩|/(‖u‖‖v‖) ≤ 1  — угол корректно определён.   |
 |                                                                         |
 +-------------------------------------------------------------------------+

 +-------------------------------+
 | НЕРАВЕНСТВО ТРЕУГОЛЬНИКА      |
 +-------------------------------+
 |                               |
 | ‖u + v‖ ≤ ‖u‖ + ‖v‖           |
 |                               |
 | "Кратчайший путь — по прямой" |
 |                               |
 +-------------------------------+


 Ортогональность — геометрия из алгебры

 +----------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ОРТОГОНАЛЬНОСТЬ                                   |
 +----------------------------------------------------------------+
 |                                                                |
 | Векторы u и v ортогональны (перпендикулярны), если ⟨u, v⟩ = 0. |
 | Обозначение: u ⊥ v                                             |
 |                                                                |
 +----------------------------------------------------------------+

 Ключевые факты:
 +-------------------------+--------------------------------+
 | ПОНЯТИЕ                 | ФОРМУЛА / СМЫСЛ                |
 +-------------------------+--------------------------------+
 | Ортогональность u ⊥ v   | ⟨u,v⟩ = 0 ⟺ θ = 90°            |
 | Ортонормированный базис | ⟨eᵢ,eⱼ⟩ = δᵢⱼ (0 или 1)        |
 | Координата в ОНБ        | vᵢ = ⟨v,eᵢ⟩ (просто проекция) |
 +-------------------------+--------------------------------+

 Процесс Грама-Шмидта (любой базис → ортонормированный):
 +-----+---------------------------------+--------------+
 | ШАГ | ОРТОГОНАЛИЗАЦИЯ                 | НОРМИРОВКА   |
 +-----+---------------------------------+--------------+
 | 1   | u₁ = v₁                         | e₁ = u₁/‖u₁‖ |
 | 2   | u₂ = v₂ − ⟨v₂,e₁⟩e₁              | e₂ = u₂/‖u₂‖ |
 | 3   | u₃ = v₃ − ⟨v₃,e₁⟩e₁ − ⟨v₃,e₂⟩e₂    | e₃ = u₃/‖u₃‖ |
 | k   | uₖ = vₖ − Σᵢ₌₁ᵏ⁻¹⟨vₖ,eᵢ⟩eᵢ         | eₖ = uₖ/‖uₖ‖ |
 +-----+---------------------------------+--------------+

-------------------------------------------------------------------------------
 Скалярное произведение — геометрическая интерпретация
-------------------------------------------------------------------------------

 Формула в ℝⁿ:  u · v = u₁v₁ + u₂v₂ + ... + uₙvₙ = Σᵢ uᵢvᵢ

 Геометрия: u · v = |u| × (длина проекции v на u)

              v
             ╱|
            ╱ |
           ╱  |
          ╱   |         u·v = |u| × |v|cos θ
         ╱ θ  |
     ---●-----+----→ u
        +-----+
         проекция = |v|cos θ

 Физика: Работа W = F · s (сила × перемещение в направлении силы)

 Связь с метрикой:
   Скалярное произведение определяет метрику — способ измерять.
     |v|² = v · v  (длина)
     cos θ = (u·v)/(|u||v|)  (угол)

 На многообразии:
   Метрический тензор gᵢⱼ — это скалярное произведение базисных векторов:
   gᵢⱼ = ⟨∂/∂xⁱ, ∂/∂xʲ⟩


 Векторное произведение u × v — только в ℝ³.


 Формула:  u × v = (u₂v₃−u₃v₂, u₃v₁−u₁v₃, u₁v₂−u₂v₁)

 Мнемоника через определитель:

         | i   j   k  |
   u×v = | u₁  u₂  u₃ | = i(u₂v₃−u₃v₂) − j(u₁v₃−u₃v₁) + k(u₁v₂−u₂v₁)
         | v₁  v₂  v₃ |

 Свойства:

 +-----------------------------+-----------------------------------------+
 | СВОЙСТВО                    | СЛЕДСТВИЕ                               |
 +-----------------------------+-----------------------------------------+
 | u × v ⊥ u, u × v ⊥ v        | Результат перпендикулярен обоим         |
 | |u × v| = |u||v|sin θ       | = площадь параллелограмма               |
 | u × v = −(v × u)            | Антикоммутативно.                       |
 | u × u = 0                   | Вектор × себя = 0                       |
 | (u×v)×w ≠ u×(v×w)           | Не ассоциативно.                        |
 +-----------------------------+-----------------------------------------+

 Применения в физике:

 +-------------------+------------+
 | ВЕЛИЧИНА          | ФОРМУЛА    |
 +-------------------+------------+
 | Момент силы       | τ = r × F  |
 | Магнитная сила    | F = qv × B |
 | Линейная скорость | v = ω × r  |
 +-------------------+------------+

 Почему только в ℝ³:
   Результат должен быть вектором той же размерности.
   В ℝ² нет "перпендикулярного направления" (оно было бы в ℝ³)
   В ℝⁿ (n&gt;3) перпендикулярных направлений слишком много (n−2 измерений)

   Математически: dim(∧²ℝⁿ) = n(n−1)/2 = n только при n = 3

 Обобщение: Внешнее произведение ∧ работает в любой размерности.

-------------------------------------------------------------------------------
 Внешнее произведение u ∧ v — работает везде
-------------------------------------------------------------------------------

 Идея: u ∧ v = ориентированная площадь параллелограмма на u и v
 Результат: Бивектор ∈ ∧²V (не вектор)

 Свойства:
 +-----------------------+-----------------------------------+
 | СВОЙСТВО              | ГЕОМЕТРИЧЕСКИЙ СМЫСЛ              |
 +-----------------------+-----------------------------------+
 | u ∧ v = −v ∧ u        | Смена ориентации при перестановке |
 | u ∧ u = 0             | Вырожденный параллелограмм        |
 | (u+v) ∧ w = u∧w + v∧w | Линейность (как площадь)          |
 | (αu) ∧ v = α(u ∧ v)   | Масштабирование площади           |
 +-----------------------+-----------------------------------+

 В координатах: u ∧ v = Σᵢ&lt;ⱼ (uᵢvⱼ − uⱼvᵢ) eᵢ ∧ eⱼ
 Размерность: dim(∧²ℝⁿ) = C(n,2) = n(n−1)/2

 Связь с × в ℝ³: Компоненты совпадают. Но u×v ∈ ℝ³, а u∧v ∈ ∧²ℝ³
 Преобразование: *(u ∧ v) = u × v (звезда Ходжа)

-------------------------------------------------------------------------------
 Важно для инженеров: нормаль vs бивектор
-------------------------------------------------------------------------------

   Инженеры привыкли: поток через поверхность = ∬ F·n dS
   где n — единичная нормаль к поверхности (вектор, торчащий наружу).

   Дифф. формы заменяют это на: ∬ ω  (2-форма на поверхности)
   2-форма = бивектор = "ориентированная площадка касательной плоскости"

   В ℝ³ нормаль и бивектор — двойственные описания одного и того же.
   Звезда Ходжа (*) переводит одно в другое: *(dx∧dy) = dz.

   Но: бивектор честнее, потому что он не требует "окружающего
   пространства". На поверхности в ℝ³ можно указать нормаль (выход в 3D).
   На абстрактном многообразии без вложения — нельзя. А бивектор можно.

 Применения:
 +---------------------+-------------------------------------+
 | ГДЕ                 | КАК ИСПОЛЬЗУЕТСЯ                    |
 +---------------------+-------------------------------------+
 | Дифф. формы         | Интегрирование на многообразиях     |
 | Детерминант         | det = e₁∧e₂∧...∧eₙ (n-мерный объём) |
 | Уравнения Максвелла | Элегантная запись через формы       |
 | Любая размерность   | Работает везде (в отличие от ×)     |
 +---------------------+-------------------------------------+

 Высшие степени: u∧v∧w ∈ ∧³V — ориентированный объём параллелепипеда

-------------------------------------------------------------------------------
 Тензорное произведение u ⊗ v — все комбинации
-------------------------------------------------------------------------------

 Идея: Записать все возможные произведения компонент uᵢvⱼ → матрица

 Пример: u=(u₁,u₂), v=(v₁,v₂) → u⊗v = |u₁v₁  u₁v₂|
                                       |u₂v₁  u₂v₂|

 Свойства:
 +------------------------------+---------------------------------+
 | СВОЙСТВО                     | СЛЕДСТВИЕ                       |
 +------------------------------+---------------------------------+
 | Не коммутативно: u⊗v ≠ v⊗u   | u⊗v = (v⊗u)ᵀ (транспонирование) |
 | Билинейно                    | (αu+βw)⊗v = α(u⊗v)+β(w⊗v)       |
 | rank(u⊗v) = 1 (если u,v ≠ 0) | Любая rank-1 матрица = u⊗v      |
 | Матрица rank r = Σ uᵢ⊗vᵢ     | Это SVD-разложение.             |
 +------------------------------+---------------------------------+

 Применения:
 +---------------------------------+-------------------------------------+
 | ГДЕ                             | КАК                                 |
 +---------------------------------+-------------------------------------+
 | Тензоры из векторов             | Общий метод построения              |
 | Метрика на многообразии         | g = gᵢⱼ dxⁱ⊗dxʲ                     |
 | Квантовая механика              | |ψ⟩ = |ψ₁⟩⊗|ψ₂⟩ (2 частицы)           |
 | Запутанность                    | не всякое ψ = ψ₁⊗ψ₂ .               |
 +---------------------------------+-------------------------------------+


 Сводная таблица произведений
+--------------+-----------+-------------+---------------------------+
| ПРОИЗВЕДЕНИЕ | РЕЗУЛЬТАТ | РАЗМЕРНОСТЬ | ГЛАВНОЕ СВОЙСТВО          |
+--------------+-----------+-------------+---------------------------+
|              |           |             |                           |
| u · v        | скаляр    | 1           | Симметрично: u·v = v·u    |
| (скалярное)  |           |             | Порождает метрику         |
|              |           |             |                           |
+--------------+-----------+-------------+---------------------------+
|              |           |             |                           |
| u × v        | вектор    | 3 (только) | Антисимм: u×v = −v×u      |
| (векторное)  |           |             | Перпендик. обоим          |
|              |           |             |                           |
+--------------+-----------+-------------+---------------------------+
|              |           |             |                           |
| u ∧ v        | бивектор  | n(n−1)/2    | Антисимм: u∧v = −v∧u      |
| (внешнее)    |           |             | Обобщение × на любое n    |
|              |           |             |                           |
+--------------+-----------+-------------+---------------------------+
|              |           |             |                           |
| u ⊗ v        | матрица   | n²          | Не коммутат: u⊗v = (v⊗u)ᵀ |
| (тензорное)  |           |             | Все комбинации uᵢvⱼ       |
|              |           |             |                           |
+--------------+-----------+-------------+---------------------------+

 Связь с другими разделами
+------------------+------------------------------------------------+
| РАЗДЕЛ           | КАК ПРОИЗВЕДЕНИЯ ТАМ РАБОТАЮТ                  |
+------------------+------------------------------------------------+
|                  |                                                |
| Многообразия     | ⟨·,·⟩ → метрика gᵢⱼ = ⟨∂/∂xⁱ, ∂/∂xʲ⟩              |
| (метрика)        | Как измерять расстояния на кривых поверхностях |
|                  |                                                |
+------------------+------------------------------------------------+
|                  |                                                |
| Многообразия     | ∧ → дифф. формы на многообразии                |
| (интегрирование) | dx∧dy = площадь, dx∧dy∧dz = объём              |
|                  |                                                |
+------------------+------------------------------------------------+
|                  |                                                |
| Тензоры          | ⊗ → построение тензоров из векторов            |
|                  | g = gᵢⱼ dxⁱ⊗dxʲ, тензор энергии-импульса       |
|                  |                                                |
+------------------+------------------------------------------------+
|                  |                                                |
| Лин. алгебра     | ⟨·,·⟩ → ортогональность, Грам-Шмидт             |
|                  | Ортонормированный базис упрощает вычисления    |
|                  |                                                |
+------------------+------------------------------------------------+
|                  |                                                |
| Ряды Фурье       | ⟨f,g⟩ = ∫f(x)g(x)dx — скал. произв. функций     |
|                  | Коэфф. Фурье = проекции на ортонорм. базис     |
|                  |                                                |
+------------------+------------------------------------------------+

 Иерархия пространств:
   Векторное пр-во → [+⟨,⟩] → Евклидово → [+полнота] → Гильбертово


 Прикладной пример: три задачи — три произведения

-------------------------------------------------------------------------------
 Задача 1: работа насоса (скалярное произведение)
-------------------------------------------------------------------------------

   Насос создаёт силу F = (0, 0, −1000) Н (вниз)
   Вода перемещается на d = (0, 0, 5) м (вверх)

   Работа = F · d = 0·0 + 0·0 + (−1000)·5 = −5000 Дж

   Минус означает: сила направлена против движения (насос совершает работу).
   Скалярное произведение отвечает на вопрос: "Сколько энергии?"

-------------------------------------------------------------------------------
 Задача 2: момент на валу (векторное произведение)
-------------------------------------------------------------------------------

   Рукоятка ключа: r = (0.3, 0, 0) м (от оси)
   Приложенная сила: F = (0, 100, 0) Н (перпендикулярно)

   Момент = r × F = (0·0 − 0·100,  0·0 − 0.3·0,  0.3·100 − 0·0)
                   = (0, 0, 30) Н·м

   Момент направлен вдоль оси вращения (ось z).
   Векторное произведение отвечает на вопрос: "Куда и как сильно крутит?"

-------------------------------------------------------------------------------
 Задача 3: расход через сечение (внешнее произведение / площадь)
-------------------------------------------------------------------------------

   Прямоугольное сечение трубы: грани a = (0.5, 0, 0) м, b = (0, 0.3, 0) м

   Площадь сечения = |a × b| = |(0, 0, 0.15)| = 0.15 м²

   Или через внешнее произведение: a ∧ b = 0.15 · (dx∧dy)
   Это 2-форма — объект, который "ест" пару векторов и выдаёт площадь.

   Если скорость потока v = (0, 0, 2) м/с:
   Объёмный расход = v · S = 2 · 0.15 = 0.3 м³/с


 Сводка: какое произведение для какой задачи

   +------------------+--------------+---------------------------------+
   | ВОПРОС           | ПРОИЗВЕДЕНИЕ | ПРИМЕР ИЗ ТЕПЛОФИЗИКИ           |
   +------------------+--------------+---------------------------------+
   | Сколько энергии? | Скалярное ·  | Работа насоса, мощность         |
   | Куда крутит?     | Векторное ×  | Момент на валу, вихрь потока    |
   | Какая площадь?   | Внешнее ∧    | Сечение трубы, поверхность Т/О  |
   | Все комбинации?  | Тензорное ⊗  | Тензор напряжений, проводимости |
   +------------------+--------------+---------------------------------+

Мы видели разные произведения: скалярное даёт число, тензорное даёт матрицу.
Но откуда берётся эта асимметрия — число vs объект? Ответ: скалярное
произведение — это спаривание вектора и ковектора. Что такое ковектор?

Это ведёт к фундаментальной идее двойственности: каждое пространство
имеет "тень" — пространство линейных функций на нём.

===============================================================================
Двойственность — фундаментальная симметрия математики
===============================================================================

-------------------------------------------------------------------------------
 Двойственность как взгляд на пространство
-------------------------------------------------------------------------------

 Каждое пространство V порождает двойственное пространство V* — пространство
 линейных функций на V. Это как "тень" исходного пространства.

   V  = пространство векторов (направления, смещения)
   V* = пространство ковекторов (градиенты, "цены за единицу")

 Два пространства — но связаны глубокой симметрией.
 Эта симметрия проявляется повсюду: в физике, геометрии, алгебре.


Двойственность — одна из самых глубоких идей математики. Прежде чем давать
формальные определения, начнём с физической интуиции.

-------------------------------------------------------------------------------
Физическая интуиция: ковекторы как "цены"
-------------------------------------------------------------------------------

Ключ к пониманию — аналогия с физическими размерностями.

Базисный вектор = Единица измерения

 Что такое базис? Это набор "эталонов", единиц измерения.

   e₁ = "1 метр в направлении x"
   e₂ = "1 секунда"
   e₃ = "1 килограмм"

 Вектор — это величина, измеренная в этих единицах:

   v = 5e₁ + 3e₂ = "5 метров и 3 секунды"

 Числа (5, 3) — это компоненты вектора. Сам вектор v — это физическая
 величина, которая существует независимо от выбора единиц.

-------------------------------------------------------------------------------
 Ковектор = "цена за единицу" (плотность)
-------------------------------------------------------------------------------

 Ковектор ω — это не число и не вектор.
 Ковектор — это функция, которая берёт вектор и выдаёт число.

 Физическая аналогия: цена за единицу.

   ω = "10 рублей за метр"

 Это не число 10 — это правило: "возьми длину в метрах, умножь на 10".

 Как ковектор действует на вектор:

   v = 5 метров
   ω(v) = (10 руб/м) × (5 м) = 50 рублей  ← это уже число.

 Формально:
   ω: V → ℝ,   ω(v) = ωᵢvⁱ = ω₁v¹ + ω₂v² + ...

 Другие примеры "цен":
   • Давление = "сила на единицу площади" [Н/м²]
   • Плотность = "масса на единицу объёма" [кг/м³]
   • Градиент температуры = "изменение T на единицу длины" [К/м]

 Все эти величины — ковекторы: они "едят" экстенсивную величину
 (площадь, объём, смещение) и выдают число.

-------------------------------------------------------------------------------
 Почему компоненты преобразуются противоположно
-------------------------------------------------------------------------------

 Перейдём от метров к сантиметрам: новая единица e'₁ = e₁/100.

 Вектор "5 метров":
   Старые единицы: v = 5 м = 5 e₁
   Новые единицы:  v = 500 см = 500 e'₁

   Компонента увеличилась в 100 раз.
   (Единица стала мельче → нужно больше единиц)

 Ковектор "10 рублей за метр":
   Старые единицы: ω = 10 руб/м
   Новые единицы:  ω = 0.1 руб/см

   Компонента уменьшилась в 100 раз.
   (Единица стала мельче → цена за единицу тоже меньше)

 Проверка — результат не зависит от единиц:
   ω(v) = 10 руб/м × 5 м = 50 руб
   ω(v) = 0.1 руб/см × 500 см = 50 руб  ✓

 Это и есть ключевое свойство:
   ω(v) — инвариант, не зависит от выбора единиц (базиса).
   Чтобы это работало, компоненты ω и v должны меняться противоположно.

-------------------------------------------------------------------------------
 Касательное пространство — правильная картинка
-------------------------------------------------------------------------------

 Рассмотрим параболоид z = f(x,y) = x² + y².

         z |
           |      ╱╲
           |     ╱  ╲
           |    ╱ ∙p ╲  ← поверхность параболоида
           |   ╱======╲  ← касательная плоскость TₚM
           |  ╱        ╲
           | ╱          ╲
           +--------------- x
          ╱
         y

 В точке p = (1, 0, 1) касательная плоскость TₚM — это буквально
 плоскость, которая касается поверхности в этой точке.

 Уравнение касательной плоскости:
   z = f(1,0) + fₓ(1,0)·(x-1) + fᵧ(1,0)·(y-0)
   z = 1 + 2·(x-1) + 0·(y-0) = 2x - 1

 Вектор в TₚM — это стрелка, лежащая в касательной плоскости.
 Градиент ∇f — одна из таких стрелок (направление наибольшего роста).

-------------------------------------------------------------------------------
 Кокасательное пространство — что это?
-------------------------------------------------------------------------------

 T*ₚM — это пространство всех "цен за единицу смещения" в точке p.

 Если TₚM отвечает на вопрос "куда можно пойти?" (направления),
 то T*ₚM отвечает на вопрос "сколько стоит пойти?" (линейные функции).

 Конкретно для параболоида в точке p = (1, 0, 1):

 Дифференциал df — это ковектор, который говорит:
 "Если сместишься на вектор v, функция f изменится на df(v)".

   df = fₓ dx + fᵧ dy = 2dx + 0dy = 2dx

 Возьмём вектор v = (3, 4) в касательной плоскости.
   df(v) = 2·3 + 0·4 = 6

 Это значит: при смещении на v функция f возрастёт примерно на 6.

 Геометрически: df — это "линии уровня с разметкой".
 df(v) = сколько линий уровня пересекает вектор v.

     ==============  линии уровня f = const
     ==============
        →v          вектор пересекает несколько линий
     ==============
     ==============

-------------------------------------------------------------------------------
 Градиент vs дифференциал — стрелка vs разметка
-------------------------------------------------------------------------------

 ∇f (градиент) — вектор:
   • Живёт в касательном пространстве TₚM
   • Это стрелка, указывающая направление наибольшего роста f
   • Компоненты: (∇f)ⁱ = gⁱʲ ∂f/∂xʲ  (нужна метрика)
   • Размерность: [единицы f / единицы длины], но это вектор

 Df (дифференциал) — ковектор:
   • Живёт в кокасательном пространстве T*ₚM
   • Это функция: "насколько изменится f при смещении на v"
   • Компоненты: (df)ᵢ = ∂f/∂xⁱ  (метрика не нужна)
   • Размерность: [единицы f / единицы длины], но это ковектор

 Связь:
   df(v) = ⟨∇f, v⟩ = g(∇f, v)
   ∇f = "поднятый" df с помощью метрики: (∇f)ⁱ = gⁱʲ(df)ⱼ

 Почему путают:
   В евклидовом пространстве с ортонормированным базисом gⁱʲ = δⁱʲ,
   поэтому компоненты ∇f и df численно совпадают.
   Но концептуально это разные объекты.

   ∇f — стрелка (направление)
   df — разметка (функция на направлениях)

 Ключевое: df существует всегда (для дифференцируемой f).
   ∇f существует только если задана метрика g.
   Без метрики можно говорить о df, но не о ∇f.

-------------------------------------------------------------------------------
 Двойственный базис = цены за базисные единицы
-------------------------------------------------------------------------------

 Если {e₁, e₂, ..., eₙ} — базис V (единицы измерения),
 то двойственный базис {ε¹, ε², ..., εⁿ} — это "цены":

   ε¹ = "1 рубль за единицу e₁, 0 за остальные"
   ε² = "1 рубль за единицу e₂, 0 за остальные"

 Формально:
   εⁱ(eⱼ) = δⁱⱼ = { 1, если i = j
                  { 0, если i ≠ j

 Тогда εⁱ "выбирает" i-ю компоненту вектора:
   v = v¹e₁ + v²e₂ + ... + vⁿeₙ
   ε²(v) = v²  ← вторая компонента

 Пример:
   Базис: e₁ = "1 метр", e₂ = "1 секунда"
   Двойственный базис: ε¹ = "выбрать метры", ε² = "выбрать секунды"
   Вектор: v = (5 м, 3 с) = 5e₁ + 3e₂
   ε¹(v) = 5,  ε²(v) = 3

 На многообразии:
   Базис TₚM: {∂/∂x, ∂/∂y, ...} — направления координатных линий
   Двойственный базис T*ₚM: {dx, dy, ...} — дифференциалы координат
   dx(∂/∂y) = 0,  dx(∂/∂x) = 1


 Итоговая таблица: вектор vs ковектор
+-----------------------+-------------------------+---------------------------+
|                       | ВЕКТОР v                | КОВЕКТОР ω                |
+-----------------------+-------------------------+---------------------------+
| Физ. аналогия         | Количество              | Цена за единицу           |
|                       | (5 метров)              | (10 руб/метр)             |
+-----------------------+-------------------------+---------------------------+
| Размерность           | [м], [с], [кг]          | [1/м], [1/с], [1/кг]      |
+-----------------------+-------------------------+---------------------------+
| Где живёт             | Касательное TₚM         | Кокасательное T*ₚM        |
+-----------------------+-------------------------+---------------------------+
| Геом. образ           | Стрелка                 | Разметка (линии уровня)   |
+-----------------------+-------------------------+---------------------------+
| При измельчении       | Компоненты растут       | Компоненты падают         |
| единиц измерения      | (м→см: ×100)            | (м→см: ÷100)              |
+-----------------------+-------------------------+---------------------------+
| Примеры               | Скорость, смещение,     | Дифференциал df,          |
|                       | градиент ∇f             | импульс p, давление       |
+-----------------------+-------------------------+---------------------------+
| Индекс                | Верхний: vⁱ             | Нижний: ωᵢ                |
+-----------------------+-------------------------+---------------------------+
| Базис                 | {∂/∂x¹, ∂/∂x², ...}     | {dx¹, dx², ...}           |
+-----------------------+-------------------------+---------------------------+
| Произведение          |       ω(v) = ωᵢvⁱ = ЧИСЛО (инвариант)              |
+-----------------------+-------------------------+---------------------------+

-------------------------------------------------------------------------------
 Примеры ковекторов в физике
-------------------------------------------------------------------------------

 1. дифференциал функции df
    "Изменение f на единицу смещения"
    df(v) = насколько f изменится при смещении на v

 2. импульс p в механике
    p = ∂L/∂q̇ — это ковектор, не вектор.
    Работа = p·v = pᵢvⁱ — должна быть скаляром (числом)
    Поэтому если v — вектор, то p — ковектор

 3. волновой ковектор k
    Фаза волны φ = k·x = kᵢxⁱ — должна быть скаляром
    k задаёт "направление" через поверхности равной фазы

 4. давление, напряжение
    "Сила на единицу площади" — цена за площадь

 Общий принцип:
    Если величина A·B должна быть инвариантом (числом),
    и A — вектор, то B — ковектор.

-------------------------------------------------------------------------------
Двойственность — что это такое
-------------------------------------------------------------------------------

 Двойственность — определение и применения


 Два способа описать одно и то же:

   Точки пространства              Функции на пространстве
   -----------------               -----------------------
   "Где это находится?"            "Что можно измерить?"

 Пример 1: Карта местности
   • Точки на карте (места)
   • Изолинии высот (функции высоты)
   Одна и та же гора описывается и точками вершины, и линиями уровня.

 Пример 2: Вектор vs линейная функция
   • Вектор v = (3, 4) — "стрелка" в пространстве
   • Функция φ(x,y) = 3x + 4y — "измеритель", даёт число для любой точки

   Важно: Отождествление v ↔ φ требует скалярного произведения (метрики).
   Формула: φ(u) = ⟨v, u⟩. Без метрики вектор и ковектор — разные объекты.
   Изоморфизм V ≅ V* (теорема Рисса-Фреше) существует только в Гильбертовых
   пространствах. В общем случае V* ≠ V как структуры.

 Пример 3: Время и частота
   • Сигнал во времени: f(t)
   • Спектр (частоты): f̂(ω)
   Преобразование Фурье — переход между двойственными описаниями

 Ключевая идея:
   Изучать пространство = изучать функции на нём
   Эти два подхода эквивалентны и дополняют друг друга

-------------------------------------------------------------------------------
 Что такое двойственность
-------------------------------------------------------------------------------

 Двойственность — это соответствие между двумя математическими структурами,
 при котором:

   • Каждому объекту A соответствует "двойственный" объект A*
   • Каждой операции соответствует "двойственная" операция
   • (A*)* ≅ A (двойственное к двойственному = исходное)

 Глубокий смысл:
   Пространство и функции на нём — это равноправные описания.
   Можно изучать точки, а можно изучать "тесты" (что можно измерить).


-------------------------------------------------------------------------------
Двойственное векторное пространство
-------------------------------------------------------------------------------

 Определение: двойственное пространство


 Пусть V — векторное пространство над полем F.

 Двойственное пространство V* = Hom(V, F) — это множество всех
 линейных функционалов на V:

   V* = {φ: V → F | φ линейна}

 Структура:
   • (φ + ψ)(v) = φ(v) + ψ(v)
   • (αφ)(v) = α·φ(v)

 V* само является векторным пространством.

-------------------------------------------------------------------------------
 Двойственный базис
-------------------------------------------------------------------------------

 Пусть {e₁, ..., eₙ} — базис V.

 Двойственный базис {e¹, ..., eⁿ} пространства V* определяется:

   eⁱ(eⱼ) = δⁱⱼ = { 1, если i = j
                  { 0, если i ≠ j

 Свойства:
   • dim(V*) = dim(V) только для конечномерных ( для контрпримера)
   • Любой φ ∈ V* раскладывается: φ = φ(eᵢ)·eⁱ = φᵢeⁱ
   • Действие на вектор: φ(v) = φᵢvⁱ (свёртка)

 Пример: V = ℝ³ с базисом e₁ = (1,0,0), e₂ = (0,1,0), e₃ = (0,0,1)

   e¹(x,y,z) = x       (проекция на первую координату)
   e²(x,y,z) = y       (проекция на вторую координату)
   e³(x,y,z) = z       (проекция на третью координату)

-------------------------------------------------------------------------------
 Канонический изоморфизм V ≅ V**
-------------------------------------------------------------------------------

 Для конечномерных пространств существует канонический изоморфизм:

   ι: V → V**
   ι(v)(φ) = φ(v)

 "Вектор v — это функционал на функционалах, который вычисляет их на v"

 Важно:
   • V ≅ V* требует выбора базиса (или скалярного произведения)
   • V ≅ V** каноничен (не требует выбора)

 В бесконечномерном случае:
   • Для банаховых пространств: V ↪ V** (вложение, не изоморфизм)
   • V = V** называется рефлексивным пространством
   • Lᵖ рефлексивно при 1 &lt; p &lt; ∞, но L¹ и L∞ — нет


-------------------------------------------------------------------------------
Двойственность в разных областях
-------------------------------------------------------------------------------

 Предварительные пояснения


 В таблице ниже встречаются термины, которые стоит пояснить:

 Hₖ(X) — гомологии — алгебраические инварианты, считающие "дырки" в простр.
   H₀ считает компоненты связности (сколько "кусков")
   H₁ считает "тоннели" (можно ли обойти и вернуться нетривиально)
   H₂ считает "полости" (замкнутые пустоты внутри)
   Формально: Hₖ = ker(∂ₖ)/Im(∂ₖ₊₁) — "циклы, не являющиеся границами"

 Hᵏ(X) — когомологии — двойственные к гомологиям (функции на циклах)
   Когомологии де Рама: классы замкнутых форм ω (dω=0) по модулю точных

   Интуиция через потенциал: замкнутая форма — это поле, которое локально
   выглядит как градиент (можно найти потенциал на маленьком куске). Точная
   форма — это поле, которое глобально является градиентом (потенциал
   существует везде). Когомологии измеряют препятствия (дырки), мешающие
   локальному потенциалу стать глобальным.

 Спаривание Кронекера: ⟨·,·⟩: Hᵏ(X) × Hₖ(X) → ℝ
   Интуитивно: когомология "измеряет" гомологию — интеграл формы по циклу

 S¹ = {z ∈ ℂ : |z| = 1} — единичная окружность в комплексной плоскости

-------------------------------------------------------------------------------
 Таблица двойственностей
-------------------------------------------------------------------------------

 Важно: Это разные виды двойственности, объединённые общим паттерном.

 +--------------------+-------------------------------------+
 | ТИП ДВОЙСТВЕННОСТИ | ПРИМЕРЫ ИЗ ТАБЛИЦЫ НИЖЕ             |
 +--------------------+-------------------------------------+
 | Алгебраическая     | V ↔ V*, строки ↔ столбцы            |
 | (лин. алгебра)     |                                     |
 +--------------------+-------------------------------------+
 | Понтрягина         | G ↔ Ĝ (группа ↔ группа характеров)  |
 | (топ. группы)      |                                     |
 +--------------------+-------------------------------------+
 | Пуанкаре           | Hₖ ↔ Hⁿ⁻ᵏ (гомологии ↔ когомологии) |
 | (топология)        |                                     |
 +--------------------+-------------------------------------+
 | Категорная         | F ↔ Fᵒᵖ (ковариант ↔ контравариант) |
 | (теория категорий) |                                     |
 +--------------------+-------------------------------------+

 Общее: всюду есть спаривание ⟨·,·⟩ → число. Но детали существенно разные.

+-------------------+---------------------+--------------------------------+
| ОБЪЕКТ            | ДВОЙСТВЕННЫЙ        | СВЯЗУЮЩЕЕ ОТОБРАЖЕНИЕ          |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Вектор v ∈ V      | Ковектор φ ∈ V*     | φ(v) ∈ F (спаривание)          |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Строка матрицы    | Столбец матрицы     | Транспонирование Aᵀ            |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Точка x ∈ X       | Функция f: X → ℝ    | f(x) (значение в точке)        |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Абелева группа G  | Группа характеров   | χ: G → S¹ (гомоморфизм         |
|                   | Ĝ = Hom(G, S¹)      | в единичную окружность)        |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Время t           | Частота ω           | Фурье: e^{iωt}                 |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Положение q       | Импульс p           | Гамильтонова механика          |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| TₚM (касательное) | T*ₚM (кокасат.)     | df(v) = v(f)                   |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Hₖ(X) (гомологии) | Hᵏ(X) (когомологии) | ⟨ω, c⟩ = ∫_c ω (интеграл)        |
| "циклы"           | "формы"             |                                |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| ∪ (объединение)   | ∩ (пересечение)     | Законы де Моргана:             |
| ∨ (или)           | ∧ (и)               | ¬(A∪B) = ¬A ∩ ¬B               |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Точка (в проект.  | Гиперплоскость      | Точка ↔ мн-во прямых через неё |
| геометрии)        |                     |                                |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+
|                   |                     |                                |
| Функтор F: C → D  | Контравар. функтор  | F(f: A→B) даёт F(f): F(B)→F(A) |
| (ковариантный)    | F: Cᵒᵖ → D          | (стрелка разворачивается)      |
|                   |                     |                                |
+-------------------+---------------------+--------------------------------+

 Главная идея двойственности

 Во всех примерах выше один объект "измеряет" другой через спаривание:

   ⟨двойственный, исходный⟩ → число

 Это как термометр и температура, линейка и длина, весы и масса.
 Двойственный объект — это "измерительный прибор" для исходного.


-------------------------------------------------------------------------------
Двойственность Понтрягина
-------------------------------------------------------------------------------

 Пояснение: Что такое "локально компактная" группа

 Локально компактная группа — это топологическая группа (группа +
 топология, согласованные друг с другом), в которой каждая точка имеет
 компактную окрестность.

 Компактность — ограниченность + замкнутость (в ℝⁿ). Интуитивно: можно
 "покрыть конечным числом маленьких шаров".

 Примеры локально компактных групп:
   • ℝ, ℝⁿ — да (любая точка имеет замкнутый шар вокруг)
   • ℤ — да (дискретная топология, каждая точка — сама компакт)
   • S¹ — да (компактна целиком)
   • GL(n,ℝ) — да (открытое подмножество ℝⁿ²)

 Примеры нелокально компактных:
   • Бесконечномерные банаховы пространства (единичный шар не компактен)

 Зачем это нужно:
   На локально компактных группах существует мера Хаара (инвариантная
   мера), что позволяет интегрировать и определять преобразование Фурье.

-------------------------------------------------------------------------------
 Определение: двойственная группа
-------------------------------------------------------------------------------

 Для локально компактной абелевой группы G её двойственная группа:

   Ĝ = Hom(G, S¹) = {χ: G → S¹ | χ непрерывный гомоморфизм}

 Элементы Ĝ называются характерами группы G.

 Теорема Понтрягина:
   Для локально компактной абелевой группы G: Ĝ̂ ≅ G


 Примеры двойственности Понтрягина
+----------+----------------+------------------------------+
| ГРУППА G | ДВОЙСТВЕННАЯ Ĝ | ХАРАКТЕРЫ                    |
+----------+----------------+------------------------------+
|          |                |                              |
| ℤ        | S¹ ≅ ℝ/ℤ        | χₜ(n) = e^{2πint}, t ∈ [0,1) |
|          |                |                              |
+----------+----------------+------------------------------+
|          |                |                              |
| S¹ ≅ ℝ/ℤ | ℤ               | χₙ(t) = e^{2πint}, n ∈ ℤ     |
|          |                |                              |
+----------+----------------+------------------------------+
|          |                |                              |
| ℝ        | ℝ              | χ_ξ(x) = e^{2πiξx}, ξ ∈ ℝ    |
|          |                | (самодвойственная)          |
|          |                |                              |
+----------+----------------+------------------------------+
|          |                |                              |
| ℤ/nℤ      | ℤ/nℤ           | χₖ(m) = e^{2πikm/n}          |
|          |                | (самодвойственная)          |
|          |                |                              |
+----------+----------------+------------------------------+
|          |                |                              |
| ℝⁿ       | ℝⁿ             | χ_ξ(x) = e^{2πi⟨ξ,x⟩}          |
|          |                |                              |
+----------+----------------+------------------------------+

-------------------------------------------------------------------------------
 Связь с преобразованием Фурье
-------------------------------------------------------------------------------

 Главная мысль: преобразование Фурье — это и есть переход к двойственной
 Группе. Это не аналогия, это буквально одно и то же.

   • Время t живёт в группе ℝ
   • Частота ω живёт в двойственной группе ℝ̂ ≅ ℝ
   • Фурье-образ f̂(ω) = "координаты функции в базисе характеров"

 Тонкость: Изоморфизм ℝ̂ ≅ ℝ не канонический — он зависит от выбора
 нормировки (2π в экспоненте). Это как V* ≅ V: верно, но требует выбора.
 Разные учебники используют e^{iωt}, e^{2πiξt} или e^{-iωt} — отсюда
 путаница с коэффициентами 2π в формулах Фурье.

 Когда инженер делает БПФ (быстрое преобразование Фурье), он неявно
 пользуется двойственностью Понтрягина для группы ℤ/nℤ.

 Преобразование Фурье — это разложение функции по характерам:

   f̂(ξ) = ∫_G f(x) χ_ξ(x)⁻¹ dx

 Таблица соответствий:

   +-----------------+---------------------+-----------------------+
   | ГРУППА          | ФУРЬЕ               | ПРИМЕНЕНИЕ            |
   +-----------------+---------------------+-----------------------+
   | ℝ               | Обычное Фурье       | Обработка сигналов    |
   | S¹              | Ряды Фурье          | Периодические функции |
   | ℤ               | DTFT                | Дискретные сигналы    |
   | ℤ/nℤ            | DFT (БПФ)           | Цифровая обработка    |
   | Конечная группа | Теория представлен. | Химия, физика         |
   +-----------------+---------------------+-----------------------+


-------------------------------------------------------------------------------
Теорема Гельфанда-Наймарка
-------------------------------------------------------------------------------

 Пространство ↔ алгебра функций


 Теорема (Гельфанд-Наймарк):

   Компактное хаусдорфово пространство X полностью определяется
   алгеброй непрерывных функций C(X).

   X ↔ C(X)    (эквивалентность категорий)

 Следствие:
   Можно изучать пространство X, изучая функции на нём.
   Это основа некоммутативной геометрии.

 Обобщение (некоммутативная геометрия):
   Некоммутативные C*-алгебры = "функции на некоммутативных пространствах"
   Квантовая механика = некоммутативная геометрия фазового пространства


-------------------------------------------------------------------------------
Физический смысл двойственности
-------------------------------------------------------------------------------

 Положение ↔ импульс

+--------------------+------------------------+-------------------------------+
|                    | ПОЛОЖЕНИЕ q            | ИМПУЛЬС p                     |
+--------------------+------------------------+-------------------------------+
| Смысл              | "Где?"                 | "Куда движется?"              |
+--------------------+------------------------+-------------------------------+
| Математически      | q ∈ Q (конфигурация)   | p ∈ T*_qQ (кокасательное)     |
+--------------------+------------------------+-------------------------------+
| Квант. механика    | ψ(q) — волн. функция   | ψ̃(p) = F[ψ(q)] — Фурье        |
+--------------------+------------------------+-------------------------------+
| Неопределённость   |                    Δq · Δp ≥ ℏ/2                       |
+--------------------+------------------------+-------------------------------+

 Аналогично: Время ↔ Энергия (ΔE·Δt ≥ ℏ/2)


 Резюме: два способа смотреть на пространство

   +-------------------------------------------------------------+
   |                                                             |
   | ПРОСТРАНСТВО                      ФУНКЦИИ НА НЁМ            |
   | (точки, объекты)                  (измерения, тесты)        |
   |                                                             |
   | X            ◄==========►           C(X)                    |
   |                                                             |
   | • Точки x ∈ X                    • Функции f: X → ℝ         |
   | • Подмножества                   • Идеалы                   |
   | • Отображения X → Y              • Гомоморфизмы C(Y) → C(X) |
   | (направление обратное)                                     |
   |                                                             |
   +-------------------------------------------------------------+

 Оба описания эквивалентны.
 Выбор зависит от задачи и удобства.

-------------------------------------------------------------------------------
 Прикладной пример: двойственность в термодинамике
-------------------------------------------------------------------------------

 Термодинамика полна двойственных пар — это не совпадение.

   +-----------------+------------------+------------+
   | ЭКСТЕНСИВНАЯ    | ИНТЕНСИВНАЯ      | СВЯЗЬ      |
   | (аддитивная)    | (измеритель)     |            |
   +-----------------+------------------+------------+
   | Объём V         | Давление p       | δW = −p dV |
   | Энтропия S      | Температура T    | δQ = T dS  |
   | Кол-во вещ-ва n | Хим. потенциал μ | δG = μ dn  |
   | Заряд q         | Потенциал φ      | δW = φ dq  |
   +-----------------+------------------+------------+

 Математический смысл:

   Экстенсивные величины = координаты пространства состояний
   Интенсивные величины = функции на этом пространстве (ковекторы)

   Работа/теплота = спаривание ⟨p, dV⟩, ⟨T, dS⟩
   Это в точности действие ковектора на вектор.

 Преобразование Лежандра:

   Переход между описаниями: U(S,V) ↔ H(S,p) ↔ F(T,V) ↔ G(T,p)

   Это смена базиса между двойственными переменными.

   • U(S,V) — внутренняя энергия (естественные: S, V)
   • H(S,p) = U + pV — энтальпия (заменили V на p)
   • F(T,V) = U − TS — свободная энергия (заменили S на T)
   • G(T,p) = U + pV − TS — потенциал Гиббса (заменили S→T, V→p)

 Практический смысл:

   • При p = const удобна энтальпия H (насосы, компрессоры)
   • При T = const удобна свободная энергия F (изотермические процессы)
   • При T, p = const удобен потенциал Гиббса G (химические реакции)


 Вывод: Двойственность — не абстракция, а рабочий инструмент.
 Термодинамические потенциалы — это выбор удобного описания
 для конкретной задачи (что фиксировано: T или S? p или V?)

-------------------------------------------------------------------------------
Дельта-функция — двойственность в действии
-------------------------------------------------------------------------------

 Проблема: Что такое "точечный заряд" или "мгновенный импульс"?


 Инженеры постоянно используют "дельта-функцию" δ(x):
   • Точечный заряд: ρ(x) = q·δ(x − x₀)
   • Импульсная сила: F(t) = P·δ(t − t₀)
   • Начальное условие: u(x,0) = δ(x)

 Формально пишут:
   δ(x) = { 0, x ≠ 0
          { ∞, x = 0     и     ∫δ(x)dx = 1

 Но это не функция. Нет функции со значением ∞ в точке и интегралом 1.


 Решение: δ — это функционал (элемент двойственного пространства)


 Правильное определение:

   δ: C∞₀(ℝ) → ℝ,    δ[φ] = φ(0)

 Δ — это линейный функционал, который берёт тестовую функцию φ
 и возвращает её значение в нуле.

 "Интеграл" ∫δ(x)φ(x)dx понимается как δ[φ] = φ(0).

 Связь с двойственностью:
   • Пространство пробных (тестовых) функций:
     𝒟(ℝ) = C∞₀(ℝ) = {φ: гладкие с компактным носителем}
     (φ обращается в 0 вне некоторого ограниченного интервала)
   • Двойственное пространство: 𝒟'(ℝ) = {обобщённые функции/распределения}
   • δ ∈ 𝒟'(ℝ) — элемент двойственного пространства.

   Другой вариант: класс Шварца 𝒮(ℝ) — быстро убывающие функции.
   Тогда 𝒮'(ℝ) — умеренные распределения (включая δ).

 Производная δ' тоже функционал:
   δ'[φ] = −φ'(0)    (интегрирование по частям)

-------------------------------------------------------------------------------
 Практические свойства
-------------------------------------------------------------------------------

 ∫ f(x)δ(x−a)dx = f(a)         "выбирает" значение f в точке a

 ∫ f(x)δ'(x−a)dx = −f'(a)       "выбирает" производную в точке a

 Важно: Эти формулы имеют смысл только для гладких (пробных) функций f.
     Применять δ к произвольной функции из L² некорректно — у таких
     функций "значение в точке" не определено (только класс эквивалентности).

 δ(ax) = (1/|a|)δ(x)           масштабирование аргумента

 xδ(x) = 0                     x·0 = 0 везде, включая x=0

 Фурье-образ:
   F[δ(x)](ω) = 1               δ(x) ↔ const
   F[1](ω) = 2πδ(ω)             const ↔ δ(ω)

 Свёртка:
   f * δ = f                    δ — нейтральный элемент свёртки
   f * δ' = f'                  дифференцирование через свёртку


 Запрещённые операции с δ


 В теории обобщённых функций (распределений Шварца) нельзя:

   • δ(x)·δ(x) = δ²(x) — не определено.
   • δ(x)·|x|⁻¹ — не определено.
   • Любые нелинейные операции с δ

 Почему: Произведение двух распределений в общем случае не определено.
 Распределения — это линейные функционалы, а произведение
 δ(x)·δ(x) потребовало бы "значение δ в точке", которого нет.

 Где это проблема:
   • Квантовая теория поля: "расходимости" = попытки вычислить δ²
   • Нелинейные уравнения с сингулярными данными
   • Возведение сигнала в квадрат (мощность сигнала с δ-импульсом)

 Что можно: Линейные операции (сложение, дифференцирование, свёртка с
 гладкой функцией) — всё это корректно определено.

-------------------------------------------------------------------------------
 Применения в инженерии
-------------------------------------------------------------------------------

 Импульсная характеристика:
   Линейная система L с входом u(t) и выходом y(t) = L[u]
   Импульсная характеристика: h(t) = L[δ(t)]
   Тогда: y(t) = (h * u)(t) = ∫ h(τ)u(t−τ)dτ

 Передаточная функция:
   H(s) = L[h(t)]  (преобразование Лапласа импульсной характеристики)
   Если H(s) = 1/(s+a), то h(t) = e^{−at}

 Функция Грина:
   Решение уравнения LG(x,ξ) = δ(x−ξ) называется функцией Грина
   Решение Lu = f: u(x) = ∫ G(x,ξ)f(ξ)dξ

Мы познакомились с двойственностью: V и V*. Теперь можно строить объекты,
которые "едят" несколько векторов и ковекторов одновременно. Это тензоры —
мультилинейные функции на произведениях V и V*.

Тензоры — язык физики: напряжения, деформации, электромагнитное поле.

===============================================================================
Тензоры — мультилинейные объекты на пространствах
===============================================================================

Тензор — это кульминация темы "объект vs наблюдатель".

Тензор — это объект, которому безразличен выбор наблюдателя.

Вектор существует независимо от базиса. Но записать его числами можно только
выбрав базис — то есть став "наблюдателем". Разные наблюдатели запишут один
вектор разными числами. Закон преобразования компонент — это правило пересчёта
между языками разных наблюдателей.

Тензор — это обобщение: объект, который "ест" несколько векторов и ковекторов
и выдаёт число. Это число — инвариант, одинаковый для всех наблюдателей.
Компоненты тензора (числа в таблице) меняются при смене базиса, но по строгому
закону, гарантирующему, что результат вычисления останется тем же.

Это не абстрактная математика — это язык физики. Напряжение в материале,
метрика пространства-времени, электромагнитное поле — всё это тензоры. Они
описывают реальность, которая не зависит от того, как мы решили её записать.

Главная ошибка: путать тензор (геометрический объект) с его компонентами
(числами в конкретном базисе). Матрица 3×3 может быть записью совершенно
разных тензоров — или не быть тензором вообще.

Ключевой принцип: тензор не меняется при смене координат — меняется наше
описание (компоненты), чтобы компенсировать смену линейки.

 Тензоры как взгляд на пространство


 Тензоры описывают, как свойства пространства меняются от точки к точке
 и от направления к направлению.

   • Скаляр (тензор ранга 0): температура T(x) — одно число в каждой точке
   • Вектор (ранг 1): скорость v(x) — направление в каждой точке
   • Тензор (ранг 2): напряжения σᵢⱼ(x) — зависят от точки и от плоскости

 Тензоры — язык описания анизотропии: когда пространство "разное" в разных
 направлениях (теплопроводность кристалла, упругость композита).


Теперь, когда мы понимаем двойственность, можем определить тензоры.

-------------------------------------------------------------------------------
Зачем нужны тензоры — мотивация
-------------------------------------------------------------------------------

 Зачем вообще менять систему координат? — мотивация


 Прежде чем говорить о тензорах и преобразованиях, ответим на главный
 вопрос: Зачем кому-то понадобилось менять координаты?

-------------------------------------------------------------------------------
 Причина 1: разные наблюдатели
-------------------------------------------------------------------------------

   Наблюдатель стоит на платформе. Мимо едет поезд. В поезде сидит пассажир.

   • Для наблюдателя: пассажир движется со скоростью 100 км/ч
   • Для пассажира: он покоится, а наблюдатель движется со скоростью −100

   Кто прав? Оба. Скорость — это вектор, и его компоненты зависят от
   системы отсчёта. Но сам пассажир — один и тот же физический объект.

   Проблема: Законы физики должны быть одинаковы для всех наблюдателей.
             F = ma должно работать и на платформе, и в поезде.

-------------------------------------------------------------------------------
 Причина 2: удобство решения задачи
-------------------------------------------------------------------------------

   Задача: найти площадь эллипса x²/a² + y²/b² = 1

   В декартовых координатах — сложный интеграл.
   Сделаем замену: u = x/a, v = y/b
   Эллипс превращается в круг u² + v² = 1, площадь = π.
   Площадь эллипса = πab (с учётом растяжения координат).

   Другие примеры:
   • Задача с вращением → полярные координаты
   • Задача со сферой → сферические координаты
   • Колебания → нормальные моды (собственные векторы)

   Правильный выбор координат превращает сложную задачу в простую.

-------------------------------------------------------------------------------
 Причина 3: измерения в разных единицах
-------------------------------------------------------------------------------

   Американский инженер: труба длиной 10 футов, диаметр 6 дюймов
   Российский инженер: та же труба — 3.048 м, диаметр 152.4 мм

   Труба одна и та же. Числа разные.

   Если формула расчёта потерь давления даёт разные ответы в футах и
   в метрах — формула неправильная. Физика не знает про футы и метры.

-------------------------------------------------------------------------------
 Причина 4: криволинейные координаты на поверхностях
-------------------------------------------------------------------------------

   На поверхности Земли нет "естественных" декартовых координат.
   Используем широту и долготу — но они ведут себя странно:
   • На полюсе долгота не определена
   • "Метр на восток" имеет разную длину на экваторе и в Москве

   В разных точках базисные векторы ∂/∂φ и ∂/∂θ имеют разную длину.
   Это вынуждает нас думать о преобразованиях координат.

-------------------------------------------------------------------------------
 Вывод: что должен уметь "правильный" математический объект
-------------------------------------------------------------------------------

 Физическая величина (скорость, сила, напряжение, метрика) должна:

   1. существовать независимо от выбора координат
   2. иметь компоненты, которые меняются при смене координат
   3. меняться по определённому закону, чтобы величина оставалась той же

 Объект, удовлетворяющий этим требованиям, называется тензор.

 Матрица перехода A — это просто запись того, как новые базисные
 векторы выражаются через старые. Она вынуждена быть именно такой,
 потому что базисные векторы — это конкретные геометрические объекты.


 Конкретный пример: теплопроводность в слоистом материале


 Есть слоистая теплоизоляция: слои идут горизонтально.

   • Вдоль слоёв теплопроводность λ∥ = 0.5 Вт/(м·К)
   • Поперёк слоёв теплопроводность λ⊥ = 0.05 Вт/(м·К)

 Если оси координат совпадают со слоями:

       λ = ⎛ 0.5   0  ⎞    Диагональная матрица — просто.
           ⎝  0   0.05⎠

 Теперь повернём координаты на 45°. Слои остались теми же.
 Но матрица теплопроводности изменится:

       λ' = R⁻¹ λ R =  ⎛ 0.275  0.225 ⎞    Появились недиагональные
                       ⎝ 0.225  0.275 ⎠    элементы.

 Что это значит физически?

   В повёрнутых координатах: если градиент температуры направлен
   по оси x', то тепловой поток будет не по x', а под углом.
   Потому что материал "хочет" проводить тепло вдоль слоёв.

   λ' ≠ λ  — компоненты разные
   Но физический материал — один и тот же
   λ и λ' описывают один объект в разных координатах

 Закон преобразования λ' = R⁻¹λR — не произвольный выбор.
 Он вынужден быть таким, чтобы тепловой поток q = −λ∇T
 был одним и тем же физическим вектором в любых координатах.

-------------------------------------------------------------------------------
 Зачем нужны тензоры
-------------------------------------------------------------------------------

 Проблема 1: Физические величины не должны зависеть от координат.
   • Температура — одна, как ни поверни оси
   • Скорость — один вектор, но компоненты меняются
   • Напряжение в материале — как описать?

 Проблема 2: Нужны объекты "сложнее" векторов
   • Скаляр принимает точку → даёт число
   • Вектор. Что он принимает? Что даёт?
   • Матрица действует на вектор → даёт вектор
   • Метрика принимает два вектора → даёт число (длину/угол)

 Решение: Тензор = мультилинейное отображение с определённым законом
          преобразования координат


-------------------------------------------------------------------------------
Мультилинейность — ключевая идея
-------------------------------------------------------------------------------

 Определение: мультилинейное отображение


 Отображение T: V₁ × V₂ × ... × Vₖ → W называется мультилинейным
 (или k-линейным), если оно линейно по каждому аргументу отдельно:

   T(v₁, ..., αuᵢ + βwᵢ, ..., vₖ) = αT(v₁,...,uᵢ,...,vₖ) + βT(v₁,...,wᵢ,...,vₖ)

 для всех i = 1, ..., k.

-------------------------------------------------------------------------------
 Пояснение: что значит "линейно по каждому аргументу"
-------------------------------------------------------------------------------

 Представьте функцию f(x, y) двух переменных.

 "Линейно по x" означает:
   Если зафиксировать y, то f ведёт себя как линейная функция от x:
   f(αx₁ + βx₂, y) = α·f(x₁, y) + β·f(x₂, y)

 "Линейно по y" означает:
   Если зафиксировать x, то f ведёт себя как линейная функция от y:
   f(x, αy₁ + βy₂) = α·f(x, y₁) + β·f(x, y₂)

 "Билинейно" = линейно по x и линейно по y (одновременно).

 Конкретный числовой пример: Скалярное произведение в ℝ²


 Скалярное произведение: ⟨u, v⟩ = u₁v₁ + u₂v₂

 Возьмём конкретные векторы:
   u = (1, 2),  v = (3, 0),  w = (0, 1)

 Проверка линейности по первому аргументу:

   Вычислим ⟨2u + 3w, v⟩ двумя способами:

   Способ 1 (напрямую):
     2u + 3w = 2·(1,2) + 3·(0,1) = (2,4) + (0,3) = (2, 7)
     ⟨(2,7), (3,0)⟩ = 2·3 + 7·0 = 6

   Способ 2 (через линейность):
     2·⟨u, v⟩ + 3·⟨w, v⟩ = 2·⟨(1,2),(3,0)⟩ + 3·⟨(0,1),(3,0)⟩
                         = 2·(1·3 + 2·0) + 3·(0·3 + 1·0)
                         = 2·3 + 3·0 = 6  ✓

   Результаты совпали — линейность по первому аргументу работает.

 Почему это важно:
   Мультилинейность позволяет "разбирать" сложные выражения на части.
   Вместо вычисления T(сложная_комбинация) можно разложить на
   простые слагаемые и сложить результаты.

 Контрпример — норма не линейна:
   ‖2u‖ = ‖(2,4)‖ = √(4+16) = √20 ≈ 4.47
   2·‖u‖ = 2·‖(1,2)‖ = 2·√5 ≈ 4.47  ✓ (тут совпало)

   Но: ‖(−1)·u‖ = ‖(−1,−2)‖ = √5 ≈ 2.24
       (−1)·‖u‖ = −√5 ≈ −2.24  ✗ (не совпало)

   Норма даёт всегда положительное число, а (−1)·‖u‖ отрицательно.
   Поэтому норма — не линейна, и следовательно — не тензор.


 Примеры мультилинейных отображений
+-------------------+-----------------------+---------------------------+
| ОТОБРАЖЕНИЕ       | ТИП                   | ПРОВЕРКА МУЛЬТИЛИНЕЙНОСТИ |
+-------------------+-----------------------+---------------------------+
|                   |                       |                           |
| Скалярное произв. | V × V → ℝ             | ⟨αu, v⟩ = α⟨u,v⟩ ✓           |
| ⟨u, v⟩             | билинейное (k=2)      | ⟨u, αv⟩ = α⟨u,v⟩ ✓           |
|                   |                       |                           |
+-------------------+-----------------------+---------------------------+
|                   |                       |                           |
| Определитель      | V × V × ... × V → ℝ   | det(..., αv, ...) =       |
| det(v₁,...,vₙ)      | n-линейное            | = α·det(..., v, ...) ✓    |
|                   |                       |                           |
+-------------------+-----------------------+---------------------------+
|                   |                       |                           |
| Векторное произв. | V × V → V             | (αu) × v = α(u × v) ✓     |
| u × v             | билинейное            | u × (αv) = α(u × v) ✓     |
|                   |                       |                           |
+-------------------+-----------------------+---------------------------+
|                   |                       |                           |
| Метрика           | TₚM × TₚM → ℝ         | g(αu, v) = αg(u,v) ✓      |
| g(u, v)           | билинейное            | g(u, αv) = αg(u,v) ✓      |
|                   |                       |                           |
+-------------------+-----------------------+---------------------------+
|                   |                       |                           |
| Кривизна Римана   | TₚM × TₚM × TₚM → TₚM  | R(αX,Y)Z = αR(X,Y)Z ✓     |
| R(X,Y)Z           | трилинейное           | (линейно по всем трём)    |
|                   |                       |                           |
+-------------------+-----------------------+---------------------------+

 Контрпример: что не является мультилинейным


 Норма ‖v‖ = √⟨v,v⟩ — не линейна.

   ‖αv‖ = |α|·‖v‖ ≠ α·‖v‖  (для α &lt; 0)

 Норма — это не тензор. Это функция, но не линейная.


-------------------------------------------------------------------------------
Формальное определение тензора
-------------------------------------------------------------------------------

 Определение: тензор типа (p, q)


 Пусть V — векторное пространство над ℝ, V* — его двойственное.

 Тензор типа (p, q) на V — это мультилинейное отображение:

   T: V* × ... × V* × V × ... × V → ℝ
      +----p штук----+ +---q штук---+

 p называется контравариантной валентностью (верхние индексы)
 q называется ковариантной валентностью (нижние индексы)

 Общая валентность (ранг) тензора = p + q

 Иерархия тензоров
+----------------+--------+-----------------------------------------------------+
| ТИП            | (p,q)  | ЧТО ЭТО / СКОЛЬКО КОМПОНЕНТ                         |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Скаляр         | (0,0)  | T: {} → ℝ (просто число)                            |
|                |        | 1 компонента: T                                     |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Вектор         | (1,0)  | T: V* → ℝ (линейная функция на ковекторах)          |
|                |        | n компонент: Tⁱ                                     |
|                |        | Отождествляется с элементом V через V ≅ V**         |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Ковектор       | (0,1)  | T: V → ℝ (линейная функция на векторах)             |
| (1-форма)      |        | n компонент: Tᵢ                                     |
|                |        | Это элемент V*                                      |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Билинейная     | (0,2)  | T: V × V → ℝ                                        |
| форма          |        | n² компонент: Tᵢⱼ                                   |
|                |        | Пример: метрика gᵢⱼ, скалярное произведение         |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Линейный       | (1,1)  | T: V* × V → ℝ  или  T: V → V                        |
| оператор       |        | n² компонент: Tⁱⱼ                                   |
|                |        | Пример: матрица преобразования                      |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Тензор (2,0)   | (2,0)  | T: V* × V* → ℝ                                      |
|                |        | n² компонент: Tⁱʲ                                   |
|                |        | Пример: обратная метрика gⁱʲ                        |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+
|                |        |                                                     |
| Тензор Римана  | (1,3)  | R: V* × V × V × V → ℝ                               |
|                |        | n⁴ компонент: Rⁱⱼₖₗ                                  |
|                |        | (с симметриями: 20 независимых в 4D)                |
|                |        |                                                     |
+----------------+--------+-----------------------------------------------------+

-------------------------------------------------------------------------------
 Компоненты тензора в базисе
-------------------------------------------------------------------------------

 Пусть {e₁, ..., eₙ} — базис V, {e¹, ..., eⁿ} — двойственный базис V*.

 Компоненты тензора T типа (p,q):

   T^{i₁...iₚ}_{j₁...jq} = T(e^{i₁}, ..., e^{iₚ}, e_{j₁}, ..., e_{jq})

 Сам тензор восстанавливается:

   T = T^{i₁...iₚ}_{j₁...jq} · e_{i₁} ⊗ ... ⊗ e_{iₚ} ⊗ e^{j₁} ⊗ ... ⊗ e^{jq}

 (суммирование по повторяющимся индексам — соглашение Эйнштейна)

-------------------------------------------------------------------------------
 Ключевое различие: матрица-таблица vs матрица-тензор
-------------------------------------------------------------------------------

 Часто говорят "тензор — это многомерная таблица чисел". Это неправильно.
 Таблица — это лишь представление тензора в конкретном базисе.

 Матрица как таблица:
   Просто 4 числа в определённом порядке. Не меняются при смене базиса.
   Пример: данные в Excel, пиксели изображения.

 Матрица как тензор:
   Числа + тип + правило преобразования.
   При смене базиса числа меняются по определённому закону.
   Пример: метрика, линейный оператор, билинейная форма.


 Пример: одна матрица — три разных тензора


 Возьмём единичную матрицу 2×2:

       ⎛ 1  0 ⎞
   M = ⎜      ⎟
       ⎝ 0  1 ⎠

 Эта матрица может представлять три разных тензора:

 +---------------------+---------+--------------------------------------+
 | Тип тензора         | Индексы | Что это                              |
 +---------------------+---------+--------------------------------------+
 | (1,1) — оператор    | Mⁱⱼ     | Тождественное преобразование v ↦ v   |
 | (0,2) — билин.форма | Mᵢⱼ     | Стандартное скалярное произв. ⟨u,v⟩   |
 | (2,0) — бивектор    | Mⁱʲ     | Обратная метрика (поднимает индексы) |
 +---------------------+---------+--------------------------------------+

 Теперь применим смену базиса: растянем ось x в 2 раза.

 Матрица перехода: A = ⎛ 2  0 ⎞,  A⁻¹ = ⎛ 1/2  0 ⎞
                       ⎝ 0  1 ⎠         ⎝  0   1 ⎠

 Результаты преобразования:

 +----------------+-------------------+------------------+
 | Тип            | Формула           | Результат        |
 +----------------+-------------------+------------------+
 | (1,1) оператор | M' = A⁻¹ M A      | ⎛ 1  0 ⎞          |
 |                |                   | ⎝ 0  1 ⎠          |
 |                |                   | (не изменилась) |
 +----------------+-------------------+------------------+
 | (0,2) форма    | M' = Aᵀ M A       | ⎛ 4  0 ⎞          |
 |                |                   | ⎝ 0  1 ⎠          |
 |                |                   | (выросла по x)   |
 +----------------+-------------------+------------------+
 | (2,0) бивектор | M' = (A⁻¹)M(A⁻¹)ᵀ | ⎛ 1/4  0 ⎞        |
 |                |                   | ⎝  0   1 ⎠        |
 |                |                   | (сжалась по x)   |
 +----------------+-------------------+------------------+

 Вывод:
   Одна и та же таблица чисел ⎛1 0⎞ превратилась в три разные матрицы.
                              ⎝0 1⎠
   Тензор — это не числа, а числа + правило преобразования.


 Числовой пример: как вычислить преобразование


 Проверим для типа (0,2) — билинейной формы (метрики):

 M' = Aᵀ M A

     ⎛ 2  0 ⎞ᵀ   ⎛ 1  0 ⎞   ⎛ 2  0 ⎞
   = ⎜      ⎟  · ⎜      ⎟ · ⎜      ⎟
     ⎝ 0  1 ⎠    ⎝ 0  1 ⎠   ⎝ 0  1 ⎠

     ⎛ 2  0 ⎞   ⎛ 1  0 ⎞   ⎛ 2  0 ⎞
   = ⎜      ⎟ · ⎜      ⎟ · ⎜      ⎟
     ⎝ 0  1 ⎠   ⎝ 0  1 ⎠   ⎝ 0  1 ⎠

     ⎛ 2  0 ⎞   ⎛ 2  0 ⎞   ⎛ 4  0 ⎞
   = ⎜      ⎟ · ⎜      ⎟ = ⎜      ⎟  ✓
     ⎝ 0  1 ⎠   ⎝ 0  1 ⎠   ⎝ 0  1 ⎠

 Физический смысл:
   Базисный вектор e'₁ = 2e₁ стал вдвое длиннее.
   Координата x' = x/2 (в новых единицах нужно меньше шагов).
   Длина: s² = g'₁₁(x')² = 4·(x/2)² = x² = g₁₁x² ✓

   Метрика увеличилась в 4 раза, чтобы компенсировать уменьшение координат.
   Это как цена: если единица товара стала вдвое крупнее, цена за единицу
   вырастает вчетверо (чтобы цена за грамм осталась той же).


 Критерий: как понять, тензор это или просто таблица?


 Задайте вопрос: "Должны ли эти числа меняться при смене системы координат,
                  чтобы описывать тот же самый физический/геометрический
                  объект?"

 +-------------------------------+---------------------------------+
 | ПРОСТО ТАБЛИЦА                | ТЕНЗОР                          |
 +-------------------------------+---------------------------------+
 | Пиксели изображения           | Метрика пространства gᵢⱼ        |
 | Данные в базе данных          | Тензор напряжений в материале   |
 | Коэффициенты уравнения        | Тензор инерции тела             |
 | (в фиксированных координатах) | Электромагнитный тензор Fᵢⱼ     |
 +-------------------------------+---------------------------------+
 | Смена координат: числа те же  | Смена координат: числа меняются |
 |                               | по определённому закону         |
 +-------------------------------+---------------------------------+

 Вывод:
   Тензор = абстрактный объект, не зависящий от координат.
   Компоненты тензора = числа, которые зависят от координат так,
   чтобы сам тензор оставался тем же.


-------------------------------------------------------------------------------
Тензорное произведение
-------------------------------------------------------------------------------

 Универсальное свойство (каноническое определение)


 Тензорное произведение V ⊗ W — это пространство с билинейным отображением
 ⊗: V × W → V ⊗ W, через которое факторизуется любое билинейное отображение:

     V × W --⊗--→ V ⊗ W
        ╲          ↓ ∃! линейное
      B  ╲        ↙
     (билин) ╲  ↙
              U

 Для любого билинейного B: V × W → U существует единственное линейное
 отображение B̃: V ⊗ W → U такое, что B = B̃ ∘ ⊗.

 Смысл: V ⊗ W — "самое общее" пространство, куда можно билинейно отобразить.


 Конструкция (для конечномерных пространств)


 В конечномерном случае V ⊗ W можно отождествить с пространством
 билинейных форм на V* × W*:

 Для v ∈ V и w ∈ W определяем v ⊗ w ∈ V ⊗ W:

   (v ⊗ w)(φ, ψ) = φ(v) · ψ(w)   для φ ∈ V*, ψ ∈ W*

 Свойства:
   • (αv) ⊗ w = v ⊗ (αw) = α(v ⊗ w)
   • (v₁ + v₂) ⊗ w = v₁ ⊗ w + v₂ ⊗ w
   • v ⊗ (w₁ + w₂) = v ⊗ w₁ + v ⊗ w₂
   • dim(V ⊗ W) = dim(V) · dim(W)

 Базис:
   Если {eᵢ} — базис V, {fⱼ} — базис W, то {eᵢ ⊗ fⱼ} — базис V ⊗ W.

-------------------------------------------------------------------------------
 Пространство тензоров как тензорное произведение
-------------------------------------------------------------------------------

 Пространство тензоров типа (p,q) на V:

   T^p_q(V) = V ⊗ ... ⊗ V ⊗ V* ⊗ ... ⊗ V*
              +---p штук---+ +----q штук----+

 Примеры:
   • T⁰₀(V) = ℝ                     (скаляры)
   • T¹₀(V) = V                     (векторы)
   • T⁰₁(V) = V*                    (ковекторы)
   • T¹₁(V) = V ⊗ V* ≅ End(V)       (линейные операторы)
   • T⁰₂(V) = V* ⊗ V*              (билинейные формы)


 Пример: тензорное произведение в компонентах


 Пусть v = (v¹, v², v³), w = (w¹, w²) — векторы в ℝ³ и ℝ².

 Тогда v ⊗ w — матрица 3×2:

   (v ⊗ w)ⁱʲ = vⁱ wʲ

       ⎛ v¹w¹  v¹w² ⎞
   =   ⎜ v²w¹  v²w² ⎟
       ⎝ v³w¹  v³w² ⎠

 Это матрица ранга 1 (все строки пропорциональны).
 Не всякая матрица — тензорное произведение двух векторов.


-------------------------------------------------------------------------------
Преобразование координат
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Матрица перехода A — что это такое
-------------------------------------------------------------------------------

 Матрица перехода A описывает, как новые базисные векторы выражаются
 через старые:

   e'₁ = A¹₁e₁ + A²₁e₂ + ...
   e'₂ = A¹₂e₁ + A²₂e₂ + ...
   ...

 Или компактно: e'ⱼ = Aⁱⱼ eᵢ  (j-й новый = линейная комбинация старых)

 Пример: Растяжение оси x в 2 раза

   Старый базис: e₁ = (1,0), e₂ = (0,1)
   Новый базис:  e'₁ = (2,0) = 2e₁, e'₂ = (0,1) = e₂

   Матрица перехода: A = ⎛ 2  0 ⎞
                         ⎝ 0  1 ⎠

   Столбцы A — это координаты новых базисных векторов в старом базисе.

 Физический смысл:
   • A описывает, как изменились "единицы измерения"
   • A = поворот → повернули оси координат
   • A = растяжение → укрупнили/измельчили шкалу
   • Это пассивное преобразование: объекты те же, меняется только описание

 Важно:
   A⁻¹ — обратная матрица — переводит из новых координат в старые
   det(A) ≠ 0 — базисы должны быть невырожденными

 Внимание: соглашение о матрице перехода

   В этом атласе A — матрица перехода базиса: e' = Ae (новый через старый).

   В физической литературе (Ландау-Лифшиц, MTW) часто используют матрицу
   перехода координат: x' = Λx. Тогда базис преобразуется как e' = eΛ⁻¹.

   Эти матрицы обратны друг другу: A = Λ⁻¹.

   Не перепутайте. Формула g' = AᵀgA (наше соглашение) превращается
   в g' = (Λ⁻¹)ᵀgΛ⁻¹ в физическом соглашении.

-------------------------------------------------------------------------------
 Закон преобразования тензоров
-------------------------------------------------------------------------------

 При замене базиса e'ᵢ = Aⱼᵢ eⱼ компоненты тензора преобразуются:

 Вектор (контравариантный, верхний индекс):
   v'ⁱ = (A⁻¹)ⁱⱼ vʲ    — преобразуется противоположно базису

 Ковектор (ковариантный, нижний индекс):
   ω'ᵢ = Aʲᵢ ωⱼ        — преобразуется как базис

 Тензор типа (p,q):
   T'^{i₁...iₚ}_{j₁...jq} = (A⁻¹)^{i₁}_{k₁}...(A⁻¹)^{iₚ}_{kₚ} ·
                            · A^{l₁}_{j₁}.A^{lq}_{jq} ·
                            · T^{k₁...kₚ}_{l₁...lq}

 Ключевое:
   Верхние индексы преобразуются через A⁻¹ (контравариантно)
   Нижние индексы преобразуются через A (ковариантно)

-------------------------------------------------------------------------------
 Почему "контра" и "ко" — наглядное сравнение
-------------------------------------------------------------------------------

 Ситуация: удлинили базисный вектор вдвое (e' = 2e)
           Новая "единица измерения" = 2 старых

+-----------------------+-------------------------+---------------------------+
|                       | ВЕКТОР vⁱ               | КОВЕКТОР ωᵢ               |
|                       | (контравариантный)      | (ковариантный)            |
+-----------------------+-------------------------+---------------------------+
| Геом. смысл           | "Куда двигаться"        | "Цена за единицу"         |
|                       | (стрелка)               | (дифференциал df)         |
+-----------------------+-------------------------+---------------------------+
| Пример                | v = 3e₁ (смещение)      | ω = 10ε¹ (цена)           |
+-----------------------+-------------------------+---------------------------+
| В старом базисе       | v¹ = 3                  | ω₁ = 10                   |
+-----------------------+-------------------------+---------------------------+
| В новом базисе        | v'¹ = 1.5               | ω'₁ = 20                  |
| (e' = 2e)             | (компоненты ÷2)         | (компоненты ×2)           |
+-----------------------+-------------------------+---------------------------+
| Направление           | ПРОТИВ базиса           | ВМЕСТЕ с базисом          |
| преобразования        | (базис ×2 → комп. ÷2)   | (базис ×2 → комп. ×2)     |
+-----------------------+-------------------------+---------------------------+
| Почему так            | Вектор v один и тот же, | Ковектор "цена за единицу"|
|                       | просто меряем в других  | Единица стала больше →    |
|                       | единицах                | цена за неё тоже больше   |
+-----------------------+-------------------------+---------------------------+
| Формула               | v'ⁱ = (A⁻¹)ⁱⱼ vʲ       | ω'ᵢ = Aʲᵢ ωⱼ             |
| преобразования        |                         |                           |
+-----------------------+-------------------------+---------------------------+
| Индекс                | ВЕРХНИЙ                 | НИЖНИЙ                    |
+-----------------------+-------------------------+---------------------------+

 Проверка инварианта:
   Старый базис: v¹ω₁ = 3 × 10 = 30
   Новый базис:  v'¹ω'₁ = 1.5 × 20 = 30  ✓

 vⁱωᵢ — инвариант (не зависит от базиса, потому что контра × ко)


 Примеры свёртки (инварианты)
+----------------+----------------------------------------+
| СВЁРТКА        | СМЫСЛ                                  |
+----------------+----------------------------------------+
| vⁱvᵢ = gᵢⱼvⁱvʲ | Квадрат длины вектора ‖v‖²             |
+----------------+----------------------------------------+
| vⁱωᵢ           | Действие ковектора на вектор (число)   |
+----------------+----------------------------------------+
| Tⁱᵢ            | След матрицы Tr(T)                     |
+----------------+----------------------------------------+
| Rⁱⱼᵢⱼ = R      | Скалярная кривизна (из тензора Римана) |
+----------------+----------------------------------------+
| FᵢⱼFⁱʲ         | Инвариант электромагнитного поля       |
+----------------+----------------------------------------+

-------------------------------------------------------------------------------
Операции над тензорами
-------------------------------------------------------------------------------

 Таблица операций
+-------------------+---------------------+------------------------------+
| ОПЕРАЦИЯ          | ДЕЙСТВИЕ НА ТИПЫ    | ПРИМЕР                       |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Сложение          | (p,q) + (p,q) →     | (Sⁱⱼ + Tⁱⱼ)                  |
|                   | → (p,q)             | Только одинаковые типы.      |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Тензорное         | (p₁,q₁) ⊗ (p₂,q₂) → | (vⁱ)(wʲ) = vⁱwʲ              |
| произведение      | → (p₁+p₂, q₁+q₂)    | Ранг складывается            |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Свёртка           | (p,q) → (p−1,q−1)   | Tⁱⱼₖ → Tⁱⱼᵢ = Sⱼ             |
| (trace)           | Ранг уменьшается    | Суммируем по повтор. индексу |
|                   | на 2                |                              |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Поднятие          | gⁱʲTⱼₖ = Tⁱₖ        | Нижний → верхний             |
| индекса           | (0,2) ⊗ (1,1) →     | С помощью обратной метрики   |
|                   | → свёртка → (1,1)   |                              |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Опускание         | gᵢⱼTʲ = Tᵢ          | Верхний → нижний             |
| индекса           |                     | С помощью метрики            |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Симметризация     | T₍ᵢⱼ₎ = ½(Tᵢⱼ+Tⱼᵢ)  | Симметричная часть           |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+
|                   |                     |                              |
| Антисимметризация | T[ᵢⱼ] = ½(Tᵢⱼ−Tⱼᵢ)  | Антисимметричная часть       |
|                   |                     | → дифференциальные формы.    |
|                   |                     |                              |
+-------------------+---------------------+------------------------------+

-------------------------------------------------------------------------------
Тензоры в физике
-------------------------------------------------------------------------------

 Главные физические тензоры
+-------------------+-------+----------------------------------------------+
| ТЕНЗОР            | ТИП   | ЧТО ОПИСЫВАЕТ                                |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Метрика gᵢⱼ       | (0,2) | Как измерять расстояния                      |
|                   |       | ds² = gᵢⱼ dxⁱdxʲ                             |
|                   |       | Евклидово: gᵢⱼ = δᵢⱼ                         |
|                   |       | Минковского: g = diag(−1,1,1,1)              |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Тензор Римана     | (1,3) | Кривизна пространства                        |
| Rⁱⱼₖₗ              |       | Измеряет поворот вектора при обходе контура  |
|                   |       | R = 0 ⟺ пространство плоское                |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Тензор Риччи      | (0,2) | "След" тензора Римана                        |
| Rᵢⱼ = Rᵏᵢₖⱼ       |       | Входит в уравнения Эйнштейна                 |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Тензор энергии-   | (0,2) | Распределение материи                        |
| импульса Tᵢⱼ      |       | T₀₀ = плотность энергии                      |
|                   |       | T₀ᵢ = поток энергии = плотность импульса     |
|                   |       | Tᵢⱼ = давление/напряжение                    |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Электромагнитный  | (0,2) | E и B поля как один объект                   |
| тензор Fᵢⱼ        |       | Антисимметричный: Fᵢⱼ = −Fⱼᵢ                 |
|                   |       | → дифференциальная 2-форма.                  |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Тензор инерции    | (0,2) | Как тело сопротивляется вращению             |
| Iᵢⱼ               |       | L = Iω (момент импульса = инерция × угл.ск.) |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+
|                   |       |                                              |
| Тензор напряжений | (0,2) | Силы внутри материала                        |
| σᵢⱼ               |       | σᵢⱼ = сила в направлении j на площадке ⊥ i   |
|                   |       |                                              |
+-------------------+-------+----------------------------------------------+

 Уравнения Эйнштейна — тензоры в действии


                    Rᵢⱼ − ½gᵢⱼR + Λgᵢⱼ = 8πG · Tᵢⱼ
                    \________________/         \____/
                         геометрия             материя
                    (кривизна пр-ва)

 Левая часть:
   • Rᵢⱼ — тензор Риччи (кривизна)
   • R = gⁱʲRᵢⱼ — скалярная кривизна
   • Λ — космологическая постоянная
   • gᵢⱼ — метрика пространства-времени

 Правая часть:
   • Tᵢⱼ — распределение энергии и импульса
   • G — гравитационная постоянная

 Смысл: Материя искривляет пространство. Кривизна определяет движение.


-------------------------------------------------------------------------------
Связь с другими разделами
-------------------------------------------------------------------------------

 Граф связей раздела


   (Лин. алгебра)
        |
        | векторные пространства, V*
        ▼
   (Произведения)
        |
        | скалярное ⊗ тензорное
        ▼
   (Двойственность)
        |
        | V* — двойственное пространство
        ▼
   ▶ (Тензоры) ◀
        |
        +--------------► (Диф. формы) — антисимметричные тензоры
        |
        +--------------► (Многообразия) — тензорные поля на M
        |
        +--------------► Приложения — ОТО, электромагнетизм


 Резюме: Что такое тензор


 Три эквивалентных определения:

 1. Алгебраическое:
    Тензор типа (p,q) — мультилинейное отображение
    T: V* × ... × V* × V × ... × V → ℝ

 2. Через базис:
    Набор чисел T^{i₁...iₚ}_{j₁...jq} с определённым законом
    преобразования при замене базиса

 3. Геометрическое:
    Тензор — это объект, который существует независимо от координат,
    но может быть выражен в компонентах в любой системе координат

 Все три определения эквивалентны.

 Важно помнить:
   • Тензор ≠ таблица чисел. Таблица — лишь представление в конкретном базисе
   • Одна и та же матрица может быть тензором разных типов
   • Тип тензора определяет, как числа меняются при смене базиса
   • Ковектор (элемент V*) — это линейная функция на векторах, не вектор

-------------------------------------------------------------------------------
 Бонус: π-теорема и критерии подобия
-------------------------------------------------------------------------------

 Это не про тензоры напрямую, но про размерности — фундамент физики.

 Проблема: Потери давления в трубе ΔP зависят от ρ, v, D, L, μ, ε.
 Это 7 величин. Как найти зависимость?

 Π-теорема Бакингема:
 +----------------------------------------------------------------------+
 | Если n величин связаны физическим законом, и эти величины выражаются |
 | через k базовых размерностей (M, L, T, ...), то закон можно записать |
 | как связь (n − k) безразмерных комбинаций.                           |
 +----------------------------------------------------------------------+

 Пример: Потери в трубе
   n = 7 (ΔP, ρ, v, D, L, μ, ε), k = 3 (M, L, T) → 4 безразмерных числа

   Π₁ = ΔP/(ρv²)    — коэффициент давления (Эйлер)
   Π₂ = ρvD/μ       — число Рейнольдса Re
   Π₃ = L/D         — относительная длина
   Π₄ = ε/D         — относительная шероховатость

   Закон: Π₁ = f(Π₂, Π₃, Π₄), или:  ΔP/(ρv²) = f(Re, L/D, ε/D)

   Это даёт формулу Дарси-Вейсбаха: ΔP = λ(Re, ε/D)·(L/D)·(ρv²/2)

 Главные безразмерные числа теплофизики:
 +------------+------------------+--------------------------------------------+
 | ЧИСЛО      | ФОРМУЛА          | ФИЗИЧЕСКИЙ СМЫСЛ                           |
 +------------+------------------+--------------------------------------------+
 | Рейнольдса | Re = ρvL/μ       | Инерция / Вязкость                         |
 |            |                  | Re &lt; 2300: ламинар, Re &gt; 4000: турб. |
 +------------+------------------+--------------------------------------------+
 | Прандтля   | Pr = ν/a = μcₚ/λ | Вязкая диффузия / Температурная            |
 |            |                  | Pr ≈ 0.7 газы, Pr ≈ 7 вода                 |
 +------------+------------------+--------------------------------------------+
 | Нуссельта  | Nu = αL/λ        | Конвекция / Теплопроводность               |
 |            |                  | Nu = 1: чистая кондукция                   |
 +------------+------------------+--------------------------------------------+
 | Грасгофа   | Gr = gβΔTL³/ν²   | Плавучесть / Вязкость                      |
 |            |                  | Свободная конвекция                        |
 +------------+------------------+--------------------------------------------+
 | Маха       | Ma = v/c         | Скорость / Скорость звука                  |
 |            |                  | Ma &gt; 1: сверхзвук, скачки уплотнения    |
 +------------+------------------+--------------------------------------------+

 Зачем это нужно:
   • Моделирование: если Re модели = Re оригинала → потоки подобны
   • Корреляции: Nu = f(Re, Pr) — универсальные формулы теплообмена
   • Оценки: Re ~ 10⁶ → точно турбулентность, считаем по формулам для турб.


 Глубокая связь: π-теорема как следствие группы Ли масштабирований


 Почему Π-теорема работает? За ней стоит симметрия — группа Ли.

 Группа масштабирований:

   G = (ℝ⁺, ×) — положительные вещественные числа с умножением
   Это группа Ли: непрерывная, гладкая, одномерная

   Действие на размерные величины:
     [L] → λ[L]         (длина масштабируется в λ раз)
     [T] → μ[T]         (время масштабируется в μ раз)
     [M] → ν[M]         (масса масштабируется в ν раз)

 Ключевая идея:
 +----------------------------------------------------------------------+
 | Физический закон должен быть инвариантен относительно выбора единиц. |
 | Это значит: закон инвариантен относительно группы масштабирований G. |
 |                                                                      |
 | Безразмерные числа (Re, Pr, Nu) — это инварианты действия G.         |
 +----------------------------------------------------------------------+

 Алгебра Ли и размерность:

   Генератор масштабирований: D = x·∂/∂x + y·∂/∂y + z·∂/∂z + ...

   Величина f имеет размерность [L]^a[T]^b[M]^c если:
     D·f = (a + b + c)·f     (собственная функция оператора D)

   Безразмерная величина: D·Π = 0 (инвариант)

 Пример: Почему Re = ρvL/μ безразмерно?

   [ρ] = M/L³,  [v] = L/T,  [L] = L,  [μ] = M/(L·T)

   [ρvL/μ] = (M/L³)·(L/T)·L / (M/(L·T)) = (M·L·L)/(L³·T) × (L·T)/M = 1

   Re инвариантно относительно λ → λL, μ → μT, ν → νM

 Обобщение — теория Нётер:

   Симметрия            ↔  Закон сохранения
   Масштабирование      ↔  Размерный анализ, Π-теорема
   Трансляция времени   ↔  Сохранение энергии
   Трансляция в простр. ↔  Сохранение импульса
   Вращение             ↔  Сохранение момента импульса

 Все эти симметрии образуют группы Ли, и их алгебры Ли дают генераторы.


Тензоры живут на векторных пространствах. Но реальные пространства — кривые.
Поверхность Земли, пространство-время, конфигурационное пространство робота.
Как определить тензоры на искривлённом пространстве?

Для этого нужны многообразия — пространства, которые локально выглядят как ℝⁿ,
но глобально могут иметь сложную форму. В каждой точке есть касательное
пространство — и там-то и живут тензоры.

-------------------------------------------------------------------------------
Многообразие — пространство, которое можно картографировать
-------------------------------------------------------------------------------

Многообразие — это кульминация идеи "локально плоское, глобально кривое".
Земля круглая, но каждая карта в атласе — плоская. Атлас покрывает всю Землю,
хотя ни одна карта не покрывает её полностью без искажений.

В терминах "объект—наблюдатель" многообразие — это место, где наблюдатель
принципиально локален. Нет глобальной системы координат для всего пространства.

Карта — это взгляд одного локального наблюдателя.
Атлас — это согласованная коллекция таких взглядов.

На сфере нет "правильной" системы координат, покрывающей всё без сингулярностей.
Есть много карт, и в местах перекрытия они согласованы: если точка попала на
две карты, можно пересчитать координаты с одной на другую.

Функции перехода между картами — это "словари" между языками соседних
наблюдателей. Требование гладкости функций перехода гарантирует, что понятие
"производная" не зависит от выбора карты.

Что инвариантно (не зависит от карты):
  • Размерность — сколько координат нужно локально
  • Топология — дырки, связность, ориентируемость
  • Кривизна (в римановом случае) — собственное свойство метрики

Координаты — лишь способ описания. Само многообразие существует без них.

-------------------------------------------------------------------------------
 Зачем нужны многообразия
-------------------------------------------------------------------------------

 Проблема: Мы умеем работать с ℝⁿ (координаты, производные, интегралы).
           Но реальные пространства — кривые.

   • Поверхность Земли — не плоскость
   • Пространство-время — искривлено массой (ОТО)
   • Пространство состояний робота — сложная форма
   • Пространство всех вращений — не ℝ³

 Решение: Многообразие = пространство, которое локально похоже на ℝⁿ
          Глобально может быть любой формы, но в каждой точке — "плоское"

 Аналогия: Атлас мира. Земля круглая, но каждая страница атласа — плоская.
           Достаточно карт покрывает всю Землю.

 Ключевая идея:
   Мы не можем работать с кривым пространством напрямую.
   Но можем разбить его на куски, каждый из которых "выпрямляется" в ℝⁿ.
   Затем согласовать эти куски между собой.

-------------------------------------------------------------------------------
 Критическое различие: топология vs геометрия
-------------------------------------------------------------------------------

 Многообразие (топологическое + гладкое) = только форма
   • Можно говорить о касательных, производных, дифф. формах
   • Нельзя говорить о длинах, углах, расстояниях.
   • Сфера и эллипсоид — одинаковые многообразия (диффеоморфны)

 Риманово многообразие = многообразие + метрика gᵢⱼ
   • Можно измерять длины, углы, площади
   • Сфера и эллипсоид — разные (разные метрики)

 Частая ошибка инженеров: Криволинейные координаты в ℝ³
    (цилиндрические, сферические) — это не кривизна пространства.
    Пространство плоское (ℝ³), просто координаты "кривые".
    Кривизна — это свойство метрики, а не координат.

-------------------------------------------------------------------------------
 Карта (chart) — локальные координаты
-------------------------------------------------------------------------------

 +----------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: КАРТА                                             |
 +----------------------------------------------------------------+
 |                                                                |
 | Карта на топологическом пространстве M — это пара (U, φ), где: |
 |                                                                |
 | • U ⊆ M — открытое множество (область карты)                   |
 | • φ: U → ℝⁿ — гомеоморфизм на открытое подмножество ℝⁿ         |
 |                                                                |
 | φ называется координатным отображением (или параметризацией).  |
 |                                                                |
 +----------------------------------------------------------------+

 Геометрический смысл:

        M (многообразие)              ℝⁿ (координатное пространство)

           +-----+                         y
          ╱   U   ╲        φ              ↑
         |    ●p   |   ---------→         |  ●φ(p)
          ╲       ╱                       |
           +-----+                        +------→ x

   Карта "выпрямляет" кусок многообразия в плоское пространство.
   Точка p ∈ U получает координаты φ(p) = (x¹, x², ..., xⁿ) ∈ ℝⁿ.

 Почему гомеоморфизм:
 +----------------+----------------------------------------+
 | СВОЙСТВО       | ЧТО ОЗНАЧАЕТ                           |
 +----------------+----------------------------------------+
 | φ биективна    | Каждой точке U ↔ ровно одна точка в ℝⁿ |
 | φ непрерывна   | Близкие точки остаются близкими        |
 | φ⁻¹ непрерывна | Можно вернуться обратно                |
 +----------------+----------------------------------------+

 Примеры карт:
 +--------------+-----------------------------+--------------------------+
 | МНОГООБРАЗИЕ | КАРТА                       | ОСОБЕННОСТЬ              |
 +--------------+-----------------------------+--------------------------+
 | ℝ            | U=ℝ, φ=id                   | Одной карты достаточно   |
 | S¹           | U₁=S¹\{(−1,0)}, φ₁=угол θ   | Одна карта не покрывает. |
 |              | Нужна вторая: U₂=S¹\{(1,0)} | → нужен атлас из 2 карт  |
 +--------------+-----------------------------+--------------------------+

 Визуализация для S¹:

            ●--------------●                     -----●-----
           ╱    удалили     ╲      φ₁              −π   0   π
          ●        ✕         ●   ----→
           ╲     (−1,0)     ╱
            ●--------------●

-------------------------------------------------------------------------------
 Атлас — набор карт, покрывающий всё многообразие
-------------------------------------------------------------------------------

 +-----------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: АТЛАС                                        |
 +-----------------------------------------------------------+
 |                                                           |
 | Атлас на M — это набор карт 𝒜 = {(Uα, φα)}α∈A такой, что: |
 |                                                           |
 | ⋃ Uα = M    (карты покрывают всё многообразие)            |
 | α                                                         |
 |                                                           |
 +-----------------------------------------------------------+

 Пример: Атлас для S¹ (минимальный)

   Карта 1: U₁ = S¹ \ {(−1, 0)},  φ₁(cos θ, sin θ) = θ ∈ (−π, π)
   Карта 2: U₂ = S¹ \ {(1, 0)},   φ₂(cos θ, sin θ) = θ ∈ (0, 2π)

            Карта 1                         Карта 2
         ●--------------●               ●--------------●
        ╱                ╲             ╱                ╲
       ●        ✕         ●           ●         ✕        ●
        ╲    (−1,0)      ╱             ╲      (1,0)     ╱
         ●--------------●               ●--------------●

   U₁ ∪ U₂ = S¹  ✓  (вместе покрывают всю окружность)

 Аналогия с географией:
   • Карта Европы покрывает Европу, но не Австралию
   • Карта Австралии покрывает Австралию, но не Европу
   • Вместе = весь мир (атлас)
   • Там, где карты перекрываются — можно переходить с одной на другую

-------------------------------------------------------------------------------
 Функции перехода — как склеить карты
-------------------------------------------------------------------------------

 Проблема: Если точка p лежит в двух картах (U₁, φ₁) и (U₂, φ₂),
           у неё два набора координат: φ₁(p) и φ₂(p).
           Как они связаны?

 +---------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ФУНКЦИЯ ПЕРЕХОДА                                 |
 +---------------------------------------------------------------+
 |                                                               |
 | Функция перехода с карты (U₁, φ₁) на карту (U₂, φ₂):          |
 |                                                               |
 | ψ₁₂ = φ₂ ∘ φ₁⁻¹ : φ₁(U₁ ∩ U₂) → φ₂(U₁ ∩ U₂)                   |
 |                                                               |
 | Это отображение ℝⁿ → ℝⁿ (между координатными пространствами) |
 |                                                               |
 +---------------------------------------------------------------+

 Диаграмма:

                           M
                        ╱     ╲
                      U₁       U₂
                        ╲  p  ╱
                     φ₁ ↓ ● ↓ φ₂
                        ╱     ╲
                  φ₁(p)         φ₂(p)
                    ∈ℝⁿ ------→ ∈ℝⁿ
                          ψ₁₂

   ψ₁₂ переводит координаты из первой системы во вторую.

 Пример: Функция перехода на S¹

   Пересечение: U₁ ∩ U₂ = S¹ \ {(−1,0), (1,0)} — две дуги

   +--------------------+-------------+-------------+---------------+
   | ДУГА               | φ₁ даёт     | φ₂ даёт     | ψ₁₂(θ) =      |
   +--------------------+-------------+-------------+---------------+
   | Верхняя (sin&gt;0) | θ ∈ (0, π)  | θ ∈ (0, π)  | θ (тождество) |
   | Нижняя (sin&lt;0)  | θ ∈ (−π, 0) | θ ∈ (π, 2π) | θ + 2π        |
   +--------------------+-------------+-------------+---------------+

 Ключевой факт: Функция перехода ψ₁₂: ℝⁿ → ℝⁿ — обычное отображение.
 Мы умеем с ним работать. Если потребовать гладкость ψ₁₂ → гладкая структура.

-------------------------------------------------------------------------------
 Гладкая структура — какие переходы разрешены
-------------------------------------------------------------------------------

 +------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ГЛАДКИЙ АТЛАС                                 |
 +------------------------------------------------------------+
 |                                                            |
 | Атлас называется Cᵏ-гладким (или гладким класса Cᵏ), если  |
 | все функции перехода ψαβ являются Cᵏ-гладкими (k раз       |
 | непрерывно дифференцируемыми).                             |
 |                                                            |
 | C∞-гладкий атлас: все переходы бесконечно дифференцируемы. |
 | Такой атлас называют просто "гладким".                     |
 |                                                            |
 +------------------------------------------------------------+

 +------------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ГЛАДКОЕ МНОГООБРАЗИЕ                                      |
 +------------------------------------------------------------------------+
 |                                                                        |
 | Гладкое многообразие размерности n — это топологическое пространство M |
 | с максимальным C∞-гладким атласом.                                     |
 |                                                                        |
 | технические требования (обычно подразумеваются):                       |
 | • Хаусдорфовость: различные точки отделимы окрестностями               |
 | • Счётная база: топология имеет счётную базу                           |
 | (Без них возникают патологии, например "длинная прямая")               |
 |                                                                        |
 | (Максимальный = содержит все карты, совместимые с данными)             |
 |                                                                        |
 +------------------------------------------------------------------------+

 Иерархия структур:

   +---------------------------------------------------------------------+
   | ТИП МНОГООБРАЗИЯ      | ФУНКЦИИ ПЕРЕХОДА    | ЧТО МОЖНО ДЕЛАТЬ      |
   +-----------------------+---------------------+-----------------------+
   |                       |                     |                       |
   | Топологическое        | Гомеоморфизмы       | Говорить о близости,  |
   |                       | (непрерывные)       | связности, но не о    |
   |                       |                     | производных           |
   |                       |                     |                       |
   +-----------------------+---------------------+-----------------------+
   |                       |                     |                       |
   | C¹-гладкое            | Дифференцируемые    | Определять касательные|
   |                       | (1 производная)     | векторы               |
   |                       |                     |                       |
   +-----------------------+---------------------+-----------------------+
   |                       |                     |                       |
   | C∞-гладкое            | Бесконечно          | Дифференцировать      |
   | (просто "гладкое")    | дифференцируемые    | сколько угодно раз    |
   |                       |                     |                       |
   +-----------------------+---------------------+-----------------------+
   |                       |                     |                       |
   | Аналитическое (Cω)    | Аналитические       | Раскладывать в ряды   |
   |                       | (ряд Тейлора)       | Тейлора               |
   |                       |                     |                       |
   +-----------------------+---------------------+-----------------------+

 Зачем нужна гладкость:

   Задача: определить производную функции f: M → ℝ на многообразии

   Ответ: Работаем в координатах.
     1. Выбираем карту (U, φ) около точки p
     2. Рассматриваем f ∘ φ⁻¹: ℝⁿ → ℝ (обычная функция)
     3. Дифференцируем как обычно

   Проблема: А если выбрать другую карту?

   Решение: Если функции перехода гладкие, то:
     ∂f/∂x' = (∂x/∂x') · (∂f/∂x)  (правило цепочки)
     Производные в разных картах согласованы.

-------------------------------------------------------------------------------
 Подробный пример: атлас для сферы S²
-------------------------------------------------------------------------------

 S² = {(x, y, z) ∈ ℝ³ : x² + y² + z² = 1}

 Способ 1: стереографическая проекция (минимальный атлас — 2 карты)

 Карта 1: Проекция с северного полюса N = (0, 0, 1)

          N ●
           /|\
          / | \           Проецируем точку P на плоскость z = 0
         /  |  \          через прямую NP
        /   |   \
       ●----+----●
      P     |    φ₁(P)
       \    |   /
        \   |  /
         ---+---  плоскость z = 0

   U₁ = S² \ {N}  (вся сфера без северного полюса)

   φ₁(x, y, z) = (x/(1−z), y/(1−z))

   φ₁⁻¹(u, v) = (2u/(1+u²+v²), 2v/(1+u²+v²), (u²+v²−1)/(1+u²+v²))

 Карта 2: Проекция с южного полюса S = (0, 0, −1)

   U₂ = S² \ {S}  (вся сфера без южного полюса)

   φ₂(x, y, z) = (x/(1+z), y/(1+z))

 Функция перехода ψ₁₂ = φ₂ ∘ φ₁⁻¹:

   На пересечении U₁ ∩ U₂ = S² \ {N, S}:

   ψ₁₂(u, v) = (u, v)/(u² + v²) = (u/(u²+v²), v/(u²+v²))

   Это инверсия относительно единичной окружности.

   Проверка гладкости: ψ₁₂ бесконечно дифференцируема на ℝ² \ {0}. ✓
   (Начало координат соответствует полюсам, которые не входят в пересечение)

 Способ 2: проекции на координатные плоскости (6 карт)

 +-------+-------------+------------------+--------------------+
 | КАРТА | ОБЛАСТЬ Uₖ± | ОТОБРАЖЕНИЕ φ    | КАКАЯ ЧАСТЬ        |
 +-------+-------------+------------------+--------------------+
 | U₁⁺   | z &gt; 0    | φ(x,y,z) = (x,y) | Верхняя полусфера  |
 | U₁⁻   | z &lt; 0    | φ(x,y,z) = (x,y) | Нижняя полусфера   |
 | U₂⁺   | y &gt; 0    | φ(x,y,z) = (x,z) | Передняя полусфера |
 | U₂⁻   | y &lt; 0    | φ(x,y,z) = (x,z) | Задняя полусфера   |
 | U₃⁺   | x &gt; 0    | φ(x,y,z) = (y,z) | Правая полусфера   |
 | U₃⁻   | x &lt; 0    | φ(x,y,z) = (y,z) | Левая полусфера    |
 +-------+-------------+------------------+--------------------+

 Аналогия: атлас мира использует разные проекции для разных регионов.

 Замечание: Не существует атласа S² из одной карты.
   Это следует из компактности S² и того, что ℝ² некомпактно.
   Топологически S² ≠ ℝ² (одно компактно, другое нет).

-------------------------------------------------------------------------------
 Иерархия пространств — от простого к сложному
-------------------------------------------------------------------------------

   Топологическое пространство (X, τ)
     | добавляем: локальную евклидовость + хаусдорфовость
     ↓
   Топологическое многообразие
     | добавляем: гладкую структуру (C∞ функции перехода)
     ↓
   Гладкое многообразие ← основной объект дифференциальной геометрии
     | добавляем: метрику gᵢⱼ (способ измерять расстояния)
     ↓
   Риманово многообразие
     | добавляем: физику (уравнения Эйнштейна)
     ↓
   Пространство-время ОТО

 На каждом уровне добавляется структура, но не теряется предыдущая.

-------------------------------------------------------------------------------
 Касательное пространство TₚM — локальная линейность
-------------------------------------------------------------------------------

 Задача: определить понятие скорости на кривом пространстве

 На ℝⁿ просто: скорость = вектор = стрелка.
 На сфере: куда указывает стрелка? Она "вылетает" из сферы.

 Определение (интуитивное):
   Касательный вектор в точке p — это скорость кривой, проходящей через p.

 Определение (формальное через кривые):
   Пусть γ: (−ε, ε) → M — гладкая кривая, γ(0) = p.
   Касательный вектор: v = γ'(0) = dγ/dt|_{t=0}

   Множество всех касательных векторов в точке p образует
   касательное пространство TₚM.

-------------------------------------------------------------------------------
 Три эквивалентных определения касательного вектора
-------------------------------------------------------------------------------

 1. Геометрическое (классы эквивалентности кривых):
    Две кривые γ₁, γ₂ с γ₁(0) = γ₂(0) = p эквивалентны, если
    (φ ∘ γ₁)'(0) = (φ ∘ γ₂)'(0) в любой карте φ.
    Касательный вектор = класс эквивалентности кривых.
    Интуиция: неважно сама кривая, важна только её "скорость" в p.

 2. Алгебраическое (через дифференцирования):
    Касательный вектор = линейный оператор v: C∞(M) → ℝ с правилом Лейбница.

 3. Координатное:
    Касательный вектор = набор чисел (v¹, ..., vⁿ), преобразующийся
    по правилу v'ⁱ = (∂x'ⁱ/∂xʲ)vʲ при смене координат.

 Все три определения эквивалентны — дают одно и то же TₚM ≅ ℝⁿ.

 Визуализация:

                    TₚM (плоскость, касательная к сфере в точке p)
                   ╱ ╲
                  ╱   ╲  ← векторы скорости живут здесь
                 ╱  ●  ╲
                ╱   p   ╲
            ---●---------●---
              ╱    ⌒      ╲   ← сфера (многообразие M)
             ╱             ╲

 В координатах:
   Пусть (U, φ) — карта около p с координатами (x¹, ..., xⁿ).
   Базис TₚM:  ∂/∂x¹|ₚ, ∂/∂x²|ₚ, ..., ∂/∂xⁿ|ₚ

   Любой вектор v ∈ TₚM: v = vⁱ ∂/∂xⁱ|ₚ  (сумма по i)

-------------------------------------------------------------------------------
 Важно: Почему ∂/∂xⁱ — это "векторы"?
-------------------------------------------------------------------------------

 В линейной алгебре вектор — это "стрелка" или "столбец чисел".
 На многообразии это не работает: стрелка "вылетает" из кривой поверхности.

 Решение: Определить вектор как дифференцирование.

   Касательный вектор v в точке p — это линейный оператор v: C∞(M) → ℝ,
   удовлетворяющий правилу Лейбница:
       v(fg) = v(f)·g(p) + f(p)·v(g)

   ∂/∂xⁱ|ₚ — это оператор: f ↦ ∂f/∂xⁱ|ₚ (частная производная в точке p).
   Он удовлетворяет Лейбницу, значит — касательный вектор.

 Интуиция: Вектор — это "направление изменения функций".
   Стрелка → "как быстро и куда меняется значение функции при движении".

 Ключевые факты:

 +---------------------------+----------------------------------+
 | ФАКТ                      | СЛЕДСТВИЕ                        |
 +---------------------------+----------------------------------+
 | TₚM ≅ ℝⁿ                  | Линейная алгебра работает.       |
 | dim(TₚM) = dim(M)         | Размерность сохраняется          |
 | Разные точки → разные TₚM | Нельзя сложить v ∈ TₚM и w ∈ TᵧM |
 | Базис: ∂/∂xⁱ              | v = vⁱ ∂/∂xⁱ (сумма по i)        |
 +---------------------------+----------------------------------+

 +---------------------+------------------------------------------+
 | ФИЗИЧЕСКАЯ ВЕЛИЧИНА | МАТЕМАТИЧЕСКИЙ ОБЪЕКТ                    |
 +---------------------+------------------------------------------+
 | Положение           | Точка p ∈ M                              |
 | Скорость            | Вектор v ∈ TₚM                           |
 | Ускорение           | Требует связности (сравнение разных TₚM) |
 +---------------------+------------------------------------------+

-------------------------------------------------------------------------------
 Гладкие отображения многообразий
-------------------------------------------------------------------------------

 +-----------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ГЛАДКОЕ ОТОБРАЖЕНИЕ                                |
 +-----------------------------------------------------------------+
 |                                                                 |
 | Отображение f: M → N между гладкими многообразиями называется   |
 | гладким, если для любых карт (U, φ) на M и (V, ψ) на N          |
 | композиция ψ ∘ f ∘ φ⁻¹ : ℝᵐ → ℝⁿ гладкая (как обычная функция).  |
 |                                                                 |
 +-----------------------------------------------------------------+

 Диаграмма:

      M ----------f----------→ N
      |                        |
    φ |                        | ψ
      ↓                        ↓
     ℝᵐ -----ψ∘f∘φ⁻¹--------→ ℝⁿ
            (гладкая)

 Дифференциал отображения:

   Гладкое f: M → N порождает линейное отображение
   df_p: TₚM → T_{f(p)}N  (дифференциал или pushforward)

   Это "линейное приближение" f около точки p.

 +------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ: ДИФФЕОМОРФИЗМ                                       |
 +------------------------------------------------------------------+
 |                                                                  |
 | Диффеоморфизм — это гладкая биекция f: M → N такая, что f⁻¹ тоже |
 | гладкая. Это "изоморфизм" в категории гладких многообразий.      |
 |                                                                  |
 | Если существует диффеоморфизм M → N, пишем M ≅ N (диффеоморфны). |
 |                                                                  |
 +------------------------------------------------------------------+

 Иерархия "одинаковости":

   Гомеоморфизм: M ≈ N (топологически)  — одинаковая "форма"
   Диффеоморфизм: M ≅ N (гладко)        — одинаковая "гладкая структура"
   Изометрия: M = N (метрически)        — одинаковые "расстояния"

 Пример: S² ≈ эллипсоид (гомеоморфны)
         S² ≅ эллипсоид (диффеоморфны)
         S² ≠ эллипсоид (не изометричны — разная кривизна)


 Примеры многообразий
+---------------+-----+------------------------------------------------------+
| МНОГООБРАЗИЕ  | dim | ЧТО ЭТО / ГДЕ ВСТРЕЧАЕТСЯ                            |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| Окружность S¹ | 1   | Угол поворота, фаза волны, время на часах            |
|               |     | Минимальный атлас: 2 карты                           |
|               |     | π₁(S¹) = ℤ (петли наматываются)                      |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| Сфера S²      | 2   | Поверхность Земли, направление в пространстве        |
|               |     | Минимальный атлас: 2 карты (стереографич. проекции)  |
|               |     | π₁(S²) = 0, H₂(S²) = ℤ                               |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| Тор T²        | 2   | Бублик, периодические граничные условия              |
|               |     | = S¹ × S¹ (два независимых угла)                     |
|               |     | π₁(T²) = ℤ × ℤ (две независимые петли)               |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| ℝPⁿ (проект.) | n   | "Направления прямых" (прямая = пара противоп. точек) |
|               |     | ℝP² неориентируемо. (как лента Мёбиуса)              |
|               |     | π₁(ℝPⁿ) = ℤ/2 при n ≥ 2                              |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| SO(3)         | 3   | Все вращения в 3D (ориентация тела)                  |
|               |     | ≅ ℝP³, не сфера.                                     |
|               |     | π₁(SO(3)) = ℤ/2 (фокус с ремнём)                    |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| GL(n,ℝ)       | n²  | Обратимые матрицы n×n                                |
|               |     | Открытое подмножество ℝⁿ² (det ≠ 0)                  |
|               |     | Группа Ли — многообразие + группа.                   |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+
|               |     |                                                      |
| Пространство- | 4   | 3 пространственных + 1 временнóе измерение           |
| время         |     | Искривлено массой → гравитация.                      |
|               |     | Псевдориманово (метрика не положительно определена)  |
|               |     |                                                      |
+---------------+-----+------------------------------------------------------+

-------------------------------------------------------------------------------
 Связность — как сравнивать векторы в разных точках
-------------------------------------------------------------------------------

 Проблема:
   На ℝⁿ можно сравнить векторы в разных точках — просто "перенести".
   На кривом пространстве это невозможно без дополнительной структуры.

   Вектор в Москве и вектор в Сиднее — как сравнить, если Земля круглая?

 Решение: Связность (connection)
   Связность = правило, определяющее "параллельный перенос" вектора
   вдоль кривой.

 Визуализация параллельного переноса:

   Плоскость (кривизна = 0): сфера (кривизна &gt; 0):

       B ●----------● C                   B ●-----● C
         |  ----→   |                      /   →   \
         |  ----→   |                     / ↗   ↘   \
         |  ----→   |                    /           \
       A ●----------● D                A ●-----------● D
         ↑          ↑                    ↖           ↗
       Вектор    Тот же                Вектор    другой
       в A      вектор.                в A       вектор.

   На плоскости: перенос по контуру A→B→C→D→A возвращает тот же вектор.
   На сфере: вектор поворачивается. Угол поворота = кривизна × площадь.

 Пример на сфере:

                     Северный полюс
                          ●
                         /|\
                        / | \
                       /  ↓  \
                      /   |   \      1. Начинаем на экваторе с вектором →
       Экватор ------●----|----●     2. Идём на север до полюса
                     |    |    |     3. Поворачиваем на 90° и идём на юг
                     |    |    |     4. Вектор теперь указывает ↑
                     |    |    |        (повернулся на 90°.)
                     ●----+----●

 Пояснение терминов (прежде чем читать формулы):

 Γ(TM) — "сечения касательного расслоения" — это просто векторные поля.
   Векторное поле X — это выбор вектора X(p) ∈ TₚM в каждой точке p ∈ M.
   Пример: поле ветра на Земле — в каждой точке задан вектор скорости.

 (Xf) или X(f) — действие векторного поля X на функцию f: M → ℝ.
   Это производная f в направлении X: (Xf)(p) = скорость изменения f
   в точке p, если двигаться в направлении X(p).
   В координатах: если X = Xⁱ∂/∂xⁱ, то Xf = Xⁱ(∂f/∂xⁱ).
   Пример: X = "на восток", f = температура. Xf = "как быстро теплеет
   при движении на восток".

 [X,Y] — скобка Ли (коммутатор) двух векторных полей.
   Определение: [X,Y](f) = X(Y(f)) − Y(X(f))
   Смысл: [X,Y] измеряет, насколько операции "сдвинуться по X" и
   "сдвинуться по Y" не коммутируют.
   Если [X,Y] = 0, то X и Y "совместимы" — порядок движения не важен.
   Пример: [∂/∂x, ∂/∂y] = 0 (сдвиг по x и по y коммутируют).

 Математическое определение:

   Связность ∇ — это отображение
   ∇: Γ(TM) × Γ(TM) → Γ(TM)
   (X, Y) ↦ ∇_X Y  (производная Y в направлении X)

   удовлетворяющее:
   • ∇_{fX}Y = f∇_X Y  (линейно по X с коэффициентами из функций)
   • ∇_X(Y+Z) = ∇_X Y + ∇_X Z  (линейно по Y)
   • ∇_X(fY) = (Xf)Y + f∇_X Y  (правило Лейбница)

 В координатах:

   ∇_{∂/∂xⁱ}(∂/∂xʲ) = Γᵏᵢⱼ (∂/∂xᵏ)

   Γᵏᵢⱼ — символы Кристоффеля (n³ функций)

   Смысл символов Кристоффеля:

   Γᵏᵢⱼ показывает: когда я двигаюсь в направлении i, как базисный вектор
   ∂/∂xʲ "поворачивается" в направлении k?

   На плоскости: Γ = 0 везде (базисные векторы не меняются при движении)
   На сфере: Γ ≠ 0 (при движении "направление на север" поворачивается)

   Аналогия: Представьте, что несёте длинный шест по поверхности.
   На плоскости шест сохраняет направление сам по себе.
   На сфере нужно постоянно "подруливать", чтобы сохранить параллельность.
   Γᵏᵢⱼ = величина этого "подруливания".

   Для метрической связности (Леви-Чивита):
   Γᵏᵢⱼ = ½gᵏˡ(∂gᵢˡ/∂xʲ + ∂gⱼˡ/∂xⁱ − ∂gᵢⱼ/∂xˡ)

   Эта формула говорит: символы Кристоффеля полностью определяются
   метрикой gᵢⱼ и её производными. Геометрия → связность автоматически.

 Критически важно: Γᵏᵢⱼ — не тензор.

   При замене координат появляется добавочный член с вторыми производными:

   Γ'ᵏᵢⱼ = (∂x'ᵏ/∂xˡ)(∂xᵐ/∂x'ⁱ)(∂xⁿ/∂x'ʲ)Γˡₘₙ + (∂x'ᵏ/∂xˡ)(∂²xˡ/∂x'ⁱ∂x'ʲ)
                      ↑                            ↑
               тензорная часть              НЕтензорная добавка

   Именно поэтому Γ зависит от выбора координат.
   На плоскости в декартовых Γ = 0, а в полярных Γ ≠ 0.
   Но плоскость осталась плоской — изменились только координаты.

   Следствие: Нельзя сказать "Γ = 0 значит пространство плоское".
   Можно сказать: "Существуют координаты, в которых Γ = 0" ⟺ плоское.

 Типы связностей:
 +--------------+-----------------------------------------------+
 | ТИП          | СВОЙСТВО                                      |
 +--------------+-----------------------------------------------+
 | Метрическая  | Сохраняет скалярное произведение при переносе |
 | Без кручения | ∇_X Y − ∇_Y X = [X,Y]                         |
 | Леви-Чивита  | Метрическая + без кручения (единственная)     |
 +--------------+-----------------------------------------------+

-------------------------------------------------------------------------------
 Кривизна — мера неплоскости
-------------------------------------------------------------------------------

 Как обнаружить кривизну (без выхода в объемлющее пространство):

+-------------------+-------------------------------------------------+
| МЕТОД             | ЧТО ПРОИСХОДИТ                                  |
+-------------------+-------------------------------------------------+
|                   |                                                 |
| Параллельный      | Плоскость: вектор вернулся тем же               |
| перенос по        | Кривое: вектор повернулся                       |
| замкнутому пути   |                                                 |
|                   |                                                 |
+-------------------+-------------------------------------------------+
|                   |                                                 |
| Сумма углов       | Плоскость: α+β+γ = 180°                         |
| треугольника      | Сфера: α+β+γ &gt; 180° (положит. кривизна)      |
|                   | Седло: α+β+γ &lt; 180° (отрицат. кривизна)      |
|                   |                                                 |
+-------------------+-------------------------------------------------+
|                   |                                                 |
| Тензор Римана     | Rⁱⱼₖₗ = поворот vⁱ при обходе                    |
| (формальное опр.) | беск. малого параллелограмма в направлениях k,l |
|                   |                                                 |
+-------------------+-------------------------------------------------+

 Физика: кривизна = гравитация (ото)

 +----------------------------+--------------------------------------+
 | ПРИЧИНА                    | СЛЕДСТВИЕ                            |
 +----------------------------+--------------------------------------+
 | Масса/энергия              | Искривляет пространство-время        |
 | Тела движутся по геодезич. | Выглядит как притяжение = геометрия. |
 | Уравнение Эйнштейна        | Rμν − ½gμνR = 8πG·Tμν                |
 |                            | (кривизна = материя)                 |
 +----------------------------+--------------------------------------+


 Связь с другими разделами

+----------------+-------------------------------------------------------+
| РАЗДЕЛ         | КАК СВЯЗАН С МНОГООБРАЗИЯМИ                           |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Топология      | Многообразие = топ. пространство + гладкая структура  |
|                | Инварианты π₁, Hₙ, χ работают для многообразий        |
|                |                                                       |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Группы         | Группы Ли = многообразия + групповая структура        |
|                | SO(3), SU(2), GL(n) — и группы, и многообразия        |
|                | Алгебра Ли = T_e (касательное пространство в единице) |
|                |                                                       |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Лин. алгебра   | TₚM — векторное пр-во в каждой точке                  |
|                | Локально вся линейная алгебра работает.               |
|                | Связность = способ "соединять" TₚM в разных точках    |
|                |                                                       |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Двойственность | T*ₚM — кокасательное (где живут df, dp)               |
|                | Вектор: куда двигаться. Ковектор: как измерять        |
|                | Дифференциальные формы ∈ ∧ᵏT*M                        |
|                |                                                       |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Тензоры        | Тензорное поле = тензор в каждой точке                |
|                | Метрика gᵢⱼ — поле (0,2). Кривизна Rⁱⱼₖₗ — поле (1,3)  |
|                |                                                       |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Нётер          | Симметрии многообразия → законы сохранения            |
|                | Сдвиги → импульс. Вращения → момент импульса          |
|                |                                                       |
+----------------+-------------------------------------------------------+
|                |                                                       |
| Категории      | Man = категория гладких многообразий                  |
|                | Функтор T: Man → VectBund (касательное расслоение)    |
|                |                                                       |
+----------------+-------------------------------------------------------+

 Резюме: многообразие как центральный объект


                          Многообразие M
                               |
         +---------------------+---------------------+
         |                     |                     |
         ↓                     ↓                     ↓
    Локально глобально структуры
    ≈ ℝⁿ                  топология              На многообразии
    (карты, атлас)        (π₁, Hₙ, χ)            (метрика, связность)
         |                     |                     |
         ↓                     ↓                     ↓
    Можно                 Различаем               Измеряем
    дифференцировать      пространства            расстояния
    (TₚM, df)             (инварианты)            (gᵢⱼ, кривизна)

 Главная идея:
   Многообразие — это способ локально использовать знакомые инструменты
   (координаты, производные, интегралы) на глобально сложных пространствах.

 Практические приложения:
   • Физика: пространство-время, конфигурационное пространство
   • Робототехника: пространство состояний (положений и ориентаций)
   • Машинное обучение: многообразие данных (manifold hypothesis)
   • Оптимизация: оптимизация на многообразиях (Риманова оптимизация)

-------------------------------------------------------------------------------
 Прикладной пример: поверхность лопатки турбины
-------------------------------------------------------------------------------

 Задача: Рассчитать теплообмен на поверхности лопатки газовой турбины.
 Поверхность имеет сложную криволинейную форму — нет "естественных" x, y.

           ╭---------------╮
          ╱                 ╲        Поверхность S — 2D многообразие,
         ╱                   ╲       вложенное в ℝ³
        |      ЛОПАТКА        |
         ╲                   ╱       Нужны локальные координаты (u, v)
          ╲                 ╱        на поверхности
           ╰---------------╯

 Локальные координаты:
   u — вдоль хорды профиля (0 = передняя кромка, 1 = задняя)
   v — вдоль размаха (0 = корень, 1 = вершина)

   Точка на поверхности: r(u, v) = (x(u,v), y(u,v), z(u,v))

 Метрика на поверхности:
   Как измерить расстояние между двумя точками на лопатке?

   ds² = g₁₁ du² + 2g₁₂ du dv + g₂₂ dv²

   где gᵢⱼ = ∂r/∂uⁱ · ∂r/∂uʲ — компоненты метрического тензора

 Площадь элемента поверхности:
   dA = √(g₁₁g₂₂ − g₁₂²) du dv = √det(g) du dv

 Интеграл теплового потока:
   Q = ∬_S q(u,v) dA = ∬ q(u,v) √det(g) du dv

   Метрика "знает", как искажаются площади при переходе от плоского
   (u,v)-пространства к реальной изогнутой поверхности.

 Численный пример:
   Если в плоских координатах q = 50 кВт/м² = const,
   но лопатка изогнута так, что √det(g) ≈ 1.3 (площадь "растянута"),
   то реальный поток Q = 50 × 1.3 × A₍ᵤᵥ₎ = 65 кВт на единицу (u,v)-площади


 Мораль: Многообразие = способ работать с криволинейными поверхностями
 через локальные координаты. Метрика gᵢⱼ "переводит" формулы из плоского
 случая в криволинейный. Без этого языка — невозможны расчёты для турбин,
 теплообменников сложной формы, аэродинамических поверхностей.

-------------------------------------------------------------------------------
Связность и кривизна — как сравнивать векторы в разных точках
-------------------------------------------------------------------------------

 Проблема: как сравнить векторы в разных точках?


 В ℝⁿ это тривиально: параллельно перенеси и сравни.

 На искривлённой поверхности — непонятно.

              вектор в точке A
                    ↗
                   A ------------------- B
                  ╱                       ╲      вектор в точке B
                 ╱    искривлённая         ╲          ↘
                ╱      поверхность          ╲

   Вектор в A и вектор в B живут в разных касательных пространствах.
   Их нельзя напрямую сложить или вычесть.

   Нужно правило: как "перенести" вектор из A в B для сравнения.


 Связность = правило параллельного переноса


 Связность ∇ — это правило, как дифференцировать векторные поля.

   ∇_X Y = "производная поля Y в направлении X"

 Ковариантная производная:
   В координатах: ∇_∂ᵢ ∂ⱼ = Γᵏᵢⱼ ∂ₖ

   Γᵏᵢⱼ — символы Кристоффеля (коэффициенты связности)

 Для метрики (связность Леви-Чивиты):

   Γᵏᵢⱼ = ½gᵏˡ(∂ᵢgⱼˡ + ∂ⱼgᵢˡ − ∂ˡgᵢⱼ)

   Эта связность:
   • Сохраняет метрику: ∇g = 0
   • Без кручения: Γᵏᵢⱼ = Γᵏⱼᵢ
   • Единственная с такими свойствами.

-------------------------------------------------------------------------------
 Параллельный перенос — визуализация
-------------------------------------------------------------------------------

 Вектор "параллельно переносится" вдоль кривой γ(t), если:

   ∇_γ̇ V = 0    (ковариантная производная вдоль кривой = 0)

 На плоскости: Параллельный перенос очевиден — направление сохраняется.

 На сфере — сюрприз.

        Северный полюс
              N
             /|\
   вектор → / | \
           /  |  \   Перенеси вектор по замкнутому пути:
          A---+---B  N → A → B → N
              |
              |      Вектор повернулся

   Угол поворота = площадь треугольника / R² (где R — радиус сферы)

   Этот поворот — проявление кривизны.

-------------------------------------------------------------------------------
 Кривизна — мера "неплоскости"
-------------------------------------------------------------------------------

 Тензор кривизны Римана:

   R(X, Y)Z = ∇_X ∇_Y Z − ∇_Y ∇_X Z − ∇_[X,Y] Z

 Что это измеряет:
   Перенеси вектор Z сначала в направлении X, потом Y.
   Потом в направлении Y, потом X.
   Разница = R(X, Y)Z.

   Если R = 0 везде — пространство плоское (локально как ℝⁿ).

 В координатах:
   Rᵏₗᵢⱼ = ∂ᵢΓᵏⱼₗ − ∂ⱼΓᵏᵢₗ + ΓᵏᵢₘΓᵐⱼₗ − ΓᵏⱼₘΓᵐᵢₗ

 Важные свёртки:
   • Тензор Риччи: Rᵢⱼ = Rᵏᵢₖⱼ
   • Скалярная кривизна: R = gⁱʲRᵢⱼ

 Для поверхности (2d):
   K = R/(2) — гауссова кривизна
   K &gt; 0: сфера (положительная кривизна)
   K = 0: плоскость, цилиндр
   K &lt; 0: седло (отрицательная кривизна)

-------------------------------------------------------------------------------
 Геодезические — "прямые" на искривлённом пространстве
-------------------------------------------------------------------------------

 Определение: Геодезическая — кривая, параллельно переносящая свой вектор
              скорости:

              ∇_γ̇ γ̇ = 0

 В координатах (уравнение геодезической):

              d²xᵏ/dt² + Γᵏᵢⱼ (dxⁱ/dt)(dxʲ/dt) = 0

 Примеры:
   • На плоскости: прямые линии
   • На сфере: большие круги (экватор, меридианы)
   • В ОТО: траектории свободных частиц в гравитационном поле

 Эквивалентные определения:
   1. Кривая кратчайшей длины (локально)
   2. Кривая, экстремизирующая ∫ ds
   3. Кривая с нулевым геодезическим ускорением

 Важно: геодезическая — это локальный минимум длины, не глобальный.
     На сфере из A в B можно идти "коротким" или "длинным" путём —
     оба геодезические.

-------------------------------------------------------------------------------
 Theorema egregium Гаусса — глубокий результат
-------------------------------------------------------------------------------

 Гауссова кривизна K зависит только от метрики gᵢⱼ, но не от того,
 как поверхность вложена в ℝ³.

 Следствие: Нельзя без искажений нарисовать карту сферы на плоскости.

   Сфера: K = 1/R² &gt; 0
   Плоскость: K = 0

   Любая карта мира обязательно искажает либо углы, либо площади.
   (Меркатор искажает площади, равновеликие — углы)

 А вот цилиндр можно развернуть в плоскость без искажений.
   Цилиндр: K = 0 (одна из главных кривизн равна нулю)


 Связь с физикой: общая теория относительности


 Уравнения Эйнштейна:

   Rᵢⱼ − ½Rgᵢⱼ = (8πG/c⁴) Tᵢⱼ

   Левая часть: геометрия (кривизна пространства-времени)
   Правая часть: материя (тензор энергии-импульса)

 Траектории свободно падающих тел = геодезические в искривлённом
 пространстве-времени. Гравитация — не сила, а геометрия.


-------------------------------------------------------------------------------
Расслоения — пространства над пространствами
-------------------------------------------------------------------------------

 Мотивация: касательные векторы ко всем точкам


 На многообразии M в каждой точке p есть касательное пространство TₚM.

 Вопрос: Как организовать все касательные пространства в единую структуру?

 Ответ: Объединим их в расслоение:

              TM = ⋃_{p∈M} TₚM

   Это новое многообразие — касательное расслоение.
   dim(TM) = 2·dim(M)

-------------------------------------------------------------------------------
 Определение: расслоение
-------------------------------------------------------------------------------

 Расслоение — это тройка (E, π, B), где:

   E — тотальное пространство (всё расслоение целиком)
   B — база (пространство, над которым расслаивается)
   π: E → B — проекция

   Для каждой точки b ∈ B прообраз π⁻¹(b) = F называется слоем.

 Визуализация:

       E (тотальное пространство)
       |
       |    F₁    F₂    F₃    ← слои (все изоморфны F)
       |    |     |     |
       |    |     |     |
       ▼    ▼     ▼     ▼
       ----●-----●-----●----  B (база)
           b₁    b₂    b₃

 Локально: E ≅ U × F (произведение окрестности U ⊂ B и слоя F)
 Глобально: может быть скручено.

-------------------------------------------------------------------------------
 Тривиальное vs нетривиальное расслоение
-------------------------------------------------------------------------------

 Тривиальное: E = B × F глобально (просто произведение)

   Пример: цилиндр = S¹ × ℝ

         +-----------+
         |           |
         |  цилиндр  |     База: окружность S¹
         |           |     Слой: прямая ℝ
         +-----------+

 Нетривиальное: глобально не раскладывается в произведение

   Пример: лента Мёбиуса.

         +-----╲╱-----+
         |     ╲╱     |    База: S¹ (окружность)
         |      ╳     |    Слой: отрезок [-1, 1]
         |     ╱╲     |    Но глобально — скручено.
         +-----╱╲-----+

   Обойдя базу по кругу, слой переворачивается.


 Главные типы расслоений
+------------------------+----------+---------------------------------+
| РАССЛОЕНИЕ             | СЛОЙ F   | ПРИМЕР                          |
+------------------------+----------+---------------------------------+
| Касательное TM         | ℝⁿ       | Все скорости в точке            |
+------------------------+----------+---------------------------------+
| Кокасательное T*M      | ℝⁿ       | Все импульсы в точке            |
+------------------------+----------+---------------------------------+
| Тензорное              | Тензоры  | Все тензоры типа (p,q) в точке  |
+------------------------+----------+---------------------------------+
| Главное (G-расслоение) | Группа G | Калибровочные поля в физике     |
+------------------------+----------+---------------------------------+
| Расслоение реперов     | GL(n)    | Все базисы касательного простр. |
+------------------------+----------+---------------------------------+

-------------------------------------------------------------------------------
 Сечение расслоения = поле на многообразии
-------------------------------------------------------------------------------

 Сечение s: B → E — это отображение, где π(s(b)) = b для всех b.
 (Выбираем по одной точке из каждого слоя)

   • Сечение tm = векторное поле на M
   • Сечение T*M = 1-форма на M
   • Сечение тензорного расслоения = тензорное поле

 Пример: Поле скоростей ветра — сечение касательного расслоения TS²
         (S² = поверхность Земли)

 Теорема о "волосатом шаре" (Hairy Ball Theorem):
   На S² не существует непрерывного ненулевого векторного поля.
   (Нельзя причесать ёжика — где-то будет "вихор")

   Причина: касательное расслоение TS² — нетривиально.

-------------------------------------------------------------------------------
 Связность на расслоении — как переносить между слоями
-------------------------------------------------------------------------------

 Связность на расслоении = правило, как переносить элемент слоя
 вдоль пути на базе.

 Для касательного расслоения:
   Связность = символы Кристоффеля Γᵏᵢⱼ
   Это то, что мы определили выше

 Для главного g-расслоения:
   Связность = 1-форма A со значениями в алгебре Ли g
   В физике: A — калибровочный потенциал.

 Кривизна расслоения:
   F = dA + A ∧ A   (2-форма кривизны)
   В физике: F — напряжённость поля.

   Электромагнетизм: G = U(1), A = потенциал, F = E, B
   Стандартная модель: G = SU(3)×SU(2)×U(1)


-------------------------------------------------------------------------------
Характеристические классы — топология расслоений
-------------------------------------------------------------------------------

 Идея: измерение "скрученности" расслоения


 Расслоение может быть тривиальным (E = B × F) или нетривиальным.
 Характеристические классы — это числовые инварианты, измеряющие
 "насколько расслоение скручено".

 Они живут в когомологиях базы: cᵢ ∈ H*(B)

 Если класс ненулевой — расслоение точно нетривиально.
 Если нулевой — может быть тривиально, а может и нет (необходимо, не доста)

-------------------------------------------------------------------------------
 Классы Черна — для комплексных расслоений
-------------------------------------------------------------------------------

 Для комплексного векторного расслоения E → B определены:

   c₀(E) = 1,  c₁(E),  c₂(E),  .,  cₙ(E)   где n = dim_ℂ(E)

   cₖ(E) ∈ H²ᵏ(B; ℤ)   — класс Черна степени k

 Ключевые свойства:
   • c(E⊕F) = c(E) ∪ c(F)  (аддитивность относительно прямой суммы)
   • c(E*) = c̄(E)  (классы сопряжённого расслоения)
   • Для линейного расслоения L: c₁(L) = эйлеров класс

 Пример: Касательное расслоение сферы
   c₁(TS²) = 2 ∈ H²(S²) ≅ ℤ
   Это связано с теоремой о "волосатом шаре" и эйлеровой характеристикой.

-------------------------------------------------------------------------------
 Классы Понтрягина и Эйлера — для вещественных расслоений
-------------------------------------------------------------------------------

 Для вещественного расслоения E → B:

   pₖ(E) ∈ H⁴ᵏ(B; ℤ)   — класс Понтрягина
   e(E) ∈ Hⁿ(B; ℤ)     — класс Эйлера (если E ориентировано, n = rank E)

 Теорема Гаусса-Бонне-Черна:

   ∫_M e(TM) = χ(M)   (интеграл эйлерова класса = эйлерова характеристика)

   Это обобщение теоремы Гаусса-Бонне на любые размерности.

-------------------------------------------------------------------------------
 Применения в физике
-------------------------------------------------------------------------------

 Квантование магнитного монополя (Дирак):
   Магнитный заряд g квантуется: eg = nℏ/2
   Причина: первый класс Черна линейного расслоения над S² целочислен.

 Аномалии в квантовой теории поля:
   Калибровочные аномалии связаны с классами Черна расслоения
   калибровочной группы.

 Топологические изоляторы:
   Классы Черна электронных зон определяют квантовый эффект Холла.
   c₁ = 0, ±1, ±2, ... → холловская проводимость = c₁ · e²/h

-------------------------------------------------------------------------------
 Проективные пространства — геометрия "направлений"
-------------------------------------------------------------------------------

 Интуиция: Что такое проективное пространство

 Представим, что мы стоим в начале координат и смотрим в разные стороны.
 Каждое направление взгляда — это точка проективного пространства.

 Формально: Точки (x, y, z) и (2x, 2y, 2z) задают одно направление.
 Мы "склеиваем" все точки на одном луче из начала координат.

-------------------------------------------------------------------------------
 Определение
-------------------------------------------------------------------------------

 Вещественное проективное пространство ℝPⁿ:

   ℝPⁿ = (ℝⁿ⁺¹ \ {0}) / ~,  где  x ~ y ⟺ x = λy для λ ≠ 0

 Другими словами: ℝPⁿ = множество прямых в ℝⁿ⁺¹, проходящих через 0.

 Однородные координаты:
   Точка ℝPⁿ записывается как [x₀ : x₁ : . : xₙ]
   Это класс эквивалентности: [x₀ : x₁ : . : xₙ] = [λx₀ : λx₁ : . : λxₙ]

 Размерности:
   • ℝP¹ — проективная прямая (топологически = окружность S¹)
   • ℝP² — проективная плоскость (неориентируемая поверхность)
   • ℝP³ ≅ SO(3) — пространство вращений в 3D

-------------------------------------------------------------------------------
 Визуализация ℝP¹ и ℝP²
-------------------------------------------------------------------------------

 ℝP¹ — проективная прямая:

   Берём ℝ² \ {0} и склеиваем противоположные точки (x,y) ~ (-x,-y).

              y
              |    ╱
              |   ╱  ← эта прямая = одна точка ℝP¹
              |  ╱
        ------●------ x
             ╱|
            ╱ |

   Можно параметризовать наклоном: [1 : t] для t ∈ ℝ, плюс [0 : 1] (верт.)
   Это ℝ ∪ {∞} — прямая с добавленной "бесконечностью". Топологически = S¹.

 ℝp² — проективная плоскость:

   Берём полусферу и склеиваем противоположные точки на экваторе:

              ╭-------╮
            ╱    ●      ╲      Внутренность полусферы — обычная плоскость
           |      ●      |     Граница (экватор) — "бесконечность"
           |   ●    ●    |     Но точки A и A' на экваторе склеены.
            ╲   A    A' ╱
              ╰-------╯

   Результат: неориентируемая поверхность (содержит ленту Мёбиуса).
   Нельзя вложить в ℝ³ без самопересечений.

-------------------------------------------------------------------------------
 Зачем проективные пространства
-------------------------------------------------------------------------------

 1. параллельные прямые пересекаются "на бесконечности"

    В обычной геометрии параллельные прямые не пересекаются.
    В проективной — пересекаются в "бесконечно удалённой точке".

    Это упрощает многие теоремы: теорема Паппа, Дезарга, двойственность.

 2. компьютерная графика

    Однородные координаты [x : y : z : w] — стандарт в 3D-графике.
    Точка в 3D: [x : y : z : 1] → (x/1, y/1, z/1)
    Точка "на бесконечности": [x : y : z : 0] — направление

    Все преобразования (сдвиг, поворот, масштаб, перспектива) —
    это умножение на матрицу 4×4.

    Без однородных координат сдвиг — не линейное преобразование.
    С ними — линейное. Это огромное упрощение для GPU.

 3. алгебраическая геометрия

    Многие теоремы проще в проективном пространстве:

    Теорема Безу: Две кривые степеней m и n в ℙ² пересекаются
    ровно в mn точках (с учётом кратностей и бесконечности).

    В обычной плоскости: прямая и парабола могут не пересечься (0, 1 или 2).
    В проективной: прямая (степень 1) и коника (степень 2) — всегда 2 точки.

 4. физика: пространство состояний

    В квантовой механике чистое состояние — это луч в гильбертовом простр.
    |ψ⟩ и λ|ψ⟩ — одно состояние (глобальная фаза не наблюдаема).

    Для кубита: пространство состояний = ℂP¹ = сфера Блоха (S²).

-------------------------------------------------------------------------------
 Комплексное проективное пространство ℂPⁿ
-------------------------------------------------------------------------------

 Аналогично вещественному, но над ℂ:

   ℂPⁿ = (ℂⁿ⁺¹ \ {0}) / ~,  где  z ~ w ⟺ z = λw для λ ∈ ℂ \ {0}

 Важные случаи:

   • ℂP¹ = сфера Римана = ℂ ∪ {∞}
     Это компактификация комплексной плоскости.

   • ℂPⁿ — компактное кэлерово многообразие
     Центральный объект алгебраической геометрии

 Связь с физикой:
   Пространство состояний системы с n+1 уровнями = ℂPⁿ
   Сфера Блоха (кубит) = ℂP¹ ≅ S²

-------------------------------------------------------------------------------
 Проективные пространства как классы эквивалентности
-------------------------------------------------------------------------------

 Это ещё один пример конструкции через фактормножество:

   X = ℝⁿ⁺¹ \ {0}  (все ненулевые векторы)
   x ~ y ⟺ x = λy  (лежат на одном луче)
   ℝPⁿ = X/~       (множество классов = множество лучей = множество прямых)

 Каждый класс эквивалентности — это прямая через начало координат
 (без самого начала). Мы "сжали" каждую прямую в одну точку.


На многообразиях мы можем определять функции, векторные поля, тензоры.
Но как интегрировать? Обычный интеграл ∫f dx требует координат, а мы хотим
инвариантное определение.

-------------------------------------------------------------------------------
 Тензорное поле — тензор в каждой точке
-------------------------------------------------------------------------------

 Мы изучили тензоры как алгебраические объекты на одном векторном
 пространстве. Но на многообразии в каждой точке своё касательное
 пространство TₚM. Как "склеить" тензоры из разных точек?

 Тензорное поле — это выбор тензора в каждой точке многообразия,
 меняющийся гладко от точки к точке.

 +-----------------+-----------------------------------------------+
 | ПРИМЕР          | ЧТО ЭТО                                       |
 +-----------------+-----------------------------------------------+
 | Скалярное поле  | Функция f: M → ℝ (температура в каждой точке) |
 | Векторное поле  | Вектор v(p) ∈ TₚM в каждой точке (скорость)   |
 | Метрика gᵢⱼ     | Скалярное произведение в каждой TₚM           |
 | Тензор кривизны | Измеряет "искривлённость" в каждой точке      |
 +-----------------+-----------------------------------------------+

 В терминах "объект—наблюдатель": тензорное поле — это объект на
 многообразии. В каждой карте (системе координат наблюдателя) оно
 записывается компонентами gᵢⱼ(x). При смене карты компоненты меняются
 по закону преобразования тензоров — но само поле остаётся тем же.

 Метрика gᵢⱼ — главный пример: она задаёт расстояния и углы, но её
 компоненты зависят от выбора координат. Расстояние — инвариант.


Дифференциальные формы — это объекты, которые можно интегрировать на
многообразиях. Они объединяют все теоремы интегрирования (Грина, Стокса,
Гаусса) в одну — и это язык современной физики.

-------------------------------------------------------------------------------
Дифференциальные формы — язык современной физики
-------------------------------------------------------------------------------

 Формы как взгляд на пространство


 Дифференциальные формы — это объекты, которые "измеряют" куски пространства:

   • 1-форма измеряет кривые (работа силы вдоль пути)
   • 2-форма измеряет поверхности (поток через площадку)
   • 3-форма измеряет объёмы (масса в области)

 Формы — это "детекторы размерности": k-форма чувствует k-мерные объекты.
 Они позволяют интегрировать на многообразиях без координат.


 Зачем нужны дифференциальные формы


 Проблема: Интегралы зависят от того, что мы интегрируем

   • По кривой интегрируем работу:     ∫ F·dr  — это что-то одномерное
   • По поверхности — поток:           ∬ F·dS  — это что-то двумерное
   • По объёму — плотность:            ∭ ρ dV  — это что-то трёхмерное

 Задача: формализовать понятие "ориентированной площади"

 Ответ: дифференциальные формы — объекты, созданные для интегрирования

   • 0-форма — функция (интеграл = значение в точке)
   • 1-форма — интегрируется по кривым
   • 2-форма — интегрируется по поверхностям
   • n-форма — интегрируется по n-мерным областям

 Бонус: Теоремы Стокса, Грина, Гаусса — все становятся одной теоремой.

-------------------------------------------------------------------------------
 Что измеряет k-форма — физическая таблица
-------------------------------------------------------------------------------

 k-форма — это "детектор" для k-мерных объектов в пространстве.

 +---------+----------------+----------------------+--------------------------+
 | k       | ЧТО ИЗМЕРЯЕТ   | ФИЗИЧЕСКИЙ ПРИМЕР    | МАТЕМАТИЧЕСКИ            |
 +---------+----------------+----------------------+--------------------------+
 |         |                |                      |                          |
 | 0-форма | точку          | Температура T(x,y,z) | Просто функция f: M → ℝ  |
 |         | (скаляр в ней) | Давление p(x,y,z)    |                          |
 |         |                | Концентрация c       |                          |
 |         |                |                      |                          |
 +---------+----------------+----------------------+--------------------------+
 |         |                |                      |                          |
 | 1-форма | кривую         | Работа силы ∫F·dr    | ω = Fₓdx + Fᵧdy + F_zdz  |
 |         | (интеграл      | Циркуляция           | Действует на касательный |
 |         | вдоль пути)    | Напряжение ∫E·dl     | вектор к кривой          |
 |         |                |                      |                          |
 +---------+----------------+----------------------+--------------------------+
 |         |                |                      |                          |
 | 2-форма | поверхность    | Поток ∬F·dS          | ω = Fₓdy∧dz + Fᵧdz∧dx    |
 |         | (интеграл      | Магнитный поток Φ    | + F_zdx∧dy               |
 |         | по площадке)   | Расход жидкости Q    | Действует на пару        |
 |         |                |                      | касательных векторов     |
 |         |                |                      |                          |
 +---------+----------------+----------------------+--------------------------+
 |         |                |                      |                          |
 | 3-форма | объём          | Масса ∭ρ dV          | ω = ρ dx∧dy∧dz           |
 |         | (интеграл      | Заряд Q = ∭ρ dV      | В 3D это максимальная    |
 |         | по области)    | Энергия в объёме     | размерность формы        |
 |         |                |                      |                          |
 +---------+----------------+----------------------+--------------------------+

 Мнемоника: k-форма "ест" k векторов и выдаёт число.

   0-форма: f()           — ничего не ест, сразу число
   1-форма: ω(v)          — съедает 1 вектор
   2-форма: σ(u,v)        — съедает 2 вектора
   3-форма: μ(u,v,w)      — съедает 3 вектора


 Визуализация: как "выглядит" k-форма


 0-форма (функция): Скалярное поле — цвет/высота в каждой точке

       высокое
          ↑   ████
          | ██████████
          |████████████████
       низкое

   Температурная карта: каждой точке — число.

-------------------------------------------------------------------------------

 1-форма: "Стопки плоскостей" — линии уровня с направлением

       | | | | | |
       | | | | | |   ← пересечение с вектором = "сколько линий прошёл"
       | | |→| | |
       | | | | | |

   1-форма dx "считает", сколько раз вектор пересёк линии x = const.
   Плотнее линии = больше значение формы.

-------------------------------------------------------------------------------

 2-форма: "Трубочки" — измеряют поток через площадку

       | | | | |
       | | | | |   ← площадка, перпендикулярная трубкам = макс. значение
       | +===+ |      площадка вдоль трубок = нулевое значение
       | |   | |
       | +===+ |
       | | | | |

   2-форма dx∧dy "считает", сколько трубок проходит через площадку.
   Ориентация площадки важна (знак).

-------------------------------------------------------------------------------

 3-форма: "Плотность точек" — сколько в объёме

       +---------+
       | ● ● ● ● |
       | ● ● ● ● |   ← интеграл по объёму = полное количество
       | ● ● ● ● |
       +---------+

   3-форма ρ dx∧dy∧dz = плотность. Интеграл = масса/заряд/энергия.


 Внешняя производная d — переход между уровнями


 Оператор d повышает степень формы на 1:

   0-форма  --d--▶  1-форма  --d--▶  2-форма  --d--▶  3-форма  --d--▶  0
   функция         градиент          ротор           дивергенция
      f               df              dω               dσ

 Физический смысл:

 +----------+---------------------------------------------+
 | ПЕРЕХОД  | ЧТО ОЗНАЧАЕТ ФИЗИЧЕСКИ                      |
 +----------+---------------------------------------------+
 | df (0→1) | Как меняется f вдоль пути = градиент        |
 |          | df(v) = ∇f · v = производная по направлению |
 +----------+---------------------------------------------+
 | dω (1→2) | "Закрученность" поля = ротор                |
 |          | Ненулевой dω = поле имеет вихри             |
 +----------+---------------------------------------------+
 | dσ (2→3) | "Источники" поля = дивергенция              |
 |          | Ненулевой dσ = есть истоки/стоки            |
 +----------+---------------------------------------------+

 Магическое свойство: d ∘ d = 0

   Применяя d дважды, получаем 0. Это глубокий факт:
     • rot(grad f) = 0  — градиент не имеет вихрей
     • div(rot F) = 0   — вихрь не имеет источников
     • ∂²M = ∅          — граница границы пуста


-------------------------------------------------------------------------------
Дифференциал как 1-форма
-------------------------------------------------------------------------------

 Переосмысление дифференциала


 В анализе: df = f'(x)dx — "бесконечно малое приращение"

 Новый взгляд: df — это линейная функция на касательных векторах.

   df: TₚM → ℝ
   df(v) = "производная f в направлении v" = ∇f · v

 Пример: f(x,y) = x² + y², точка p = (1, 2)

   df = 2x dx + 2y dy
   В точке p: df = 2dx + 4dy

   Вектор v = (3, 1) в точке p:
   df(v) = 2·3 + 4·1 = 10

   Это производная f в направлении v: ∇f·v = (2,4)·(3,1) = 10 ✓

 Вывод: dx, dy — это не "малые величины", а базисные 1-формы.

-------------------------------------------------------------------------------
 Определение: 1-форма
-------------------------------------------------------------------------------

 1-форма на многообразии M — это гладкое отображение

   ω: TM → ℝ

 которое линейно на каждом касательном пространстве TₚM.

 В координатах:
   ω = ω₁dx¹ + ω₂dx² + ... + ωₙdxⁿ = ωᵢdxⁱ

 где ωᵢ = ωᵢ(x¹,...,xⁿ) — гладкие функции (компоненты формы).

 Действие на вектор:
   ω(v) = ωᵢvⁱ = ω₁v¹ + ω₂v² + ... + ωₙvⁿ


 1-форма = ковектор = элемент T*ₚM


 Связь с предыдущими разделами:

   • (Лин. алгебра): ковектор ∈ V* — линейная функция на V
   • (Тензоры): 1-форма — тензор типа (0,1)
   • (Двойственность): 1-форма двойственна вектору

 В каждой точке p ∈ M:
   ωₚ ∈ T*ₚM  (кокасательное пространство)

 1-форма на M = гладкое семейство ковекторов {ωₚ}ₚ∈M
              = сечение кокасательного расслоения T*M


 Df ≠ ∇f : железный аргумент через размерности


 Пусть f = температура в градусах, x = координата в метрах.

 +-------------------+-------------+----------------------+
 | ОБЪЕКТ            | РАЗМЕРНОСТЬ | ТИП                  |
 +-------------------+-------------+----------------------+
 | f                 | [°C]        | Скаляр (функция)     |
 +-------------------+-------------+----------------------+
 | df                | [°C]        | 1-форма (ковектор)   |
 | (дифференциал)    |             |                      |
 +-------------------+-------------+----------------------+
 | ∂f/∂x             | [°C/м]      | Компонента градиента |
 | (частная произв.) |             |                      |
 +-------------------+-------------+----------------------+
 | ∇f                | [°C/м]      | Вектор (с метрикой) |
 | (градиент)        |             |                      |
 +-------------------+-------------+----------------------+

 Видно: df и ∇f имеют разные размерности.

 df: действует на вектор смещения [м], даёт изменение температуры [°C].
 ∇f: сам имеет размерность [°C/м], указывает направление роста.

 Связь через метрику: (∇f)ⁱ = gⁱʲ(∂f/∂xʲ)
   В декартовых: gⁱʲ = δⁱʲ, поэтому ∇f "выглядит как" (∂f/∂x, ∂f/∂y).
   В криволинейных: метрика нетривиальна, и путать их нельзя.


 Мост: dx в матанализе vs dx в формах


 Инженер привык к dx как "бесконечно малому приращению" из интеграла Римана:
   ∫f(x)dx = lim Σf(xᵢ)Δxᵢ

 Здесь мы говорим: dx — это линейный функционал.
 Как это связано?

 +----------------------+-----------------------------------------+
 | КОНТЕКСТ             | Что такое dx                            |
 +----------------------+-----------------------------------------+
 | Матанализ (интуиция) | "Бесконечно малый кусочек" оси x        |
 |                      | Δx → 0 в пределе                        |
 +----------------------+-----------------------------------------+
 | Диф. формы (точно)   | Линейная функция dx: TₚM → ℝ            |
 |                      | dx(v) = v¹ (проекция на ось x)          |
 +----------------------+-----------------------------------------+
 | Интегрирование форм  | ∫_γ ω = lim Σ ω(Δγᵢ)                    |
 |                      | Форма действует на касательные к кривой |
 +----------------------+-----------------------------------------+

 Ключ к пониманию:

   В интеграле ∫f(x)dx "скрыта" 1-форма f(x)dx, которая интегрируется
   вдоль кривой (отрезка). Старая запись — упрощение, скрывающее
   что интегрируется линейная функция на касательных векторах.

   Когда пишем ∫f(x)dx, мы на самом деле спариваем форму f(x)dx
   с касательным вектором к кривой интегрирования. Это не "сумма
   бесконечно малых", а предел сумм значений формы на малых векторах.

   ∫ₐᵇ f(x)dx   (матанализ)   =   ∫_[a,b] f·dx   (формы)

   Левая запись — это частный случай правой для кривой в ℝ¹.

 Практический вывод:
   • В 1D: разницы почти нет, можно использовать привычную запись
   • В nD: форма dx∧dy — площадь, dV = dx∧dy∧dz — объём
   • На многообразиях: без форм нельзя корректно определить интеграл


-------------------------------------------------------------------------------
Внешнее произведение — ключевая операция
-------------------------------------------------------------------------------

 Определение: внешнее (клиновое) произведение


 Для 1-форм α и β их внешнее произведение α ∧ β — это 2-форма:

   (α ∧ β)(u, v) = α(u)β(v) − α(v)β(u)

-------------------------------------------------------------------------------
 Почему именно такая формула?
-------------------------------------------------------------------------------

 Представим, что α и β — это "измерительные приборы" для компонент вектора:
   • α(u) = "сколько вектора u в направлении α"
   • β(v) = "сколько вектора v в направлении β"

 Произведение α(u)β(v) — это "площадь прямоугольника" со сторонами α(u), β(v)
 Но прямоугольник — не правильная мера площади параллелограмма.

 Чтобы получить ориентированную площадь параллелограмма на u и v:
   • Берём α(u)β(v) — один порядок измерений
   • Вычитаем α(v)β(u) — другой порядок
   • Получаем определитель 2×2 = ориентированная площадь.

 Формула = определитель:

   (α ∧ β)(u, v) = det|α(u)  α(v)|
                      |β(u)  β(v)|

 Свойства:
   • Билинейность: (aα + bβ) ∧ γ = a(α∧γ) + b(β∧γ)
   • Антисимметричность: α ∧ β = −β ∧ α
   • Следствие: α ∧ α = 0
   • Ассоциативность: (α ∧ β) ∧ γ = α ∧ (β ∧ γ)


 Пример: dx ∧ dy


 Пусть u = (u¹, u²), v = (v¹, v²) — векторы в ℝ².

   (dx ∧ dy)(u, v) = dx(u)·dy(v) − dx(v)·dy(u)
                   = u¹v² − v¹u²
                   = det|u¹ v¹|
                        |u² v²|

 dx ∧ dy вычисляет площадь параллелограмма, натянутого на u и v.

 Знак = ориентация (положительная или отрицательная)

-------------------------------------------------------------------------------
 k-формы
-------------------------------------------------------------------------------

 k-форма — это антисимметричный тензор типа (0, k).

 В координатах на ℝⁿ:

   ω = Σ ω_{i₁...iₖ} dx^{i₁} ∧ ... ∧ dx^{iₖ}
       i₁&lt;...&lt;iₖ

 Размерность пространства k-форм на ℝⁿ:

   dim Ωᵏ(ℝⁿ) = C(n,k) = n!/(k!(n-k)!)

 Таблица для n = 3:

   +-------+------------------------+-----+
   | k     | БАЗИС                  | dim |
   +-------+------------------------+-----+
   | 0     | 1 (функции)            | 1   |
   | 1     | dx, dy, dz             | 3   |
   | 2     | dy∧dz, dz∧dx, dx∧dy    | 3   |
   | 3     | dx∧dy∧dz               | 1   |
   | &gt;3 | 0 (нет ненулевых форм) | 0   |
   +-------+------------------------+-----+

 Заметьте: dim Ωᵏ = dim Ωⁿ⁻ᵏ — симметрия. (связана с ∗ Ходжа)


 Конкретный пример: газодинамика — три типа интегралов


 В газодинамике постоянно встречаются три типа "бесконечно малых":

   • dx, dl — элемент длины вдоль потока (1-форма)
   • dω, dA, dS — элемент площади поперечного сечения (2-форма)
   • dV — элемент объёма (3-форма)

 Это не просто "малые величины" — это объекты разной природы.

-------------------------------------------------------------------------------
 Пример 1: работа силы давления (1-форма, интеграл по линии)
-------------------------------------------------------------------------------

   Поршень движется в цилиндре. Работа = ∫ F·dl = ∫ p·A·dl

   Здесь dl — элемент пути (1-форма). Интегрируем вдоль траектории.
   Результат: скаляр (число джоулей).

-------------------------------------------------------------------------------
 Пример 2: массовый расход через сечение (2-форма, интеграл по поверхности)
-------------------------------------------------------------------------------

   Газ течёт через трубу. Расход = ∬ ρv·dA = ∬ ρvₙ dω

   Здесь dω (или dA) — элемент площади (2-форма).
   Интегрируем по поперечному сечению трубы.
   Результат: кг/с (массовый расход).

   Важно: dω = dy∧dz — это не число, а 2-форма.
   Она "съедает" два вектора и выдаёт ориентированную площадь.

-------------------------------------------------------------------------------
 Пример 3: масса газа в объёме (3-форма, интеграл по объёму)
-------------------------------------------------------------------------------

   Масса газа в резервуаре: m = ∭ ρ dV

   Здесь dV = dx∧dy∧dz — элемент объёма (3-форма).
   Интегрируем по всему резервуару.
   Результат: кг (масса).

-------------------------------------------------------------------------------
 Теорема Стокса в газодинамике: уравнение неразрывности
-------------------------------------------------------------------------------

   Интегральная форма: ∂/∂t ∭_V ρ dV + ∬_S ρv·dA = 0

   "Изменение массы в объёме = поток массы через границу"

   Переход к дифференциальной форме (через теорему Гаусса-Остроградского):

   ∂ρ/∂t + ∇·(ρv) = 0

   Или на языке форм: ∂ρ/∂t + d∗(ρv) = 0


 Вывод: Когда видишь интеграл, спроси себя:
   • По чему интегрируем? (линия / поверхность / объём)
   • Какая форма под интегралом? (1-форма / 2-форма / 3-форма)

 dx, dA, dV — это не "просто малые величины", а объекты разных типов.


-------------------------------------------------------------------------------
Внешняя производная d
-------------------------------------------------------------------------------

 Определение: внешняя производная


 Внешняя производная d: Ωᵏ → Ωᵏ⁺¹ определяется:

 Для 0-формы (функции) f:
   df = (∂f/∂x¹)dx¹ + ... + (∂f/∂xⁿ)dxⁿ = (∂f/∂xⁱ)dxⁱ

 Для k-формы ω = ω_{i₁...iₖ} dx^{i₁} ∧ ... ∧ dx^{iₖ}:
   dω = dω_{i₁...iₖ} ∧ dx^{i₁} ∧ ... ∧ dx^{iₖ}

 Свойства:
   • d(α + β) = dα + dβ                 (линейность)
   • d(α ∧ β) = dα ∧ β + (−1)ᵏα ∧ dβ   (правило Лейбница)
   • d(dω) = 0                          (ключевое)


 Примеры внешней производной


 Пример 1: d от функции f(x,y,z)

     df = (∂f/∂x)dx + (∂f/∂y)dy + (∂f/∂z)dz

     Это дифференциал f — ковектор (1-форма).
     Не путать с градиентом ∇f, который вектор.
     (Компоненты совпадают численно только в ортонормированном базисе)

 Пример 2: d от 1-формы ω = P dx + Q dy + R dz

   dω = dP ∧ dx + dQ ∧ dy + dR ∧ dz

      = (∂P/∂y dy + ∂P/∂z dz) ∧ dx + ...

      = (∂R/∂y − ∂Q/∂z) dy∧dz + (∂P/∂z − ∂R/∂x) dz∧dx
        + (∂Q/∂x − ∂P/∂y) dx∧dy

   Это ротор rot(P,Q,R), записанный как 2-форма.

 Пример 3: d от 2-формы η = A dy∧dz + B dz∧dx + C dx∧dy

   dη = (∂A/∂x + ∂B/∂y + ∂C/∂z) dx∧dy∧dz

   Это дивергенция div(A,B,C), записанная как 3-форма.


 Объединяющая таблица: векторный анализ как формы
+------------------+------------------+---------------------------+
| КЛАССИЧЕСКОЕ     | ФОРМЫ            | СВЯЗЬ                     |
+------------------+------------------+---------------------------+
|                  |                  |                           |
| f (скаляр)       | f (0-форма)      | тождественно              |
|                  |                  |                           |
+------------------+------------------+---------------------------+
|                  |                  |                           |
| ∇f (градиент)    | df (1-форма)     | компоненты совпадают      |
|                  |                  |                           |
+------------------+------------------+---------------------------+
|                  |                  |                           |
| F (вектор. поле) | ω = Fᵢdxⁱ (1-ф.) | через метрику: ωᵢ = gᵢⱼFʲ |
|                  | или              |                           |
|                  | η = ∗ω (2-форма) | через ∗ Ходжа             |
|                  |                  |                           |
+------------------+------------------+---------------------------+
|                  |                  |                           |
| rot F            | dω (2-форма)     | d(1-форма) = 2-форма      |
|                  |                  |                           |
+------------------+------------------+---------------------------+
|                  |                  |                           |
| div F            | d∗ω (3-форма)    | d(2-форма) = 3-форма      |
|                  |                  | или ∗d∗ω (функция)        |
|                  |                  |                           |
+------------------+------------------+---------------------------+
|                  |                  |                           |
| rot(∇f) = 0      | d(df) = 0        | d² = 0                    |
| div(rot F) = 0   | d(dω) = 0        | d² = 0                    |
|                  |                  |                           |
+------------------+------------------+---------------------------+

 A.t.2 свойство d² = 0 — реализации в разных разделах
+------------------+---------------------+-----------------------------+
| РАЗДЕЛ           | ОПЕРАТОР            | ТОЖДЕСТВО                   |
+------------------+---------------------+-----------------------------+
| Векторный анализ | ∇, rot, div         | rot(grad f)=0, div(rot F)=0 |
| Дифф. формы      | d: Ωᵏ → Ωᵏ⁺¹        | d(dω) = 0                   |
| Гомологии        | ∂: Cₖ → Cₖ₋₁         | ∂(∂c) = 0                   |
| Когомологии      | δ: Cᵏ → Cᵏ⁺¹        | δ(δf) = 0                   |
| Компл. анализ    | ∂̄ (Дольбо)          | ∂̄² = 0                      |
| Гомол. алгебра   | d (цепной комплекс) | dₖ₊₁ ∘ dₖ = 0                |
+------------------+---------------------+-----------------------------+

 Следствие: Hᵏ = ker(d)/Im(d) — когомологии
 • Замкнутые формы ker(d) / Точные формы Im(d) = топологический инвариант

-------------------------------------------------------------------------------
Теорема Стокса — одна теорема вместо трёх
-------------------------------------------------------------------------------

 Обобщённая теорема Стокса

                     +--------------------------+
                     |                          |
                     | ∫   dω  =  ∫   ω         |
                     | M         ∂M             |
                     |                          |
                     | интеграл      интеграл   |
                     | по области    по границе |
                     |                          |
                     +--------------------------+

 Пусть M — ориентированное многообразие с границей ∂M,
      ω — дифференциальная (n−1)-форма на M.

 Тогда интеграл производной по области = интеграл формы по границе.


 Частные случаи — все классические теоремы = одна
+----------+----------------------+-----------------------------------+
| dim M    | НАЗВАНИЕ             | ФОРМУЛА                           |
+----------+----------------------+-----------------------------------+
|          |                      |                                   |
| 1        | Ньютон-Лейбниц       | ∫ₐᵇ df = f(b) − f(a)              |
| отрезок  | (осн. теор. анализа) |                                   |
|          |                      |                                   |
+----------+----------------------+-----------------------------------+
|          |                      |                                   |
| 2        | Грин                 | ∮_{∂D} Pdx+Qdy = ∬(∂Q/∂x−∂P/∂y)dA |
| область  |                      |                                   |
|          |                      |                                   |
+----------+----------------------+-----------------------------------+
|          |                      |                                   |
| 2        | Классич. Стокс       | ∮_{∂S} F·dr = ∬_S rot F·dS        |
| поверхн. |                      |                                   |
|          |                      |                                   |
+----------+----------------------+-----------------------------------+
|          |                      |                                   |
| 3        | Гаусс-Остроградский  | ∬_{∂V} F·dS = ∭_V div F dV        |
| тело     |                      |                                   |
|          |                      |                                   |
+----------+----------------------+-----------------------------------+

 Все это — одна теорема: ∫_M dω = ∫_{∂M} ω


   ∬_{∂V} F·dS = ∭_V div F dV

   Это теорема Гаусса-Остроградского.


 Смысл: граница границы пуста


 Из d² = 0 и теоремы Стокса следует:

   ∫_{∂∂M} ω = ∫_{∂M} dω = ∫_M d²ω = 0

 Значит ∂∂M = ∅ (граница границы пуста)!

 Геометрическая интуиция:

   dim 1:    ●━━━━━━━━━━●          Отрезок
             ↓          ↓
             ●          ●          Граница = 2 точки
             ↓          ↓
             ∅          ∅          Граница точки = ∅

   dim 2:    +----------+          Диск
             | ╭------╮ |
             | |      | | ---▶     ╭------╮  Граница = окружность
             | ╰------╯ |          ╰------╯
             +----------+                ↓
                                        ∅   Граница окружности = ∅

   dim 3:       +----+
               /    /|              Куб
              +----+ |                   ↓
              |    |/              6 граней (поверхность)
              +----+                     ↓
                                        ∅   Граница замкнутой поверхности = ∅

 Формула: ∂² = 0  ⟷  d² = 0  (двойственные утверждения)


 Согласование ориентации — источник 50% ошибок со знаком


 Теорема Стокса ∫_M dω = ∫_{∂M} ω работает только при согласованной
 ориентации M и её границы ∂M. Без этого — ошибка в знаке.

-------------------------------------------------------------------------------
 Правило: как ориентация индуцируется на границу
-------------------------------------------------------------------------------

 dim 1 → dim 0 (отрезок → точки):

   Отрезок [a, b] ориентирован "слева направо".
   Граница: точка a с "−", точка b с "+".

        −●━━━━━━━━━━━━━━━━━━●+
         a                   b

   Поэтому: ∫_a^b df = f(b) − f(a)  (не f(a) − f(b).)

-------------------------------------------------------------------------------

 Dim 2 → dim 1 (поверхность → контур): "правило буравчика"

   Поверхность ориентирована нормалью n (выбрали "верх").
   Граница обходится так, чтобы n смотрела "влево" от движения.

          n ↑
            |    +------------+
            |    |            |
                 |    ---→    |  ← направление обхода ∂M
                 |            |
                 +------------+

   Мнемоника: Стоишь на поверхности, голова по нормали → граница слева.

-------------------------------------------------------------------------------

 Dim 3 → dim 2 (объём → поверхность): "внешняя нормаль"

   Объём V ориентирован стандартно (dx∧dy∧dz).
   Граница ∂V ориентирована внешней нормалью.

              +---------+
             /|        /|
            / |  →n   / |   ← нормаль наружу
           +---------+  |
           |  |      |  |
           |  +------|--+
           | /       | /
           |/        |/
           +---------+

   Теорема Гаусса: ∬_{∂V} F·dS = ∭_V div F dV
   dS = n dS, где n — внешняя нормаль.

-------------------------------------------------------------------------------

 Практический совет:

   Если получился "неправильный" знак — проверь:
   1. Куда направлена нормаль к поверхности?
   2. В какую сторону обходится контур?
   3. Согласованы ли они по "правилу буравчика"?


-------------------------------------------------------------------------------
Уравнения Максвелла в языке форм
-------------------------------------------------------------------------------

 Электромагнитный тензор как 2-форма


 Электрическое поле E и магнитное поле B объединяются в 2-форму F:

   F = Eₓ dx∧dt + Eᵧ dy∧dt + E_z dz∧dt
     + Bₓ dy∧dz + Bᵧ dz∧dx + B_z dx∧dy

 В матричной форме (тензор Fμν):

        ⎛  0   -Eₓ  -Eᵧ  -E_z ⎞
   F =  ⎜ Eₓ    0    B_z  -Bᵧ ⎟
        ⎜ Eᵧ  -B_z   0    Bₓ  ⎟
        ⎝ E_z  Bᵧ   -Bₓ   0   ⎠

-------------------------------------------------------------------------------
 Уравнения Максвелла
-------------------------------------------------------------------------------

 Классическая форма (4 уравнения):

   div E = ρ/ε₀           rot E = −∂B/∂t
   div B = 0              rot B = μ₀J + μ₀ε₀ ∂E/∂t


 В языке форм (2 уравнения):

   +-------------------------------------------------------------+
   |                                                             |
   | dF = 0         (однородные: div B = 0, rot E = −∂B/∂t)      |
   |                                                             |
   | d∗F = J        (неоднородные: div E = ρ, rot B = J + ∂E/∂t) |
   |                                                             |
   +-------------------------------------------------------------+

 где:
   F — электромагнитная 2-форма
   ∗F — её Ходжево двойственная 2-форма
   J — 3-форма тока (ток + плотность заряда)

 Красота:
   • dF = 0 автоматически следует из F = dA (потенциал)
   • d(d∗F) = 0 даёт сохранение заряда: dJ = 0
   • Лоренц-инвариантность очевидна (нет разделения E и B)


-------------------------------------------------------------------------------
Когомологии де Рама — топология через формы
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Замкнутые и точные формы
-------------------------------------------------------------------------------

 Форма ω называется:

   Замкнутой:  dω = 0
   Точной:     ω = dη для некоторой η

 Из d² = 0 следует: точная ⇒ замкнутая

   d(dη) = 0 ✓

 Вопрос: Верно ли обратное? Всякая ли замкнутая форма точна?

 Ответ: не всегда. Это зависит от топологии многообразия.

-------------------------------------------------------------------------------
 Когомологии де Рама
-------------------------------------------------------------------------------

   H^k_{dR}(M) = {замкнутые k-формы} / {точные k-формы}

              = Ker(d: Ωᵏ → Ωᵏ⁺¹) / Im(d: Ωᵏ⁻¹ → Ωᵏ)

 Размерность H^k(M) называется k-м числом Бетти: bₖ = dim H^k(M)

 Теорема де Рама:
   H^k_{dR}(M) ≅ H^k(M; ℝ)  (когомологии де Рама = сингулярные когомологии)

 Это мост между анализом (формы) и топологией (дырки)!

-------------------------------------------------------------------------------
 Примеры
-------------------------------------------------------------------------------

 ℝⁿ:  H⁰ = ℝ, Hᵏ = 0 для k &gt; 0
      Всякая замкнутая форма точна (пространство "тривиальное")

 S¹:  H⁰ = ℝ, H¹ = ℝ
      Форма dθ замкнута, но не точна.
      ∮ dθ = 2π ≠ 0 (интеграл по циклу ненулевой)
      Это "чувствует" дырку в окружности

 T² (тор): H⁰ = ℝ, H¹ = ℝ², H² = ℝ
      Две независимые 1-формы (два независимых цикла)

 S²:  H⁰ = ℝ, H¹ = 0, H² = ℝ
      Нет 1-мерных дырок, есть 2-мерная "оболочка"

-------------------------------------------------------------------------------
 Гомологии vs когомологии — интуиция двойственности
-------------------------------------------------------------------------------

 Обе теории "считают дырки", но с разных сторон:

 Гомологии Hₖ:
   • Объекты: циклы (k-мерные "контуры" без границы)
   • Вопрос: "Какие циклы не являются границами?"
   • Геометрические объекты: кривые, поверхности, ...

   Пример: На торе есть два цикла (вокруг дырки и сквозь дырку),
           которые нельзя "заполнить" поверхностью внутри тора.
           ⇒ H₁(T²) = ℤ × ℤ

 Когомологии Hᵏ:
   • Объекты: формы (функции на циклах)
   • Вопрос: "Какие формы замкнуты, но не точны?"
   • Функциональные объекты: измеряют циклы

   Пример: Форма dθ на окружности замкнута, но не точна.
           Она "измеряет" сколько раз цикл обходит дырку.
           ⇒ H¹(S¹) = ℝ

 Аналогия:
 +-------------------------------------------------------------------+
 |                                                                   |
 | гомологии — это "дырки" (геометрические объекты)                  |
 | когомологии — это "измерители дырок" (функции на дырках)          |
 |                                                                   |
 | Как вектор и ковектор: одно — объект, другое — функция на объекте |
 |                                                                   |
 +-------------------------------------------------------------------+

 Связь (двойственность):

   Hᵏ(M; ℝ) ≅ Hom(Hₖ(M), ℝ)  (когомологии = функционалы на гомологиях)

   Спаривание: ⟨[ω], [c]⟩ = ∫_c ω
               (интеграл формы по циклу)

 Почему две теории:
   • Гомологии проще для геометрической интуиции
   • Когомологии имеют умножение (кольцевая структура)
   • Когомологии де Рама связаны с анализом (дифференциальные формы)


-------------------------------------------------------------------------------
Резюме и связи
-------------------------------------------------------------------------------

 Главные идеи раздела


 1. Дифференциальные формы = "объекты для интегрирования"
    k-форма интегрируется по k-мерным поверхностям

 2. Внешнее произведение ∧ = антисимметризация
    α ∧ β = −β ∧ α, α ∧ α = 0

 3. Внешняя производная d обобщает grad, rot, div
    d² = 0 — ключевое свойство

 4. Теорема Стокса объединяет Н-Л, Грин, Стокс, Гаусс
    ∫_M dω = ∫_{∂M} ω

 5. Когомологии де Рама связывают анализ и топологию
    Замкнутые/точные формы "чувствуют" дырки в пространстве


 Граф связей


   (Лин.алг)        (Тензоры)        (Многообразия)
        |               |                   |
        |   ковекторы   | антисимм.тензоры  |  TₚM, T*ₚM
        +---------------+-------------------+
                        |
                        ▼
                   ▶ (Формы) ◀
                        |
        +---------------+---------------+
        ▼               ▼               ▼
   (Топология)       Физика          Анализ
   когомологии      Максвелл        интегралы
                    ОТО теор. Стокса


До сих пор мы строили структуры на непрерывных пространствах: топология,
линейность, гладкость, формы. Но математика работает и с дискретными
объектами — конечными множествами, графами, логическими высказываниями.

Следующие два раздела — о дискретных структурах. Они не менее
фундаментальны: порядок лежит в основе логики и теории множеств,
графы описывают сети и алгоритмы.

-------------------------------------------------------------------------------
Порядок и решётки — три лица одной структуры
-------------------------------------------------------------------------------

Ключевая таблица «Логика = Множества = Порядок»:

 Частичный порядок — фундамент


 Отношение ≤ называется частичным порядком, если:

   • a ≤ a                    (рефлексивность)
   • a ≤ b и b ≤ a ⇒ a = b   (антисимметричность)
   • a ≤ b и b ≤ c ⇒ a ≤ c   (транзитивность)

 "Частичный" = не все элементы сравнимы
 Пример: множества {1} и {2} несравнимы по ⊆


 Порядок везде — Примеры
+-------------------------+-------------------------+-------------------------+
| МНОЖЕСТВО               | ПОРЯДОК ≤               | ГДЕ ВСТРЕЧАЕТСЯ         |
+-------------------------+-------------------------+-------------------------+
| Числа ℝ                 | Обычный ≤               | Анализ                  |
| Подмножества 2^X        | Включение ⊆             | Логика, топология       |
| Натуральные ℕ           | Делимость a|b           | Теория чисел            |
| Слова                   | Префикс                 | Информатика             |
| Типы данных             | Наследование            | ООП                     |
| Открытые множества      | Включение ⊆             | Топология               |
| Подпространства         | Включение ⊆             | Линейная алгебра        |
| Подгруппы               | Включение ⊆             | Теория групп            |
+-------------------------+-------------------------+-------------------------+

 Решётка — порядок с операциями


 Решётка = частичный порядок, где любые два элемента имеют:
   a ∨ b = sup{a, b}  (наименьшая верхняя грань)
   a ∧ b = inf{a, b}  (наибольшая нижняя грань)

 Пример: Подмножества {a,b,c}         Пример: Делители 12

         {a,b,c}                                 12
        /   |   \                              / |  \
    {a,b} {a,c} {b,c}                        4   6   ← НОК
       \ X     X /                            \ / \ /
       {a}  {b}  {c}                           2   3
          \ | /                                 \ /
            ∅                                    1   ← НОД

   {a}∨{b} = {a,b}                           2∨3 = НОК(2,3) = 6
   {a}∧{b} = ∅                               2∧3 = НОД(2,3) = 1


 Булева алгебра = решётка с дополнением


 Дополнительное требование: для каждого a существует ¬a такой, что
   a ∨ ¬a = 1   и   a ∧ ¬a = 0

 Делители 12 — решётка, но не булева. (нет дополнения для 2, 3, 4, 6)
 Подмножества — булева алгебра (дополнение всегда есть)

-------------------------------------------------------------------------------
 Связь с топологией
-------------------------------------------------------------------------------

 Открытые множества топологии образуют решётку (но не булеву алгебру)

   • U₁ ∨ U₂ = U₁ ∪ U₂           (объединение открытых — открыто)
   • U₁ ∧ U₂ = U₁ ∩ U₂           (пересечение открытых — открыто)
   • НО: дополнение открытого — замкнуто, не открыто.

 Это приводит к интуиционистской логике (без закона исключённого третьего)

   +----------------+------------------+-----------------------------+
   | КЛАССИЧЕСКАЯ   | ИНТУИЦИОНИСТСКАЯ | ПРИМЕР                      |
   +----------------+------------------+-----------------------------+
   | P ∨ ¬P = ⊤     | Не всегда.       | "x рационально или нет" —   |
   | (всегда верно) |                  | нужно конструктивно указать |
   +----------------+------------------+-----------------------------+

-------------------------------------------------------------------------------
 Прикладной пример: пуск технологической линии
-------------------------------------------------------------------------------

 Задача: Котельная. Нужно запустить оборудование в правильном порядке.
 Некоторые операции можно делать параллельно, некоторые — строго после.

 Частичный порядок операций:

   Открыть подачу газа (a)
          |
          +-------------------+
          |                   |
          ▼                   ▼
   Включить дымосос (b)    Включить вентилятор (c)
          |                   |
          +-------+-----------+
                  |
                  ▼
   Розжиг горелки (d)     ← только после b и c.
          |
          ▼
   Выход на режим (e)

 Это частичный порядок:
   • a ≤ b, a ≤ c      (газ — до дымососа и вентилятора)
   • b ≤ d, c ≤ d      (дымосос и вентилятор — до розжига)
   • d ≤ e             (розжиг — до выхода на режим)
   • но: b и c несравнимы (можно в любом порядке)

 Операции на решётке:

   • b ∧ c = a      (НОГ — наибольшая операция, которая до обеих)
   • b ∨ c = d      (НОВ — наименьшая операция, которая после обеих)

 Практический смысл:
   b ∨ c = d означает: "d — первая операция, которую можно делать
   только после завершения и b, и c"

 Применение: Диаграмма Ганта = визуализация частичного порядка во времени.
 Критический путь = самая длинная цепь в частичном порядке.

-------------------------------------------------------------------------------
 Место в общей картине
-------------------------------------------------------------------------------

 Граф = визуализация отношения

 Отношение R ⊆ A×A — абстрактное понятие
 Граф — его картинка: вершины = элементы, ребро = пара в отношении

 Поскольку отношения — фундамент математики, графы везде.


 Один объект — много представлений
+------------------------+-------------------+--------------------+
| ОТНОШЕНИЕ              | ГРАФ              | МАТРИЦА            |
+------------------------+-------------------+--------------------+
|                        |                   |                    |
| R ⊆ V × V              | G = (V, E)        | A: Aᵢⱼ ∈ {0,1}     |
| (множество пар)        | (картинка)        | (таблица чисел)    |
|                        |                   |                    |
+------------------------+-------------------+--------------------+
|                        |                   |                    |
| (a,b) ∈ R              | Ребро a--b        | Aₐᵦ = 1            |
|                        |                   |                    |
+------------------------+-------------------+--------------------+
|                        |                   |                    |
| R симметрично          | Неориентированный | A = Aᵀ             |
| (a,b)∈R ⇒ (b,a)∈R      |                   |                    |
|                        |                   |                    |
+------------------------+-------------------+--------------------+
|                        |                   |                    |
| Путь из a в b          | Цепочка рёбер     | (Aⁿ)ₐᵦ &gt; 0      |
| за n шагов             |                   | (число путей)     |
|                        |                   |                    |
+------------------------+-------------------+--------------------+
|                        |                   |                    |
| Транзитивное замыкание | "Достижимость"    | (I+A)ⁿ или (I−A)⁻¹ |
|                        |                   |                    |
+------------------------+-------------------+--------------------+

 Графы везде — примеры
+-------------------------+-------------+------------------------+
| ОБЛАСТЬ                 | ВЕРШИНЫ     | РЁБРА                  |
+-------------------------+-------------+------------------------+
| Соцсети                 | Люди        | "Друзья"               |
| Интернет                | Страницы    | Ссылки                 |
| Химия                   | Атомы       | Связи                  |
| Карта города            | Перекрёстки | Улицы                  |
| Электросхема            | Узлы        | Проводники             |
| Конечный автомат        | Состояния   | Переходы               |
| Порядок задач           | Задачи      | Зависимости            |
| Группа (граф Кэли)      | Элементы    | Умножение на генератор |
| Симпл. комплекс (1-ск.) | Вершины     | 1-симплексы            |
+-------------------------+-------------+------------------------+

-------------------------------------------------------------------------------
 Связь с линейной алгеброй
-------------------------------------------------------------------------------

 Матрица смежности A превращает теорию графов в линейную алгебру.

   • (Aⁿ)ᵢⱼ = число путей длины n из i в j
   • Собственные значения A — спектр графа (инвариант)
   • λ₁ (наибольшее) связано со связностью
   • Число компонент связности = кратность λ = 0 у лапласиана L = D − A

 PageRank Google = главный собственный вектор матрицы переходов.

-------------------------------------------------------------------------------
 Связь с топологией
-------------------------------------------------------------------------------

 Эйлерова характеристика:  χ = V − E + F

 Для плоского графа (на сфере): χ = 2
 Для графа на торе: χ = 0

 Это тот же инвариант χ, что и в гомологиях.
 Граф — простейший "симплициальный комплекс" (только 0- и 1-симплексы)

   H₀(графа) = ℤᵏ, где k = число компонент связности
   H₁(графа) = ℤᵐ, где m = число независимых циклов = E − V + k


 Типы графов
+------------------------+----------------------------------------------------+
| ТИП                    | СВОЙСТВО и ЗНАЧЕНИЕ                                |
+------------------------+----------------------------------------------------+
| Связный                | ∃ путь между любыми двумя вершинами; H₀ = ℤ        |
| Дерево                 | Связный + без циклов; |E| = |V|−1; H₁ = 0          |
| Полный Kₙ              | Все соединены; |E| = n(n−1)/2                      |
| Двудольный             | Вершины = 2 класса, рёбра между классами           |
| Планарный              | Вложим в плоскость без пересечений; χ = 2          |
| Граф Кэли группы G     | Кодирует структуру группы; V=G, рёбра=генераторы   |
+------------------------+----------------------------------------------------+

 Прикладной пример: гидравлический расчёт тепловой сети


 Задача: Тепловая сеть города. Найти расходы и потери давления.

           Источник
              ●---------------●---------------●
              |       G₁₂    / \      G₂₃     |
           Q₀ |            /   \              | Потребитель 1
              |          /       \            | q₁
              |        / G₁₄      \ G₃₄       |
              |      /             \          |
              ●---------------●---------------●
                      G₄₅            Потребитель 2
                                     q₂

 Граф сети:
   Вершины = узлы (источники, потребители, развилки)
   Рёбра = трубопроводы (с расходом G и сопротивлением S)

-------------------------------------------------------------------------------
 Первый закон Кирхгофа (сохранение массы в узлах):
-------------------------------------------------------------------------------

   В каждом узле: Σ Gвход = Σ Gвыход

   Это гомология. H₀ = 0 означает: поток может "течь" через сеть.

-------------------------------------------------------------------------------
 Второй закон Кирхгофа (сохранение давления в контурах):
-------------------------------------------------------------------------------

   В каждом замкнутом контуре: Σ Δpᵢ = 0

   Число независимых контуров = β₁ = E − V + 1 (первое число Бетти).

-------------------------------------------------------------------------------
 Матричная форма:
-------------------------------------------------------------------------------

   A · G = q        (A — матрица инцидентности "узлы × рёбра")
   B · Δp = 0       (B — матрица контуров)
   Δp = S · G²      (квадратичный закон сопротивления)

   Итого: нелинейная система, решается методом Ньютона.

 Численный пример:
   Сеть с V=5, E=6 ⇒ β₁ = 6−5+1 = 2 независимых контура
   уравнения контуров + 4 уравнения узлов = 6 уравнений для 6 расходов


 Вывод: Гидравлика сетей — это теория графов + линейная алгебра.
 Число Бетти β₁ = число независимых контуров = размерность H₁.


Порядок — это отношение "больше/меньше" без требования сравнимости всех пар.
Графы — другая дискретная структура: отношение "связан/не связан".

Графы — это дискретные пространства. На них работают аналоги непрерывных
понятий: лапласиан, диффузия, гомологии. И они повсюду: сети, алгоритмы, данные.

===============================================================================
Графы — дискретные структуры связей
===============================================================================

 Граф как дискретное пространство


 Граф — это дискретный аналог пространства, где:

   • Вершины — "точки" пространства
   • Рёбра — "соседство" (кто рядом с кем)
   • Путь — "движение" от точки к точке
   • Расстояние = число рёбер в кратчайшем пути

 Многие понятия непрерывной математики имеют дискретные аналоги:

   Непрерывное          |   Дискретное (на графе)
   ---------------------+---------------------------
   Оператор Лапласа ∇²  |   Лапласиан графа L = D − A
   Теплопроводность     |   Диффузия на графе: u' = −Lu
   Потенциальный поток  |   Электрическая цепь (законы Кирхгофа)


 Граф как структура


 Граф G = (V, E) — это:
   • V — множество вершин (узлов)
   • E ⊆ V × V — множество рёбер (связей между вершинами)

 Виды графов:
   • Ориентированный: рёбра имеют направление (a → b ≠ b → a)
   • Неориентированный: {a, b} = {b, a}
   • Взвешенный: каждому ребру присвоен вес w(e) ∈ ℝ

 Примеры:
   • Социальная сеть: вершины = люди, рёбра = знакомства
   • Трубопровод: вершины = узлы, рёбра = трубы, веса = сопротивления
   • Интернет: вершины = серверы, рёбра = каналы связи

-------------------------------------------------------------------------------
 Ключевые понятия
-------------------------------------------------------------------------------

 Путь: последовательность вершин v₀ → v₁ → ... → vₙ, где (vᵢ, vᵢ₊₁) ∈ E
 Цикл: путь, где v₀ = vₙ (замкнутый путь)
 Связный граф: между любыми двумя вершинами существует путь
 Дерево: связный граф без циклов

 +--------------------+---------------------------------------------------+
 | ИНВАРИАНТ          | ФОРМУЛА / СВОЙСТВО                                |
 +--------------------+---------------------------------------------------+
 | Число вершин       | |V| = n                                           |
 | Число рёбер        | |E| = m                                           |
 | Число компонент    | k (связные куски графа)                           |
 | Эйлерова хар-ка    | χ = n − m + k                                     |
 | Число циклов       | β₁ = m − n + k (первое число Бетти)               |
 +--------------------+---------------------------------------------------+

 Для дерева: m = n − 1 (минимум рёбер для связности), β₁ = 0

-------------------------------------------------------------------------------
 Связь с другими разделами
-------------------------------------------------------------------------------

 Топология         | Граф — 1-мерный симплициальный комплекс
                   | β₁ = rank(H₁) — топологический инвариант
 ------------------+---------------------------------------------------------
 Лин. алгебра      | Матрица смежности, лапласиан, спектр графа
 ------------------+---------------------------------------------------------
 Решётки           | Диаграмма Хассе — граф частичного порядка
 ------------------+---------------------------------------------------------
 Многообразия      | Дискретизация: сетка = граф на многообразии

-------------------------------------------------------------------------------
 Матрица смежности и лапласиан
-------------------------------------------------------------------------------

 Матрица смежности a:
   Aᵢⱼ = 1 если есть ребро (i,j), иначе 0

     1---2                   ⎛ 0 1 1 0 ⎞
     |   |         →    A =  ⎜ 1 0 0 1 ⎟
     3---4                   ⎜ 1 0 0 1 ⎟
                             ⎝ 0 1 1 0 ⎠

 Матрица степеней d:
   Dᵢᵢ = deg(i) = число рёбер из вершины i

 Лапласиан графа:
   L = D − A

 Свойства лапласиана:
   • L симметрична, положительно полуопределена
   • Собственные значения: 0 = λ₁ ≤ λ₂ ≤ ... ≤ λₙ
   • Кратность λ = 0 равна числу компонент связности
   • λ₂ (алгебраическая связность) — мера "насколько связан" граф

 Аналогия с физикой:
   Лапласиан графа — дискретный аналог оператора Лапласа ∇².
   Уравнение теплопроводности на графе: du/dt = −Lu

-------------------------------------------------------------------------------
 Почему L ≈ ∇² (детальное объяснение)
-------------------------------------------------------------------------------

 Непрерывный лапласиан на прямой:
   (∇²f)(x) = f''(x) ≈ [f(x+h) − 2f(x) + f(x−h)] / h²

 Граф как дискретизация: вершины = точки, рёбра = соседство.

 Действие лапласиана графа на функцию f: V → ℝ (значения в вершинах):

   (Lf)(i) = Σⱼ~ᵢ [f(i) − f(j)] = deg(i)·f(i) − Σⱼ~ᵢ f(j)
             ↑
        сумма по соседям j вершины i

 Это в точности дискретная версия ∇².
   • В точке: значение минус среднее соседей
   • Измеряет "отклонение от локального среднего"
   • Гармоническая функция: Lf = 0 ⟺ в каждой точке f = среднее соседей

 Уравнение теплопроводности:
   Непрерывное: ∂u/∂t = ∇²u    →    Дискретное: du/dt = −Lu
   Тепло течёт от горячих вершин к холодным соседям.

-------------------------------------------------------------------------------
 Спектральная теория графов — линейная алгебра в действии
-------------------------------------------------------------------------------

 Собственные значения и векторы лапласиана L — это "частоты" и "моды"
 колебаний сети, аналогично резонансным частотам струны или мембраны.

 Спектр лапласиана:  0 = λ₁ ≤ λ₂ ≤ ... ≤ λₙ

 +--------------------+-------------------------------------------+
 | СОБСТВ. ЗНАЧЕНИЕ   | ЧТО ОЗНАЧАЕТ                              |
 +--------------------+-------------------------------------------+
 | λ₁ = 0             | Всегда собств. вектор = (1,1,...,1)      |
 | Кратность λ = 0    | = число компонент связности графа         |
 | λ₂ (Fiedler value) | Алгебраическая связность: чем больше, тем |
 |                    | "крепче" связан граф (труднее разрезать)  |
 | λₙ                 | Максимальная "частота колебаний" сети     |
 +--------------------+-------------------------------------------+

 Вектор фидлера (Fiedler vector):
   Собственный вектор v₂, соответствующий λ₂.

   Магия: Знаки компонент v₂ делят граф на две части.
   Вершины с v₂ᵢ &gt; 0 — одна группа, с v₂ᵢ &lt; 0 — другая.
   Это оптимальное разбиение (минимизирует число рёбер между группами).

 Применения:
   • Спектральная кластеризация: группировка вершин по собств. векторам
   • PageRank: главный собств. вектор матрицы переходов (Google)
   • Синхронизация: связь λ₂ с устойчивостью синхронных режимов
   • Графовые нейросети (GNN): свёртка через спектр лапласиана

 Это чистая магия линейной алгебры в дискретном мире.
 Локальная структура (рёбра) → глобальное свойство (спектр).

-------------------------------------------------------------------------------
 Инженерные приложения: сетевые потоки
-------------------------------------------------------------------------------

 Задача о максимальном потоке:
   Дана сеть с источником s и стоком t.
   Рёбра имеют пропускную способность c(e).
   Найти максимальный поток из s в t.

        +---[3]---+
        |         ▼
   s --[5]--→ a --[2]--→ t       Макс. поток = 5
        |         ▲
        +---[4]---+

 Теорема (Форд-Фалкерсон):
   Максимальный поток = минимальный разрез

 Приложения:
   • Трубопроводные сети (максимальная пропускная способность)
   • Транспортные задачи (оптимальная логистика)
   • Электрические сети (законы Кирхгофа)

-------------------------------------------------------------------------------
 Законы Кирхгофа как теория графов
-------------------------------------------------------------------------------

 Электрическая цепь = взвешенный граф, где:
   • Вершины = узлы цепи
   • Рёбра = резисторы/проводники
   • Веса = проводимости g = 1/R

 Первый закон Кирхгофа (узловой):
   Σ Iₖ = 0  в каждом узле
   ↔ Вектор токов I ∈ ker(∂₁) — ядро граничного оператора.

 Второй закон Кирхгофа (контурный):
   Σ Uₖ = 0  по любому замкнутому контуру
   ↔ Вектор напряжений U ∈ im(∂₀*) — образ ко-граничного оператора.

 Закон Ома:  I = GU  (G — матрица проводимостей)

 Итог: Решение цепи = решение системы Lφ = I_ext
       где L — взвешенный лапласиан, φ — потенциалы узлов

 Это та же математика, что и теплопроводность, диффузия, гидравлика.

-------------------------------------------------------------------------------
 Кратчайшие пути и алгоритмы
-------------------------------------------------------------------------------

 Задача: Найти кратчайший путь между вершинами во взвешенном графе.

 +----------------------+----------------+------------------------------+
 | АЛГОРИТМ             | СЛОЖНОСТЬ      | КОГДА ПРИМЕНЯТЬ              |
 +----------------------+----------------+------------------------------+
 | BFS (поиск в ширину) | O(V + E)       | Невзвешенный граф            |
 | Дейкстра             | O(E + V log V) | Неотриц. веса, один источник |
 | Беллман-Форд         | O(VE)          | Любые веса, один источник    |
 | Флойд-Уоршелл        | O(V³)          | Все пары, любые веса         |
 +----------------------+----------------+------------------------------+

 Применения в инженерии:
   • Маршрутизация в сетях
   • Оптимальные трассы трубопроводов
   • Планирование проектов (CPM/PERT — граф работ)


===============================================================================
Комбинаторика — искусство счёта
===============================================================================

Комбинаторика отвечает на вопрос "сколько?": сколько способов выбрать,
расставить, разбить объекты. Эти формулы нужны везде: от теории вероятностей
до квантовой механики.

-------------------------------------------------------------------------------
 Комбинаторика как взгляд на пространство
-------------------------------------------------------------------------------

 Комбинаторика изучает конечные дискретные пространства.

 Если топология спрашивает "какие точки близки?", а метрика — "насколько?",
 то комбинаторика спрашивает: "сколько точек/путей/конфигураций?"

 Это нуль-мерная геометрия: структура без непрерывности, только счёт.


 Комбинаторные объекты = точки в пространствах

 +-------------------+------------------------------+--------------------+
 | ОБЪЕКТ            | ЧТО ЭТО ЗА ПРОСТРАНСТВО      | РАЗМЕР             |
 +-------------------+------------------------------+--------------------+
 | Перестановка      | Множество всех упорядоченных | n! точек           |
 | n элементов       | расстановок = группа Sₙ      |                    |
 +-------------------+------------------------------+--------------------+
 | k-подмножество    | Множество всех выборок k из  | C(n,k) точек       |
 | из n элементов    | n = грассманиан Gr(k,n)      |                    |
 +-------------------+------------------------------+--------------------+
 | Путь в графе      | Пространство путей           | Считается по графу |
 | из A в B          | (дискретное многообразие)    |                    |
 +-------------------+------------------------------+--------------------+
 | Разбиение числа n | Множество способов           | p(n) точек         |
 |                   | представить n суммой         | (число разбиений)  |
 +-------------------+------------------------------+--------------------+

-------------------------------------------------------------------------------
 Связь с другими структурами
-------------------------------------------------------------------------------

 Группы:
   Множество перестановок Sₙ — это группа.
   • Операция: композиция перестановок
   • Порядок группы |Sₙ| = n!
   • Подгруппы Sₙ — это группы симметрий конечных объектов

 Линейная алгебра:
   Биномиальный коэффициент C(n,k) = размерность пространства.
   • Множество всех k-подмножеств {1,...,n} — базис
   • dim(пространство k-форм на ℝⁿ) = C(n,k)
   • Треугольник Паскаля = размерности внешних степеней

 Вероятность:
   Комбинаторика — основа дискретной вероятности.
   • P(событие) = (благоприятные исходы) / (все исходы)
   • "Все исходы" считаются комбинаторно

 Графы:
   Число путей в графе = комбинаторика на дискретном пространстве
   • Матрица смежности Aⁿ[i,j] = число путей длины n из i в j

-------------------------------------------------------------------------------
 Два базовых принципа
-------------------------------------------------------------------------------

 Принцип сложения:
   Если задачу можно выполнить способом A или способом B (взаимоисключающими),
   и A можно сделать m способами, B — n способами, то всего m + n способов.

 Принцип умножения:
   Если задача состоит из шага A и шага B (последовательных),
   и A можно сделать m способами, B — n способами, то всего m · n способов.

 Принцип Дирихле (принцип ящиков):
   Если n+1 объект разложить по n ящикам, хотя бы в одном ящике ≥ 2 объекта.

   Применение: Среди 367 человек найдутся двое с одинаковым днём рождения.

-------------------------------------------------------------------------------
 Факториал
-------------------------------------------------------------------------------

 +----------------------------------------------------------------+
 | n! = n · (n−1) · (n−2) · ... · 2 · 1                           |
 |                                                                |
 | n! = количество способов расставить n различных объектов в ряд |
 +----------------------------------------------------------------+

 Значения:
   0! = 1 (по определению)
   1! = 1
   2! = 2
   3! = 6
   4! = 24
   5! = 120
   10! = 3 628 800
   20! ≈ 2.4 × 10¹⁸

 Формула Стирлинга (асимптотика для больших n):
   n! ≈ √(2πn) · (n/e)ⁿ

   Точнее: n! = √(2πn) · (n/e)ⁿ · (1 + O(1/n))

-------------------------------------------------------------------------------
 Перестановки, размещения, сочетания
-------------------------------------------------------------------------------

 +--------------+---------+------------+---------------------+
 |              | ПОРЯДОК | ПОВТОРЕНИЯ | ФОРМУЛА             |
 |              | ВАЖЕН?  |            |                     |
 +--------------+---------+------------+---------------------+
 | Перестановки | ДА      | НЕТ        | Pₙ = n!             |
 | (все n)      |         |            |                     |
 +--------------+---------+------------+---------------------+
 | Размещения   | ДА      | НЕТ        | Aₙᵏ = n!/(n−k)!     |
 | (k из n)     |         |            | = n(n−1).(n−k+1)  |
 +--------------+---------+------------+---------------------+
 | Сочетания    | НЕТ     | НЕТ        | Cₙᵏ = n!/(k!(n−k)!) |
 | (k из n)     |         |            | = (n choose k)      |
 +--------------+---------+------------+---------------------+
 | Размещения   | ДА      | ДА         | nᵏ                  |
 | с повторен.  |         |            |                     |
 +--------------+---------+------------+---------------------+
 | Сочетания    | НЕТ     | ДА         | C_{n+k-1}^k         |
 | с повторен.  |         |            |                     |
 +--------------+---------+------------+---------------------+

 Примеры:
   • Сколько способов расставить 5 книг на полке?  P₅ = 5! = 120
   • Сколько трёхзначных чисел из цифр 1-9 без повторений?  A₉³ = 504
   • Сколько способов выбрать 3 человека из 10?  C₁₀³ = 120
   • Сколько трёхбуквенных слов из алфавита {a,b,c}?  3³ = 27

-------------------------------------------------------------------------------
 Биномиальные коэффициенты
-------------------------------------------------------------------------------

 +------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ:                                                     |
 | ⎛n⎞     n!                                                       |
 | Cₙᵏ =    ⎜ ⎟ = --------  = "n choose k"                          |
 | ⎝k⎠   k!(n−k)!                                                   |
 |                                                                  |
 | = количество способов выбрать k объектов из n (порядок не важен) |
 +------------------------------------------------------------------+

 Свойства:
   Cₙ⁰ = Cₙⁿ = 1
   Cₙᵏ = Cₙⁿ⁻ᵏ         (симметрия)
   Cₙᵏ = Cₙ₋₁ᵏ⁻¹ + Cₙ₋₁ᵏ  (рекуррентное соотношение, треугольник Паскаля)

 Треугольник Паскаля:
              1                         n=0
            1   1                       n=1
          1   2   1                     n=2
        1   3   3   1                   n=3
      1   4   6   4   1                n=4
    1   5  10  10   5   1              n=5

   Каждое число = сумма двух над ним

-------------------------------------------------------------------------------
 Бином Ньютона
-------------------------------------------------------------------------------

 +----------------------------------------------+
 | n                                            |
 | (a + b)ⁿ = Σ  Cₙᵏ · aⁿ⁻ᵏ · bᵏ                |
 | k=0                                          |
 |                                              |
 | = Cₙ⁰aⁿ + Cₙ¹aⁿ⁻¹b + Cₙ²aⁿ⁻²b² + ... + Cₙⁿbⁿ |
 +----------------------------------------------+

 Частные случаи:
   (a+b)² = a² + 2ab + b²
   (a+b)³ = a³ + 3a²b + 3ab² + b³
   (1+x)ⁿ = 1 + nx + n(n−1)x²/2 + ...

 Следствия (подставляем конкретные a, b):
   a=b=1:  2ⁿ = Σ Cₙᵏ = Cₙ⁰ + Cₙ¹ + ... + Cₙⁿ
   a=1, b=−1:  0 = Σ(−1)ᵏCₙᵏ  (сумма чётных = сумма нечётных)

-------------------------------------------------------------------------------
 Принцип включения-исключения
-------------------------------------------------------------------------------

 Для двух множеств:
   |A ∪ B| = |A| + |B| − |A ∩ B|

 Для трёх множеств:
   |A ∪ B ∪ C| = |A| + |B| + |C|
                  − |A∩B| − |A∩C| − |B∩C|
                  + |A∩B∩C|

 Общая формула для n множеств:
   |A₁ ∪ ... ∪ Aₙ| = Σ|Aᵢ| − Σ|Aᵢ∩Aⱼ| + Σ|Aᵢ∩Aⱼ∩Aₖ| − ...

 Применение: Сколько чисел от 1 до 100 не делятся ни на 2, ни на 3, ни на 5?
   |A₂∪A₃∪A₅| = 50+33+20 − 16−10−6 + 3 = 74
   Ответ: 100 − 74 = 26

-------------------------------------------------------------------------------
 Почему формулы именно такие — геометрическая интуиция
-------------------------------------------------------------------------------

 Факториал n! = объём "дискретного куба"

   Представь n! как число вершин в пространстве упорядоченных наборов.
   Каждый выбор "первый элемент, второй, ..." — это путь по дереву:

         ●----+----●----+----●----●
              |         |
              +----●    +----●
              |         |
              +----●    +----●

   На каждом уровне: n, потом n-1, потом n-2, ... вариантов.
   Всего путей: n × (n-1) × ... × 1 = n!

 C(n,k) = "объём" пространства неупорядоченных k-подмножеств

   Путей в упорядоченном выборе: n(n-1)...(n-k+1) = n!/(n-k)!
   Но k! упорядочений дают одно подмножество.
   Значит: C(n,k) = n! / (k!(n-k)!)

   Это тот же паттерн, что и в теореме о подпространствах:
   dim(V/W) = dim(V) - dim(W) — факторизация по симметрии.


Мы рассмотрели дискретные структуры (порядок, графы). Теперь — важное
дополнение к непрерывной математике: комплексные числа.

Почему здесь? Комплексные числа — это не "ещё одна числовая система".
Это место, где алгебра (умножение) и геометрия (вращения) совпадают.
Они критичны для анализа, который будет дальше.

===============================================================================
Комплексные числа — алгебра встречает геометрию
===============================================================================

-------------------------------------------------------------------------------
 Комплексные числа как взгляд на пространство
-------------------------------------------------------------------------------

 ℂ — это двумерное пространство ℝ² с дополнительной структурой:
 умножением, которое кодирует вращения и растяжения.

   Как пространство: ℂ ≅ ℝ² (плоскость)
   Как алгебра:      ℂ имеет умножение (ℝ² — нет)

 Это делает ℂ уникальным: одновременно геометрия и алгебра.

-------------------------------------------------------------------------------
 Главное открытие
-------------------------------------------------------------------------------

 Комплексные числа — это место, где алгебра и геометрия сливаются.

   Алгебра: числа, которые можно складывать и умножать
   Геометрия: точки плоскости и вращения

 Ключевой факт: умножение на eⁱᶿ = поворот на угол θ


 Один объект — три взгляда
+-------------------------+-------------------------+-------------------------+
| АЛГЕБРА                 | ГЕОМЕТРИЯ               | АНАЛИЗ                  |
+-------------------------+-------------------------+-------------------------+
|                         |                         |                         |
| z = a + bi              | Точка (a, b)            | Пара функций            |
| (a, b ∈ ℝ, i² = −1)     | на плоскости            | Re(z), Im(z)            |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+
|                         |                         |                         |
| z = |z|eⁱᶿ              | Полярные координаты     | eⁱᶿ = cos θ + i sin θ   |
| (полярная форма)        | (r, θ)                  | (формула Эйлера)        |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+
|                         |                         |                         |
| Умножение на w          | Масштабирование         | Линейное                |
| z ↦ wz                  | на |w| + поворот на θ_w | отображение ℝ² → ℝ²     |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+
|                         |                         |                         |
| |z| = 1                 | Единичная окружность    | Группа U(1) ≅ SO(2)     |
| (числа вида eⁱᶿ)        | S¹                      | (вращения плоскости)   |
|                         |                         |                         |
+-------------------------+-------------------------+-------------------------+

 Группа U(1) — ключ ко всему


 Числа с |z| = 1 образуют группу относительно умножения:

   • Замкнутость: |z₁| = |z₂| = 1 ⇒ |z₁z₂| = 1
   • Нейтральный: e⁰ = 1
   • Обратный: (eⁱᶿ)⁻¹ = e⁻ⁱᶿ

 Это группа U(1) ≅ S¹ ≅ SO(2) ≅ ℝ/ℤ — все они одно и то же:

   +----------------+--------------------------------------------------+
   | ОБОЗНАЧЕНИЕ    | КАК СМОТРИМ                                      |
   +----------------+--------------------------------------------------+
   | U(1)           | Унитарные 1×1 матрицы (= комплексные числа |z|=1)|
   | S¹             | Окружность как топологическое пространство       |
   | SO(2)          | Группа вращений плоскости                        |
   | ℝ/ℤ            | Вещественные числа по модулю 1 (углы 0 ≡ 2π)     |
   +----------------+--------------------------------------------------+

 Связь с Фурье: базис eⁱⁿˣ = представления группы U(1).

-------------------------------------------------------------------------------
 Формула Эйлера — мост между мирами
-------------------------------------------------------------------------------

                         eⁱᶿ = cos θ + i sin θ

 Частный случай (θ = π):   eⁱᵖ + 1 = 0

 Связывает: e (анализ), i (алгебра), π (геометрия), 1 и 0 (арифметика)

 Доказательство (ряды Тейлора):

   eⁱˣ = Σ (ix)ⁿ/n! = Σ iⁿxⁿ/n!
       = (1 − x²/2! + x⁴/4! − ...) + i(x − x³/3! + x⁵/5! − ...)
       = cos x + i sin x

-------------------------------------------------------------------------------
 Почему ℂ "завершает" алгебру
-------------------------------------------------------------------------------

 Основная теорема алгебры:
   Любой многочлен степени n имеет ровно n корней в ℂ (с учётом кратности)

 Это значит: в ℂ решается любое алгебраическое уравнение.
 Дальше расширять числа не нужно (для решения уравнений).

 Связь с I-bis: ℂ — "конец пути" ℕ → ℤ → ℚ → ℝ → ℂ

-------------------------------------------------------------------------------
 Формулы (для вычислений)
-------------------------------------------------------------------------------

 Умножение: z₁z₂ = |z₁||z₂| eⁱ⁽ᶿ¹⁺ᶿ²⁾   (модули ×, углы +)

 Степень:   zⁿ = |z|ⁿ eⁱⁿᶿ              (формула Муавра)

 Корни:     ⁿ√z = ⁿ√|z| · eⁱ⁽ᶿ⁺²ᵖᵏ⁾/ⁿ,  k = 0,1,...,n−1  (n корней)

 Триг. тождества:  cos θ = (eⁱᶿ + e⁻ⁱᶿ)/2,  sin θ = (eⁱᶿ − e⁻ⁱᶿ)/(2i)

-------------------------------------------------------------------------------
 Конкретный пример: затухающие колебания температуры
-------------------------------------------------------------------------------

 Задача: Стенка здания. Снаружи температура колеблется (день/ночь).
 Как распространяются колебания внутрь стены?

 Уравнение теплопроводности:

   ∂T/∂t = a · ∂²T/∂x²     (a — коэффициент температуропроводности)

 Граничное условие (снаружи):  T(0,t) = T₀ + ΔT·cos(ωt)
                               (суточные колебания с периодом 24 часа)

 Решение через комплексные числа:

   Ищем T(x,t) = Re[T̃(x)·eⁱʷᵗ]  — комплексная амплитуда T̃

   Подставляем: iω·T̃ = a·d²T̃/dx²

   Характеристическое уравнение: λ² = iω/a

   Решение: λ = ±(1+i)√(ω/2a) = ±(1+i)/δ

   Где δ = √(2a/ω) — глубина проникновения температурной волны

 Физический смысл:

   T(x,t) = T₀ + ΔT·e^(−x/δ)·cos(ωt − x/δ)
                    ↑              ↑
              затухание       сдвиг фазы

   • Амплитуда колебаний затухает с глубиной как e^(−x/δ)
   • Фаза запаздывает: максимум внутри наступает позже, чем снаружи

 Численный пример:
   Кирпичная стена: a ≈ 0.5×10⁻⁶ м²/с
   Суточные колебания: ω = 2π/(24·3600) ≈ 7.3×10⁻⁵ рад/с
   Глубина проникновения: δ = √(2·0.5×10⁻⁶/7.3×10⁻⁵) ≈ 0.12 м

   На глубине 30 см: амплитуда падает в e^(0.3/0.12) ≈ 12 раз.

 Мораль: Комплексные числа — не "воображаемые". Они естественно
 появляются при решении уравнений с колебаниями и затуханием.

-------------------------------------------------------------------------------
 Куда ведёт
-------------------------------------------------------------------------------

 Квантовая механика: состояния — комплексные, фаза eⁱᶿ физически важна
   Волновая функция ψ(x) ∈ ℂ, вероятность = |ψ|²

 Электротехника: импеданс Z = R + iX, фазовые соотношения

 Теория управления: передаточные функции, анализ устойчивости

 Кватернионы ℍ: обобщение на 4D, три "мнимые единицы" i,j,k
   Вращения в 3D = SU(2) = единичные кватернионы


-------------------------------------------------------------------------------
Зачем нужны категории — мотивация
-------------------------------------------------------------------------------

 Проблема и решение


 Проблема: В математике есть много похожих конструкций

   • Гомоморфизм групп, гомоморфизм колец, непрерывное отображение.
   • Произведение множеств, прямое произведение групп, произведение топол.
   • Ядро гомоморфизма, ядро линейного оператора.

 Задача: выделить общий паттерн из частных случаев

 Ответ: теория категорий — язык для описания "структуры структур"

 Лозунг: "Математика — это то, что остаётся, когда забываешь конкретику"


===============================================================================
Определение категории
===============================================================================

-------------------------------------------------------------------------------
 Определение: категория
-------------------------------------------------------------------------------

 Категория C состоит из:

 1. Объекты: класс Ob(C)
    (множества, группы, топологические пространства, ...)

 2. Морфизмы: для каждой пары объектов A, B — множество Hom(A, B)
    (функции, гомоморфизмы, непрерывные отображения, ...)

 3. Композиция: для f: A → B и g: B → C определена g∘f: A → C

 Аксиомы:
   (C1) Ассоциативность: (h∘g)∘f = h∘(g∘f)
   (C2) Единица: для каждого A существует id_A: A → A такой, что
        f∘id_A = f и id_B∘f = f для любого f: A → B


 Равенство "=" vs изоморфизм "≅" — критическое различие


 В теории категорий это различие принципиально:

 Равенство (=): Объекты буквально совпадают, это один объект.
 Изоморфизм (≅): Объекты "устроены одинаково", но это разные объекты.

 Примеры:
   • V ≅ V** (изоморфизм), но V ≠ V** (разные множества)
     Канонический изоморфизм существует, но это не равенство.

   • ℝ² ≅ ℂ как векторные пространства, но ℝ² ≠ ℂ
     (ℂ имеет умножение, ℝ² — нет)

   • Все одноэлементные множества изоморфны, но {0} ≠ {1}

 В этом атласе мы иногда пишем "=", где математик написал бы "≅".
 Это осознанное упрощение для читаемости, но помните:

   Изоморфизм означает "можно отождествить без потери информации"
   Равенство означает "это буквально одно и то же"

-------------------------------------------------------------------------------
 Визуализация
-------------------------------------------------------------------------------

   Категория — это ориентированный граф с композицией:

          f           g
     A ------► B ------► C
      ╲                 ╱
       ╲               ╱
        ╲    g∘f     ╱
         ╲---------╱

   • Объекты = вершины
   • Морфизмы = стрелки
   • Композиция = склеивание путей
   • В каждой вершине есть петля id


===============================================================================
Примеры категорий
===============================================================================

 Основные категории
+-----------+---------------------+-------------------------+
| КАТЕГОРИЯ | ОБЪЕКТЫ             | МОРФИЗМЫ                |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Set       | Множества           | Функции                 |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Grp       | Группы              | Гомоморфизмы групп      |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Ab        | Абелевы группы      | Гомоморфизмы групп      |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Ring      | Кольца              | Гомоморфизмы колец      |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Vect_k    | Векторные пр-ва     | Линейные отображения    |
|           | над полем k         |                         |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Top       | Топологические      | Непрерывные отображения |
|           | пространства        |                         |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Man       | Гладкие             | Гладкие отображения     |
|           | многообразия        |                         |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| Pos       | Частично            | Монотонные функции      |
|           | упорядоченные мн-ва |                         |
|           |                     |                         |
+-----------+---------------------+-------------------------+
|           |                     |                         |
| hTop      | Топологические      | Гомотопические классы   |
|           | пространства        | отображений             |
|           |                     |                         |
+-----------+---------------------+-------------------------+

-------------------------------------------------------------------------------
 "Маленькие" категории
-------------------------------------------------------------------------------

 Категория из одного объекта = моноид

   • Один объект ●
   • Морфизмы ● → ● = элементы моноида
   • Композиция = умножение в моноиде
   • id = единица моноида

   Если все морфизмы обратимы → группа

 Категория из частичного порядка:

   • Объекты = элементы множества
   • Hom(a,b) = {единственная стрелка}, если a ≤ b, иначе ∅
   • Композиция: a ≤ b ≤ c ⇒ a ≤ c (транзитивность)

-------------------------------------------------------------------------------
 Универсальные конструкции: произведение в разных категориях
-------------------------------------------------------------------------------

 "Произведение A × B" определяется одинаково во всех категориях:

   Объект P с проекциями π₁: P → A и π₂: P → B такой, что
   для любого Q со стрелками f: Q → A и g: Q → B существует
   единственная стрелка h: Q → P с π₁∘h = f и π₂∘h = g.

                       Q
                     ╱ | ╲
                 f ╱   |h  ╲ g
                  ╱    |    ╲
                 ↓     ↓     ↓
                A ←-- P ---→ B
                    π₁   π₂

 Что это даёт в конкретных случаях:

 +---------------+-------------------------------------------+
 | КАТЕГОРИЯ     | Что такое A × B                           |
 +---------------+-------------------------------------------+
 | Set           | Декартово произведение {(a,b) : a∈A, b∈B} |
 | Grp           | Прямое произведение групп                 |
 | Top           | Произведение с топологией произведения    |
 | Vect          | Прямая сумма V ⊕ W                        |
 | Множества с ≤ | Покомпонентный порядок (a₁,b₁)≤(a₂,b₂)    |
 +---------------+-------------------------------------------+

 Вывод: Одно определение → много реализаций.
 Категорный язык выявляет общую структуру разных конструкций.


===============================================================================
Функторы — отображения между категориями
===============================================================================

-------------------------------------------------------------------------------
 Ключевая мысль
-------------------------------------------------------------------------------

   "Видеть аналогии между аналогиями — значит уметь отображать
    отображения между различными категориями"

   Функтор — это именно это: способ перенести структуру из одной
   области математики в другую, сохраняя связи между объектами.

-------------------------------------------------------------------------------
 Определение: функтор
-------------------------------------------------------------------------------

 Бытовая аналогия: Функтор — это переводчик между языками математики.

   Представьте: есть книга на русском (категория C) и её перевод на
   английский (категория D). Хороший перевод (функтор F):
   • Каждому слову/понятию сопоставляет слово/понятие: A ↦ F(A)
   • Каждой связи между понятиями — связь: (A→B) ↦ (F(A)→F(B))
   • Сохраняет логику: если A→B→C, то F(A)→F(B)→F(C)

   Пример: π₁ — "переводчик" с языка топологии на язык алгебры.
   Топологическому пространству сопоставляет группу,
   непрерывному отображению — гомоморфизм групп.


 Функтор F: C → D между категориями C и D состоит из:

 1. Отображения объектов: A ↦ F(A)
 2. Отображения морфизмов: f ↦ F(f), где если f: A → B, то F(f): F(A) → F(B)

 Аксиомы:
   (F1) F(g∘f) = F(g)∘F(f)     (сохраняет композицию)
   (F2) F(id_A) = id_{F(A)}    (сохраняет единицу)

 Визуализация:

     C                               D
     f                               F(f)
   A --► B         F         F(A) ---► F(B)
          ╲       --►              ╲
       g   ╲                   F(g) ╲
            ▼                        ▼
            C                       F(C)

   Функтор — это "переводчик" между категориями,
   сохраняющий структуру (стрелки и их композицию).


 Примеры функторов

+--------------------+----------------+---------------------------------------+
| ТИП                | ФУНКТОР        | ЧТО ДЕЛАЕТ                            |
+--------------------+----------------+---------------------------------------+
|                    |                |                                       |
| забывающие         | Grp → Set      | Группа ↦ множество (забыли операцию)  |
| (теряют структуру) | Vect → Set     | Пространство ↦ множество векторов     |
|                    | Top → Set      | Пространство ↦ множество точек        |
|                    |                |                                       |
+--------------------+----------------+---------------------------------------+
|                    |                |                                       |
| свободные          | Set → Grp      | X ↦ свободная группа F(X)             |
| (добавляют стр.)   | Set → Vect     | X ↦ пространство с базисом X          |
|                    |                |                                       |
+--------------------+----------------+---------------------------------------+
|                    |                |                                       |
| топологические     | π₁: Top → Grp  | Пространство ↦ фунд. группа           |
| инварианты         | Hₙ: Top → Ab   | Пространство ↦ n-гомологии            |
|                    | χ: Top → ℤ     | Пространство ↦ эйлерова хар-ка        |
|                    |                |                                       |
+--------------------+----------------+---------------------------------------+
|                    |                |                                       |
| алгебраические     | *: Vect → Vect | V ↦ V* (двойственное)                 |
|                    | T: Man → VBund | M ↦ TM (касательное расслоение)       |
|                    |                |                                       |
+--------------------+----------------+---------------------------------------+

 Ковариантные vs контравариантные

+--------------------+--------------------------------------------------------+
| КОВАРИАНТНЫЙ       | f: A→B  даёт  F(f): F(A)→F(B)   (стрелка туда же)      |
+--------------------+--------------------------------------------------------+
| КОНТРАВАРИАНТНЫЙ   | f: A→B  даёт  F(f): F(B)→F(A)   (стрелка обратно)      |
| Пример: V ↦ V*     | T: V→W  даёт  T*: W*→V*        (развернулась)         |
+--------------------+--------------------------------------------------------+

===============================================================================
Естественные преобразования
===============================================================================

-------------------------------------------------------------------------------
 Определение: естественное преобразование
-------------------------------------------------------------------------------

 Пусть F, G: C → D — два функтора. Естественное преобразование η: F ⇒ G
 — это семейство морфизмов {η_A: F(A) → G(A)}_{A ∈ Ob(C)}, такое что
 для любого f: A → B коммутирует диаграмма:

        η_A
   F(A) ----► G(A)
     |         |
 F(f)|         |G(f)
     ▼         ▼
   F(B) ----► G(B)
        η_B

 То есть: G(f) ∘ η_A = η_B ∘ F(f)

 Пояснение:
   Естественное преобразование — это "морфизм между функторами",
   который согласован со всеми морфизмами в исходной категории.

-------------------------------------------------------------------------------
 Пример: двойное двойственное
-------------------------------------------------------------------------------

 Функторы Id, **: Vect → Vect
   Id(V) = V
   **(V) = V**

 Естественное преобразование η: Id ⇒ **
   η_V: V → V**
   η_V(v)(φ) = φ(v)

 Естественность:
   Для любого T: V → W диаграмма коммутирует:

        η_V
     V ----► V**
     |        |
   T |        | T**
     ▼        ▼
     W ----► W**
        η_W

 Это канонический изоморфизм V ≅ V** (не требует выбора базиса)


===============================================================================
Универсальные свойства
===============================================================================

-------------------------------------------------------------------------------
 Идея универсального свойства
-------------------------------------------------------------------------------

 Многие конструкции в математике определяются не явной формулой,
 а свойством: "единственный объект с таким-то свойством".

 Это и есть универсальное свойство.

 Преимущество: Определение работает во всех категориях одинаково.

-------------------------------------------------------------------------------
 Произведение (универсальное определение)
-------------------------------------------------------------------------------

 Произведение объектов A и B — это объект A×B с проекциями π₁, π₂:

                    π₁        π₂
              A ◄---- A×B ----► B

 такой, что для любого X с отображениями f: X→A, g: X→B
 существует единственное h: X → A×B с π₁∘h = f, π₂∘h = g:

                       X
                    f╱   ╲g
                   ╱  h   ╲
                  ╱   |    ╲
                 ▼    ▼     ▼
              A ◄-- A×B --► B

 Примеры:
   Set: A×B = декартово произведение
   Grp: A×B = прямое произведение групп
   Top: A×B = произведение с топологией произведения
   Vect: A×B = прямая сумма A⊕B

-------------------------------------------------------------------------------
 Одно определение — все эти конструкции.
-------------------------------------------------------------------------------

 Таблица универсальных конструкций
+------------------+-------------------------------------------------+
| КОНСТРУКЦИЯ      | УНИВЕРСАЛЬНОЕ СВОЙСТВО                          |
+------------------+-------------------------------------------------+
|                  |                                                 |
| Произведение A×B | Пара проекций, факторизующая любую пару стрелок |
|                  |                                                 |
| Копроизведение   | Пара вложений, факторизующая любую пару стрелок |
| A⊔B (сумма)      | (дуально к произведению)                        |
|                  |                                                 |
| Терминальный     | Единственная стрелка из любого объекта          |
| объект 1         | (одноэлементное мн-во, тривиальная группа)      |
|                  |                                                 |
| Начальный        | Единственная стрелка в любой объект             |
| объект 0         | (пустое мн-во, тривиальная группа)              |
|                  |                                                 |
| Ядро f           | Уравнитель f и 0                                |
|                  |                                                 |
| Коядро f         | Коуравнитель f и 0                              |
|                  |                                                 |
| Pullback         | "Произведение над объектом"                     |
|                  |                                                 |
| Pushout          | "Копроизведение под объектом"                   |
|                  |                                                 |
| Предел           | Обобщение произведения на диаграммы             |
|                  |                                                 |
| Копредел         | Обобщение суммы на диаграммы                    |
|                  |                                                 |
+------------------+-------------------------------------------------+


  Универсальные конструкции в разных категориях

 Одно определение через универсальное свойство имеет разные реализации:

+----------------+------------+------------+------------+----------------------+
| КОНСТРУКЦИЯ    | Set        | Grp        | Vect       | Top                  |
+----------------+------------+------------+------------+----------------------+
|                |            |            |            |                      |
| Произведение   | A×B        | G×H        | V⊕W        | X×Y с топ.           |
| (A,B)→A×B      | (декартово)| (прямое)   | (прямая ⊕) | произведения         |
|                |            |            |            |                      |
+----------------+------------+------------+------------+----------------------+
|                |            |            |            |                      |
| Копроизведение | A⊔B        | G*H        | V⊕W        | X⊔Y с топ.           |
| (сумма)        | (дизъюнкт.)| (свободное)| (та же)   | суммы                |
|                |            |            |            |                      |
+----------------+------------+------------+------------+----------------------+
|                |            |            |            |                      |
| Терминальный   | {*}        | {e}        | {0}        | {*}                  |
| объект         | (одноэлем)| (тривиал.) | (нулевое)  | (точка)              |
|                |            |            |            |                      |
+----------------+------------+------------+------------+----------------------+
|                |            |            |            |                      |
| Начальный      | ∅          | {e}        | {0}        | ∅                   |
| объект         | (пустое)   | (тривиал.) | (нулевое)  | (пустое)             |
|                |            |            |            |                      |
+----------------+------------+------------+------------+----------------------+

 Замечание: В Vect произведение = копроизведение = ⊕ (абелева категория)
            В Grp они разные: ×≠* (прямое ≠ свободное)

-------------------------------------------------------------------------------
 Определение: сопряжённость
-------------------------------------------------------------------------------

 Функторы F: C → D и G: D → C называются сопряжёнными (F ⊣ G), если
 существует естественный изоморфизм:

   Hom_D(F(A), B) ≅ Hom_C(A, G(B))

 F — левый сопряжённый, G — правый сопряжённый.

-------------------------------------------------------------------------------
 Примеры сопряжённых функторов
-------------------------------------------------------------------------------

 Свободный ⊣ забывающий:

   F: Set → Grp (свободная группа)
   U: Grp → Set (забывающий функтор)

   Hom_Grp(F(X), G) ≅ Hom_Set(X, U(G))

   "Гомоморфизм из свободной группы F(X) в G
    определяется отображением множества X в G"

 Тензорное ⊣ hom:

   − ⊗ B: Vect → Vect
   Hom(B, −): Vect → Vect

   Hom(A ⊗ B, C) ≅ Hom(A, Hom(B, C))

   Это каррирование из функционального программирования.

   Программистская аналогия:
     Функция от двух аргументов f(a, b) → c
     эквивалентна функции, возвращающей функцию: a → (b → c)

   В Haskell: curry :: ((a, b) -&gt; c) -&gt; (a -&gt; (b -&gt; c))
              uncurry :: (a -&gt; (b -&gt; c)) -&gt; ((a, b) -&gt; c)

   Это не просто совпадение — это один и тот же универсальный принцип,
   который в математике называется сопряжённостью функторов.


-------------------------------------------------------------------------------
Резюме
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
 Иерархия категорной математики
-------------------------------------------------------------------------------

   Уровень 0:  Объекты (множества, группы, пространства)
                   |
   Уровень 1:  Морфизмы между объектами (функции, гомоморфизмы)
                   |
   Уровень 2:  Функторы между категориями
                   |
   Уровень 3:  Естественные преобразования между функторами
                   |
   Уровень 4:  Модификации между ест. преобразованиями (2-категории)
                   |
       .      (∞-категории, гомотопическая теория типов)

-------------------------------------------------------------------------------
 Зачем это нужно — практические применения
-------------------------------------------------------------------------------

 Математика:
   • Унификация: одно доказательство работает во всех категориях
   • Гомологическая алгебра: функторы Ext, Tor
   • Алгебраическая геометрия: пучки, схемы
   • Топос-теория: обобщение теории множеств

 Программирование:
   • Функциональное программирование: функторы, монады
   • Теория типов: соответствие Карри-Говарда-Ламбека
   • Haskell, Scala: категорные конструкции в языке

 Физика:
   • TQFT: функторы из категории кобордизмов
   • Квантовая гравитация: спиновые пены, ∞-категории

 Логика:
   • Доказательства = морфизмы
   • Типы = объекты
   • Эквивалентность = изоморфизм


===============================================================================
Алгебраическая геометрия — мост между алгеброй и геометрией
===============================================================================

Алгебраическая геометрия — одна из центральных областей современной математики.
Она изучает геометрические объекты, заданные алгебраическими уравнениями.

 Главная идея: двойственность геометрия ↔ алгебра

 +-----------------------+-----------------------------------+
 | ГЕОМЕТРИЯ             | АЛГЕБРА                           |
 +-----------------------+-----------------------------------+
 | Множество точек X     | Кольцо функций на X               |
 |                       | (или идеал уравнений, задающих X) |
 +-----------------------+-----------------------------------+
 | Точка p ∈ X           | Максимальный идеал m_p ⊂ k[X]     |
 +-----------------------+-----------------------------------+
 | Подмногообразие Y ⊂ X | Идеал I(Y) ⊂ k[X]                 |
 +-----------------------+-----------------------------------+
 | Отображение X → Y     | Гомоморфизм колец k[Y] → k[X]     |
 |                       | (в ОБРАТНУЮ сторону)             |
 +-----------------------+-----------------------------------+
 | X неприводимо         | I(X) — простой идеал              |
 | (одним куском)        |                                   |
 +-----------------------+-----------------------------------+

 Это как словарь между двумя языками — каждому геометрическому
 понятию соответствует алгебраическое, и наоборот.


 Примеры алгебраических многообразий

 +------------------+------------------+----------------------------+
 | УРАВНЕНИЕ        | ГЕОМЕТРИЯ        | СВОЙСТВА                   |
 +------------------+------------------+----------------------------+
 | x² + y² = 1      | Окружность       | Род 0, рациональная кривая |
 +------------------+------------------+----------------------------+
 | y² = x³ + ax + b | Эллиптическая    | Род 1, группа точек.       |
 |                  | кривая           | Криптография (ECDSA)       |
 +------------------+------------------+----------------------------+
 | x² + y² + z² = 1 | Сфера S²         | Квадрика, рациональная пов.|
 +------------------+------------------+----------------------------+
 | xy = 1           | Гипербола        | Две компоненты в ℝ,        |
 |                  |                  | одна в ℂ                   |
 +------------------+------------------+----------------------------+
 | y² = x³          | Кривая с остриём | Сингулярная в (0,0)        |
 |                  | (cuspidal curve) |                            |
 +------------------+------------------+----------------------------+


 Теорема Гильберта о нулях (Nullstellensatz)


 Это фундамент алгебраической геометрии — связь между идеалами и точками.

 Пусть k — алгебраически замкнутое поле (например, ℂ).

 +------------------------------------------------+
 | ТЕОРЕМА: Для идеала I ⊂ k[x₁,...,xₙ]           |
 |                                                |
 | I(V(I)) = √I                                   |
 |                                                |
 | где V(I) = {точки, обнуляющие все f ∈ I}       |
 | I(X) = {многочлены, обнуляющиеся на X}         |
 | √I  = {f : fⁿ ∈ I для некоторого n}  (радикал) |
 +------------------------------------------------+

 Следствие: Максимальные идеалы в k[x₁,...,xₙ] ↔ точки kⁿ
   Идеал m = (x₁ − a₁, ..., xₙ − aₙ) соответствует точке (a₁,...,aₙ)

-------------------------------------------------------------------------------
 Категорный взгляд: схемы
-------------------------------------------------------------------------------

 Классическое многообразие = точки + структура.
 Схема (Гротендик) = пространство + структурный пучок колец.

 +------------------+--------------------------------+
 | КЛАССИКА         | СХЕМЫ                          |
 +------------------+--------------------------------+
 | Точки = решения  | Точки = простые идеалы (Spec)  |
 | над k            | (включая "generic points".)    |
 +------------------+--------------------------------+
 | Только над полем | Над любым кольцом (ℤ, ℤₚ, ...) |
 +------------------+--------------------------------+
 | Приведённые      | Нильпотенты сохраняют          |
 | (x² = 0 ⇒ x = 0) | "бесконечно малую" информацию  |
 +------------------+--------------------------------+
 | Контравариантный | Категория AffSch ≃ CRingᵒᵖ     |
 | функтор          | (аффинные схемы = кольцаᵒᵖ)    |
 +------------------+--------------------------------+

 Зачем схемы:
   • Единообразно работать над ℚ, ℝ, ℂ, 𝔽ₚ, ℤ
   • Теория чисел: уравнение x² + y² = 1 над ℤ — это схема
   • Модули: параметризовать семейства объектов


 Связь с другими разделами

 +--------------------+-------------------------------------------------+
 | РАЗДЕЛ             | СВЯЗЬ С АГ                                      |
 +--------------------+-------------------------------------------------+
 | Кольца             | Кольцо функций = "алгебра геометрии"            |
 |                    | Идеалы = подмногообразия                        |
 +--------------------+-------------------------------------------------+
 | Топология          | Топология Зарисского: замкнутые = V(I)          |
 |                    | Грубее евклидовой, но алгебраически естественна |
 +--------------------+-------------------------------------------------+
 | Категории          | Пучки, когомологии, функторы                    |
 |                    | Схемы = контравариантные функторы               |
 +--------------------+-------------------------------------------------+
 | Теория чисел (5.4) | Диофантовы уравнения = рациональные точки       |
 |                    | Кривые над 𝔽ₚ, гипотеза Вейля                   |
 +--------------------+-------------------------------------------------+
 | Комплексный анализ | Алгебраические кривые = римановы поверхности    |
 |                    | Род = топологический инвариант                  |
 +--------------------+-------------------------------------------------+

-------------------------------------------------------------------------------
Таблица категорий
-------------------------------------------------------------------------------

 Категория = (Объекты, Морфизмы, Композиция)
 Задача: определить критерий "одинаковости" объектов

+-----------+-----------------+------------------+------------------------+
| КАТЕГОРИЯ | ОБЪЕКТЫ         | МОРФИЗМЫ         | "ОДИНАКОВЫЕ" =         |
+-----------+-----------------+------------------+------------------------+
| Set       | Множества       | Функции          | Биекция (равномощны)   |
| Grp       | Группы          | Гомоморфизмы     | Изоморфизм групп       |
| Ab        | Абелевы группы  | Гомоморфизмы     | Изоморфизм             |
| Ring      | Кольца          | Гом. колец       | Изоморфизм колец       |
| Vect_K    | Вект. пр-ва / K | Лин. отображения | Изоморфизм (dim равны) |
| Top       | Топол. пр-ва    | Непрерывные      | Гомеоморфизм           |
| Man       | Многообразия    | Гладкие          | Диффеоморфизм          |
| Met       | Метрич. пр-ва   | Непрерывные      | Изометрия              |
| Pos       | Частич. порядки | Монотонные       | Изоморфизм порядков    |
+-----------+-----------------+------------------+------------------------+

+-----------+---------------------------------------------------------------+
| КАТЕГОРИЯ | ОСОБЕННОСТЬ                                                   |
+-----------+---------------------------------------------------------------+
| 0         | Пустая: нет объектов, нет морфизмов                           |
| 1         | Один объект *, только тождественный морфизм                   |
| 2         | Два объекта 0 → 1, одна нетривиальная стрелка                 |
| BG        | Группа G как категория: один объект, морфизмы = элементы G    |
| Cat       | Категория категорий: объекты = категории, морфизмы = функторы |
+-----------+---------------------------------------------------------------+

-------------------------------------------------------------------------------
          Заключение части II: единство структур
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
Иерархия структур — главная таблица с примерами и историей
-------------------------------------------------------------------------------

Эта таблица показывает математику как иерархию уровней абстракции.
Каждый уровень строится на предыдущем.

Горизонталь = уровень абстракции (снизу вверх — от пустоты к физике)
Вертикаль = тип структуры (какую информацию мы сохраняем)

+----------+-----------------+-----------------+-----------------+-----------------+
| УРОВЕНЬ  |  ДИСКРЕТНОЕ     |  АЛГЕБРАИЧЕСКОЕ |  ТОПОЛОГИЧЕСКОЕ |  АНАЛИТИЧЕСКОЕ  |
|          |  (множества)    |  (операции)     |  (близость)     |  (изменение)    |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 0|   ПУСТОТА ∅     |                 |                 |                 |
| Исток    | "Вселенная есть |                 |                 |                 |
| ~XIII BC |  пустота"       |                 |                 |                 |
| (филос.) |                 |                 |                 |                 |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 1|  ГРАНИЦЫ/ОБРАЗЫ |                 |                 |                 |
| Выбор    | "Проведение     |   (операции     |  (близость      |  (изменение     |
| доязыков.|  границ"        |   появятся      |   появится      |   появится      |
|          | Манипуляции     |   позже)        |   позже)        |   позже)        |
|          | паттернами      |                 |                 |                 |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 2| ТЕОРИЯ МНОЖЕСТВ |  ОТНОШЕНИЯ      |                 |                 |
| Категори-|  A, B, ∈, ⊆     |  R ⊆ A × B      |    (нет пока)   |   (нет пока)    |
| зация    |  ∪, ∩, ×, ∅     |  Эквивалентность|                 |                 |
| ~1870    |  𝒫(A)           |  Порядок        |                 |                 |
| Кантор   |  Натуральные ℕ  |  Функция f:A→B  |                 |                 |
|          |  из ∅           |                 |                 |                 |
|          |                 |                 |                 |                 |
| Примеры: | • ℕ,ℤ,ℚ,ℝ как   | • = (равенство) |                 |                 |
|          |   множества     | • &lt; (порядок)   |                 |                 |
|          | • Булеан 𝒫(A)   | • f: A → B      |                 |                 |
|          |                 |   (функции)     |                 |                 |
|          |                 |                 |                 |                 |
| задачи:  | • Доказать A⊆B  | • Доказать, что |                 |                 |
|          | • |𝒫(A)| = 2^|A||   R транзитивно |                 |                 |
|          | • Построить ℕ   | • Найти f⁻¹(B)  |                 |                 |
|          |   из ∅          |                 |                 |                 |
|          |                 |                 |                 |                 |
| зачем:   | Базовый язык    | Описание связей |                 |                 |
|          | для всего       | между объектами |                 |                 |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 3|  КОММУНИКАЦИЯ   |      ЛОГИКА     |                 |                 |
| Язык     | Естественные    |  ∀, ∃, ∧, ∨, ⇒  |   (понятие      |  (отсутствует   |
| ~300 BC  | языки           |  Правила вывода |   истинности)   |   на этом       |
|Аристотель| Символы         |  Доказательства |                 |   уровне)       |
|          |                 |                 |                 |                 |
| Примеры: | • Греческий,    | • Силлогизмы    |                 |                 |
|          |   латынь, ...   | • Modus ponens  |                 |                 |
|          |                 | • Предикатная   |                 |                 |
|          |                 |   логика        |                 |                 |
|          |                 |                 |                 |                 |
| задачи:  | • Перевод между | • Проверить     |                 |                 |
|          |   языками       |   корректность  |                 |                 |
|          |                 |   вывода        |                 |                 |
|          |                 |                 |                 |                 |
| зачем:   | Передача знаний | Компенсация     |                 |                 |
|          |                 | потерь языка    |                 |                 |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 4|   ЧИСЛА         |   ГРУППЫ        |  МЕТРИЧЕСКИЕ    |   ФУНКЦИИ       |
| Базовые  |  ℤ, ℚ, ℝ, ℂ     |   (G, ∗)        |  пространства   |   f: ℝ → ℝ      |
| структуры|  (из ℕ)         |   Подгруппы     |   (X, d)        |   Непрерывные   |
| ~300 BC  |  +, ×, &lt;        |   Изоморфизм    |   Открытые мн-ва|   Дифференц-ые  |
| Евклид   |                 |                 |   Полнота       |                 |
| ~1830    |                 |   кольца        |  ~1900 Фреше    |  ~1670 Ньютон   |
| Галуа    |                 |   (R, +, ×)     |                 |  ~1680 Лейбниц  |
| ~1670    |                 |   ПОЛЯ          |                 |                 |
| Ньютон   |                 |   (F, +, ×)     |                 |                 |
|          |                 |                 |                 |                 |
| Примеры: | • ℤ (целые)     | • (ℤ, +)        | • ℝ с |x-y|     | • f(x) = x²     |
|          | • ℚ (рациональн)| • (ℝ*, ×)       | • ℝⁿ с евклид.  | • sin, cos, exp |
|          | • ℝ (веществен.)| • S₃ (перестан.)|   метрикой      | • многочлены    |
|          | • ℂ (комплексны)| • GL(n) (матриц)| • C[0,1] (функц)|                 |
|          |                 |                 |                 |                 |
| задачи:  | • Решить        | • Найти         | • Показать      | • Найти предел  |
|          |   уравнение     |   подгруппы     |   полноту       | • Найти         |
|          | • Доказать      | • Проверить     | • Доказать      |   производную   |
|          |   иррациональн. |   изоморфизм    |   сходимость    | • Вычислить     |
|          |                 |                 |                 |   интеграл      |
|          |                 |                 |                 |                 |
| зачем:   | Вычисления,     | Симметрии,      | Понятие         | Моделирование   |
|          | измерения       | криптография    | расстояния      | процессов       |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 5|  ГРАФЫ          |  ВЕКТОРНЫЕ      |  ТОПОЛОГИЧЕСКИЕ |  МЕРЫ           |
| Сложные  |   G = (V, E)    |  ПРОСТРАНСТВА   |  ПРОСТРАНСТВА   |   (X, 𝒜, μ)     |
| структуры|   Деревья       |   (V, +, ·)     |   (X, τ)        |   σ-алгебра     |
| ~1730    |   Сети          |   Базис, dim    |   Компактность  |   Интеграл      |
| Эйлер    |                 |   Норма ‖·‖     |   Связность     |   Лебега        |
| ~1850    |  комбинаторика  |                 |   Гомеоморфизм  |                 |
| Кэли     |   Перестановки  |  линейные       |  ~1900 Хаусдорф |  вероятность    |
| ~1880    |   Сочетания     |  отображения    |                 |   (Ω, ℱ, P)     |
| Грассман |                 |   T: V → W      |                 |   Случ. величины|
| ~1900    |                 |   Матрицы       |                 |   E[X], Var[X]  |
| Лебег    |                 |   ker, Im       |                 |                 |
|          |                 |   Собств. значен|                 |  ~1933 Колмогор.|
|          |                 |                 |                 |                 |
| Примеры: | • K₅ (полный)   | • ℝⁿ            | • ℝ (станд.топ.)| • Мера Лебега   |
|          | • Дерево        | • C[0,1] (функц)| • Окружность S¹ | • Вероятностная |
|          | • Планарный граф| • L² (Гильберт) | • Тор T²        |   мера          |
|          | • Сеть дорог    | • Матрицы m×n   | • Канторово мн-в| • Считающая мера|
|          |                 |                 |                 |                 |
| задачи:  | • Найти         | • Найти базис   | • Показать      | • Вычислить     |
|          |   кратчайший    | • Проверить лин.|   компактность  |   меру          |
|          |   путь          |   независимость | • Доказать      | • Построить     |
|          | • Раскрасить    | • Решить СЛУ    |   связность     |   измеримую     |
|          |   граф          | • Найти собств. | • Найти         |   функцию       |
|          | • Найти остов   |   значения      |   гомеоморфизм  |                 |
|          |                 |                 |                 |                 |
| зачем:   | Сети, связи,    | Линейная        | "Форма" без     | Обобщение       |
|          | оптимизация     | алгебра для     | расстояния,     | интеграла,      |
|          | путей           | всего           | деформации      | вероятность     |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+
|          |                 |                 |                 |                 |
| УРОВЕНЬ 6|     ФИЗИКА      |  ГРУППЫ ЛИ      |  МНОГООБРАЗИЯ   |  ФУНКЦИОНАЛЬНЫЕ |
| Примене- |  "Математика =  |  Непрерывные    |   M (гладкие)   |  пространства   |
| ние к    |   эксперимент.  |  симметрии      |   TₚM (касат.)  |   Cᵏ, Lᵖ      |
| миру     |   физика"       |                 |   Римановы      |   Банаховы      |
| ~1915    |                 |  ~1870 Ли       |   Кривизна      |   Гильбертовы   |
| Эйнштейн |  категории      |                 |  ~1850 Риман    |                 |
| ~1930    |   Объекты       |  АЛГЕБРЫ        |                 |  ОПЕРАТОРЫ      |
| категории|   Морфизмы      |   над полями    |  расслоения     |   Спектр σ(T)   |
| ~1920    |   Функторы      |                 |   Связности     |   Сопряжённые   |
| Банах    |                 |  алгебры ЛИ     |   Формы         |                 |
| ~1945    |                 |                 |                 |  ~1920 Банах    |
| Эйленберг|                 |                 |                 |                 |
|          |                 |                 |                 |                 |
| Примеры: | • ОТО (геометр.)| • SO(3) (вращен)| • Сфера S²      | • L²(ℝ)         |
|          | • КМ (операторы)| • SU(2) (спин)  | • Тор T²        | • Cᵏ[0,1]      |
|          | • Категория Set | • U(1) (электр.)| • Пр-во-время   | • Операторы     |
|          | • Функторы      |                 |   (4-многообр.) |   в гильб. пр-ве|
|          |                 |                 |                 |                 |
| задачи:  | • Найти         | • Найти алгебру | • Вычислить     | • Найти спектр  |
|          |   симметрии     |   Ли            |   кривизну      |   оператора     |
|          | • Построить     | • Найти         | • Построить     | • Решить        |
|          |   функтор       |   представление |   касательное   |   уравнение     |
|          | • Применить к   | • Использовать  |   расслоение    |   в гильб. пр-ве|
|          |   физике        |   в физике      |                 |                 |
|          |                 |                 |                 |                 |
| зачем:   | Единая          | Непрерывные     | Искривлённые    | Квантовая       |
|          | структура всей  | симметрии,      | пространства,   | механика,       |
|          | математики,     | калибровочные   | гравитация,     | бесконечномерн. |
|          | применение      | теории          | ОТО             | анализ          |
|          |                 |                 |                 |                 |
+----------+-----------------+-----------------+-----------------+-----------------+

Легенда (снизу вверх — от пустоты к физике):

  [Уровень 0] = пустота — исток всего
  [уровень 1] = границы/образы — проведение границ, манипуляции паттернами
  [Уровень 2] = множества — категоризация, построение ℕ из ∅
  [уровень 3] = язык и логика — коммуникация, доказательства
  [Уровень 4] = базовые структуры — один вид структуры
  [Уровень 5] = комбинированные — несколько структур одновременно
  [Уровень 6] = физика — применение к миру, категорная теория

Вертикальные связи (что сохраняется):

  • Дискретное: элементы, подмножества (без операций и расстояний)
  • Алгебраическое: операции и их свойства (∗, +, ×)
  • Топологическое: понятие "близости" (без расстояния)
  • Аналитическое: измерение и изменение (интегралы, производные)

Ключевой принцип:

  Математика — естественная иерархия, возникающая из фундаментального
  акта проведения границ в пустоте. Каждый уровень опирается на предыдущий.

Важные наблюдения:

1. История идёт снизу вверх: ~300 BC → ~1670 → ~1830 → ~1900 → ~1930 → ~1945

2. Каждый уровень опирается на предыдущие: нельзя понять многообразия
   без топологии. Нельзя понять топологию без множеств.

3. Четыре столпа развивались параллельно: но в XX веке объединились

-------------------------------------------------------------------------------
Таблица аналогий — один паттерн в разных областях
-------------------------------------------------------------------------------

Эта таблица показывает: один и тот же паттерн проявляется во всех областях.

"Научившись понимать паттерн, видите его везде"

+---------------+--------------+---------------+--------------+---------------+
| ПОНЯТИЕ       | МНОЖЕСТВА    | АЛГЕБРА       | ТОПОЛОГИЯ    | АНАЛИЗ        |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| ПОДОБЪЕКТ     | A ⊆ B        | H ≤ G         | U ⊆ X        | W ⊆ V         |
|               | Подмножество | Подгруппа     | Подпр-во     | Подпр-во      |
|               |              | Подкольцо     | (с индуц.    | (замкнутое)   |
|               |              |               | топологией)  |               |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| МОРФИЗМ       | f: A → B     | φ: G → H      | f: X → Y     | T: V → W      |
|               | Функция      | Гомоморфизм   | Непрерывное  | Линейный      |
|               |              |               | отображение  | оператор      |
|               |              |               |              |               |
| (отображение, |              |               |              |               |
| сохраняющее   |              |               |              |               |
| структуру)    |              |               |              |               |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| изоморфизм    | Биекция      | G ≅ H         | X ≈ Y        | V ≅ W         |
|               | f: A ↔ B     | Изоморф.      | Гомеоморф.   | Изоморфизм    |
|               |              | групп         | пространств  | вект. пр-в    |
| (структуры    |              |               |              |               |
| "одинаковы")  |              |               |              |               |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| ПРОИЗВЕДЕНИЕ  | A × B        | G × H         | X × Y        | V ⊕ W         |
|               | Декартово    | Прямое        | Произведение | Прямая сумма  |
|               | произведение | произведение  | топологий    |               |
|               |              |               |              |               |
| (комбинация)  | Пары (a,b)   | Пары (g,h)    | Пары (x,y)   | Сумма v + w   |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| ЧАСТНОЕ       | A / ~        | G / H         | X / ~        | V / W         |
|               | Фактор-      | Факторгруппа  | Фактор-      | Фактор-       |
|               | множество    |               | пространство | пространство  |
|               |              |               |              |               |
| (склеивание)  | Классы       | Смежные       | Классы       | Классы        |
|               | эквивалентн. | классы        | эквивалентн. | вычетов       |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| дуальность    | 𝒫(A) ↔ 2^A   | G ↔ Ĝ         | Гомологии ↔  | V ↔ V*        |
|               |              | Группа ↔      | Когомологии  |               |
|               | Булеан ↔     | Хар-ры        |              | Сопряжённое   |
|               | Инд. функции |               |              | пространство  |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| базис         | Минимальная  | Порождающие   | База         | Базис Гамеля  |
|               | порождающая  | элементы      | топологии    | (lin. незав.) |
|               |              |               |              |               |
| (минимальное  |              |               | Минимальное  | Минимальное   |
| описание)     |              |               | покрытие     | множество     |
|               |              |               | откр. мн-в   | векторов      |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| ЯДРО          | f⁻¹({b})     | ker(φ) =      | f⁻¹({y})     | ker(T) =      |
|               |              | {g: φ(g)=e}   |              | {v: T(v)=0}   |
|               | Прообраз     |               |              |               |
|               | элемента     | То, что идёт  | Прообраз     | То, что       |
|               |              | в единицу     | точки        | убивается     |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+
|               |              |               |              |               |
| ОБРАЗ         | f(A)         | Im(φ) =       | f(X)         | Im(T) =       |
|               |              | {φ(g): g∈G}   |              | {T(v): v∈V}   |
|               | Множество    |               |              |               |
|               | значений     | Подгруппа в H | Подпр-во в Y | Подпр-во в W  |
|               |              |               |              |               |
+---------------+--------------+---------------+--------------+---------------+

Дополнительная таблица — базовые операции:

+------------+--------------+------------+-----------------------------+
| ОПЕРАЦИЯ   | АРНОСТЬ      | ПРИМЕРЫ    | ПРИМЕНЕНИЕ                  |
+------------+--------------+------------+-----------------------------+
|            |              |            |                             |
| Отрицание  | Унарная (1)  | ¬P, Aᶜ, -x | Дополнение, противополож.   |
|            |              |            |                             |
| Сложение   | Бинарная (2) | +, ∪, ∨    | Объединение, дизъюнкция     |
|            |              |            |                             |
| Умножение  | Бинарная (2) | ×, ∩, ∧    | Пересечение, конъюнкция     |
|            |              |            |                             |
| Композиция | Бинарная (2) | f∘g, AB    | Последовательное применение |
|            |              |            |                             |
| Применение | Бинарная (2) | f(x), T(v) | Функции, операторы          |
|            |              |            |                             |
+------------+--------------+------------+-----------------------------+

Философия таблицы аналогий:

  Один и тот же паттерн проявляется во всех областях математики.

  Если вы поняли "подструктуру" в множествах (A ⊆ B),
  вы автоматически понимаете подгруппу (H ≤ G),
  подпространство (U ⊆ X) и т.д.

  Учите по горизонтали (одно понятие во всех областях),
  а не по вертикали (все понятия одной области).

  Это принцип категорной математики: изучать общие паттерны,
  а не конкретные реализации.


Мы рассмотрели структуры на пространствах: алгебраические (группы, кольца),
топологические (близость), линейные (сложение, растяжение), дифференциальные
(гладкость, формы). Категории показали, как все эти структуры связаны.

Теперь — часть III: анализ. Это искусство измерения пространств.

Мы построили пространство и научились по нему перемещаться (группы), понимать
его форму (топология), работать с плоскими приближениями (линейная алгебра),
описывать кривизну (многообразия). Но как измерить то, что происходит?

Функция — это сканер, которым наблюдатель водит по пространству.

Температура T(x) — функция, которая каждой точке комнаты сопоставляет число.
Скорость v(x,t) — функция, дающая вектор в каждой точке и в каждый момент.
Функция — инструмент наблюдателя для получения числовых данных из пространства.

Анализ изучает, как эти функции меняются:
  • Производная — скорость изменения (локальный сканер)
  • Интеграл — накопленный эффект (глобальный сканер)
  • Предел — что происходит "на границе" измерений

В терминах двойственности: изучать пространство точек — то же, что изучать
пространство функций на нём (это глубокая теорема Гельфанда-Наймарка).


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                         ЧАСТЬ III: АНАЛИЗ ПРОСТРАНСТВ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

В этой части наблюдатель впервые начинает вычислять. Всё, что раньше было
структурой (топология, группы, тензоры), теперь становится инструментом для
конкретных расчётов: пределов, производных, интегралов, рядов.

Почему после многообразий — пределы? В Части II мы смотрели на пространства
глобально: топология, кривизна, связность. Теперь нам нужен микроскоп —
инструмент для изучения структуры пространства вблизи точки. Анализ даёт
этот микроскоп: производная показывает локальное поведение, интеграл собирает
локальные данные в глобальный результат.

Но помните: вычисление зависит от выбора координат (наблюдателя).
Результат — нет. Интеграл по контуру не зависит от параметризации.
Производная по направлению — геометрический объект.

===============================================================================
          Анализ — от конкретного пространства к общим структурам
===============================================================================

-------------------------------------------------------------------------------
Математический анализ — исчисление бесконечно малых
-------------------------------------------------------------------------------

 Анализ как взгляд на пространство ℝⁿ


 Матанализ — это изучение конкретного пространства ℝⁿ со всей его
 структурой: метрикой, линейностью, порядком.

 Мы уже видели общие структуры:
   • Топология: что значит "близко" вообще
   • Метрика: что значит "расстояние"
   • Линейность: что значит "сложить" и "умножить на число"

 Теперь смотрим, как всё это работает вместе на ℝⁿ:
   • Предел = топология (сходимость в метрике)
   • Производная = линейное приближение (лучшая линейная аппроксимация)
   • Интеграл = мера (обобщённый "размер")

 Матанализ — не отдельный остров. Это пример того, как общие идеи
 воплощаются в конкретном пространстве.

-------------------------------------------------------------------------------
 Историческая справка
-------------------------------------------------------------------------------

 Математический анализ изучает непрерывные изменения:
   • Как функция меняется (производная)
   • Как накапливается изменение (интеграл)
   • Что происходит "в пределе" (предел)

 Это язык физики, инженерии, экономики — всего, где есть изменение.

   XVII век: Ньютон и Лейбниц независимо создали анализ
   XIX век: Коши, Вейерштрасс сделали его строгим (ε-δ определения)
   XX век: обобщение на многообразия и бесконечномерные пространства


===============================================================================
Предел — фундаментальное понятие
===============================================================================

Ниже — определения пределов для метрических пространств (через |x−a|).
Общее топологическое определение (через окрестности).
Эти определения эквивалентны: ε-окрестность — частный случай окрестности.

 Определения пределов
+-----------------------+-----------------------------------------------------+
| ТИП                   | ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ                              |
+-----------------------+-----------------------------------------------------+
| Предел                | lim xₙ = a означает:                                |
| последовательности    | ∀ε&gt;0 ∃N∈ℕ: ∀n&gt;N ⇒ |xₙ−a| &lt; ε                      |
|                       |                                                     |
|                       | Смысл: после номера N все члены в ε-окрестности a  |
+-----------------------+-----------------------------------------------------+
| Предел функции        | lim f(x) = L означает:                              |
| в точке               | x→a                                                 |
|                       | ∀ε&gt;0 ∃δ&gt;0: 0&lt;|x−a|&lt;δ ⇒ |f(x)−L| &lt; ε               |
|                       |                                                     |
|                       | Смысл: f(x) близко к L, когда x близко к a         |
+-----------------------+-----------------------------------------------------+
| Предел на             | lim f(x) = L означает:                              |
| бесконечности         | x→∞                                                 |
|                       | ∀ε&gt;0 ∃M: x&gt;M ⇒ |f(x)−L| &lt; ε                        |
+-----------------------+-----------------------------------------------------+
| Бесконечный           | lim f(x) = ∞ означает:                              |
| предел                | x→a                                                 |
|                       | ∀M&gt;0 ∃δ&gt;0: 0&lt;|x−a|&lt;δ ⇒ f(x) &gt; M                    |
+-----------------------+-----------------------------------------------------+

 Примеры пределов последовательностей
+--------------------+-----------+-----------------------------+
| ПОСЛЕДОВАТЕЛЬНОСТЬ | ПРЕДЕЛ    | ОБЪЯСНЕНИЕ                  |
+--------------------+-----------+-----------------------------+
| xₙ = 1/n           | 0         | 1, 0.5, 0.33, 0.25, ... → 0 |
+--------------------+-----------+-----------------------------+
| xₙ = (n+1)/n       | 1         | 2, 1.5, 1.33, ... → 1       |
+--------------------+-----------+-----------------------------+
| xₙ = (1+1/n)ⁿ      | e ≈ 2.718 | Определение числа e         |
+--------------------+-----------+-----------------------------+
| xₙ = n             | +∞        | Неограниченно растёт        |
+--------------------+-----------+-----------------------------+
| xₙ = (−1)ⁿ         | не сущ.   | Прыгает: 1, −1, 1, −1, ...  |
+--------------------+-----------+-----------------------------+
| xₙ = sin(n)        | не сущ.   | Хаотично колеблется         |
+--------------------+-----------+-----------------------------+

 Важнейшие пределы функций
+-----------------------+----------+-----------------------------+
| ПРЕДЕЛ                | ЗНАЧЕНИЕ | ПРИМЕНЕНИЕ                  |
+-----------------------+----------+-----------------------------+
| lim sin(x)/x          | 1        | Первый замечательный предел |
| x→0                   |          |                             |
+-----------------------+----------+-----------------------------+
| lim (1+x)^(1/x)       | e        | Второй замечательный предел |
| x→0                   |          |                             |
+-----------------------+----------+-----------------------------+
| lim (eˣ−1)/x          | 1        | Производная eˣ в нуле       |
| x→0                   |          |                             |
+-----------------------+----------+-----------------------------+
| lim ln(1+x)/x         | 1        | Производная ln в единице    |
| x→0                   |          |                             |
+-----------------------+----------+-----------------------------+
| lim (1−cos x)/x²      | 1/2      | Разложение косинуса         |
| x→0                   |          |                             |
+-----------------------+----------+-----------------------------+
| lim xⁿ/eˣ             | 0        | eˣ растёт быстрее степени   |
| x→+∞                  |          |                             |
+-----------------------+----------+-----------------------------+
| lim ln(x)/xᵅ (α&gt;0) | 0        | Степень растёт быстрее ln   |
| x→+∞                  |          |                             |
+-----------------------+----------+-----------------------------+

 Правила вычисления пределов
+--------------------------+--------------------------------------------+
| ПРАВИЛО                  | ФОРМУЛА                                    |
+--------------------------+--------------------------------------------+
| Сумма                    | lim(f+g) = lim f + lim g                   |
+--------------------------+--------------------------------------------+
| Произведение             | lim(f·g) = lim f · lim g                   |
+--------------------------+--------------------------------------------+
| Частное                  | lim(f/g) = lim f / lim g  (если lim g ≠ 0) |
+--------------------------+--------------------------------------------+
| Константа                | lim(c·f) = c · lim f                       |
+--------------------------+--------------------------------------------+
| Композиция               | lim f(g(x)) = f(lim g(x)) если f непр.     |
+--------------------------+--------------------------------------------+
| Сжатие (две полицейские) | g≤f≤h, lim g=lim h=L ⇒ lim f=L             |
+--------------------------+--------------------------------------------+

 Неопределённости — Когда правила не работают
+-----+------------------+------------------------------+
| ТИП | ПРИМЕР           | МЕТОД РАСКРЫТИЯ              |
+-----+------------------+------------------------------+
| 0/0 | sin(x)/x при x→0 | Лопиталь, разложение, замена |
+-----+------------------+------------------------------+
| ∞/∞ | x²/eˣ при x→∞    | Лопиталь                     |
+-----+------------------+------------------------------+
| 0·∞ | x·ln(x) при x→0⁺ | Привести к 0/0 или ∞/∞       |
+-----+------------------+------------------------------+
| ∞−∞ | x−√(x²+1)        | Домножить на сопряжённое     |
+-----+------------------+------------------------------+
| 1^∞ | (1+1/x)ˣ при x→∞ | Прологарифмировать           |
+-----+------------------+------------------------------+
| 0⁰  | xˣ при x→0⁺      | Прологарифмировать           |
+-----+------------------+------------------------------+
| ∞⁰  | x^(1/x) при x→∞  | Прологарифмировать           |
+-----+------------------+------------------------------+

 Важно: Почему деление на 0 не определено (и это не бесконечность)


 Многие думают: "1/0 = ∞, ведь lim(1/x) при x→0⁺ равен +∞"
 Это ошибка. Предел и значение функции — разные вещи.

-------------------------------------------------------------------------------
 Почему 1/0 не определено — алгебраический аргумент
-------------------------------------------------------------------------------

   Деление — это обратная операция к умножению:

     a/b = c   означает   b·c = a

   Пусть 1/0 = c. Тогда по определению: 0·c = 1.
   Но 0·c = 0 для любого c (аксиома поля).
   Получаем 0 = 1 — противоречие.

   Пусть 0/0 = c. Тогда 0·c = 0 — верно для любого c.
   Какое c выбрать? 0? 1? 1000? Нет единственного ответа.

-------------------------------------------------------------------------------
 Почему предел ≠ значение
-------------------------------------------------------------------------------

   lim f(x) = L  означает: "f(x) становится сколь угодно близко к L"
   x→a

   Это говорит о поведении около точки a, но не о значении в точке a.

   Примеры:
   • lim (x²−1)/(x−1) = 2, но (x²−1)/(x−1) при x=1 не определено
     x→1
   • lim 1/x = +∞, но 1/0 не определено (даже не "равно +∞")
     x→0⁺

-------------------------------------------------------------------------------
 Дополнительная проблема: разные пределы с разных сторон
-------------------------------------------------------------------------------

   lim 1/x = +∞     (справа)
   x→0⁺
   lim 1/x = −∞     (слева)
   x→0⁻

   Какую "бесконечность" выбрать? +∞ или −∞?
   Если бы 1/0 = ∞, то мы бы получили +∞ = −∞, что абсурд.

-------------------------------------------------------------------------------
 Итог
-------------------------------------------------------------------------------

   • 1/0 — не определено (не существует числа c, такого что 0·c = 1)
   • 0/0 — неопределённость (есть бесконечно много решений 0·c = 0)
   • lim 1/x = ±∞ — это про поведение, а не про значение
   • В стандартной арифметике ∞ — не число, а символ для предела

   (В расширенных числовых системах ∞ можно ввести как элемент,
    но тогда теряются некоторые привычные свойства арифметики.
    Пример: на сфере Римана ℂ̂ = ℂ ∪ {∞} операция 1/0 = ∞ корректна,
    но зато 0·∞ и ∞−∞ не определены. См. про комплексный анализ)


===============================================================================
Непрерывность — отсутствие разрывов
===============================================================================

 Определения непрерывности
+-----------------------+-----------------------------------------------------+
| ФОРМУЛИРОВКА          | ОПРЕДЕЛЕНИЕ                                         |
+-----------------------+-----------------------------------------------------+
| Через предел          | f непрерывна в a ⟺ lim f(x) = f(a)                 |
|                       |                    x→a                              |
+-----------------------+-----------------------------------------------------+
| ε-δ определение       | ∀ε&gt;0 ∃δ&gt;0: |x−a|&lt;δ ⇒ |f(x)−f(a)|&lt;ε                |
+-----------------------+-----------------------------------------------------+
| Через последоват.     | xₙ→a ⇒ f(xₙ)→f(a) для любой (xₙ)                   |
+-----------------------+-----------------------------------------------------+
| Топологическое        | Прообраз открытого множества открыт                 |
| определение           | f⁻¹(U) открыто для любого открытого U              |
+-----------------------+-----------------------------------------------------+

 Три условия непрерывности в точке a
+---+---------------------+----------------------------------+
| № | УСЛОВИЕ             | ЧТО НАРУШЕНО (ЕСЛИ НЕ ВЫПОЛНЕНО) |
+---+---------------------+----------------------------------+
| 1 | f(a) определено     | Точка выколота                   |
+---+---------------------+----------------------------------+
| 2 | lim f(x) существует | Скачок или колебание             |
|   | x→a                 |                                  |
+---+---------------------+----------------------------------+
| 3 | lim f(x) = f(a)     | Устранимый разрыв                |
|   | x→a                 |                                  |
+---+---------------------+----------------------------------+

 Типы разрывов
+-----------------+---------------------+---------------------------+
| ТИП             | ПРИЗНАК             | ПРИМЕР                    |
+-----------------+---------------------+---------------------------+
| Устранимый      | lim существует,     | f(x)=(x²−1)/(x−1) при x=1 |
|                 | но f(a)≠lim или     | lim=2, но f(1) не опр.    |
|                 | f(a) не определено  |                           |
+-----------------+---------------------+---------------------------+
| Скачок (I рода) | Односторонние       | sign(x) при x=0           |
|                 | пределы существуют, | lim₋ = −1, lim₊ = +1      |
|                 | но не равны         |                           |
+-----------------+---------------------+---------------------------+
| Существенный    | Хотя бы один        | sin(1/x) при x=0          |
| (II рода)       | односторонний       | Бесконечные колебания     |
|                 | предел не сущ.      |                           |
+-----------------+---------------------+---------------------------+

 Свойства непрерывных функций
+-------------------------------+---------------------------------------------+
| ОПЕРАЦИЯ                      | РЕЗУЛЬТАТ                                   |
+-------------------------------+---------------------------------------------+
| f, g непрерывны в a           | f+g, f−g, f·g непрерывны в a               |
+-------------------------------+---------------------------------------------+
| f, g непрерывны, g(a)≠0       | f/g непрерывна в a                         |
+-------------------------------+---------------------------------------------+
| f непр. в a, g непр. в f(a)   | g∘f непрерывна в a                         |
+-------------------------------+---------------------------------------------+
| |f| при f непрерывной         | |f| непрерывна                             |
+-------------------------------+---------------------------------------------+
| max(f,g), min(f,g)            | Непрерывны, если f и g непрерывны          |
+-------------------------------+---------------------------------------------+

 Фундаментальные теоремы
+----------------------+-------------------------------------------------+
| ТЕОРЕМА              | ФОРМУЛИРОВКА и СЛЕДСТВИЕ                        |
+----------------------+-------------------------------------------------+
| Вейерштрасса         | f непр. на [a,b] ⇒ f достигает max и min        |
| (об экстремумах)     |                                                 |
|                      | Следствие: ∃c,d∈[a,b]: f(c)≤f(x)≤f(d) ∀x        |
+----------------------+-------------------------------------------------+
| О промежуточном      | f непр. на [a,b], f(a)&lt;y&lt;f(b)             |
| значении (Больцано)  | ⇒ ∃c∈(a,b): f(c)=y                              |
|                      |                                                 |
|                      | "Непрерывная функция не перепрыгивает значения" |
+----------------------+-------------------------------------------------+
| О нуле функции       | f непр., f(a)&lt;0&lt;f(b) ⇒ ∃c: f(c)=0         |
| (следствие)          |                                                 |
|                      | Применение: доказательство существования корней |
+----------------------+-------------------------------------------------+
| Кантора (равномерная | f непр. на [a,b] ⇒ f равномерно непрерывна      |
| непрерывность)       |                                                 |
|                      | δ зависит только от ε, не от точки              |
+----------------------+-------------------------------------------------+

 Стандартные непрерывные функции
+---------------------------------+-------------------------------------------+
| ФУНКЦИЯ                         | ОБЛАСТЬ НЕПРЕРЫВНОСТИ                     |
+---------------------------------+-------------------------------------------+
| Многочлен p(x)                  | ℝ (везде)                                 |
+---------------------------------+-------------------------------------------+
| Рациональная p(x)/q(x)          | ℝ \ {корни q(x)}                          |
+---------------------------------+-------------------------------------------+
| √x                              | [0, +∞)                                   |
+---------------------------------+-------------------------------------------+
| sin x, cos x                    | ℝ                                         |
+---------------------------------+-------------------------------------------+
| eˣ                              | ℝ                                         |
+---------------------------------+-------------------------------------------+
| ln x                            | (0, +∞)                                   |
+---------------------------------+-------------------------------------------+
| |x|                             | ℝ (но не дифференцируема в 0!)            |
+---------------------------------+-------------------------------------------+

===============================================================================
Производная — мгновенная скорость изменения
===============================================================================

 Визуализация: секущая → касательная


         y
         |              ╱
         |           ╱
         |        ╱     • (a+h, f(a+h))      секущая (наклон = Δf/Δx)
         |     •╱
         |   ╱
         | •---------------------          касательная (наклон = f'(a))
         |  (a, f(a))
         |
         |
         +----------------------------- x
               a    a+h

   При h → 0 секущая "поворачивается" и становится касательной.
   Наклон касательной = производная = lim[h→0] (f(a+h)−f(a))/h


 Определение производной
+-------------------------------+------------------------------------------+
| ФОРМУЛА                       | ИНТЕРПРЕТАЦИЯ                            |
+-------------------------------+------------------------------------------+
| f'(a) = lim (f(a+h)−f(a))/h   | Предел отношения приращений              |
| h→0                           |                                          |
+-------------------------------+------------------------------------------+
| f'(a) = lim (f(x)−f(a))/(x−a) | Эквивалентная форма                      |
| x→a                           |                                          |
+-------------------------------+------------------------------------------+
| ГЕОМЕТРИЧЕСКИ                 | Наклон касательной к графику в точке a   |
+-------------------------------+------------------------------------------+
| ФИЗИЧЕСКИ                     | Мгновенная скорость (если f = положение) |
+-------------------------------+------------------------------------------+
| АНАЛИТИЧЕСКИ                  | Лучшее линейное приближение:             |
|                               | f(a+h) ≈ f(a) + f'(a)·h                  |
+-------------------------------+------------------------------------------+

 Обозначения производной
+-------------+-----------------------------------------------------+
| ОБОЗНАЧЕНИЕ | КОГДА ИСПОЛЬЗУЕТСЯ                                  |
+-------------+-----------------------------------------------------+
| f'(x)       | Общее обозначение (Лагранж)                         |
+-------------+-----------------------------------------------------+
| df/dx       | Подчёркивает переменную дифференцирования (Лейбниц) |
+-------------+-----------------------------------------------------+
| Df          | Операторная запись                                  |
+-------------+-----------------------------------------------------+
| ḟ (точка)   | Производная по времени (физика)                     |
+-------------+-----------------------------------------------------+
| f'', f'''   | Вторая, третья производные                          |
| f⁽ⁿ⁾        | n-я производная                                     |
+-------------+-----------------------------------------------------+

 Связь дифференцируемости и непрерывности
+---------------------------------+-------------------------------------------+
| УТВЕРЖДЕНИЕ                     | ВЕРНО?                                    |
+---------------------------------+-------------------------------------------+
| Дифференцируема ⇒ Непрерывна   | ДА (всегда)                               |
+---------------------------------+-------------------------------------------+
| Непрерывна ⇒ Дифференцируема   | НЕТ. Контрпример: f(x)=|x| в точке 0     |
+---------------------------------+-------------------------------------------+
| Непрерывна, но нигде не дифф.   | Существует. (функция Вейерштрасса)        |
+---------------------------------+-------------------------------------------+

 Таблица производных
+---------------+---------------------+
| ФУНКЦИЯ f(x)  | ПРОИЗВОДНАЯ f'(x)   |
+---------------+---------------------+
| c (константа) | 0                   |
+---------------+---------------------+
| x             | 1                   |
+---------------+---------------------+
| xⁿ            | n·xⁿ⁻¹              |
+---------------+---------------------+
| eˣ            | eˣ                  |
+---------------+---------------------+
| aˣ            | aˣ · ln(a)          |
+---------------+---------------------+
| ln(x)         | 1/x                 |
+---------------+---------------------+
| logₐ(x)       | 1/(x·ln(a))         |
+---------------+---------------------+
| sin(x)        | cos(x)              |
+---------------+---------------------+
| cos(x)        | −sin(x)             |
+---------------+---------------------+
| tan(x)        | 1/cos²(x) = sec²(x) |
+---------------+---------------------+
| arcsin(x)     | 1/√(1−x²)           |
+---------------+---------------------+
| arccos(x)     | −1/√(1−x²)          |
+---------------+---------------------+
| arctan(x)     | 1/(1+x²)            |
+---------------+---------------------+
| √x            | 1/(2√x)             |
+---------------+---------------------+

 Правила дифференцирования
+------------------------+-----------------------------------+
| ПРАВИЛО                | ФОРМУЛА                           |
+------------------------+-----------------------------------+
| Линейность             | (αf + βg)' = αf' + βg'            |
+------------------------+-----------------------------------+
| Произведение (Лейбниц) | (f·g)' = f'·g + f·g'              |
+------------------------+-----------------------------------+
| Частное                | (f/g)' = (f'·g − f·g')/g²         |
+------------------------+-----------------------------------+
| Цепное правило         | (f(g(x)))' = f'(g(x))·g'(x)       |
| (композиция)           |                                   |
+------------------------+-----------------------------------+
| Обратная функция       | (f⁻¹)'(y) = 1/f'(x), где y = f(x) |
+------------------------+-----------------------------------+

 Примеры применения цепного правила
+----------+---------------------------+
| ФУНКЦИЯ  | ПРОИЗВОДНАЯ               |
+----------+---------------------------+
| sin(x²)  | cos(x²)·2x = 2x·cos(x²)   |
+----------+---------------------------+
| e^(3x)   | e^(3x)·3 = 3e^(3x)        |
+----------+---------------------------+
| ln(x²+1) | 2x/(x²+1)                 |
+----------+---------------------------+
| √(1−x²)  | −x/√(1−x²)                |
+----------+---------------------------+
| (x²+1)¹⁰ | 10(x²+1)⁹·2x = 20x(x²+1)⁹ |
+----------+---------------------------+

 Геометрический и физический смысл


 +--------------+----------------------------------+
 | КОНТЕКСТ     | СМЫСЛ ПРОИЗВОДНОЙ                |
 +--------------+----------------------------------+
 | Геометрия    | Наклон касательной               |
 | Движение     | Скорость (v = dx/dt)             |
 | Ускорение    | Вторая производная (a = d²x/dt²) |
 | Экономика    | Предельная прибыль/затраты       |
 | Теплотехника | Тепловой поток (q = −k·dT/dx)    |
 | Оптимизация  | f'(a) = 0 — кандидат в экстремум |
 +--------------+----------------------------------+

 Производная как линейное приближение:

   f(a + h) ≈ f(a) + f'(a)·h    (для малых h)

   Это касательная. Вблизи точки a функция ведёт себя почти линейно.


 Матрица Якоби — многомерная производная


 Для функции f: ℝⁿ → ℝᵐ матрица Якоби — это матрица частных производных:

       ⎛ ∂f₁/∂x₁  ∂f₁/∂x₂  .  ∂f₁/∂xₙ ⎞
   J = ⎜ ∂f₂/∂x₁  ∂f₂/∂x₂  .  ∂f₂/∂xₙ ⎟
       ⎜   ⋮         ⋮      ⋱      ⋮     ⎟
       ⎝ ∂fₘ/∂x₁  ∂fₘ/∂x₂  .  ∂fₘ/∂xₙ ⎠

-------------------------------------------------------------------------------
 Геометрический смысл: локальная замена координат
-------------------------------------------------------------------------------

 Вспомним: f'(a) — это наклон касательной, т.е. линейное приближение.

 В многомерном случае: J(a) — это линейное отображение, которое
 приближает f около точки a:

   f(a + h) ≈ f(a) + J(a)·h    (для малых h)

 Это значит:
   Около точки a преобразование f ведёт себя как линейная замена координат.

   Нелинейное f: линейное приближение j:

       ╭----╮                            ╭----╮
      ╱      ╲                          ╱      ╲
     |   ●    |  --→  ╭------╮         |   ●    |  --→  ╭--------╮
     |   a    |       |криво |         |   a    |       |линейно |
      ╲      ╱        ╰------╯          ╲      ╱        ╰--------╯
       ╰----╯                            ╰----╯

   Якобиан говорит: "локально, в малом масштабе, f — это линейное преобр."

-------------------------------------------------------------------------------
 Определитель якобиана = коэффициент растяжения объёма
-------------------------------------------------------------------------------

   |det J| — это во сколько раз преобразование f растягивает объём

   Пример: Полярные координаты (r, θ) → (x, y) = (r cos θ, r sin θ)

       ⎛ ∂x/∂r  ∂x/∂θ ⎞   ⎛ cos θ   −r sin θ ⎞
   J = ⎜               ⎟ = ⎜                  ⎟
       ⎝ ∂y/∂r  ∂y/∂θ ⎠   ⎝ sin θ    r cos θ ⎠

   det J = r·cos²θ + r·sin²θ = r

   Это значит: площадь "элементика" dr·dθ в полярных координатах
   соответствует площади r·dr·dθ в декартовых.

 Замена переменных в интеграле:

   ∫∫ f(x,y) dxdy = ∫∫ f(x(u,v), y(u,v)) · |det J| dudv

   Якобиан — "коэффициент пересчёта площади" при замене координат.

-------------------------------------------------------------------------------
 Теорема об обратной функции
-------------------------------------------------------------------------------

 Если det J(a) ≠ 0, то f локально обратима около a.

 Интуиция: Если якобиан не вырожден (не "сплющивает" пространство),
 то преобразование можно обратить в малой окрестности.

 Якобиан обратного отображения: J(f⁻¹) = J(f)⁻¹

 Практика: Если хотите проверить, можно ли "развернуть" преобразование
 координат — посчитайте определитель якобиана. Если ≠ 0 — можно.

-------------------------------------------------------------------------------
 Теорема о неявной функции
-------------------------------------------------------------------------------

 Дано: F(x, y) = 0 определяет y как функцию от x.

 Вопрос: Когда можно выразить y = y(x)?

 Ответ: Если ∂F/∂y ≠ 0, то локально y = y(x) существует и

        dy       ∂F/∂x
        -- = − ---------
        dx       ∂F/∂y

 Пример: Окружность x² + y² = 1
   F(x,y) = x² + y² − 1 = 0
   ∂F/∂y = 2y ≠ 0  (кроме y = 0, т.е. точек (±1, 0))
   dy/dx = −2x/(2y) = −x/y

   В точках (±1, 0) касательная вертикальна — y не выражается через x!

 Интуиция: Кривая F = 0 локально — график функции, если не вертикальна.


 Кратные интегралы и теорема Фубини


 Двойной интеграл: ∬_D f(x,y) dA — «объём под поверхностью z = f(x,y)»

 Теорема Фубини: Если f непрерывна на прямоугольнике [a,b]×[c,d]:

   ∬_D f(x,y) dA = ∫ₐᵇ (∫_c^d f(x,y) dy) dx = ∫_c^d (∫ₐᵇ f(x,y) dx) dy

   Порядок интегрирования можно менять.

 Для более сложных областей: пределы внутреннего интеграла зависят от
 внешней переменной.

 Пример: ∬_D xy dA, где D: 0 ≤ x ≤ 1, 0 ≤ y ≤ x

   = ∫₀¹ (∫₀ˣ xy dy) dx = ∫₀¹ x·[y²/2]₀ˣ dx = ∫₀¹ x³/2 dx = 1/8

 Замена переменных в кратных интегралах:

   ∬_D f(x,y) dxdy = ∬_D' f(x(u,v), y(u,v)) · |det J| dudv

 Полярные:  dxdy = r dr dθ
 Цилиндр.:  dxdydz = r dr dθ dz
 Сферич.:   dxdydz = r² sin φ dr dφ dθ


 Материальная (конвективная) производная — ключ к газодинамике


 Проблема: Есть поле температуры T(x, y, z, t). Как меняется температура
 Частицы жидкости, которая движется со скоростью v?

 +-------------------------------------------------------------------------+
 |                                                                         |
 |     t = 0           t = dt                                              |
 |                                                                         |
 |      ●------------→ ●                                                   |
 |   частица        частица                                                |
 |   в точке x     в точке x + v·dt                                     |
 |                                                                         |
 |   T(x, 0)        T(x + v·dt, dt)                                      |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Материальная производная:

   DT     ∂T                    ∂T       ∂T       ∂T
   -- = ---- + (v·∇)T = ---- + vₓ ---- + vᵧ ---- + v_z ----
   Dt     ∂t                    ∂t       ∂x       ∂y       ∂z

 +--------+---------------------------------------------------+
 | ЧЛЕН   | ФИЗИЧЕСКИЙ СМЫСЛ                                  |
 +--------+---------------------------------------------------+
 | ∂T/∂t  | Локальное изменение: поле меняется в данной точке |
 | (v·∇)T | Конвективное: частица переносится в другую точку  |
 +--------+---------------------------------------------------+

 Пример: Река с неоднородной температурой

   Стоишь на берегу, опустил термометр: T меняется (∂T/∂t ≠ 0) — это
   локальное изменение.

   Плывём в лодке: даже если ∂T/∂t = 0, температура вокруг нас меняется,
   потому что мы перемещаемся в области с другой T — это конвекция.

 Уравнение Навье-Стокса использует именно D/Dt:

   ρ Dv/Dt = −∇p + μ∇²v + ρg

   Левая часть — ускорение частицы (а не точки пространства)


===============================================================================
Интеграл — накопление изменения
===============================================================================

 Интуиция: площадь под графиком


 Определённый интеграл ∫ₐᵇ f(x)dx — это площадь под графиком f
 от x = a до x = b (с учётом знака: ниже оси — отрицательная).

           |
        f  |    ╱╲
           |   ╱██╲
           |  ╱████╲
           | ╱██████╲         ← заштрихованная площадь
         --+-------------
           a         b

 Физический смысл:
   • Если f(t) = скорость, то ∫ₐᵇ f(t)dt = пройденный путь
   • Если f(t) = мощность, то ∫ₐᵇ f(t)dt = работа
   • Если f(x) = плотность, то ∫ₐᵇ f(x)dx = масса


 Определение интеграла Римана


 Идея: Приближаем площадь суммой прямоугольников, затем устремляем
       ширину прямоугольников к нулю.

   Разбиение: a = x₀ &lt; x₁ &lt; x₂ &lt; ... &lt; xₙ = b
   Ширина: Δxᵢ = xᵢ − xᵢ₋₁
   Выбираем точку: ξᵢ ∈ [xᵢ₋₁, xᵢ]

   Интегральная сумма: Sₙ = Σᵢ f(ξᵢ)·Δxᵢ

 +---------------------------------------------------------------------+
 |                                                                     |
 | ∫ₐᵇ f(x)dx = lim Σᵢ f(ξᵢ)·Δxᵢ                                       |
 | max(Δxᵢ)→0                                                          |
 |                                                                     |
 | (предел должен существовать и не зависеть от выбора разбиения и ξᵢ) |
 |                                                                     |
 +---------------------------------------------------------------------+

 Функция интегрируема по Риману, если этот предел существует.

 Достаточное условие: Непрерывная на [a,b] ⇒ интегрируема.


 Конкретный пример: ∫₀¹ x dx


 Геометрически: площадь треугольника с вершинами (0,0), (1,0), (1,1).
 Ответ: ½ · 1 · 1 = 1/2

 Через интегральные суммы:
   Разбиваем [0,1] на n равных частей: Δx = 1/n
   Берём правые концы: ξᵢ = i/n

   Sₙ = Σᵢ₌₁ⁿ (i/n)·(1/n) = (1/n²) Σᵢ₌₁ⁿ i = (1/n²)·n(n+1)/2
      = (n+1)/(2n) = 1/2 + 1/(2n)

   lim Sₙ = lim (1/2 + 1/(2n)) = 1/2  ✓
   n→∞     n→∞


 Свойства интеграла


 1. Линейность:
    ∫ₐᵇ (αf + βg)dx = α∫ₐᵇ f dx + β∫ₐᵇ g dx

 2. аддитивность по отрезку:
    ∫ₐᵇ f dx + ∫ᵇᶜ f dx = ∫ₐᶜ f dx

 3. Монотонность:
    f(x) ≤ g(x) на [a,b]  ⇒  ∫ₐᵇ f dx ≤ ∫ₐᵇ g dx

 4. Оценка:
    m ≤ f(x) ≤ M на [a,b]  ⇒  m(b−a) ≤ ∫ₐᵇ f dx ≤ M(b−a)

 5. теорема о среднем:
    Если f непрерывна на [a,b], то ∃c ∈ (a,b): ∫ₐᵇ f dx = f(c)·(b−a)


===============================================================================
Основная теорема анализа — связь производной и интеграла
===============================================================================

 Теорема Ньютона-Лейбница


 +-------------------------------------------------------------------------+
 |                                                                         |
 |   Если F'(x) = f(x), то:                                                |
 |                                                                         |
 |              ∫ₐᵇ f(x)dx = F(b) − F(a)                                   |
 |                                                                         |
 |   Обозначение: F(x)|ₐᵇ = F(b) − F(a)                                    |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Смысл: Чтобы вычислить интеграл, достаточно найти первообразную F
        (функцию, производная которой равна f) и взять разность.

 Пример:
   ∫₀² x² dx = ?

   F(x) = x³/3  (проверка: (x³/3)' = 3x²/3 = x² ✓)

   ∫₀² x² dx = F(2) − F(0) = 8/3 − 0 = 8/3


 Вторая часть основной теоремы


 Пусть f непрерывна. Определим:

   F(x) = ∫ₐˣ f(t)dt   ("интеграл с переменным верхним пределом")

 +------------------------+
 |                        |
 | d/dx ∫ₐˣ f(t)dt = f(x) |
 |                        |
 +------------------------+

 Смысл: Производная интеграла = подынтегральная функция.
        Интегрирование и дифференцирование — обратные операции.

   d/dx и ∫dx — как возведение в степень и логарифм, или + и −.
   Одна "отменяет" другую.


 Таблица первообразных (неопределённых интегралов)
+---------------------------+-------------------------------------------------+
| ФУНКЦИЯ f(x)              | ПЕРВООБРАЗНАЯ ∫f(x)dx                           |
+---------------------------+-------------------------------------------------+
| xⁿ (n ≠ −1)               | xⁿ⁺¹/(n+1) + C                                  |
| 1/x                       | ln|x| + C                                       |
| eˣ                        | eˣ + C                                          |
| aˣ                        | aˣ/ln(a) + C                                    |
| sin(x)                    | −cos(x) + C                                     |
| cos(x)                    | sin(x) + C                                      |
| 1/cos²(x)                 | tan(x) + C                                      |
| 1/sin²(x)                 | −cot(x) + C                                     |
| 1/(1+x²)                  | arctan(x) + C                                   |
| 1/√(1−x²)                 | arcsin(x) + C                                   |
| 1/(x²+a²)                 | (1/a)arctan(x/a) + C                            |
| 1/√(x²±a²)                | ln|x + √(x²±a²)| + C                            |
+---------------------------+-------------------------------------------------+

 Методы интегрирования


 1. замена переменной (подстановка):
    ∫f(g(x))g'(x)dx = ∫f(u)du,  где u = g(x)

    Пример: ∫2x·eˣ² dx = ∫eᵘ du = eᵘ + C = eˣ² + C  (u = x²)

 2. интегрирование по частям:
    ∫u dv = uv − ∫v du

    Пример: ∫x·eˣ dx
    u = x, dv = eˣdx ⇒ du = dx, v = eˣ
    = x·eˣ − ∫eˣ dx = x·eˣ − eˣ + C = eˣ(x−1) + C

 3. разложение на простые дроби:
    Для рациональных функций P(x)/Q(x)

 4. тригонометрические подстановки:
    √(a²−x²): x = a·sin(θ)
    √(a²+x²): x = a·tan(θ)
    √(x²−a²): x = a·sec(θ)


 Пример для теплофизики: цикл карно как контурный интеграл


 Работа газа за цикл = ∮ P dV = площадь внутри цикла на P-V диаграмме

       P
       |     1
       |    ╱╲  изотерма T₁ (нагреватель)
       |   ╱  ╲
       |  ╱    ╲ 2
       | | работа|  адиабата
       | |  W&gt;0  |
       |  ╲    ╱ 3
       |   ╲  ╱
       |    ╲╱  изотерма T₂ (холодильник)
       |     4
       +------------------ V

 Почему ∮ P dV ≠ 0?
   Если бы P = P(V) была функцией только V, то ∮ P dV = 0 всегда.
   Но P = P(V, T) — зависит и от T.
   На верхней изотерме давление выше при том же V → работа положительна.

 Кпд цикла карно:

   η = W/Q₁ = (Q₁ - Q₂)/Q₁ = 1 - T₂/T₁

   Это максимальный кпд для любой машины между t₁ и t₂.
   (Следует из 2-го закона термодинамики)

 Связь с энтропией:
   Для обратимого процесса: ∮ dQ/T = 0
   Это значит: ∮ dS = 0 (энтропия — функция состояния)
   Математически: dS — точный дифференциал, а dQ — нет.

 Мораль: Криволинейный интеграл ∮ = 0 только для точного дифференциала.
         dQ не точный → можно извлекать работу. dS точный → возвращается.


===============================================================================
Приложения анализа
===============================================================================

 Приложения производных


 1. нахождение экстремумов:
    f'(x) = 0 — необходимое условие локального экстремума
    f''(x) &lt; 0 ⇒ локальный максимум
    f''(x) &gt; 0 ⇒ локальный минимум

 2. исследование функции:
    f' &gt; 0: возрастание
    f' &lt; 0: убывание
    f'' &gt; 0: выпуклость вниз (∪)
    f'' &lt; 0: выпуклость вверх (∩), вогнутость

 3. правило Лопиталя (для неопределённостей 0/0 или ∞/∞):
    lim f(x)/g(x) = lim f'(x)/g'(x)  (если правый предел существует)
    x→a           x→a

 4. ряд Тейлора (приближение функции многочленом):
    f(x) = f(a) + f'(a)(x−a) + f''(a)(x−a)²/2! + f'''(a)(x−a)³/3! + ...

    Справочная таблица разложений (a = 0, ряды Маклорена):

    +---------------------+---------------------------------------------+----------+
    | ФУНКЦИЯ             | РАЗЛОЖЕНИЕ                                  | РАДИУС R |
    +---------------------+---------------------------------------------+----------+
    | eˣ                  | 1 + x + x²/2! + x³/3! + ...                | ∞        |
    | sin x               | x − x³/3! + x⁵/5! − x⁷/7! + ...           | ∞        |
    | cos x               | 1 − x²/2! + x⁴/4! − x⁶/6! + ...           | ∞        |
    | sh x                | x + x³/3! + x⁵/5! + x⁷/7! + ...           | ∞        |
    | ch x                | 1 + x²/2! + x⁴/4! + x⁶/6! + ...           | ∞        |
    +---------------------+---------------------------------------------+----------+
    | 1/(1−x)             | 1 + x + x² + x³ + ...  (геометрический)    | 1        |
    | ln(1+x)             | x − x²/2 + x³/3 − x⁴/4 + ...              | 1        |
    | arctan x             | x − x³/3 + x⁵/5 − x⁷/7 + ...              | 1        |
    +---------------------+---------------------------------------------+----------+
    | (1+x)^α             | 1 + αx + α(α−1)x²/2! + ...  (бином)       | 1        |
    | Частные случаи:     |                                             |          |
    |   √(1+x)  (α=½)    | 1 + x/2 − x²/8 + x³/16 − ...              | 1        |
    |   1/(1+x)  (α=−1)  | 1 − x + x² − x³ + ...                      | 1        |
    |   1/(1+x)² (α=−2)  | 1 − 2x + 3x² − 4x³ + ...                   | 1        |
    +---------------------+---------------------------------------------+----------+

    R = радиус сходимости: ряд сходится при |x| < R, расходится при |x| > R.


 Приложения интегралов


 1. площадь между кривыми:
    S = ∫ₐᵇ |f(x) − g(x)| dx

 2. объём тела вращения:
    V = π ∫ₐᵇ [f(x)]² dx    (вращение вокруг оси x)

 3. длина кривой:
    L = ∫ₐᵇ √(1 + [f'(x)]²) dx

 4. площадь поверхности вращения:
    S = 2π ∫ₐᵇ f(x)√(1 + [f'(x)]²) dx

 5. физические приложения:
    • Работа: W = ∫ F dx
    • Центр масс: x̄ = ∫x·ρ(x)dx / ∫ρ(x)dx
    • Момент инерции: I = ∫r²·dm


 Связь с теплотехникой


 Уравнение теплопроводности:

   ∂T/∂t = α · ∂²T/∂x²

 Это дифференциальное уравнение в частных производных.
 Температура T зависит от времени t и координаты x.

 Закон Фурье (тепловой поток):
   q = −k · dT/dx
   Поток пропорционален градиенту температуры.
   Минус: тепло течёт от горячего к холодному.

 Стационарный случай (∂T/∂t = 0):
   d²T/dx² = 0  ⇒  T(x) = ax + b  (линейный профиль)

 Интеграл = накопление тепла:
   Q = ∫₀ᵗ P(τ)dτ  (энергия = интеграл мощности по времени)


===============================================================================
Сходимость рядов — когда бесконечная сумма имеет смысл
===============================================================================

 Проблема: что значит "бесконечная сумма"?


 Выражение a₁ + a₂ + a₃ + ... = Σₙ aₙ — это не обычная сумма.
 Мы не можем сложить бесконечно много чисел напрямую.

 Определение через предел частичных сумм:

   Sₙ = a₁ + a₂ + ... + aₙ  (n-я частичная сумма)

 +----------------------------------------------------+
 | Ряд Σaₙ сходится, если существует конечный предел: |
 |                                                    |
 | Σₙ₌₁^∞ aₙ = lim Sₙ = S                             |
 | n→∞                                                |
 |                                                    |
 | Иначе ряд расходится.                              |
 +----------------------------------------------------+


 Ключевые Примеры


 1. геометрический ряд:
    Σₙ₌₀^∞ rⁿ = 1 + r + r² + r³ + ...

    • |r| &lt; 1: сходится к 1/(1−r)
      Пример: 1 + ½ + ¼ + ⅛ + ... = 2

    • |r| ≥ 1: расходится
      Пример: 1 + 1 + 1 + ... = ∞

 2. гармонический ряд:
    Σₙ₌₁^∞ 1/n = 1 + ½ + ⅓ + ¼ + ... = ∞  (расходится).

    Хотя члены → 0, сумма всё равно бесконечна.
    (Доказательство: группируем 1/3+1/4 &gt; 1/2, 1/5+...+1/8 &gt; 1/2, и т.д.)

 3. p-ряды:
    Σₙ₌₁^∞ 1/nᵖ  сходится ⟺ p &gt; 1

    • Σ 1/n² = π²/6  (Базельская проблема, Эйлер 1734)
    • Σ 1/n  = ∞     (гармонический, p = 1)

 4. знакочередующийся ряд:
    1 − ½ + ⅓ − ¼ + ... = ln(2)  сходится (условно)


 Признаки сходимости — краткая таблица
+---------------------------+-------------------------------------------------+
| ПРИЗНАК                   | ФОРМУЛИРОВКА                                    |
+---------------------------+-------------------------------------------------+
| Необходимый               | Если Σaₙ сходится, то aₙ → 0                    |
| (но не достаточный)      | Обратное НЕВЕРНО: aₙ→0 ⇏ сходимость           |
+---------------------------+-------------------------------------------------+
| Сравнения                 | 0 ≤ aₙ ≤ bₙ, Σbₙ сход. ⇒ Σaₙ сход.            |
+---------------------------+-------------------------------------------------+
| Даламбера (предельный)    | lim |aₙ₊₁/aₙ| = L: L&lt;1 сход., L&gt;1 расх.       |
+---------------------------+-------------------------------------------------+
| Коши (корневой)           | lim ⁿ√|aₙ| = L: L&lt;1 сход., L&gt;1 расх.          |
+---------------------------+-------------------------------------------------+
| Интегральный              | Σf(n) сход. ⟺ ∫f(x)dx сход. (f↓, f&gt;0)         |
+---------------------------+-------------------------------------------------+
| Лейбница (знакочеред.)    | (−1)ⁿaₙ, aₙ↓0 ⇒ сходится                       |
+---------------------------+-------------------------------------------------+

 Абсолютная vs условная сходимость


 • Σaₙ сходится абсолютно, если сходится Σ|aₙ|
 • Σaₙ сходится условно, если Σaₙ сход., но Σ|aₙ| расход.

 Важно: Абсолютная сходимость ⇒ сходимость (обратное неверно)

 Пример:
   1 − ½ + ⅓ − ¼ + ... сходится условно
   (потому что 1 + ½ + ⅓ + ¼ + ... = ∞)

 Теорема Римана: Условно сходящийся ряд можно перестановкой членов
   сделать сходящимся к любому числу (или расходящимся)!

   Абсолютно сходящийся ряд можно переставлять как угодно —
   сумма не изменится.


===============================================================================
Дифференциальные уравнения — уравнения с производными
===============================================================================

 Дифференциальные уравнения как взгляд на пространство


 Всё, что изменяется — описывается дифференциальным уравнением.

 Температура стержня, колебание маятника, рост популяции, распад ядра,
 цена актива, нагрев бака — все эти процессы объединяет одно:
 скорость изменения величины зависит от самой величины.

 Дифференциальное уравнение — это закон, связывающий состояние системы
 с тем, как быстро она меняется. Решение ДУ — это не число, а функция:
 полная траектория системы во времени.

 В терминах пространств: ОДУ определяет векторное поле на пространстве
 состояний. В каждой точке — стрелка «куда двигаться». Решение — это
 интегральная кривая этого поля.


 Что такое дифференциальное уравнение


 Дифференциальное уравнение (ДУ) — уравнение, содержащее неизвестную
 функцию y(x) и её производные y', y'', ...

 Примеры:
   • y' = ky         (экспоненциальный рост/распад)
   • y'' + y = 0     (гармонический осциллятор)
   • y' = y(1−y)     (логистический рост)

 Решение ДУ — это функция y(x), удовлетворяющая уравнению.

 Порядок ДУ — наивысшая производная в уравнении.
   y' = ky — первого порядка
   y'' + y = 0 — второго порядка


 Классификация
+-------------------------+-----------------------------------------------------+
| ТИП                     | ОПИСАНИЕ                                            |
+-------------------------+-----------------------------------------------------+
| ОДУ (обыкновенное)      | Одна независимая переменная: y(x)                   |
|                         | Пример: y' = f(x, y)                                |
+-------------------------+-----------------------------------------------------+
| УЧП (в частных произв.) | Несколько независимых переменных: u(x,y,t)          |
|                         | Пример: ∂u/∂t = α·∂²u/∂x² (теплопроводность)        |
+-------------------------+-----------------------------------------------------+
| Линейное                | y и производные входят линейно                      |
|                         | Пример: y'' + p(x)y' + q(x)y = f(x)                 |
+-------------------------+-----------------------------------------------------+
| Нелинейное              | y или производные в степени &gt; 1, в произведениях |
|                         | Пример: y' = y², (y')² + y = 1                      |
+-------------------------+-----------------------------------------------------+
| Однородное              | f(x) = 0 (правая часть равна нулю)                  |
| Неоднородное            | f(x) ≠ 0                                            |
+-------------------------+-----------------------------------------------------+

 Как самостоятельно составить дифференциальное уравнение


 Дифференциальные уравнения не падают с неба — они строятся из
 Физических принципов. Вот алгоритм построения любого осмысленного ДУ:

   +---------------------+
   |   Физический        |
   |   объект            |  →  Что изучаем?
   +---------+-----------+
             ↓
   +---------------------+
   |   Физический        |
   |   процесс           |  →  Что происходит?
   +---------+-----------+
             ↓
   +---------------------+
   |   Элементарный      |
   |   объём             |  →  dx, dy, dz, dt
   +---------+-----------+
             ↓
   +---------------------+
   |   Закон             |
   |   сохранения        |  →  Что не меняется?
   +---------+-----------+
             ↓
   +---------------------+
   |  Дифференциальное   |
   |  уравнение          |  →  Математическая модель
   +---------------------+

-------------------------------------------------------------------------------
 Пример: уравнение теплопроводности
-------------------------------------------------------------------------------

 1. объект: стержень
 2. процесс: распространение тепла вдоль стержня
 3. элементарный объём: dx — малый кусок стержня
 4. закон сохранения: энергия (тепло, втекающее = тепло, вытекающее + накоп)

   • Тепловой поток в точке x:     q(x) = −k · ∂T/∂x  (закон Фурье)
   • Тепловой поток в точке x+dx:  q(x+dx) = −k · ∂T/∂x|_{x+dx}
   • Накопление тепла в объёме:    ρc · ∂T/∂t · dx
   • Баланс:  q(x) − q(x+dx) = ρc · ∂T/∂t · dx
   • Разложение:  q(x+dx) ≈ q(x) + ∂q/∂x · dx
   • Результат:  −∂q/∂x = ρc · ∂T/∂t
   • Подстановка:  k · ∂²T/∂x² = ρc · ∂T/∂t

   Итог: ∂T/∂t = α · ∂²T/∂x²,  где α = k/(ρc) — температуропроводность

-------------------------------------------------------------------------------
 Важное замечание
-------------------------------------------------------------------------------

 Практически любое ДУ, используемое в физике (Навье-Стокса, Максвелла,
 уравнение диффузии), можно технически решить даже в Excel.

 Каждой ячейке соответствует одно линейное уравнение, ссылающееся на
 соседние ячейки. На границе заданы константы (граничные условия).

 Это и есть суть численных методов: заменить производные на разности,
 непрерывное — на дискретное.


 Важнейшие ДУ и их решения


 1. экспоненциальный рост/распад:
    y' = ky
    Решение: y = Ceᵏˣ

    Примеры: радиоактивный распад (k&lt;0), рост популяции (k&gt;0),
             нагрев/охлаждение (закон Ньютона)

 2. гармонический осциллятор:
    y'' + ω²y = 0
    Решение: y = A·cos(ωx) + B·sin(ωx) = C·cos(ωx + φ)

    Примеры: маятник, пружина, колебания в цепях

 3. затухающие колебания:
    y'' + 2γy' + ω²y = 0
    Характеристическое уравнение: λ² + 2γλ + ω² = 0

    • γ &lt; ω: затухающие колебания (недодемпфирование)
    • γ = ω: критическое демпфирование
    • γ &gt; ω: апериодический режим (передемпфирование)

 4. уравнение теплопроводности (УЧП):
    ∂T/∂t = α·∂²T/∂x²

    Решение методом разделения переменных или Фурье-рядами

 5. волновое уравнение (УЧП):
    ∂²u/∂t² = c²·∂²u/∂x²

    Решение: u = f(x−ct) + g(x+ct) (волны, бегущие влево и вправо)


 Методы решения ОДУ первого порядка


 1. разделение переменных:
    Если y' = f(x)g(y), то dy/g(y) = f(x)dx → интегрируем обе части

    Пример: y' = xy
    dy/y = x dx → ln|y| = x²/2 + C → y = Aeˣ²/²

 2. линейное ОДУ 1-го порядка:
    y' + p(x)y = q(x)

    Интегрирующий множитель: μ(x) = e^{∫p(x)dx}
    Решение: y = (1/μ)∫μq dx

 3. однородное уравнение:
    y' = f(y/x)
    Замена: v = y/x, тогда y = vx, y' = v + xv'


 Начальные и краевые условия


 Общее решение ДУ содержит произвольные константы.
 Чтобы найти конкретное решение, нужны дополнительные условия:

 Начальные условия (задача Коши):
   Значения функции и производных в начальный момент
   y(0) = y₀, y'(0) = v₀, ...

 Краевые условия:
   Значения на границах области
   y(a) = A, y(b) = B

 Теорема существования и единственности (Пикара):
   Для y' = f(x,y), y(x₀) = y₀, если f непрерывна и удовлетворяет
   условию Липшица по y, то решение существует и единственно.


 Методы решения ОДУ второго порядка


 Линейное ОДУ 2-го порядка с постоянными коэффициентами:
   ay'' + by' + cy = f(x)

 Шаг 1: Решаем однородное уравнение (f(x) = 0)

   Ищем решение вида y = eˡˣ. Подставляем:
   a·λ²eˡˣ + b·λeˡˣ + c·eˡˣ = 0
   eˡˣ(aλ² + bλ + c) = 0

 +-------------------------------------------------+
 | ХАРАКТЕРИСТИЧЕСКОЕ УРАВНЕНИЕ:  aλ² + bλ + c = 0 |
 +-------------------------------------------------+

 Общее решение однородного в зависимости от корней λ₁, λ₂:

 +----------------+---------------------------------+
 | ДИСКРИМИНАНТ   | ОБЩЕЕ РЕШЕНИЕ                   |
 +----------------+---------------------------------+
 | D &gt; 0       | y = C₁eˡ¹ˣ + C₂eˡ²ˣ             |
 | (два веществ.) | (λ₁ ≠ λ₂ — разные вещественные) |
 +----------------+---------------------------------+
 | D = 0          | y = (C₁ + C₂x)eˡˣ               |
 | (один кратный) | (λ₁ = λ₂ = λ)                   |
 +----------------+---------------------------------+
 | D &lt; 0       | y = eᵅˣ(C₁cos(βx) + C₂sin(βx))  |
 | (комплексные)  | где λ = α ± iβ                  |
 +----------------+---------------------------------+

 Шаг 2: Находим частное решение неоднородного (метод вариации постоянных
        или метод неопределённых коэффициентов)

 Шаг 3: общее решение = общее однородного + частное неоднородного

 Пример: y'' + 4y = 0
   λ² + 4 = 0 → λ = ±2i → y = C₁cos(2x) + C₂sin(2x)


 Преобразование Лапласа — мощный инструмент


 +--------------------------------------------------------------------+
 | ОПРЕДЕЛЕНИЕ:                                                       |
 | ∞                                                                  |
 | ℒ{f(t)} = F(s) = ∫  e⁻ˢᵗ f(t) dt                                   |
 | 0                                                                  |
 |                                                                    |
 | Превращает функцию времени f(t) в функцию комплексной частоты F(s) |
 +--------------------------------------------------------------------+

 Зачем нужно:
   • Превращает ДУ в алгебраические уравнения
   • Автоматически учитывает начальные условия
   • Идеально для линейных систем, теории управления

 Ключевое свойство — производная:
   ℒ{f'(t)} = sF(s) − f(0)
   ℒ{f''(t)} = s²F(s) − sf(0) − f'(0)

   Дифференцирование → умножение на s (плюс начальные условия)


 Таблица преобразований Лапласа
+-------------------------+-------------------+
| f(t)                    | F(s) = ℒ{f(t)}    |
+-------------------------+-------------------+
| 1                       | 1/s               |
+-------------------------+-------------------+
| t                       | 1/s²              |
+-------------------------+-------------------+
| tⁿ                      | n!/sⁿ⁺¹           |
+-------------------------+-------------------+
| eᵃᵗ                     | 1/(s−a)           |
+-------------------------+-------------------+
| sin(ωt)                 | ω/(s²+ω²)         |
+-------------------------+-------------------+
| cos(ωt)                 | s/(s²+ω²)         |
+-------------------------+-------------------+
| eᵃᵗsin(ωt)              | ω/((s−a)²+ω²)     |
+-------------------------+-------------------+
| eᵃᵗcos(ωt)              | (s−a)/((s−a)²+ω²) |
+-------------------------+-------------------+
| δ(t) (дельта-функция)   | 1                 |
+-------------------------+-------------------+
| u(t) (единичный скачок) | 1/s               |
+-------------------------+-------------------+

 Пример: решение ДУ преобразованием Лапласа


 Задача: y'' + 4y = 0,  y(0) = 1,  y'(0) = 0

 Шаг 1: Применяем ℒ к обеим сторонам
   ℒ{y''} + 4ℒ{y} = 0
   [s²Y(s) − sy(0) − y'(0)] + 4Y(s) = 0
   [s²Y(s) − s·1 − 0] + 4Y(s) = 0

 Шаг 2: Решаем алгебраическое уравнение
   (s² + 4)Y(s) = s
   Y(s) = s/(s² + 4)

 Шаг 3: Обратное преобразование (по таблице)
   Y(s) = s/(s² + 2²) → y(t) = cos(2t)

 Ответ: y(t) = cos(2t)


 Таблица преобразований Фурье

 Определение: ℱ{f(t)} = F(ω) = ∫_{−∞}^{∞} f(t)·e^{−iωt} dt

+----------------------------+------------------------------+
| f(t)                       | F(ω) = ℱ{f(t)}              |
+----------------------------+------------------------------+
| δ(t)                       | 1                            |
+----------------------------+------------------------------+
| 1                          | 2π·δ(ω)                      |
+----------------------------+------------------------------+
| e^{iω₀t}                   | 2π·δ(ω − ω₀)                |
+----------------------------+------------------------------+
| cos(ω₀t)                   | π[δ(ω−ω₀) + δ(ω+ω₀)]        |
+----------------------------+------------------------------+
| sin(ω₀t)                   | πi[δ(ω+ω₀) − δ(ω−ω₀)]       |
+----------------------------+------------------------------+
| e^{−a|t|}  (a>0)           | 2a/(a² + ω²)                |
+----------------------------+------------------------------+
| e^{−at²}  (гауссиан)      | √(π/a)·e^{−ω²/(4a)}         |
+----------------------------+------------------------------+
| rect(t/τ) (прямоугольник)  | τ·sinc(ωτ/2)                 |
+----------------------------+------------------------------+
| u(t)·e^{−at} (a>0)         | 1/(a + iω)                   |
+----------------------------+------------------------------+
| t·u(t)·e^{−at}             | 1/(a + iω)²                  |
+----------------------------+------------------------------+

 Ключевые свойства:
   Линейность:   ℱ{af + bg} = aF + bG
   Сдвиг:        ℱ{f(t−t₀)} = e^{−iωt₀}F(ω)
   Модуляция:    ℱ{e^{iω₀t}f(t)} = F(ω − ω₀)
   Свёртка:      ℱ{f * g} = F · G
   Производная:  ℱ{f'(t)} = iω·F(ω)
   Парсеваль:    ∫|f(t)|²dt = (1/2π)∫|F(ω)|²dω


 Сводная таблица: основные УЧП математической физики


 +--------------+-----------------+-----------------+------------------+
 | УРАВНЕНИЕ    | ФОРМУЛА         | ТИП             | ФИЗИКА           |
 +--------------+-----------------+-----------------+------------------+
 | Теплопров-ти | ∂u/∂t = α∇²u    | Параболическое  | Диффузия,        |
 |              |                 |                 | теплообмен       |
 +--------------+-----------------+-----------------+------------------+
 | Волновое     | ∂²u/∂t² = c²∇²u | Гиперболическое | Колебания,       |
 |              |                 |                 | волны, звук      |
 +--------------+-----------------+-----------------+------------------+
 | Лапласа      | ∇²u = 0         | Эллиптическое   | Стационарные     |
 |              |                 |                 | поля, потенциалы |
 +--------------+-----------------+-----------------+------------------+
 | Пуассона     | ∇²u = f         | Эллиптическое   | Электростатика,  |
 |              |                 |                 | гравитация       |
 +--------------+-----------------+-----------------+------------------+
 | Шрёдингера   | iℏ∂ψ/∂t = Ĥψ    | Параболическое  | Квантовая        |
 |              |                 | (в t)           | механика         |
 +--------------+-----------------+-----------------+------------------+
 | Навье-Стокса | ∂v/∂t + (v·∇)v  | Нелинейное.     | Гидродинамика    |
 |              | = −∇p/ρ + ν∇²v  |                 |                  |
 +--------------+-----------------+-----------------+------------------+

 Классификация по характеристикам (для линейных 2-го порядка):

 +-----------------+------------------+----------------------------+
 | ТИП             | ДИСКРИМИНАНТ     | ПОВЕДЕНИЕ РЕШЕНИЙ          |
 +-----------------+------------------+----------------------------+
 | Эллиптический   | B² − 4AC &lt; 0  | Гладкие, макс. внутри      |
 | (Лаплас)        | (нет вещ. хар-к) | Краевые задачи             |
 +-----------------+------------------+----------------------------+
 | Параболический  | B² − 4AC = 0     | Сглаживание, диффузия      |
 | (Теплопроводн.) | (одна хар-ка)    | Нач. + краевые условия     |
 +-----------------+------------------+----------------------------+
 | Гиперболический | B² − 4AC &gt; 0  | Волны, разрывы сохраняются |
 | (Волновое)      | (две хар-ки)     | Задача Коши                |
 +-----------------+------------------+----------------------------+


 Граничные условия — как задать задачу


 УЧП без граничных условий имеет бесконечно много решений.
 Граничные условия выбирают единственное физически осмысленное.

 +-------------+------------------+-------------------------------------------+
 | ТИП         | ФОРМУЛА          | ФИЗИЧЕСКИЙ СМЫСЛ                          |
 +-------------+------------------+-------------------------------------------+
 | Дирихле     | u|_∂Ω = g        | Задана температура на границе             |
 |             |                  | (термостат)                               |
 +-------------+------------------+-------------------------------------------+
 | Нейман      | ∂u/∂n|_∂Ω = h    | Задан тепловой поток через границу        |
 |             |                  | (изоляция при h=0)                        |
 +-------------+------------------+-------------------------------------------+
 | Робен       | (∂u/∂n + αu)|_∂Ω | Конвективный теплообмен со средой         |
 | (третьего   | = h              | (закон Ньютона-Рихмана):                  |
 | рода)       |                  | q = α(T_пов − T_среды)                    |
 +-------------+------------------+-------------------------------------------+

 Для инженера: Дирихле — термостат, Нейман — изоляция/нагреватель,
 Робен — свободный теплообмен с воздухом.


 Метод разделения переменных — пример


 Задача: ∂T/∂t = α·∂²T/∂x² на [0, L], T(0,t) = T(L,t) = 0, T(x,0) = f(x)

 Идея: ищем T(x,t) = X(x)·Θ(t) — произведение функции x и функции t.

 Подстановка: X·Θ' = α·X''·Θ  →  Θ'/(αΘ) = X''/X = −λ  (= const)

 Два ОДУ вместо одного УЧП:
   X'' + λX = 0,   X(0) = X(L) = 0   →  Xₙ = sin(nπx/L),  λₙ = (nπ/L)²
   Θ' + αλₙΘ = 0                      →  Θₙ = e^{−α(nπ/L)²t}

 Общее решение (суперпозиция):
   T(x,t) = Σₙ bₙ · sin(nπx/L) · e^{−α(nπ/L)²t}

 Коэффициенты из начального условия (ряд Фурье):
   bₙ = (2/L) ∫₀ᴸ f(x)·sin(nπx/L) dx

 Физический смысл: каждая гармоника затухает экспоненциально,
 высокие частоты (большие n) затухают быстрее — тепло «сглаживает».


===============================================================================
Равномерная сходимость — ключевое понятие
===============================================================================

 Проблема: Когда можно переставлять пределы?


 Пусть fₙ(x) → f(x) при n → ∞. Верны ли равенства?

   lim ∫fₙ(x)dx  =?  ∫ lim fₙ(x) dx     (предел интеграла = интеграл предела)
   n→∞               n→∞

   lim fₙ'(x)    =?  (lim fₙ(x))'        (предел производных = производная)
   n→∞               n→∞

 Ответ: В общем случае — нет.

 Контрпример:
   fₙ(x) = xⁿ на [0,1]
   fₙ(x) → f(x) = { 0, если x &lt; 1
                  { 1, если x = 1
   ∫₀¹ fₙ dx = 1/(n+1) → 0
   ∫₀¹ f dx  = 0       ✓ (совпало случайно)

   Но f — разрывна, хотя все fₙ непрерывны.
   Предел непрерывных функций не обязан быть непрерывным.


 Два типа сходимости


 +-------------------------------------------------------------------------+
 | ПОТОЧЕЧНАЯ СХОДИМОСТЬ                                                   |
 | fₙ → f поточечно, если ∀x: lim fₙ(x) = f(x)                            |
 |                           n→∞                                           |
 |                                                                         |
 | Формально: ∀x ∀ε&gt;0 ∃N(x,ε): n&gt;N ⇒ |fₙ(x)−f(x)| &lt; ε                    |
 |                    ↑                                                    |
 |            N зависит от x!                                              |
 +-------------------------------------------------------------------------+

 +-------------------------------------------------------------------------+
 | РАВНОМЕРНАЯ СХОДИМОСТЬ                                                  |
 | fₙ ⇉ f равномерно, если сходимость "одинаково быстрая" для всех x      |
 |                                                                         |
 | Формально: ∀ε&gt;0 ∃N(ε): ∀x ∀n&gt;N ⇒ |fₙ(x)−f(x)| &lt; ε                     |
 |                  ↑                                                      |
 |          N не зависит от x!                                             |
 +-------------------------------------------------------------------------+

 Эквивалентное условие:
   fₙ ⇉ f  ⟺  sup|fₙ(x) − f(x)| → 0
              x

 Визуально:
   Равномерная сходимость = график fₙ целиком попадает в ε-трубку
   вокруг графика f (для достаточно больших n)

       f(x)+ε -------------------------
              ~~~~~~~~fₙ(x)~~~~~~~~~   ← fₙ внутри трубки
       f(x)   =========================
              ~~~~~~~~~~~~~~~~~~~~~~~~
       f(x)−ε -------------------------


 Почему равномерная сходимость важна


 Теоремы о перестановке пределов:

 +------------------------------------------------------+
 | Если fₙ ⇉ f РАВНОМЕРНО на [a,b]:                     |
 |                                                      |
 | 1. ПРЕДЕЛ СОХРАНЯЕТ НЕПРЕРЫВНОСТЬ:                   |
 | fₙ непрерывны ⇒ f непрерывна                         |
 |                                                      |
 | 2. МОЖНО ПЕРЕСТАВЛЯТЬ ПРЕДЕЛ и ИНТЕГРАЛ:             |
 | lim ∫fₙ dx = ∫ lim fₙ dx = ∫f dx                     |
 | n→∞         n→∞                                      |
 |                                                      |
 | 3. МОЖНО ПЕРЕСТАВЛЯТЬ ПРЕДЕЛ и ПРОИЗВОДНУЮ:          |
 | Если fₙ' ⇉ g равномерно и fₙ(x₀) сходится, то f' = g |
 +------------------------------------------------------+

 Без равномерности эти утверждения ложны.


 Критерий равномерной сходимости рядов (признак Вейерштрасса)


 Пусть Σuₙ(x) — функциональный ряд.

 +-------------------------------------------------------------------------+
 | ПРИЗНАК ВЕЙЕРШТРАССА (M-test):                                          |
 |                                                                         |
 | Если существуют числа Mₙ ≥ 0 такие, что:                                |
 |   1. |uₙ(x)| ≤ Mₙ для всех x                                           |
 |   2. Σ Mₙ сходится (числовой ряд)                                      |
 |                                                                         |
 | Тогда Σuₙ(x) сходится РАВНОМЕРНО и АБСОЛЮТНО.                          |
 +-------------------------------------------------------------------------+

 Пример: Ряд Σ xⁿ/n² на [−1, 1]
   |xⁿ/n²| ≤ 1/n² = Mₙ
   Σ 1/n² сходится (p-ряд, p=2&gt;1)
   ⇒ ряд сходится равномерно на [−1, 1]


 Степенные ряды и равномерная сходимость


 Степенной ряд Σaₙxⁿ имеет радиус сходимости r:
   • |x| &lt; R: ряд сходится абсолютно
   • |x| &gt; R: ряд расходится
   • |x| = R: нужно проверять отдельно

 Формула Коши-Адамара:  1/R = lim sup ⁿ√|aₙ|
                              n→∞

 Ключевой факт:
   На любом отрезке [−r, r] с r &lt; R степенной ряд
   сходится равномерно.

   Поэтому можно почленно дифференцировать и интегрировать
   степенные ряды внутри круга сходимости.


 Прикладной пример: динамика бака-аккумулятора


 Задача: Бак-аккумулятор горячей воды. Приток и отток меняются во времени.
 Как меняется температура воды?

           Gвх, Tвх
              ↓
         +===========+
         |           |      V — объём бака
         |    T(t)   |      T(t) — температура воды
         |           |      Gвх, Gвых — расходы (кг/с)
         +===========+
              ↓
           Gвых, T

 Уравнение теплового баланса:

   ρVc · dT/dt = Gвх·c·(Tвх − T) + Qпотерь
       ↑            ↑                  ↑
   накопление    приток тепла      потери наружу

-------------------------------------------------------------------------------
 Производная — это скорость изменения:
-------------------------------------------------------------------------------

   dT/dt = скорость изменения температуры [°C/с]

   • dT/dt &gt; 0: бак нагревается
   • dT/dt &lt; 0: бак остывает
   • dT/dt = 0: стационарный режим (температура постоянна)

-------------------------------------------------------------------------------
 Интеграл — это накопление:
-------------------------------------------------------------------------------

   Накопленное тепло за время [0, t]:

   Q = ∫₀ᵗ Gвх·c·(Tвх − T) dτ     [Дж]

   Если Gвх = 1 кг/с, Tвх = 80°C, T = 60°C, c = 4200 Дж/(кг·К):
   За 1 час (3600 с): Q = 1 × 4200 × 20 × 3600 = 302 МДж

-------------------------------------------------------------------------------
 Численный пример:
-------------------------------------------------------------------------------

   V = 1 м³, ρ = 1000 кг/м³, c = 4200 Дж/(кг·К)
   Gвх = 0.1 кг/с, Tвх = 90°C, начальная T₀ = 20°C
   Потери: Qпотерь = −100·(T − Tокр), Tокр = 20°C

   Постоянная времени: τ = ρVc / (Gвх·c + k) ≈ 4.2×10⁶ / (420 + 100)
                      ≈ 8000 с ≈ 2.2 часа

   За время τ температура достигает ~63% от установившегося значения.

-------------------------------------------------------------------------------

 Мораль: Производная = мгновенная скорость изменения.
 Интеграл = накопленный эффект за время. Это язык тепловой динамики.


-------------------------------------------------------------------------------


Матанализ работает с функциями как с объектами. Но множество функций —
это тоже пространство, причём бесконечномерное. Можно ли на нём делать
линейную алгебру?

Можно. Ряды — это координаты функции в базисе {1, x, x², ...} или {eⁱⁿˣ}.
Это мост к функциональному анализу — линейной алгебре на пространствах функций.
===============================================================================
Ряды и функциональные пространства — мост к функанализу
===============================================================================

 Ряды как взгляд на пространство функций


 Функции образуют бесконечномерное пространство. Ряды Фурье и Тейлора —
 это координаты функции в этом пространстве относительно выбранного базиса.

   • Базис Тейлора: 1, x, x², x³, ... (степенные функции)
   • Базис Фурье:   eⁱⁿˣ = cos(nx) + i·sin(nx) (гармоники)

 Коэффициенты ряда = координаты функции = проекции на базисные векторы.
 Это превращает анализ в линейную алгебру бесконечной размерности.


 Предварительное знание: Для рядов Фурье используется базис eⁱⁿˣ.
     Напоминание: формула Эйлера eⁱˣ = cos x + i sin x.

 Зачем этот раздел здесь


 Этот раздел — мост между матанализом и функанализом.

 Ключевая идея: функции образуют векторное пространство.
 Эта мысль превращает анализ в линейную алгебру бесконечной размерности.

 Ряды Тейлора и Фурье — это разложение функций по базису.
 Коэффициенты Фурье — это координаты функции в этом базисе.

 Понимание этого раздела делает функанализ естественным.


 Ключевое открытие


 Функции образуют векторное пространство.

   • Можно складывать: (f + g)(x) = f(x) + g(x)
   • Можно умножать на число: (cf)(x) = c·f(x)
   • Есть нулевой элемент: f(x) = 0

 Значит вся линейная алгебра работает для функций.
   • Базис
   • Разложение по базису
   • Скалярное произведение
   • Ортогональность


 Один паттерн — три реализации
+------------------------+-------------------------+-----------------------+
| КОНЕЧНОМЕРНОЕ          | РЯД ТЕЙЛОРА             | РЯД ФУРЬЕ             |
| (обычные векторы)      |                         |                       |
+------------------------+-------------------------+-----------------------+
|                        |                         |                       |
| Пространство ℝⁿ        | Гладкие функции         | Периодические функции |
|                        |                         |                       |
+------------------------+-------------------------+-----------------------+
|                        |                         |                       |
| Базис: e₁, e₂, ..., eₙ | Базис: 1, x, x², x³, ... | Базис: eⁱⁿˣ (n ∈ ℤ)   |
|                        |                         |                       |
+------------------------+-------------------------+-----------------------+
|                        |                         |                       |
| Вектор v = Σ vᵢeᵢ      | f(x) = Σ aₙxⁿ           | f(x) = Σ cₙeⁱⁿˣ       |
|                        |                         |                       |
+------------------------+-------------------------+-----------------------+
|                        |                         |                       |
| Коэффициент vᵢ = v·eᵢ  | aₙ = f⁽ⁿ⁾(0)/n!         | cₙ = ⟨f, eⁱⁿˣ⟩        |
| (скал. произведение)   | (производная)           | (интеграл)           |
|                        |                         |                       |
+------------------------+-------------------------+-----------------------+
|                        |                         |                       |
| Размерность: n         | Размерность: ∞          | Размерность: ∞        |
|                        |                         |                       |
+------------------------+-------------------------+-----------------------+

 Скалярное произведение функций


 Для векторов: ⟨u, v⟩ = Σᵢ uᵢvᵢ

 Для функций:  ⟨f, g⟩ = ∫ f(x)g̅(x) dx   ← сумма заменяется интегралом.

 (Для комплексных функций берём сопряжённое g̅, чтобы ⟨f,f⟩ ≥ 0)

 Ортогональность: ⟨f, g⟩ = 0

 Важно: Это скалярное произведение превращает функции в гильбертово
 пространство L². Вся конструкция рядов Фурье — это применение
 ортогональных проекций в бесконечномерном гильбертовом пространстве.

 Факт: функции eⁱⁿˣ ортогональны друг другу.
       ⟨eⁱᵐˣ, eⁱⁿˣ⟩ = ∫₋π^π eⁱ⁽ᵐ⁻ⁿ⁾ˣ dx = 0  при m ≠ n

 Поэтому коэффициенты Фурье находятся так же, как в конечномерном случае:
   cₙ = ⟨f, eⁱⁿˣ⟩ / ⟨eⁱⁿˣ, eⁱⁿˣ⟩  (проекция на базисный вектор)


 Сравнение: локальное vs глобальное
+------------------------+----------------------------+
| ТЕЙЛОР                 | ФУРЬЕ                      |
+------------------------+----------------------------+
| Разложение ОКОЛО ТОЧКИ | Разложение НА ВСЁМ ПЕРИОДЕ |
| (локальная информация) | (глобальная информация)    |
+------------------------+----------------------------+
| Коэффициенты из        | Коэффициенты из            |
| ПРОИЗВОДНЫХ в точке    | ИНТЕГРАЛОВ по периоду      |
+------------------------+----------------------------+
| Требует бесконечную    | Работает даже для          |
| дифференцируемость     | разрывных функций.         |
+------------------------+----------------------------+
| Применение:            | Применение:                |
| • Приближённые вычисл. | • Анализ сигналов          |
| • Анализ поведения     | • Обработка звука/изобр.   |
| • Решение ДУ рядами    | • Сжатие (JPEG, MP3)       |
+------------------------+----------------------------+

 Конкретный пример: пульсации давления в трубопроводе


 Задача: Насос создаёт пульсации давления. Датчик снимает сигнал p(t).
 Вопрос: какие частоты присутствуют? Есть ли резонанс с трубой?

 Сигнал с датчика (условно):

   p(t) |    ╱╲    ╱╲    ╱╲    ╱╲
        |   ╱  ╲  ╱  ╲  ╱  ╲  ╱  ╲   ← основная частота насоса
        |  ╱~~~~╲╱~~~~╲╱~~~~╲╱~~~~╲  ← "рябь" на пиках
        |--------------------------→ t

 Разложение Фурье:

   p(t) = p₀ + A₁sin(ωt) + A₂sin(2ωt) + A₃sin(3ωt) + ...

   • p₀ = среднее давление (постоянная составляющая)
   • ω = частота вращения насоса (основная гармоника)
   • 2ω, 3ω, ... = высшие гармоники ("рябь")

 Спектр (амплитуды):

   |Aₙ| | █
        | █
        | █  █
        | █  █  █
        | █  █  █  █
        |-----------------→ n (номер гармоники)
          2  3  4

 Что даёт спектр:
   • Пик на частоте 47 Гц → это частота вращения вала насоса
   • Пик на 94 Гц (2×47) → двухлопастное колесо
   • Неожиданный пик на 120 Гц → резонанс с собственной частотой трубы.

 Вывод: Фурье превращает "кашу" во времени в чёткую картину по частотам.


 Формулы (для вычислений)


 Тейлор около a:
   f(x) = f(a) + f'(a)(x−a) + f''(a)(x−a)²/2! + f'''(a)(x−a)³/3! + ...

 Важные ряды (a = 0):
   eˣ = 1 + x + x²/2! + x³/3! + ...
   sin x = x − x³/3! + x⁵/5! − ...
   cos x = 1 − x²/2! + x⁴/4! − ...
   1/(1−x) = 1 + x + x² + x³ + ...  (|x| &lt; 1)

 Фурье:
   f(x) = Σₙ cₙ eⁱⁿˣ,  где  cₙ = (1/2π) ∫₋π^π f(x) e⁻ⁱⁿˣ dx


 Магия Фурье: свёртка ↔ умножение


 Свёртка (convolution) — важнейшая операция в обработке сигналов:

   (f ∗ g)(t) = ∫ f(τ) g(t − τ) dτ

 Смысл: "размазывание" функции f с "ядром" g
   • Фильтрация сигналов
   • Сглаживание (гауссово размытие)
   • Отклик линейной системы

 Проблема: Свёртка — сложная операция (интеграл по всем сдвигам)

 Теорема о свёртке:
 +------------------------------------------------------+
 |                                                      |
 | F[f ∗ g] = F[f] · F[g]                               |
 |                                                      |
 | Преобразование Фурье превращает свёртку в умножение. |
 |                                                      |
 +------------------------------------------------------+

 Визуализация:

   Временна́я область              Частотная область
   (сложно)                        (просто)

      f(t), g(t)      --F--→       F(ω), G(ω)
          |                            |
          | свёртка                    | умножение
          ↓                            ↓
      (f ∗ g)(t)      ←-F⁻¹-      F(ω) · G(ω)

 Практическое значение:
   Вместо сложного интеграла (O(n²)) делаем:
   1. БПФ входа       — O(n log n)
   2. Умножение       — O(n)
   3. Обратное БПФ    — O(n log n)
   Итого: O(n log n) вместо O(n²) — огромный выигрыш.

 Примеры применения:
   • Обработка изображений (фильтры в Photoshop)
   • Распознавание речи
   • Решение дифференциальных уравнений
   • Нейросети (свёрточные слои)
   • Умножение больших чисел (алгоритм Шёнхаге-Штрассена)

 Обратная теорема:
   F[f · g] = F[f] ∗ F[g]    (умножение ↔ свёртка в обратную сторону)

 Глубинный смысл:
   Преобразование Фурье — это изоморфизм между двумя алгебрами:
   (функции, свёртка) ≅ (функции, умножение)
   Сложная структура в одном мире = простая в другом.


 Куда ведёт


 Функциональный анализ: изучение бесконечномерных пространств функций
   Гильбертово пространство L² = {f: ∫|f|² &lt; ∞} со скал. произведением

 Квантовая механика: состояние ψ ∈ L², наблюдаемые — операторы
   Разложение ψ по собственным функциям = суперпозиция состояний

 Обработка сигналов: БПФ (быстрое преобразование Фурье)
   O(n log n) вместо O(n²) — революция в вычислениях

 Теория представлений: базис eⁱⁿˣ = представление группы U(1).
   Обобщение на другие группы → гармонический анализ


-------------------------------------------------------------------------------


Ряды показали: функции — это точки бесконечномерного пространства.
Теперь нужна теория таких пространств. Что значит "норма функции"?
Когда ряд сходится? Какие операторы непрерывны?

Функциональный анализ — это линейная алгебра в бесконечной размерности.
Всё то же (нормы, скалярные произведения, проекции), но с новыми эффектами.
-------------------------------------------------------------------------------

===============================================================================
Функциональный анализ — бесконечномерные пространства
===============================================================================

 Главная идея: функции — это "точки" в бесконечномерном пространстве


 Этот раздел — не про новые формулы. Он про смену точки зрения.

 В школе: функция f(x) = x² — это "правило", формула, график.

 Новый взгляд: функция f — это точка в пространстве всех функций.

-------------------------------------------------------------------------------

 Аналогия: конечное → бесконечное

   В ℝ³ точка задаётся 3 координатами:

       v = (v₁, v₂, v₃)    — три числа определяют вектор

   Функция f на [0,1] задаётся бесконечно многими координатами:

       f = (f(0), f(0.01), f(0.02), ..., f(0.99), f(1))

   Каждое значение f(t) — это "координата" функции в "направлении t".

       y
       ↑     ╭--╮
       |    ╱    ╲
       |   ╱      ╲
       |  ╱        ╲     f(t)
       | ╱          ╲
       +-----------------→ t
          0.5    1

   Эта кривая — не график. Это одна точка f в бесконечномерном пространстве.


 Почему это полезно


 Если функции — точки пространства, то:

   +------------------------+----------------------------------------------+
   | КОНЕЧНОМЕРНОЕ          | БЕСКОНЕЧНОМЕРНОЕ (функции)                   |
   +------------------------+----------------------------------------------+
   | Вектор v ∈ ℝⁿ          | Функция f ∈ L²                              |
   | Длина ‖v‖ = √(Σvᵢ²)    | Норма ‖f‖ = √(∫|f|²dx)                      |
   | Расстояние ‖v−w‖       | Расстояние ‖f−g‖ между функциями            |
   | Угол cos θ = (v·w)/‖v‖‖w‖ | "Угол" через ⟨f,g⟩ = ∫fg dx            |
   | Ортогональность v⊥w    | Ортогональность ⟨f,g⟩ = 0                  |
   | Базис {e₁,...,eₙ}      | Базис {sin(nx), cos(nx)} или {eⁱⁿˣ}        |
   | Разложение v = Σvᵢeᵢ   | Ряд Фурье f = Σcₙeⁱⁿˣ                      |
   | Проекция на подпр-во   | Наилучшее приближение (МНК)                |
   | Линейный оператор A    | Дифференциальный оператор d/dx             |
   | Собственные значения   | Спектр оператора (резонансы)               |
   +------------------------+----------------------------------------------+

 Вся линейная алгебра работает для функций.
 Но есть тонкости: бесконечность создаёт новые эффекты (см. ниже).


 Ловушки бесконечномерности — где интуиция из ℝⁿ ломается


 +--------------------------+-----------------+-------------------------+
 | Свойство                 | В ℝⁿ            | В L² / ℓ²               |
 +--------------------------+-----------------+-------------------------+
 | Замкнутый шар            | Компактен       | не компактен.           |
 | {‖x‖ ≤ 1}                | (Гейне-Борель)  | (бесконечная посл-ть    |
 |                          |                 | без сход. подпосл)     |
 +--------------------------+-----------------+-------------------------+
 | Все нормы                | Эквивалентны    | не эквивалентны.        |
 |                          |                 | ‖f‖₁ ≠ ‖f‖₂ ≠ ‖f‖_∞     |
 +--------------------------+-----------------+-------------------------+
 | Сходимость xₙ → x        | По любой норме  | Разные сходимости.      |
 |                          | одинаково       | Поточечная ≠ по норме   |
 +--------------------------+-----------------+-------------------------+
 | Ортогональный базис      | КОНЕЧНЫЙ        | Счётный или несчётный   |
 |                          |                 | (sin, cos, ... )        |
 +--------------------------+-----------------+-------------------------+
 | Оператор с собств. знач. | Диагонализуется | Может не иметь собств.  |
 |                          | (для симм.)     | векторов. Спектр ≠ с.з. |
 +--------------------------+-----------------+-------------------------+

 Главная мысль: В бесконечномерном пространстве много "свободы", и
 патологии, невозможные в ℝⁿ, становятся нормой. Функанализ учит
 распознавать, когда конечномерная интуиция работает, а когда — нет.


 Зачем нужен функциональный анализ


 Линейная алгебра работает с ℝⁿ — конечномерными пространствами.
 Но пространства функций бесконечномерны.

 Функциональный анализ = линейная алгебра + анализ + топология
                         для бесконечномерных пространств

 Применения:
   • Квантовая механика (состояния = векторы в L²)
   • Дифференциальные уравнения (операторные методы)
   • Обработка сигналов (преобразование Фурье)
   • Машинное обучение (ядерные методы, RKHS)


 Иерархия пространств


   +---------------------------------------------------------------------+
   |                                                                     |
   |  Векторное пространство                                             |
   |         |                                                           |
   |         | + норма ‖·‖                                               |
   |         ▼                                                           |
   |  Нормированное пространство                                         |
   |         |                                                           |
   |         | + полнота (все Коши сходятся)                             |
   |         ▼                                                           |
   |  Банахово пространство                                              |
   |         |                                                           |
   |         | + норма из скал. произведения: ‖x‖ = √⟨x,x⟩               |
   |         ▼                                                           |
   |  Гильбертово пространство                                           |
   |                                                                     |
   +---------------------------------------------------------------------+


 Критическое отличие от конечномерного случая


 В ℝⁿ: X компактно ⟺ X замкнуто и ограничено (теорема Гейне-Бореля)

 В бесконечномерном пространстве это неверно.

   Единичный шар B = {f ∈ L² : ‖f‖ ≤ 1}:
     • Замкнут ✓
     • Ограничен ✓
     • не компактен. ✗

 Почему: последовательность eₙ = (0,...,0,1,0,...) с единицей на n-м месте
 лежит в единичном шаре, но не имеет сходящейся подпоследовательности
 (‖eₙ − eₘ‖ = √2 для n ≠ m).

 Следствие для инженера:
   • В ℝⁿ: минимум непрерывной функции на компакте достигается
   • В L²: минимум функционала может не достигаться на замкн. огранич.
   • Поэтому PDE сложнее ODE: нужны специальные методы (слабые решения)

 Компактность в бесконечномерном случае:
   Нужны дополнительные условия — например, равностепенная непрерывность
   (теорема Арцела-Асколи) или слабая компактность.


 Норма — обобщение длины


 Норма ‖·‖: V → ℝ должна удовлетворять:

 +-------------------------+---------------------------------------------+
 | АКСИОМА                 | СМЫСЛ                                       |
 +-------------------------+---------------------------------------------+
 | ‖x‖ ≥ 0                 | Длина неотрицательна                        |
 | ‖x‖ = 0 ⟺ x = 0        | Только нулевой вектор имеет нулевую длину   |
 | ‖αx‖ = |α|·‖x‖          | Масштабирование                             |
 | ‖x+y‖ ≤ ‖x‖+‖y‖         | Неравенство треугольника                    |
 +-------------------------+---------------------------------------------+

 Норма порождает метрику: d(x,y) = ‖x−y‖


 Примеры норм и пространств
+-------------------+-------------------------+-------------------------------+
| ПРОСТРАНСТВО      | НОРМА                   | ПОЛНОТА                       |
+-------------------+-------------------------+-------------------------------+
| ℝⁿ                | ‖x‖₂ = √(Σxᵢ²)          | Да (Банахово и Гильбертово)   |
| (евклидова)       |                         |                               |
+-------------------+-------------------------+-------------------------------+
| ℝⁿ                | ‖x‖₁ = Σ|xᵢ|            | Да (Банахово)                 |
| (манхэттенская)   |                         |                               |
+-------------------+-------------------------+-------------------------------+
| ℝⁿ                | ‖x‖_∞ = max|xᵢ|         | Да (Банахово)                 |
| (sup-норма)       |                         |                               |
+-------------------+-------------------------+-------------------------------+
| C[a,b]            | ‖f‖_∞ = max|f(x)|       | Да (Банахово)                 |
| (непр. функции)   |                         |                               |
+-------------------+-------------------------+-------------------------------+
| Lᵖ[a,b]           | ‖f‖_p = (∫|f|ᵖ)^(1/p)   | Да (Банахово)                 |
| (1 ≤ p &lt; ∞)       |                         | При p=2: Гильбертово          |
+-------------------+-------------------------+-------------------------------+
| L²[a,b]           | ‖f‖₂ = √(∫|f|²)         | Да (Гильбертово)              |
| (квадр. интегр.)  | ⟨f,g⟩ = ∫f·g̅           | Главное в квант. механике     |
+-------------------+-------------------------+-------------------------------+
| ℓ² (посл-сти)     | ‖x‖ = √(Σ|xₙ|²)         | Да (Гильбертово)              |
|                   |                         | Бесконечномерный аналог ℝⁿ    |
+-------------------+-------------------------+-------------------------------+

 Важно: элементы Lᵖ — это не функции.


 Элементы Lᵖ — это классы эквивалентности функций.
 Две функции f и g эквивалентны, если f = g почти всюду
 (т.е. отличаются лишь на множестве меры нуль).

 Следствие: Для f ∈ L² значение f(x₀) в конкретной точке не определено.

   • Можно изменить f в одной точке — это та же функция в L²
   • "f(0) = 3" не имеет смысла для элемента L²
   • Интеграл ∫f определён, а значение f(x) — нет.

 Когда можно говорить о значениях:
   • Если f непрерывна (тогда есть единственный непрерывный представитель)
   • Через теоремы вложения (Соболева): W^{1,p} ⊂ C при p &gt; n

 Где это критично:
   • Граничные условия в PDE: u|_{∂Ω} = g требует "следа" функции
   • Дельта-функция δ(x−a) "выбирает" значение — но это не f(a).


 Единичный шар — "портрет" нормы


 Единичный шар B = {x : ‖x‖ ≤ 1} показывает геометрию нормы.
 Форма шара определяет, что норма считает "близким к нулю".

   L¹ (манхэттенская)       L² (евклидова)        L∞ (sup-норма)
   ‖x‖₁ = |x| + |y|         ‖x‖₂ = √(x²+y²)       ‖x‖_∞ = max(|x|,|y|)

          ◆                      ●●●                  ■■■■■■■
         ◆ ◆                   ●●   ●●                ■     ■
        ◆   ◆                 ●       ●               ■     ■
       ◆     ◆               ●         ●              ■     ■
      ◆-------◆             ●-----------●            ■-------■
       ◆     ◆               ●         ●              ■     ■
        ◆   ◆                 ●       ●               ■     ■
         ◆ ◆                   ●●   ●●                ■     ■
          ◆                      ●●●                  ■■■■■■■

      Ромб круг квадрат
   "Такси в Манхэттене"     "Обычное расст."      "Шахматный король"


 Интерпретация:

   • L¹: "Сколько кварталов пройти?" — сумма отклонений по осям
         Точки (1,0), (0,1), (0.5, 0.5) равноудалены от нуля.

   • L²: "Как ворона летит" — привычное евклидово расстояние
         Пифагор: диагональ √2, а не 2

   • L∞: "Худший случай" — максимальное отклонение по любой оси
         Точки (1,0), (1,1), (1, 0.5) равноудалены от нуля.


 Общий случай Lᵖ: ‖x‖_p = (|x|ᵖ + |y|ᵖ)^(1/p)

   p = 1:   ромб (острые углы)
   p = 2:   круг
   p → ∞:  квадрат

   При увеличении p шар "надувается" от ромба к квадрату через круг.

 Применение:
   • L¹ в оптимизации: даёт разреженные решения (LASSO регрессия)
   • L² в физике: энергия, наименьшие квадраты
   • L∞ в инженерии: контроль максимального отклонения


 Полнота — ключевое свойство
+------------------------+--------------------------------------------+
| ПОНЯТИЕ                | ОПРЕДЕЛЕНИЕ / Пример                       |
+------------------------+--------------------------------------------+
| Фундаментальная (Коши) | ∀ε&gt;0 ∃N: m,n&gt;N ⇒ ‖xₘ−xₙ‖&lt;ε        |
| последовательность     | "Члены сближаются друг с другом"           |
+------------------------+--------------------------------------------+
| Полное пространство    | Всякая фунд. посл-ть сходится в этом пр-ве |
+------------------------+--------------------------------------------+
| Пример неполноты       | ℚ: посл-ть 3, 3.1, 3.14, 3.141. → π ∉ ℚ  |
+------------------------+--------------------------------------------+
| Пополнение             | ℚ → ℝ (добавили все пределы)               |
|                        | C[0,1] с ‖·‖₂ → L²[0,1]                    |
+------------------------+--------------------------------------------+

 Зачем нужна полнота
+--------------------------------+-------------------------------------------+
| ПРИМЕНЕНИЕ                     | ПОЧЕМУ НУЖНА ПОЛНОТА                      |
+--------------------------------+-------------------------------------------+
| Метод итераций xₙ₊₁ = f(xₙ)    | Гарантия, что предел существует           |
+--------------------------------+-------------------------------------------+
| Ряды Фурье                     | Σcₙeⁱⁿˣ сходится в L², не поточечно       |
+--------------------------------+-------------------------------------------+
| Теорема Банаха о неподв. точке | Сжатие в полном пр-ве имеет неподв. точку |
+--------------------------------+-------------------------------------------+
| Решение ДУ методом Пикара      | Итерации сходятся к решению               |
+--------------------------------+-------------------------------------------+

 Полнота vs замкнутость — не путать.


 Замкнутость — свойство подмножества (внутри какого-то пространства)
 Полнота — свойство пространства (самого по себе)

 +-----------------------------------------------------------------------+
 | Ключевой пример: ℚ (рациональные числа)                               |
 |                                                                       |
 | • ℚ замкнуто В себе (как топол. пространство)                         |
 | • ℚ не полно. (посл-ть 3, 3.1, 3.14. → π ∉ ℚ)                       |
 |                                                                       |
 | Замкнутость говорит: "содержит все свои предельные точки"             |
 | Но если предельная точка не существует в пространстве — не считается. |
 +-----------------------------------------------------------------------+

 Связь:
   • Замкнутое подмножество полного пространства — полно
   • Полное подмножество метрического пространства — замкнуто

 Пример для инженера:
   Пространство C[0,1] с нормой ‖f‖₂ = √∫|f|² — не полно.
   Предел может быть разрывной функцией (не в C[0,1]).
   Пополнение: L²[0,1] — уже полное (с интегралом Лебега).

 Почему это важно:
   С интегралом Римана пространство функций "дырявое", как ℚ.
   L² полно только с интегралом Лебега — поэтому Лебег и нужен.


 Гильбертово пространство

 Определение: Банахово + норма из скалярного произведения ‖x‖ = √⟨x,x⟩
+-------------------------------+----------------------------------------------+
| СВОЙСТВО                      | СЛЕДСТВИЕ                                    |
+-------------------------------+----------------------------------------------+
| Есть скал. произведение ⟨·,·⟩ | Можно говорить об углах, ортогональности     |
+-------------------------------+----------------------------------------------+
| Теорема Пифагора              | x⊥y ⇒ ‖x+y‖² = ‖x‖² + ‖y‖²                   |
+-------------------------------+----------------------------------------------+
| Ортогональное дополнение      | H = M ⊕ M⊥ для замкнутого M                  |
+-------------------------------+----------------------------------------------+
| Ортонормированный базис       | x = Σₙ⟨x,eₙ⟩eₙ (обобщённый ряд Фурье)        |
+-------------------------------+----------------------------------------------+
| Теорема Рисса-Фреше           | Любой функционал f(x) = ⟨x,y⟩ для единств. y |
|                               | Следствие: H ≅ H* (изоморфно двойственному)  |
+-------------------------------+----------------------------------------------+

 Операторы в гильбертовом пространстве

 Оператор T: H → H линеен, если T(αx+βy) = αTx + βTy
+-------------------+-------------------------+-------------------------------+
| ТИП               | ОПРЕДЕЛЕНИЕ             | СВОЙСТВА                      |
+-------------------+-------------------------+-------------------------------+
| Ограниченный      | ‖Tx‖ ≤ C‖x‖ для всех x  | ⟺ непрерывный                |
|                   | ‖T‖ = sup{‖Tx‖: ‖x‖=1} | Норма оператора               |
+-------------------+-------------------------+-------------------------------+
| Компактный        | Образ огр. мн-ва        | "Почти конечномерный"         |
|                   | предкомпактен           | Спектр дискретен + 0          |
+-------------------+-------------------------+-------------------------------+
| Самосопряжённый   | ⟨Tx,y⟩ = ⟨x,Ty⟩         | Собств. знач. вещественны     |
| (T* = T)          |                         | Собств. векторы ортогональны  |
+-------------------+-------------------------+-------------------------------+
| Унитарный         | ⟨Ux,Uy⟩ = ⟨x,y⟩         | Сохраняет норму и углы        |
| (U*U = I)         |                         | |λ| = 1 для собств. знач.     |
+-------------------+-------------------------+-------------------------------+
| Проектор          | P² = P                  | Если P*=P: ортогональный      |
|                   |                         | Проекция на подпространство   |
+-------------------+-------------------------+-------------------------------+

 Спектральная теория

 Спектр: σ(T) = {λ∈ℂ: (T−λI) необратим}
+-----------------+------------------------------------------------+
| ЧАСТЬ СПЕКТРА   | ОПРЕДЕЛЕНИЕ                                    |
+-----------------+------------------------------------------------+
| Точечный σₚ     | λ — собственное значение: ∃x≠0: Tx=λx          |
+-----------------+------------------------------------------------+
| Непрерывный σ_c | (T−λI) инъективен, образ плотен, но не замкнут |
+-----------------+------------------------------------------------+
| Остаточный σ_r  | (T−λI) инъективен, образ не плотен             |
+-----------------+------------------------------------------------+

 Почему спектр ≠ собственные значения (конкретный пример)


 В конечномерном случае (матрицы) спектр = собственные значения.
 В бесконечномерном случае это неверно.

 Пример: Оператор сдвига вправо на ℓ²

   S: (x₁, x₂, x₃, ...) ↦ (0, x₁, x₂, x₃, ...)

 Собственные значения: нет ни одного.
   Пусть Sx = λx. Тогда (0, x₁, x₂, ...) = (λx₁, λx₂, λx₃, ...)
   Из первой компоненты: 0 = λx₁
   Если λ ≠ 0, то x₁ = 0, значит x₂ = 0, ..., x = 0. Противоречие.
   Если λ = 0, то (0, x₁, x₂, ...) = 0, значит x = 0. Противоречие.

 Спектр: σ(S) = {λ : |λ| ≤ 1} — весь единичный диск.
   Потому что (S − λI) необратим для всех |λ| ≤ 1.
   При |λ| &lt; 1: образ не плотен (остаточный спектр σ_r).
   При |λ| = 1: образ плотен, но не замкнут (непрерывный спектр σ_c).

 Мораль: В бесконечномерном пространстве оператор может быть необратим
 Не из-за собственных векторов, а из-за "почти собственных" направлений.

 Более простой пример: Оператор умножения Tf(x) = x·f(x) на L²[0,1]
   Собственные функции: нет (δ-функция не в L²).
   Спектр: σ(T) = [0,1] — весь отрезок (непрерывный спектр).
   Физически: это оператор координаты в квантовой механике.

 Это критично в квантовой механике: спектр энергии частицы в потенциале
 может быть непрерывным (свободная частица) или дискретным (атом).


 Спектральная теорема (для самосопр. компактного оператора)
+---------------------------------+------------------------------------------+
| УТВЕРЖДЕНИЕ                     | СЛЕДСТВИЕ                                |
+---------------------------------+------------------------------------------+
| Спектр = веществ. собств. знач. | Все λₙ ∈ ℝ                               |
| + возможно 0                    |                                          |
+---------------------------------+------------------------------------------+
| Собств. векторы — ортонорм.     | {eₙ} — базис в H                         |
| базис                           |                                          |
+---------------------------------+------------------------------------------+
| T = Σₙλₙ⟨·,eₙ⟩eₙ                | Разложение оператора по собств. векторам |
+---------------------------------+------------------------------------------+

 Почему самосопряжённость критична для физики


 Факт: Спектр самосопряжённого оператора всегда вещественный.

 Физический смысл:
   В квантовой механике наблюдаемые величины (энергия, импульс, координата)
   представлены самосопряжёнными операторами. Спектр оператора — это
   множество возможных результатов измерения.

   Энергия должна быть вещественным числом — мы не можем измерить
   "комплексную энергию". Именно поэтому гамильтониан H обязан быть
   самосопряжённым: H = H*.

   Если оператор не самосопряжённый — его спектр может быть комплексным,
   и он не описывает наблюдаемую физическую величину.

 Вывод: Самосопряжённость — это не математическая абстракция.
 Это требование физической осмысленности измерений.


 Связь с квантовой механикой
+-----------------------------+-----------------------------------------------+
| КВАНТОВАЯ МЕХАНИКА          | ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ                         |
+-----------------------------+-----------------------------------------------+
| Состояние системы           | Вектор ψ ∈ H, ‖ψ‖ = 1                        |
+-----------------------------+-----------------------------------------------+
| Наблюдаемая (энергия, и т.д.)| Самосопряжённый оператор A                   |
+-----------------------------+-----------------------------------------------+
| Возможные результаты измер. | Спектр σ(A)                                   |
+-----------------------------+-----------------------------------------------+
| Вероятность результата λ    | |⟨ψ,eλ⟩|² где Aeλ = λeλ                      |
+-----------------------------+-----------------------------------------------+
| Состояние после измерения   | Проекция на собств. подпространство          |
+-----------------------------+-----------------------------------------------+

 Конкретный пример: остывание стержня (уравнение теплопроводности)


 Задача: Металлический стержень длиной L. Концы поддерживаются при T=0.
 Начальное распределение температуры T(x,0) = f(x). Как стержень остывает?

 +-------------------------------------------------------------------------+
 |    T=0                                       T=0                        |
 |     |                                         |                         |
 |     ▼         начальное T(x,0) = f(x)         ▼                         |
 |   --█████████████████████████████████████████--                         |
 |     x=0                                     x=L                         |
 +-------------------------------------------------------------------------+

 Уравнение:
   ∂T/∂t = a·∂²T/∂x²     (a — температуропроводность)

 Граничные условия:  T(0,t) = T(L,t) = 0
 Начальное условие:  T(x,0) = f(x)

-------------------------------------------------------------------------------
 Решение через собственные функции
-------------------------------------------------------------------------------

 Шаг 1: Ищем собственные функции оператора d²/dx² с данными гран. условиями

   d²φ/dx² = λφ,  φ(0) = φ(L) = 0

   Решение: φₙ(x) = sin(nπx/L),  λₙ = −(nπ/L)²,  n = 1, 2, 3, ...

 Шаг 2: Эти функции образуют ортонормированный базис в L²[0,L].

   ⟨φₘ, φₙ⟩ = ∫₀ᴸ sin(mπx/L)·sin(nπx/L) dx = (L/2)·δₘₙ

 Шаг 3: Раскладываем начальное условие по этому базису

   f(x) = Σₙ cₙ sin(nπx/L),   cₙ = (2/L)∫₀ᴸ f(x)sin(nπx/L) dx

 Шаг 4: Каждая мода затухает независимо с экспонентой e^(λₙ·a·t)

   T(x,t) = Σₙ cₙ · e^(−a(nπ/L)²t) · sin(nπx/L)
                ↑                      ↑
           затухание               пространственная форма

-------------------------------------------------------------------------------
 Физический смысл
-------------------------------------------------------------------------------

   • Первая мода (n=1): τ₁ = L²/(π²a) — самое медленное затухание
   • Высшие моды затухают быстрее: τₙ = τ₁/n²
   • Через время ~τ₁ остаётся только первая мода (синусоида)

 Численный пример (медный стержень L=1м, a≈1.1×10⁻⁴ м²/с):
   τ₁ = 1²/(π²·1.1×10⁻⁴) ≈ 920 с ≈ 15 минут

-------------------------------------------------------------------------------

 Мораль: Функциональный анализ — не абстракция.
 Операторы, собственные функции, разложения по базису — это рабочие
 инструменты для решения уравнений теплопроводности, диффузии, колебаний.


 Важные теоремы функционального анализа
+----------------------------+----------------------------------------------+
| ТЕОРЕМА                    | ФОРМУЛИРОВКА и ПРИМЕНЕНИЕ                    |
+----------------------------+----------------------------------------------+
| Банаха о неподвижной точке | T сжимающее в полном (X,d) ⇒ ∃! x: Tx=x      |
|                            | Прим: существование решений ДУ               |
+----------------------------+----------------------------------------------+
| Хана-Банаха                | Функционал с подпр-ва продолжается на всё    |
|                            | пр-во с сохранением нормы                    |
+----------------------------+----------------------------------------------+
| Банаха-Штейнхауза          | Поточечно огр. семейство операторов          |
| (о равн. ограниченности)   | равномерно ограничено                        |
+----------------------------+----------------------------------------------+
| Об открытом отображении    | Сюръективный огр. оператор — открытое отобр. |
+----------------------------+----------------------------------------------+
| О замкнутом графике        | Оператор с замкнутым графиком ограничен      |
+----------------------------+----------------------------------------------+

 Слабая сходимость — ключ к бесконечномерности


 В ℝⁿ есть только один способ сходимости. В бесконечномерных — много.

 +--------------------+----------------------------------------------+
 | ТИП СХОДИМОСТИ     | ОПРЕДЕЛЕНИЕ                                  |
 +--------------------+----------------------------------------------+
 | СИЛЬНАЯ (по норме) | xₙ → x означает ‖xₙ − x‖ → 0                 |
 |                    | "Расстояние до предела стремится к нулю"     |
 +--------------------+----------------------------------------------+
 | СЛАБАЯ             | xₙ ⇀ x означает f(xₙ) → f(x) для всех f ∈ X* |
 |                    | "Все функционалы сходятся"                   |
 +--------------------+----------------------------------------------+
 | СЛАБАЯ-*           | fₙ ⇀* f означает fₙ(x) → f(x) для всех x ∈ X |
 | (в сопряжённом)    | "Поточечная сходимость функционалов"         |
 +--------------------+----------------------------------------------+

 Соотношения:
   Сильная ⇒ Слабая ⇒ Слабая-* (обратные неверны)

 Ключевой пример: eₙ = (0,...,0,1,0,...) в ℓ²

   • ‖eₙ − eₘ‖ = √2 для n ≠ m — нет сильного предела
   • НО: eₙ ⇀ 0 слабо. (для любого f ∈ (ℓ²)*, f(eₙ) → 0)

 Зачем нужна слабая сходимость:

   • Единичный шар не компактен в сильной топологии
   • но компактен в слабой топологии. (теорема Банаха-Алаоглу)
   • Это позволяет находить минимумы функционалов

 Применение в PDE:
   Последовательность приближённых решений uₙ может не иметь сильного
   Предела, но иметь слабый предел u — это и есть слабое решение.


 Теорема Рисса о представлении


 Есть две теоремы Рисса. Обе фундаментальны.

-------------------------------------------------------------------------------
 Рисс-Фреше (для гильбертовых пространств)
-------------------------------------------------------------------------------

   Любой непрерывный линейный функционал f: H → ℝ на гильбертовом
   пространстве H имеет вид:

           f(x) = ⟨x, y⟩   для единственного y ∈ H

   Следствие: H ≅ H* (гильбертово пространство изоморфно своему
              сопряжённому). Это не верно для общих банаховых.

-------------------------------------------------------------------------------
 Рисс-Марков-Какутани (для мер)
-------------------------------------------------------------------------------

   Любой положительный линейный функционал I: C(X) → ℝ на пространстве
   непрерывных функций на компакте X представляется интегралом:

           I(f) = ∫_X f dμ   для единственной меры μ

   Смысл: Каждый способ "взвешенного усреднения" — это интеграл.

   Применение: Если есть оператор, сопоставляющий функции число
   (и сохраняющий линейность и порядок) — это интеграл по некоторой мере.


-------------------------------------------------------------------------------
===============================================================================
Мера и интеграл Лебега — правильное понятие «размера»
===============================================================================

Функанализ использует интегралы повсюду: норма ‖f‖ = √∫|f|², скалярное
произведение ⟨f,g⟩ = ∫fg. Но какой интеграл? Интеграл Римана ломается на
пределах — нельзя менять местами lim и ∫.

Интеграл Лебега решает эту проблему. Он основан на понятии меры — более
общем способе измерять "размер" множеств. Это фундамент теории вероятностей
и современного анализа.

 Мера как взгляд на пространство


 Мера отвечает на вопрос: какой "размер" имеет подмножество пространства?

   • На прямой ℝ: мера отрезка = его длина
   • На плоскости ℝ²: мера области = её площадь
   • В ℝ³: мера тела = его объём
   • В пространстве функций: мера = вероятность

 Мера Лебега — это "правильный" способ измерять размер множеств,
 который работает даже для очень сложных (фрактальных, разрывных) множеств.
 Без неё пространства L² и вероятность не имели бы строгого смысла.

 Связь с топологией — размерность Хаусдорфа:
   Фракталы имеют дробную размерность. Множество Кантора ⊂ [0,1]:
   • Топологическая размерность = 0 (тотально несвязно)
   • Размерность Хаусдорфа = log(2)/log(3) ≈ 0.631
   Это мера "сложности" множества — сколько места оно занимает.
   Береговая линия Британии: dim_H ≈ 1.25 (больше линии, меньше плоскости).


 Главная причина перехода к Лебегу (для инженера)


           Интеграл Римана ломается на пределах.
           Интеграл Лебега — нет.

 Это не абстракция. Это критично для:

   • Рядов Фурье: lim∫fₙ = ∫lim fₙ — нужна теорема Лебега
   • Решения PDE: предел приближённых решений → решение
   • Вероятности: E[lim Xₙ] = lim E[Xₙ] — мажорируемая сходимость

 Функция Дирихле (1 на ℚ, 0 на ℝ\ℚ) — искусственный пример.
 Реальная причина: нужно менять местами предел и интеграл.
 По Риману — нельзя. По Лебегу — можно (при определённых условиях).


 Проблема интеграла Римана
+-----------------------+-------------------------------------+
| ПРОБЛЕМА              | ОПИСАНИЕ                            |
+-----------------------+-------------------------------------+
| Функция Дирихле       | f(x) = 1 если x∈ℚ, иначе 0          |
|                       | не интегрируема по Риману           |
|                       | Хотя интуитивно: ℚ "занимает 0%"    |
+-----------------------+-------------------------------------+
| Предел не сохраняет   | lim fₙ может быть не интегрируемой, |
| интегрируемость       | даже если все fₙ интегрируемы       |
+-----------------------+-------------------------------------+
| Нельзя менять ∫ и lim | lim∫fₙ ≠ ∫lim fₙ в общем случае     |
+-----------------------+-------------------------------------+

 Мера — аксиоматика

 Мера μ: Σ → [0,+∞] на σ-алгебре Σ подмножеств X
+-------------------+----------------------------------------+
| АКСИОМА           | СМЫСЛ                                  |
+-------------------+----------------------------------------+
| μ(∅) = 0          | Пустое множество имеет нулевой размер  |
+-------------------+----------------------------------------+
| μ(⋃ₙAₙ) = Σₙμ(Aₙ) | Счётная аддитивность (для дизъюнктных) |
| (Aᵢ∩Aⱼ=∅)         | Размер объединения = сумма размеров    |
+-------------------+----------------------------------------+

 Σ-алгебра — семейство "измеримых" множеств
+----------------------------------+-------------------+
| СВОЙСТВО                         | ФОРМУЛА           |
+----------------------------------+-------------------+
| Замкнуто относительно дополнений | A ∈ Σ ⇒ X\A ∈ Σ   |
+----------------------------------+-------------------+
| Замкнуто относительно счётных    | Aₙ ∈ Σ ⇒ ⋃ₙAₙ ∈ Σ |
| объединений                      |                   |
+----------------------------------+-------------------+
| Содержит всё пространство        | X ∈ Σ             |
+----------------------------------+-------------------+

 Почему именно σ-алгебра? (ключевой вопрос)


 Почему нельзя ограничиться конечными объединениями (обычной алгеброй)?

 Проблема: Предел измеримых множеств должен быть измерим.

   Пусть Aₙ = [0, 1 − 1/n]. Каждое Aₙ — интервал с длиной (1 − 1/n).
   Предел: ⋃ₙAₙ = [0, 1) — тоже должен иметь меру.

   Если алгебра замкнута только относительно конечных объединений,
   то [0, 1) = ⋃_{n=1}^∞ Aₙ может оказаться неизмеримым.

 Решение: Требуем замкнутость относительно счётных объединений.

 +------------------+---------------------------+
 | СТРУКТУРА        | ЗАМКНУТА ОТНОСИТЕЛЬНО     |
 +------------------+---------------------------+
 | Алгебра множеств | Конечных ∪, ∩, дополнений |
 | σ-алгебра        | СЧЁТНЫХ ∪, ∩, дополнений  |
 +------------------+---------------------------+

 σ = "счётный" (от нем. Summe — сумма, в смысле счётной суммы)

 Глубинная причина:
   Анализ работает с пределами, а предел — это счётная конструкция.
   Чтобы интегрирование и предел были совместимы, нужна σ-алгебра.
   Теоремы о сходимости (Леви, Лебега) требуют счётной аддитивности.


 Мера Лебега на ℝⁿ
+--------------------------+-----------------------------------------+
| МНОЖЕСТВО                | МЕРА ЛЕБЕГА λ                           |
+--------------------------+-----------------------------------------+
| Интервал (a,b) ⊂ ℝ       | b − a (длина)                           |
+--------------------------+-----------------------------------------+
| Прямоугольник в ℝ²       | ширина × высота (площадь)               |
+--------------------------+-----------------------------------------+
| Параллелепипед в ℝ³      | a·b·c (объём)                           |
+--------------------------+-----------------------------------------+
| Одна точка {x}           | 0                                       |
+--------------------------+-----------------------------------------+
| Счётное множество (ℚ, ℤ) | 0 (мера нуль)                          |
+--------------------------+-----------------------------------------+
| Канторово множество C    | 0, хотя C несчётно.                     |
+--------------------------+-----------------------------------------+
| Неизмеримые множества    | Существуют (Витали), но "неестественны" |
+--------------------------+-----------------------------------------+

 Интеграл Лебега
+-----------------+----------------------------------+
| СРАВНЕНИЕ       | РИМАН vs ЛЕБЕГ                   |
+-----------------+----------------------------------+
| Разбиение       | Риман: область определения [a,b] |
|                 | Лебег: область значений ℝ        |
+-----------------+----------------------------------+
| Сумма           | Риман: Σf(xᵢ)·Δxᵢ                |
|                 | Лебег: Σyⱼ·μ({x: f(x)≈yⱼ})       |
+-----------------+----------------------------------+
| Функция Дирихле | Риман: не интегрируема           |
|                 | Лебег: ∫f dλ = 1·0 + 0·1 = 0     |
+-----------------+----------------------------------+

 Построение интеграла Лебега
+---------------------+------------------------------------+
| ШАГ                 | ОПРЕДЕЛЕНИЕ                        |
+---------------------+------------------------------------+
| 1. Простая функция  | s = Σcₖ·χ_{Aₖ} (ступенчатая)       |
+---------------------+------------------------------------+
| 2. Интеграл простой | ∫s dμ = Σcₖ·μ(Aₖ)                  |
+---------------------+------------------------------------+
| 3. Интеграл f ≥ 0   | ∫f dμ = sup{∫s dμ: s простая, s≤f} |
+---------------------+------------------------------------+
| 4. Общий интеграл   | ∫f dμ = ∫f⁺ dμ − ∫f⁻ dμ            |
|                     | где f⁺=max(f,0), f⁻=max(−f,0)      |
+---------------------+------------------------------------+

 Теоремы о сходимости — главное преимущество Лебега
+-----------------------------+-----------------------------------------------+
| ТЕОРЕМА                     | ФОРМУЛИРОВКА                                  |
+-----------------------------+-----------------------------------------------+
| Монотонной сходимости       | fₙ↑f (монотонно) ⇒ ∫fₙ → ∫f                  |
| (Б. Леви)                   |                                               |
+-----------------------------+-----------------------------------------------+
| Мажорируемой сходимости     | |fₙ|≤g, ∫g&lt;∞, fₙ→f п.в. ⇒ ∫fₙ→∫f           |
| (Лебега)                    | Также: ∫|fₙ−f|→0                             |
+-----------------------------+-----------------------------------------------+
| Фату                        | fₙ≥0 ⇒ ∫(lim inf fₙ) ≤ lim inf ∫fₙ          |
+-----------------------------+-----------------------------------------------+
| "п.в." (почти всюду)        | = кроме множества меры нуль                   |
+-----------------------------+-----------------------------------------------+

 Почему эти теоремы важны
+----------------------------+------------------------------------------+
| СИТУАЦИЯ                   | СЛЕДСТВИЕ                                |
+----------------------------+------------------------------------------+
| Ряды функций Σfₙ           | Можно интегрировать почленно             |
+----------------------------+------------------------------------------+
| Дифф. под знаком интеграла | d/dt∫f(x,t)dx = ∫∂f/∂t dx (при условиях) |
+----------------------------+------------------------------------------+
| Для Римана не работают.    | Это главное преимущество Лебега          |
+----------------------------+------------------------------------------+

 Типы сходимости — важное различие


 В теории меры есть несколько типов сходимости, и они не эквивалентны.

 +-------------------+-------------------------+-------------------------+
 | ТИП СХОДИМОСТИ    | ОПРЕДЕЛЕНИЕ             | ЧТО ОЗНАЧАЕТ            |
 +-------------------+-------------------------+-------------------------+
 | Поточечная        | ∀x: fₙ(x) → f(x)        | В каждой точке          |
 |                   |                         | отдельно                |
 +-------------------+-------------------------+-------------------------+
 | Почти всюду       | fₙ(x) → f(x) для        | Поточечно, кроме        |
 | (п.в.)            | почти всех x            | множества меры 0        |
 +-------------------+-------------------------+-------------------------+
 | Равномерная       | sup|fₙ(x)−f(x)| → 0     | Одинаково быстро        |
 |                   |  x                      | везде                   |
 +-------------------+-------------------------+-------------------------+
 | По мере           | μ({|fₙ−f| &gt; ε}) → 0     | Мера "плохого"          |
 |                   | для всех ε &gt; 0          | множества → 0           |
 +-------------------+-------------------------+-------------------------+
 | В Lᵖ              | ∫|fₙ−f|ᵖ dμ → 0         | Интегральная            |
 |                   |                         | ошибка → 0              |
 +-------------------+-------------------------+-------------------------+

 Иерархия (для конечной меры):

   Равномерная ⇒ Поточечная ⇒ Почти всюду ⇒ По мере
       ↓
   В L∞        В Lᵖ ⇒ По мере (но НЕ почти всюду)

 Контрпример: Сходимость по мере не влечёт сходимость почти всюду.
    "Бегающий горб": fₙ = χ_{[k/2ᵐ, (k+1)/2ᵐ]} на [0,1]
    Сходится по мере к 0, но в каждой точке подпоследовательность = 1.


 Пространства Lᵖ

 Определение: Lᵖ(X,μ) = {f: ∫|f|ᵖdμ &lt; ∞} / {f=0 п.в.}
+-----------+-----------------------+-----------------------------------------+
| p         | НОРМА                 | СВОЙСТВА и ПРИМЕНЕНИЯ                   |
+-----------+-----------------------+-----------------------------------------+
| p = 1     | ‖f‖₁ = ∫|f|           | Интегрируемые функции                   |
+-----------+-----------------------+-----------------------------------------+
| p = 2     | ‖f‖₂ = √(∫|f|²)       | Гильбертово. Квант. механика, Фурье     |
|           | ⟨f,g⟩ = ∫fg̅          | Скалярное произведение                  |
+-----------+-----------------------+-----------------------------------------+
| p = ∞     | ‖f‖_∞ = ess sup|f|    | Существенно ограниченные функции        |
+-----------+-----------------------+-----------------------------------------+

 Ключевые неравенства и теоремы
+-------------------------+-------------------------------------+
| РЕЗУЛЬТАТ               | ФОРМУЛИРОВКА                        |
+-------------------------+-------------------------------------+
| Неравенство Гёльдера    | ‖fg‖₁ ≤ ‖f‖_p·‖g‖_q где 1/p+1/q=1   |
+-------------------------+-------------------------------------+
| Неравенство Минковского | ‖f+g‖_p ≤ ‖f‖_p + ‖g‖_p             |
+-------------------------+-------------------------------------+
| Теорема Рисса-Фишера    | Lᵖ — полное (банахово) пространство |
+-------------------------+-------------------------------------+

 Прикладной пример: тепловой поток через неоднородную стену


 Задача: Стена толщиной L с неоднородной структурой. Теплопроводность
 k(x) сильно меняется по толщине (разные материалы, включения, трещины).

       T₁                                    T₂
-------------------------------------------------------------------------------
       |░░░|████|░░|████████|░░░░░░|██|░░░░|
       |░░░|████|░░|████████|░░░░░░|██|░░░░|
-------------------------------------------------------------------------------
       x=0                                  x=L

       ░░░ = утеплитель (k = 0.05 Вт/(м·К))
       ███ = бетон (k = 1.5 Вт/(м·К))
       Трещины — разрывы в структуре

 Тепловое сопротивление:

   R = ∫₀ᴸ dx/k(x)     [м²·К/Вт]

 Проблема: k(x) — разрывная функция с возможными "патологиями".

-------------------------------------------------------------------------------
 Почему нужна мера Лебега
-------------------------------------------------------------------------------

 1. Разрывы не мешают:
    k(x) может иметь конечное число разрывов (границы слоёв).
    Интеграл Лебега это "не замечает" — множество точек разрыва
    имеет меру нуль.

 2. Трещины = множество меры нуль:
    Микротрещины — это "тонкие" области с k → ∞ (воздух).
    Если их совокупная "толщина" = 0, они не влияют на интеграл.

 3. Можно менять порядок интегрирования:
    При расчёте 2D/3D теплопереноса (интегралы по площади, объёму)
    теорема Фубини гарантирует: ∫∫ = ∫(∫).

-------------------------------------------------------------------------------
 Численный пример
-------------------------------------------------------------------------------

 Стена: 3 слоя общей толщиной 40 см

   • Штукатурка: 2 см,  k = 0.8 Вт/(м·К)  →  R₁ = 0.02/0.8 = 0.025
   • Кирпич:    25 см, k = 0.7 Вт/(м·К)  →  R₂ = 0.25/0.7 = 0.357
   • Утеплитель: 10 см, k = 0.04 Вт/(м·К) →  R₃ = 0.10/0.04 = 2.500
   • + 3 микротрещины (суммарно 0.5 мм)  →  R = 0 (мера нуль)

   R_total = ∫₀⁰·⁴⁰ dx/k(x) = R₁ + R₂ + R₃ = 2.88 м²·К/Вт

   Тепловой поток: q = ΔT/R = (20−(−10))/2.88 = 10.4 Вт/м²

-------------------------------------------------------------------------------

 Мораль: Мера Лебега позволяет интегрировать "плохие" функции.
 Разрывы, скачки, сингулярности на множествах меры нуль — не проблема.
 Для инженера: можно не думать о математических тонкостях при расчётах.
 Интеграл существует для любой "разумной" физической величины.


-------------------------------------------------------------------------------
Меры — обобщение понятия "размер"
-------------------------------------------------------------------------------

 Идея меры


 Мера = способ присвоить "размер" множествам

 Длина, площадь, объём, вероятность — всё это примеры мер.

 Мера μ: множества → числа ≥ 0 (или +∞)


 Аксиомы меры


 1. μ(∅) = 0                     Пустое множество имеет нулевой размер

 2. μ(A) ≥ 0                     Размер неотрицателен

 3. σ-аддитивность:              Размер объединения непересекающихся =
    μ(⊔ᵢAᵢ) = Σᵢ μ(Aᵢ)          сумма размеров
    (для счётного числа)


 Примеры мер
+----------------------------+------------------------------------------------+
| МЕРА                       | ОПИСАНИЕ                                       |
+----------------------------+------------------------------------------------+
|                            |                                                |
| Мера Лебега на ℝⁿ          | Обычный n-мерный объём                         |
|                            | μ([a,b]) = b − a  (длина отрезка)              |
|                            |                                                |
+----------------------------+------------------------------------------------+
|                            |                                                |
| Считающая мера             | μ(A) = |A| (число элементов)                   |
|                            | На ℤ, на конечных множествах                   |
|                            |                                                |
+----------------------------+------------------------------------------------+
|                            |                                                |
| Вероятностная мера         | μ(Ω) = 1, μ(A) = P(A)                          |
|                            | Мера всего = 1                                 |
|                            |                                                |
+----------------------------+------------------------------------------------+
|                            |                                                |
| Мера Дирака δₓ             | δₓ(A) = 1 если x ∈ A, иначе 0                  |
|                            | "Сосредоточена в точке x"                      |
|                            |                                                |
+----------------------------+------------------------------------------------+
|                            |                                                |
| Мера Хаара                 | Инвариантна относительно сдвигов              |
|                            | На группах Ли (объём в пространстве группы)    |
|                            |                                                |
+----------------------------+------------------------------------------------+

 Интеграл Лебега


 Обычный интеграл Римана: разбиваем по x, суммируем f(xᵢ)·Δx

 Интеграл Лебега: разбиваем по y, суммируем y·μ({x: f(x) ≈ y})

 Преимущества:
   • Можно интегрировать более "плохие" функции
   • Теоремы о предельном переходе под знаком интеграла
   • Естественная связь с теорией вероятностей

 Формула: ∫f dμ = ∫₀^∞ μ({x: f(x) &gt; t}) dt  (для f ≥ 0)


 Множества меры нуль


 Множество A имеет меру нуль: μ(A) = 0

 Примеры (в смысле меры Лебега на ℝ):
   • Любая точка {x}
   • Любое счётное множество (ℚ, ℤ, ℕ)
   • Канторово множество (несчётное, но меры 0!)

 Парадокс: ℚ плотно в ℝ, но μ(ℚ) = 0, а μ(ℝ\ℚ) = ∞

 "Почти всюду" = "кроме множества меры нуль"


 Мера и пространства


 Мера — это способ измерять размер на пространстве.

 Разные пространства — разные естественные меры:
   • На ℝⁿ: мера Лебега (обычный объём)
   • На группе Ли: мера Хаара (инвариантна при сдвигах)
   • На многообразии: мера, индуцированная метрикой

 Интеграл — это "суммирование по пространству":
   ∫_M f dμ = "среднее значение f с учётом меры"

 Вероятностное пространство = пространство + мера с μ(Ω) = 1


-------------------------------------------------------------------------------
===============================================================================
Дифференциальные уравнения — как составлять
===============================================================================

 Главный принцип


 ДУ записываются не из воздуха. Они основаны на законах сохранения.

 (А законы сохранения, по теореме Нётер, следуют из симметрий)

 Алгоритм составления:

   1. Объект      → Что изучаем? (тело, жидкость, поле)
   2. Процесс     → Что происходит? (течёт, нагревается, движется)
   3. Элем. объём → Выделить dx, dy, dz, dt
   4. Сохранение  → Что не меняется? (масса, энергия, импульс)
   5. Баланс      → Приток − Отток = Изменение → ДУ.


 Примеры: закон сохранения → уравнение
+----------------------+-------------------------------------+
| ЗАКОН СОХРАНЕНИЯ     | УРАВНЕНИЕ                           |
+----------------------+-------------------------------------+
| Сохранение массы     | ∂ρ/∂t + ∇·(ρv) = 0  (неразрывность) |
+----------------------+-------------------------------------+
| Сохранение энергии   | ∂T/∂t = α∇²T  (теплопроводность)    |
+----------------------+-------------------------------------+
| Сохранение импульса  | Уравнения Навье-Стокса              |
+----------------------+-------------------------------------+
| Сохранение заряда    | ∂ρ/∂t + ∇·j = 0                     |
+----------------------+-------------------------------------+
| Второй закон Ньютона | m(d²x/dt²) = F                      |
+----------------------+-------------------------------------+

 Классификация уравнений в частных производных
+-----------------+-------------------------------------+
| ТИП             | ПРИМЕР и ФИЗИКА                     |
+-----------------+-------------------------------------+
|                 |                                     |
| Эллиптический   | ∇²u = f  (уравнение Пуассона)       |
|                 | Стационарные задачи, электростатика |
|                 |                                     |
+-----------------+-------------------------------------+
|                 |                                     |
| Параболический  | ∂u/∂t = α∇²u  (теплопроводность)    |
|                 | Диффузия, выравнивание              |
|                 |                                     |
+-----------------+-------------------------------------+
|                 |                                     |
| Гиперболический | ∂²u/∂t² = c²∇²u  (волновое)         |
|                 | Распространение волн                |
|                 |                                     |
+-----------------+-------------------------------------+

 Практический факт


 Практически любое ДУ (Навье-Стокса, Максвелла, теплопроводность)
 можно численно решить в Excel.

   • Каждая ячейка = значение в одной точке сетки
   • Формула ячейки = ссылки на соседей (конечные разности)
   • Граничные условия = константы на краях
   • Итерации → решение

 Это метод конечных разностей в простейшей форме.


-------------------------------------------------------------------------------
Заключение
-------------------------------------------------------------------------------

 Центральная идея документа


 Математика — это язык пространств.

 Пространство = множество + структура (способ связать точки).

   • Топология изучает форму пространства (дырки, связность)
   • Алгебра изучает симметрии пространства (группы преобразований)
   • Анализ изучает функции на пространстве (изменение, экстремумы)
   • Геометрия изучает измерения в пространстве (расстояния, кривизна)

 Функторы переводят между областями, сохраняя структуру.


 Ключевые факты по разделам — минимум, который нужно знать


 Ниже — не вопросы, а ответы. Если что-то непонятно, вернитесь к разделу.


 Логика

   "Из ложного следует что угодно" (F → P = T для любого P):
   Импликация P → Q ложна только когда P истинно, а Q ложно.
   Если P ложно, то P → Q истинно при любом Q.
   Аналогия: "Если я миллионер, куплю вам остров" — не вру,
   потому что я не миллионер.


 Множества

   Биекция ℕ ↔ ℤ:  f(n) = n/2 если n чётное, −(n+1)/2 если нечётное
                   0 ↦ 0, 1 ↦ −1, 2 ↦ 1, 3 ↦ −2, 4 ↦ 2, ...

   Почему |ℕ| &lt; |ℝ|:  Диагональный аргумент Кантора.
   Предположим f: ℕ → [0,1] — биекция. Построим число x, которое
   отличается от f(n) в n-м знаке: x ∉ Im(f). Противоречие.


 Группы

   Почему (ab)⁻¹ = b⁻¹a⁻¹:
   Проверка: (ab)(b⁻¹a⁻¹) = a(bb⁻¹)a⁻¹ = aea⁻¹ = aa⁻¹ = e ✓
   Пример: надел носки, потом ботинки → снять ботинки, потом носки.

   Ядро гомоморфизма φ: G → H:
   ker φ = {g ∈ G : φ(g) = eₕ} — всё, что переходит в нейтральный.
   Пример: φ: ℤ → ℤ/6, k ↦ k mod 6. Тогда ker φ = 6ℤ = {.,−6,0,6,12,.}


 Топология

   Множество, которое ни открыто, ни закрыто:
   [0, 1) в ℝ. Содержит граничную точку 0, но не содержит 1.

   Почему кружка ≅ бублик:
   Обе поверхности имеют одну дырку (род 1). Можно непрерывно
   деформировать одну в другую, не разрывая и не склеивая.

   π₁(S¹) = ℤ:  Петли на окружности классифицируются числом обмоток.
   π₁(S²) = 0:  Любая петля на сфере стягивается в точку.


 Линейная алгебра

   Почему det(AB) = det(A)det(B), но det(A+B) ≠ det(A)+det(B):
   Определитель — мультипликативен, но НЕ аддитивен.
   Контрпример: A = B = I (единичная). det(I) = 1.
   det(I+I) = det(2I) = 2ⁿ ≠ 1+1 = 2  (для n &gt; 1).

   Вектор, который не "стрелка":
   Функция f(x) = x² — вектор в пространстве C[0,1].
   (f+g)(x) = f(x)+g(x), (αf)(x) = αf(x) — аксиомы выполняются.


 Многообразия

   Зачем несколько карт для сферы:
   S² компактна, ℝ² нет. Гомеоморфизм сохраняет компактность.
   Значит, S² ≢ ℝ². Нужно минимум 2 карты (стереографические проекции).

   Что живёт в TₚM:
   Касательные векторы = скорости кривых через p = направления движения.
   TₚM ≅ ℝⁿ, но это разные пространства для разных p.
   v ∈ TₚM и w ∈ TᵧM нельзя сложить напрямую — нужна связность.


 Дифференциальные формы

   Почему d² = 0 связано с ∂² = 0:
   Это двойственные утверждения. ∂ действует на цепи (области),
   d действует на формы (интегранды). Теорема Стокса: ∫_{∂M} ω = ∫_M dω.

   ∂²M = ∅ (граница границы пуста) ⟷ d²ω = 0 (внешняя производная
   дважды даёт ноль). Это один и тот же факт с двух сторон.

   Стокс объединяет классику:
   • dim=1: ∫ₐᵇ f'dx = f(b)−f(a)        (Ньютон-Лейбниц)
   • dim=2: ∫∫ rot F·dA = ∮ F·dr       (Грин/Стокс)
   • dim=3: ∫∫∫ div F dV = ∯ F·dS      (Гаусс-Остроградский)


 Категории

   Группа как категория с одним объектом:
   • Один объект: ●
   • Морфизмы: элементы группы g ∈ G (стрелки ● → ●)
   • Композиция: групповая операция g ∘ h = gh
   • Тождественный морфизм: нейтральный элемент e
   • Все морфизмы обратимы (это и значит "группа".)

   Пример функтора: π₁: Top* → Grp
   • Объекты: пространства с отмеченной точкой → группы
   • Морфизмы: непрерывные отображения → гомоморфизмы групп
   • Композиция сохраняется: π₁(f ∘ g) = π₁(f) ∘ π₁(g)

|                                                                             |
| Главный критерий понимания:                                                 |
|                                                                             |
| Вы понимаете математику, когда видите один паттерн в разных разделах:      |
|                                                                             |
|   ker φ (группы) = ker T (лин.алг.) = ker d (формы) = "что схлопывается"   |
|   G/ker φ ≅ Im φ — везде одна и та же теорема об изоморфизме.              |
|                                                                             |

Комплексные числа мы встретили в Части II как алгебраическую конструкцию.
Но анализ на ℂ — производные, интегралы, ряды — это территория Части III.
И здесь обнаруживается нечто удивительное.

===============================================================================
Комплексный анализ — магия голоморфных функций
===============================================================================

Комплексные числа — это алгебра. Но когда мы начинаем
дифференцировать и интегрировать функции f: ℂ → ℂ, происходит чудо.

 Голоморфность = комплексная дифференцируемость


 Функция f: ℂ → ℂ голоморфна в точке z₀, если существует предел:

              f(z₀ + h) − f(z₀)
   f'(z₀) = lim ---------------     (h ∈ ℂ, h → 0 с любого направления)
            h→0        h

 Это гораздо сильнее, чем дифференцируемость в ℝ².

 Условия Коши-Римана:
   Если f(x + iy) = u(x,y) + iv(x,y), то:

   ∂u/∂x = ∂v/∂y    и    ∂u/∂y = −∂v/∂x

   Эти два уравнения связывают Re и Im части голоморфной функции.

-------------------------------------------------------------------------------
 Почему голоморфность — это магия
-------------------------------------------------------------------------------

 Если f голоморфна, то автоматически:

   • f бесконечно дифференцируема (все производные существуют)
   • f аналитична (раскладывается в степенной ряд)
   • f определяется своими значениями на любой кривой
   • Интеграл по замкнутому контуру = 0 (если внутри нет особенностей)

 В ℝ: дифференцируемость f в точке не гарантирует существование f''
      (и даже непрерывность f'). В ℂ: одна производная → бесконечно много.

 Почему так? Условия Коши-Римана — это система уравнений, которая
 "распространяет" информацию о функции во все стороны.

-------------------------------------------------------------------------------
 Визуализация: как "выглядят" комплексные функции
-------------------------------------------------------------------------------

 Комплексная функция f: ℂ → ℂ — это отображение плоскости в плоскость.
 Это 4D объект (2D вход + 2D выход), его сложно визуализировать напрямую.

 Метод: деформация сетки

   Рисуем сетку в z-плоскости, смотрим куда она переходит в w-плоскости.

   z-плоскость              w = z²               w-плоскость

   | | | | |                                    ╲ | ╱
   -+-+-+-+-+-        ------------▶              -+-
   | | | | |                                    ╱ | ╲
   -+-+-+-+-+-
   | | | | |              Квадраты → криволинейные четырёхугольники
                          Прямые углы → прямые углы (конформность)

 Примеры отображений

 +---------------------+-------------------------------------------------+
 | ФУНКЦИЯ             | ЧТО ВИДИМ НА КАРТИНКЕ                           |
 +---------------------+-------------------------------------------------+
 | f(z) = z            | Тождество — сетка не меняется                   |
 +---------------------+-------------------------------------------------+
 | f(z) = z²           | Удвоение углов: луч θ → луч 2θ                  |
 |                     | Окружность |z|=r → окружность |w|=r²            |
 +---------------------+-------------------------------------------------+
 | f(z) = eᶻ           | Вертикаль x=const → окружность |w|=eˣ           |
 |                     | Горизонталь y=const → луч arg(w)=y              |
 |                     | Полоса 0 &lt; Im(z) &lt; 2π → вся плоскость (.) |
 +---------------------+-------------------------------------------------+
 | f(z) = 1/z          | Инверсия: большое ↔ малое                       |
 |                     | |z|&gt;1 → |w|&lt;1, углы меняют знак           |
 +---------------------+-------------------------------------------------+

-------------------------------------------------------------------------------
 Конформность — главное свойство голоморфных функций
-------------------------------------------------------------------------------

 Голоморфная функция f(z) сохраняет углы в точках, где f'(z) ≠ 0.

 Что это значит:

   • Две кривые пересекаются под углом α
   • Их образы пересекаются под тем же углом α
   • Бесконечно малые круги → бесконечно малые круги (не эллипсы)

 Локально голоморфная функция — это вращение + растяжение:

   f(z) ≈ f(z₀) + f'(z₀)·(z − z₀)

   • Множитель f'(z₀) = |f'|·eⁱᶿ
   • |f'| — коэффициент растяжения
   • θ = arg(f') — угол поворота

 Визуально: Маленькие квадратики сетки → маленькие квадратики,
            но повёрнутые и масштабированные (не перекошенные)

 Исключение: В точках где f'(z) = 0 (критические точки)
    углы могут умножаться. Для f(z) = zⁿ в нуле: угол × n.

-------------------------------------------------------------------------------
 Интегральная теорема Коши
-------------------------------------------------------------------------------

 Если f голоморфна внутри и на замкнутом контуре γ:

   ∮_γ f(z) dz = 0

 Следствие (Интегральная формула Коши):

               ∮   f(ζ)
   f(z) = ----- ·  ------- dζ
          2πi   γ  ζ − z

   Значение функции внутри контура определяется значениями на контуре.
   Это как если бы температура внутри комнаты определялась только стенами.

-------------------------------------------------------------------------------
 Вычеты — техника вычисления интегралов
-------------------------------------------------------------------------------

 Если f имеет изолированную особенность в точке z₀:

   f(z) = ... + a₋₂/(z−z₀)² + a₋₁/(z−z₀) + a₀ + a₁(z−z₀) + ...
                               ↑
                          Вычет = a₋₁

 Теорема о вычетах:

   ∮_γ f(z) dz = 2πi · Σ Res(f, zₖ)
                       zₖ внутри γ

 Применение: Вычисление вещественных интегралов.

   ∫_{−∞}^{∞} dx/(1+x²) = π    (замыкаем контур в верхней полуплоскости)

   Многие интегралы, невозможные в ℝ, тривиальны в ℂ.


 Связь с топологией


 Индекс обмотки (winding number):
   Сколько раз кривая γ обходит вокруг точки z₀?

               ∮    dz
   n(γ, z₀) = --- ·  ------- = целое число.
             2πi  γ  z − z₀

   Это связывает комплексный анализ с алгебраической топологией (π₁).

 Пример: Доказательство Основной теоремы алгебры (каждый многочлен
 над ℂ имеет корень) использует индекс обмотки.

-------------------------------------------------------------------------------
 Комплексный потенциал — гидро- и аэродинамика
-------------------------------------------------------------------------------

 Одно из самых красивых приложений комплексного анализа — потенциальное
 Течение идеальной жидкости (или газа при малых скоростях).

-------------------------------------------------------------------------------
 Зачем это нужно
-------------------------------------------------------------------------------

 Задача: Найти, как течёт жидкость вокруг препятствия.
 Проблема: Уравнения Навье-Стокса сложны, нет аналитических решений.
 Упрощение: Если жидкость "идеальная" (без вязкости) и течение без вихрей,
            задача сводится к одной функции комплексного переменного.

-------------------------------------------------------------------------------
 Шаг 1: Что такое потенциальное течение
-------------------------------------------------------------------------------

 "Безвихревое" означает: жидкость не вращается локально.
 Представьте кораблик-спичку на воде:
   • В обычном течении: спичка плывёт и крутится вокруг своей оси
   • В безвихревом: спичка плывёт, но НЕ крутится (всегда смотрит на север)

 Математически: rot v = 0, что означает v = ∇φ для некоторой функции φ.
 Φ называется потенциал скорости.

 Для несжимаемой жидкости (div v = 0):
   ∇²φ = 0  ← Уравнение Лапласа.

-------------------------------------------------------------------------------
 Шаг 2: Почему комплексные числа помогают
-------------------------------------------------------------------------------

 Ключевой факт: Если w(z) = φ + iψ голоморфна, то:
   ∂φ/∂x = ∂ψ/∂y   и   ∂φ/∂y = −∂ψ/∂x  (условия Коши-Римана)

 Следствие: ∂²φ/∂x² + ∂²φ/∂y² = 0  ← это и есть уравнение Лапласа.

 Вывод: Любая голоморфная функция w(z) автоматически даёт решение
        уравнения течения. Не нужно решать дифференциальные уравнения.

-------------------------------------------------------------------------------
 Шаг 3: что означают φ и ψ физически
-------------------------------------------------------------------------------

 Φ — потенциал скорости:
   Скорость = градиент потенциала: vₓ = ∂φ/∂x, vᵧ = ∂φ/∂y
   Линии φ = const — эквипотенциали (как линии высот на карте)

 Ψ — функция тока:
   Линии ψ = const — это линии тока (траектории частиц жидкости)
   Жидкость течёт вдоль этих линий, не пересекая их.

 Почему они ортогональны:
   Градиент φ (направление наибыстрейшего роста φ) перпендикулярен
   линиям φ = const. Но градиент φ = вектор скорости. А скорость
   направлена вдоль линий тока ψ = const. Значит, линии ⊥ друг другу.

        φ = 3   φ = 2   φ = 1   φ = 0   ← эквипотенциали (вертикально)
           |       |       |       |
    ψ=1 ---+-------+-------+-------+--→  ← линии тока (горизонтально)
           |       |       |       |
    ψ=0 ---+-------+-------+-------+--→
           |       |       |       |
    ψ=−1---+-------+-------+-------+--→
           |       |       |       |

   Жидкость течёт вправо (вдоль ψ = const), пересекая эквипотенциали.


 Примеры комплексных потенциалов — с расчётами

-------------------------------------------------------------------------------
 Пример 1: однородный поток (w = Uz)
-------------------------------------------------------------------------------

   w(z) = Uz = U(x + iy) = Ux + iUy

   Значит: φ = Ux,  ψ = Uy

   Скорость: vₓ = ∂φ/∂x = U,  vᵧ = ∂φ/∂y = 0

   Интерпретация: Однородный поток со скоростью U вправо.

   Конкретно: U = 5 м/с, точка z = 2 + 3i (x=2, y=3)
              φ = 5×2 = 10,  ψ = 5×3 = 15
              Скорость = (5, 0) м/с везде одинакова

-------------------------------------------------------------------------------
 Пример 2: источник в начале координат (w = (Q/2π) ln z)
-------------------------------------------------------------------------------

   z = re^{iθ},  ln z = ln r + iθ
   w = (Q/2π)(ln r + iθ)

   Значит: φ = (Q/2π) ln r,  ψ = (Q/2π) θ

   Скорость (в полярных координатах):
   vᵣ = ∂φ/∂r = Q/(2πr),  v_θ = 0

   Интерпретация: Жидкость радиально вытекает из точки.
                  Чем дальше от источника — тем медленнее (скорость ∝ 1/r).

   Конкретно: Q = 10 м²/с (расход на единицу глубины), r = 2 м
              Скорость = 10/(2π×2) = 0.8 м/с (радиально наружу)

          ↖  ↑  ↗
        ←    ●    →    Жидкость вытекает
          ↙  ↓  ↘     радиально из центра

-------------------------------------------------------------------------------
 Пример 3: обтекание цилиндра (w = U(z + a²/z))
-------------------------------------------------------------------------------

   Это сумма однородного потока и диполя.

   Проверим, что |z| = a — линия тока (ψ = 0):

   На окружности z = ae^{iθ}:
   w = U(ae^{iθ} + ae^{−iθ}) = U · 2a cos θ = 2Ua cos θ (чисто веществ.)

   Значит ψ = Im(w) = 0 на всей окружности.
   Окружность |z| = a — линия тока. Жидкость её не пересекает.
   Это и есть поверхность цилиндра.

               →→→→→→→→→→→→
             →  ╭-----╮   →
           →   ╱       ╲    →
          →   |    ●    |    →    Поток огибает цилиндр
           →   ╲       ╱    →
             →  ╰-----╯   →
               →→→→→→→→→→→→

   Конкретно: U = 10 м/с, a = 0.5 м, точка z = 1 (на оси x, вне цилиндра)
   w = 10(1 + 0.25/1) = 10 × 1.25 = 12.5
   dw/dz = U(1 − a²/z²) = 10(1 − 0.25) = 7.5 м/с (локальная скорость)

-------------------------------------------------------------------------------
 Суперпозиция: построение сложных течений
-------------------------------------------------------------------------------

 Ключевая идея: Уравнение Лапласа линейно.

   Если w₁ и w₂ — решения, то w₁ + w₂ тоже решение.
   Сложные течения = суммы простых.

 Пример: Источник + сток + однородный поток

   w = Uz + (Q/2π) ln(z−a) − (Q/2π) ln(z+a)
       ↑           ↑                  ↑
    поток     источник в a      сток в −a

   Это даёт обтекание овального тела.

   →→→   ↗ источник       сток ↘   →→→
   →→→ →  ●---------------------●  → →→→
   →→→   ↘                     ↗   →→→


 Преобразование Жуковского — как рассчитывают крылья


 Проблема: Обтекание цилиндра мы знаем. Но крыло — не цилиндр.

 Идея Жуковского (1910): Конформное отображение превращает круг в крыло.

-------------------------------------------------------------------------------
 Почему это работает
-------------------------------------------------------------------------------

 Голоморфная функция ζ = f(z) обладает свойством конформности:
   • Сохраняет углы между кривыми
   • Линии тока остаются линиями тока.
   • Если w(z) — потенциал для цилиндра, то w(f⁻¹(ζ)) — потенциал
     для того, во что цилиндр превратился

 Преобразование Жуковского:

   ζ = z + a²/z

 Шаг 1: Берём круг |z − z₀| = r (со смещённым центром)

 Шаг 2: Применяем преобразование — получаем профиль крыла.

        z-плоскость                    ζ-плоскость

           ╭---╮
          ╱  ●  ╲
         | центр |        ζ = z + a²/z
          ╲     ╱         -------------→        ╭----------╮
           ╰---╯                               ╱            ╲
          круг со                         ----●--------------╲---
          смещённым                            ╲            ╱
          центром                               ╰----------╯
                                              профиль крыла
                                              (острая задняя кромка)

-------------------------------------------------------------------------------
 Теорема Жуковского о подъёмной силе
-------------------------------------------------------------------------------

   L = ρ U Γ   (подъёмная сила на единицу размаха крыла)

   где: ρ — плотность воздуха
        U — скорость набегающего потока
        Γ — циркуляция вокруг профиля

 Конкретный расчёт:

   Данные: ρ = 1.2 кг/м³, U = 50 м/с, Γ = 20 м²/с
   L = 1.2 × 50 × 20 = 1200 Н/м

   Для крыла длиной 10 м: L_полн = 12000 Н = 1.2 тонны подъёмной силы.

 Откуда берётся циркуляция:
   Условие Кутта-Жуковского: поток сходит с острой задней кромки плавно.
   Это фиксирует величину циркуляции — она не произвольна.

 Историческое значение:
   Это не абстракция — так реально проектировали первые самолёты.
   Комплексный анализ буквально поднял человечество в воздух.


Мы рассмотрели много структур: группы, топологии, векторные пространства,
многообразия, комплексные числа. Везде есть "объекты" и "отображения между
ними" (гомоморфизмы, непрерывные функции, линейные операторы).

Категории — это язык для описания этого общего паттерна. Они позволяют
Видеть аналогии между разными областями математики как точные утверждения.

-------------------------------------------------------------------------------
Категории и функторы — математика о математике
-------------------------------------------------------------------------------

           +------------------------------------------------------+
           |                                                      |
           | "Understanding consists in reducing one type of      |
           | reality to another."                                 |
           | — Claude Lévi-Strauss                                |
           |                                                      |
           | «Понимание состоит в сведении одного типа реальности |
           | к другому.»                                          |
           |                                                      |
           | Теория категорий делает это буквально: функторы      |
           | переводят структуры одного типа в структуры другого. |
           |                                                      |
           +------------------------------------------------------+


===============================================================================
Сводные таблицы
===============================================================================

 T.1 великая таблица соответствий
+------------+------------+------------+------------+------------+------------+
|            | SET        | GRP        | VECT       | TOP        | MAN        |
|            | множества  | группы     | вект.пр-ва | топология  | многообр.  |
+------------+------------+------------+------------+------------+------------+
| ОБЪЕКТЫ    | множества  | группы     | пр-ва над F| простр-ва  | гладкие    |
|            |            |            |            |            | многообр.  |
+------------+------------+------------+------------+------------+------------+
| морфизм    | функция    | гомомор-   | линейное   | непрерывн. | гладкое    |
|            |            | физм       | отображ.   | отображ.   | отображ.   |
+------------+------------+------------+------------+------------+------------+
| ИЗОМОРФИЗМ | биекция    | изоморфизм | изоморфизм | гомеомор-  | диффеомор- |
|            |            | групп      | пр-в       | физм       | физм       |
+------------+------------+------------+------------+------------+------------+
| ИНВАРИАНТ  | |A|        | порядок,   | dim V      | π₁, χ, Hₙ | dim,       |
|            | мощность   | таблица    |            |            | кривизна   |
+------------+------------+------------+------------+------------+------------+
| ПОДОБЪЕКТ  | подмн-во   | подгруппа  | подпростр. | подпростр. | подмногооб.|
|            | A ⊆ B      | H ≤ G      | W ⊆ V      | (откр/замк)|            |
+------------+------------+------------+------------+------------+------------+
| ФАКТОРОБЪ. | A/∼        | G/H        | V/W        | X/∼        | M/G        |
|            |            | (H ⊲ G)   |            |            | (орбиты)   |
+------------+------------+------------+------------+------------+------------+
| ПРОИЗВЕД.  | A × B      | G × H      | V ⊕ W      | X × Y      | M × N      |
+------------+------------+------------+------------+------------+------------+
| КОПРОИЗВ.  | A ⊔ B      | G * H      | V ⊕ W      | X ⊔ Y      | M ⊔ N      |
|            |            | (свободн.) | (то же)   |            |            |
+------------+------------+------------+------------+------------+------------+
| ЯДРО       | —          | ker φ ⊲ G  | ker T ⊆ V  | —          | —          |
+------------+------------+------------+------------+------------+------------+
| ОБРАЗ      | f(A)       | Im φ ≤ H   | Im T ⊆ W   | f(X)       | f(M)       |
+------------+------------+------------+------------+------------+------------+
| НАЧАЛЬНЫЙ  | ∅          | {e}        | {0}        | ∅          | ∅          |
+------------+------------+------------+------------+------------+------------+
| ТЕРМИН.    | {*}        | {e}        | {0}        | {*}        | {*}        |
+------------+------------+------------+------------+------------+------------+

 T.2 универсальные паттерны
+------------------------+-----------------------------------------------+
| ПАТТЕРН                | ПРОЯВЛЕНИЯ                                    |
+------------------------+-----------------------------------------------+
| d² = 0                 | d∘d=0 (формы), ∂∘∂=0 (границы),               |
|                        | rot∘grad=0, div∘rot=0                         |
+------------------------+-----------------------------------------------+
| dim = dim ker + dim Im | Линейная алгебра, группы (теорема Лагранжа),  |
|                        | дифф. формы (когомологии)                     |
+------------------------+-----------------------------------------------+
| Двойственность         | V ↔ V*, G ↔ Ĝ, q ↔ p, точки ↔ гиперплоскости  |
+------------------------+-----------------------------------------------+
| Локальность → Глобал.  | Теор. Стокса, теор. де Рама, расслоения       |
+------------------------+-----------------------------------------------+
| Симметрия → Сохранение | Теорема Нётер: каждая непрерывная симметрия   |
|                        | даёт закон сохранения                         |
+------------------------+-----------------------------------------------+
| Классификация          | Конечные группы, поверхности, простые алгебры |
+------------------------+-----------------------------------------------+

 T.3 основные принципы стандарта
+-------+-----------------------------------------------------------+
| НОМЕР | ПРИНЦИП                                                   |
+-------+-----------------------------------------------------------+
| 1     | Математика — открытие структуры, присущей акту различения |
+-------+-----------------------------------------------------------+
| 2     | Из ∅ через категоризацию возникает вся математика         |
+-------+-----------------------------------------------------------+
| 3     | Логика — надстройка над теорией множеств для коммуникации |
+-------+-----------------------------------------------------------+
| 4     | Доказательство — путь по графу вложений множеств          |
+-------+-----------------------------------------------------------+
| 5     | Понимание = способность визуализировать                   |
+-------+-----------------------------------------------------------+
| 6     | Один паттерн проявляется во всех разделах                 |
+-------+-----------------------------------------------------------+

 T.4 сводная таблица соответствий между разделами
+------------------+----------------------------------------------------------+
| ПОНЯТИЕ          | РЕАЛИЗАЦИИ В РАЗДЕЛАХ                                    |
+------------------+----------------------------------------------------------+
| Изоморфизм       | Set: биекция                                            |
|                  | изоморфизм групп                                    |
|                  | изоморфизм пространств                              |
|                  | гомеоморфизм                                        |
|                  | эквивалентность категорий                          |
+------------------+----------------------------------------------------------+
| Инвариант        | Set: мощность |A|                                       |
| (что сохраняется)| таблица умножения                                   |
|                  | размерность dim V                                   |
|                  | π₁, χ, Hₙ                                           |
+------------------+----------------------------------------------------------+
| Ядро морфизма    | ker(φ) ⊲ G                                          |
|                  | ker(T) ⊆ V                                          |
|                  | ker(d) = замкнутые формы                            |
+------------------+----------------------------------------------------------+
| Двойственность   | G ↔ Ĝ                                               |
|                  | V ↔ V*                                              |
|                  | Ωᵏ ↔ Ωⁿ⁻ᵏ                                           |
|                  | q ↔ p (симплектическая)                             |
+------------------+----------------------------------------------------------+
| Свойство d²=0    | Векторный анализ: rot∘grad=0, div∘rot=0                 |
|                  | d∘d=0                                               |
|                  | ∂∘∂=0 (гомологии)                                   |
+------------------+----------------------------------------------------------+


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                    ЧАСТЬ IV: ПРИКЛАДНАЯ МАТЕМАТИКА
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

===============================================================================
Вероятность — математика неопределённости
===============================================================================

Помните раздел про меру Лебега? Мы говорили, что интеграл Римана плох для
пределов — последовательность интегрируемых функций может сходиться к
неинтегрируемой. Мера Лебега решила эту проблему, обобщив понятие "длины".

Вероятность использует тот же апгрейд. Вместо "длины на прямой" мы измеряем
"вероятность события" — и это тоже мера, подчиняющаяся тем же аксиомам.
Вся теория вероятностей — это теория меры на пространстве исходов.

E[X] = ∫X dP — это не аналогия с интегралом, это буквально интеграл Лебега
по вероятностной мере P. Всё, что мы знаем об интегралах (теорема о
монотонной сходимости, Фубини, и т.д.), работает и здесь.

 Вероятность как взгляд на пространство


 Теория вероятностей — это теория меры на специальных пространствах.

 +------------------+-----------------------------------------+
 | ВЕРОЯТНОСТНЫЙ    | ГЕОМЕТРИЧЕСКИЙ                          |
 | ТЕРМИН           | СМЫСЛ                                   |
 +------------------+-----------------------------------------+
 | Пространство     | МНОЖЕСТВО всех возможных состояний мира |
 | элементарных     | Каждая точка ω ∈ Ω — один "сценарий"    |
 | исходов Ω        | (что выпало, какая погода, какой путь)  |
 +------------------+-----------------------------------------+
 | Событие A ⊆ Ω    | ПОДМНОЖЕСТВО пространства исходов       |
 |                  | ("в каких сценариях A произошло")       |
 +------------------+-----------------------------------------+
 | Вероятность P(A) | МЕРА множества A                        |
 |                  | (обобщённый "объём" области)            |
 +------------------+-----------------------------------------+
 | Случайная        | ОТОБРАЖЕНИЕ X: Ω → ℝ                    |
 | величина X       | (функция на пространстве исходов)       |
 +------------------+-----------------------------------------+
 | Мат. ожидание    | ИНТЕГРАЛ по мере P                      |
 | E[X]             | E[X] = ∫_Ω X(ω) dP(ω)                   |
 +------------------+-----------------------------------------+
 | Независимые      | ПРОИЗВЕДЕНИЕ пространств                |
 | эксперименты     | Ω = Ω₁ × Ω₂, P = P₁ × P₂                |
 +------------------+-----------------------------------------+

 Примеры:
   • Бросок монеты: Ω = {орёл, решка} — два мира
   • Случайное блуждание: Ω = все возможные траектории
   • Тепловые флуктуации: Ω = бесконечномерное (функции температуры)

 Вывод: Вероятность — это НЕ "шансы" в бытовом смысле.
 Это строгая математическая структура: пространство + мера.


 Конкретный пример: бросок двух кубиков


 Пространство исходов:

   Ω = {(1,1), (1,2), (1,3), ..., (6,6)} = {1,...,6} × {1,...,6}
   |Ω| = 36 точек

   Это конечное дискретное пространство — "решётка" 6×6:

       | ● ● ● ● ● ●
       | ● ● ● ● ● ●
       | ● ● ● ● ● ●      Каждая точка ● — один исход
       | ● ● ● ● ● ●      Мера: P({(i,j)}) = 1/36 для всех
       | ● ● ● ● ● ●
       | ● ● ● ● ● ●
         +---------------
           2 3 4 5 6

 Событие "сумма = 7":

   A = {(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)}

   Это подмножество (диагональ в нашей "решётке").
   P(A) = |A|/|Ω| = 6/36 = 1/6

 Случайная величина X = "сумма очков":

   X: Ω → ℝ,  X((i,j)) = i + j

   E[X] = Σ X(ω)·P({ω}) = Σᵢⱼ (i+j)/36 = 7

   (Сумма всех значений с их вероятностями = интеграл по мере P)


 Связь с другими разделами атласа


 Теория множеств (1.1):
   Ω — множество, события — подмножества, σ-алгебра — система подмножеств
   Операции: A ∪ B (или), A ∩ B (и), Aᶜ (не)

 Мера:
   P — это мера со свойством P(Ω) = 1 (нормировка)
   Все свойства меры работают: счётная аддитивность, непрерывность

 Функциональный анализ:
   Случайные величины с E[X²] &lt; ∞ образуют гильбертово пространство L²(Ω,P)
   Ковариация Cov(X,Y) = ⟨X − E[X], Y − E[Y]⟩ — скалярное произведение.
   Некоррелированность ⟺ ортогональность

 Линейная алгебра:
   Ковариационная матрица Σ — положительно полуопределённая
   Главные компоненты (PCA) = собственные векторы Σ
   Метрика Махаланобиса d² = (x−μ)ᵀΣ⁻¹(x−μ) — расстояние с учётом Σ


 Вероятность = мера

 Теория вероятностей — это теория меры с условием μ(Ω) = 1
+----------------------------+-----------------------------------+
| ВЕРОЯТНОСТНОЕ ПРОСТРАНСТВО | (Ω, Σ, P)                         |
+----------------------------+-----------------------------------+
| Ω                          | Пространство элементарных исходов |
+----------------------------+-----------------------------------+
| Σ                          | σ-алгебра событий                 |
+----------------------------+-----------------------------------+
| P                          | Вероятностная мера: P(Ω) = 1      |
+----------------------------+-----------------------------------+

 Словарь: вероятность ↔ теория меры
+-----------------------------+-----------------------------------------------+
| ВЕРОЯТНОСТЬ                 | ТЕОРИЯ МЕРЫ                                   |
+-----------------------------+-----------------------------------------------+
| Событие A                   | Измеримое множество A ∈ Σ                     |
+-----------------------------+-----------------------------------------------+
| Вероятность P(A)            | Мера μ(A), нормированная μ(Ω)=1               |
+-----------------------------+-----------------------------------------------+
| Случайная величина X        | Измеримая функция X: Ω → ℝ                    |
+-----------------------------+-----------------------------------------------+
| Плотность вероятности f(x)  | Производная Радона-Никодима dP/dλ             |
|                             | (отношение меры P к мере Лебега λ)            |
+-----------------------------+-----------------------------------------------+
| Мат. ожидание E[X]          | Интеграл Лебега ∫X dP                         |
+-----------------------------+-----------------------------------------------+
| Независимость A, B          | P(A∩B) = P(A)·P(B)                            |
+-----------------------------+-----------------------------------------------+
| Условная вероятность P(A|B) | P(A∩B)/P(B)                                   |
+-----------------------------+-----------------------------------------------+

 Аксиомы Колмогорова (1933)
+----------------------+--------------------------------------+
| АКСИОМА              | ФОРМУЛИРОВКА                         |
+----------------------+--------------------------------------+
| Неотрицательность    | P(A) ≥ 0 для всех A ∈ Σ              |
+----------------------+--------------------------------------+
| Нормировка           | P(Ω) = 1                             |
+----------------------+--------------------------------------+
| Счётная аддитивность | P(⋃ₙAₙ) = ΣₙP(Aₙ) для дизъюнктных Aₙ |
+----------------------+--------------------------------------+

 Следствия из аксиом
+---------------------------+-------------------------------+
| СВОЙСТВО                  | ФОРМУЛА                       |
+---------------------------+-------------------------------+
| Невозможное событие       | P(∅) = 0                      |
+---------------------------+-------------------------------+
| Дополнение                | P(Aᶜ) = 1 − P(A)              |
+---------------------------+-------------------------------+
| Монотонность              | A ⊆ B ⇒ P(A) ≤ P(B)           |
+---------------------------+-------------------------------+
| Формула включений-исключ. | P(A∪B) = P(A) + P(B) − P(A∩B) |
+---------------------------+-------------------------------+

 Случайные величины и распределения

 Случайная величина X: Ω → ℝ — измеримая функция
+-----------------------+---------------------------------------------+
| ФУНКЦИЯ РАСПРЕДЕЛЕНИЯ | F(x) = P(X ≤ x)                             |
+-----------------------+---------------------------------------------+
| Свойства F(x)         | Неубывающая, F(−∞)=0, F(+∞)=1, непр. справа |
+-----------------------+---------------------------------------------+
| Дискретная с.в.       | Счётное мн-во значений: P(X=xₖ)=pₖ, Σpₖ=1   |
+-----------------------+---------------------------------------------+
| Непрерывная с.в.      | F(x)=∫₋∞ˣf(t)dt, f — плотность, ∫f=1        |
+-----------------------+---------------------------------------------+

 Как гистограмма превращается в плотность распределения


 Это ключевая интуиция для понимания непрерывных распределений.

-------------------------------------------------------------------------------
 Шаг 1: обычная гистограмма
-------------------------------------------------------------------------------

   Есть N измерений. Разбиваем ось на бины (интервалы) ширины Δx.
   В каждом бине считаем количество попаданий nₖ.

   Высота столбика = nₖ (абсолютная частота)

   Проблема: если взять другую ширину бина, гистограмма изменится.

-------------------------------------------------------------------------------
 Шаг 2: нормируем на ширину бина
-------------------------------------------------------------------------------

   Высота столбика = nₖ / (N · Δx)

   Теперь высота — это плотность частоты: "сколько попаданий на единицу x"

   Размерность: [1/x], например 1/метр, 1/секунда, 1/градус

   Важно: Площадь столбика = (nₖ/N·Δx) · Δx = nₖ/N = относительная частота
   Сумма площадей всех столбиков = 1

-------------------------------------------------------------------------------
 Шаг 3: устремляем Δx → 0 и N → ∞
-------------------------------------------------------------------------------

   При Δx → 0 ступенчатая гистограмма превращается в гладкую кривую.
   Эта кривая — функция плотности распределения f(x).

                    nₖ
   f(x) = lim  ---------
         Δx→0   N · Δx
         N→∞

   Свойства f(x):
   • f(x) ≥ 0  (частота не может быть отрицательной)
   • ∫f(x)dx = 1  (сумма всех вероятностей = 1)
   • P(a ≤ X ≤ b) = ∫ₐᵇ f(x)dx  (площадь под кривой = вероятность)

-------------------------------------------------------------------------------
 Визуализация
-------------------------------------------------------------------------------

   Δx = 1:        Δx = 0.5:       Δx → 0:
    ▄▄▄               ▄▄             ╭--╮
   ▄███▄             ▄██▄           ╱    ╲
  ▄█████▄           ▄████▄        ╱      ╲
  ███████          ████████      ╱        ╲
  -------          --------     ╱----------╲
  грубая           точнее       гладкая кривая f(x)

-------------------------------------------------------------------------------
 Практический смысл
-------------------------------------------------------------------------------

   Для температуры в трубопроводе за год (миллионы измерений):

   • Гистограмма с бинами 1°C даёт грубую картину
   • Гистограмма с бинами 0.1°C — детальнее
   • Плотность f(T) — идеальный предел при бесконечных данных

   f(25°C) = 0.15 [1/°C] означает:
   "В малом интервале около 25°C вероятность ≈ 0.15 · ΔT"

 Важно: f(x) — это НЕ вероятность (может быть &gt; 1)!
        Вероятность — это площадь: P = f(x) · Δx


 Важнейшие распределения — дискретные
+------------------------+------------------+-----------------------+
| РАСПРЕДЕЛЕНИЕ          | P(X=k)           | ПРИМЕНЕНИЕ            |
+------------------------+------------------+-----------------------+
| Бернулли(p)            | P(1)=p, P(0)=1−p | Одно испытание да/нет |
+------------------------+------------------+-----------------------+
| Биномиальное Bin(n,p)  | C(n,k)pᵏ(1−p)ⁿ⁻ᵏ | k успехов в n испыт.  |
+------------------------+------------------+-----------------------+
| Пуассона Pois(λ)       | e⁻λ·λᵏ/k!        | Редкие события        |
+------------------------+------------------+-----------------------+
| Геометрическое Geom(p) | (1−p)ᵏ⁻¹·p       | Номер первого успеха  |
+------------------------+------------------+-----------------------+

 Важнейшие распределения — непрерывные
+-------------------------+------------------+-----------------------+
| РАСПРЕДЕЛЕНИЕ           | ПЛОТНОСТЬ f(x)   | ПРИМЕНЕНИЕ            |
+-------------------------+------------------+-----------------------+
| Равномерное U(a,b)      | 1/(b−a) на [a,b] | Случайная точка       |
+-------------------------+------------------+-----------------------+
| Экспоненциальное Exp(λ) | λe⁻λˣ, x≥0       | Время до события      |
+-------------------------+------------------+-----------------------+
| Нормальное N(μ,σ²)      | exp(−(x−μ)²/2σ²) | Ошибки, рост, финансы |
|                         | /(σ√2π)          | ВЕЗДЕ.                |
+-------------------------+------------------+-----------------------+
| Стандартное N(0,1)      | e⁻ˣ²/²/√2π       | Z = (X−μ)/σ           |
+-------------------------+------------------+-----------------------+

 Числовые характеристики
+------------------------+---------------------------------------------+
| ХАРАКТЕРИСТИКА         | ОПРЕДЕЛЕНИЕ                                 |
+------------------------+---------------------------------------------+
| Мат. ожидание E[X] (μ) | ∫X dP = Σxₖpₖ (дискр.) или ∫xf(x)dx (непр.) |
+------------------------+---------------------------------------------+
| Дисперсия Var(X) = σ²  | E[(X−μ)²] = E[X²] − (E[X])²                 |
+------------------------+---------------------------------------------+
| Станд. отклонение σ    | √Var(X), в тех же единицах что X            |
+------------------------+---------------------------------------------+
| Ковариация Cov(X,Y)    | E[(X−μₓ)(Y−μᵧ)] = E[XY] − E[X]E[Y]          |
+------------------------+---------------------------------------------+
| Корреляция ρ(X,Y)      | Cov(X,Y)/(σₓσᵧ) ∈ [−1, 1]                   |
+------------------------+---------------------------------------------+
| Моменты E[Xⁿ]          | n-й момент относительно нуля                |
+------------------------+---------------------------------------------+

 Свойства характеристик
+-----------------------------------+------------------------------------+
| СВОЙСТВО                          | ФОРМУЛА                            |
+-----------------------------------+------------------------------------+
| Линейность E                      | E[aX+b] = aE[X]+b                  |
+-----------------------------------+------------------------------------+
| Аддитивность E (всегда)          | E[X+Y] = E[X]+E[Y]                 |
+-----------------------------------+------------------------------------+
| Мультипликативность (независимые) | E[XY] = E[X]E[Y]                   |
+-----------------------------------+------------------------------------+
| Масштабирование Var               | Var(aX+b) = a²Var(X)               |
+-----------------------------------+------------------------------------+
| Аддитивность Var (независимые)    | Var(X+Y) = Var(X)+Var(Y)           |
+-----------------------------------+------------------------------------+
| Общая формула                     | Var(X+Y) = Var(X)+Var(Y)+2Cov(X,Y) |
+-----------------------------------+------------------------------------+

 Закон больших чисел и цпт

 Условие: X₁,X₂,. — i.i.d. (независ. одинак. распр.) с E[Xᵢ]=μ, Var=σ²
 Выборочное среднее: X̄ₙ = (X₁+...+Xₙ)/n
+---------------------------+---------------------------------------+
| ТЕОРЕМА                   | ФОРМУЛИРОВКА и СМЫСЛ                  |
+---------------------------+---------------------------------------+
| Закон больших чисел (ЗБЧ) | X̄ₙ → μ при n→∞                       |
|                           | "Среднее выборки → истинное среднее"  |
|                           | Пример: доля орлов → 0.5              |
+---------------------------+---------------------------------------+
| Центральная предельная    | √n(X̄ₙ−μ)/σ → N(0,1) по распределению |
| теорема (ЦПТ)             | Следствие: X̄ₙ ≈ N(μ, σ²/n)           |
|                           | "Сумма независимых ≈ нормальное"      |
|                           | Объясняет, почему N(μ,σ²) ВЕЗДЕ       |
+---------------------------+---------------------------------------+

 Важное ограничение цпт


 Цпт требует конечной дисперсии (σ² &lt; ∞)!

 Распределения с "тяжёлыми хвостами" НЕ сходятся к нормальному:
   • Коши: E[X] не существует, Var = ∞
   • Парето с α ≤ 2: Var = ∞
   • Устойчивые распределения Леви

 Применение: В финансах и анализе надёжности тяжёлые хвосты критичны.
 Нормальное распределение недооценивает вероятность экстремальных событий.

 Сумма Коши: среднее n чисел Коши распределено как одно число Коши.
 (усреднение НЕ уменьшает разброс)


 Условная вероятность и Байес
+-----------------------------+-----------------------------------------------+
| ПОНЯТИЕ                     | ФОРМУЛА / СМЫСЛ                               |
+-----------------------------+-----------------------------------------------+
| Условная вероятность        | P(A|B) = P(A∩B)/P(B)                          |
|                             | "Вероятность A при условии B"                 |
+-----------------------------+-----------------------------------------------+
| Теорема Байеса              | P(A|B) = P(B|A)·P(A) / P(B)                   |
+-----------------------------+-----------------------------------------------+
| Через полную вероятность    | P(A|B) = P(B|A)P(A) / [P(B|A)P(A)+P(B|Aᶜ)P(Aᶜ)]|
+-----------------------------+-----------------------------------------------+

 Терминология Байеса
+-----------------------------+-----------------------------------------------+
| ТЕРМИН                      | СМЫСЛ                                         |
+-----------------------------+-----------------------------------------------+
| P(A) — априорная            | Вероятность ДО наблюдения данных              |
+-----------------------------+-----------------------------------------------+
| P(A|B) — апостериорная      | Вероятность ПОСЛЕ наблюдения B                |
+-----------------------------+-----------------------------------------------+
| P(B|A) — правдоподобие      | Насколько вероятно B при гипотезе A           |
+-----------------------------+-----------------------------------------------+

 Пример: медицинский тест (парадокс ложноположительных)
+-----------------------------+-----------------------------------------------+
| ДАННЫЕ                      | ЗНАЧЕНИЕ                                      |
+-----------------------------+-----------------------------------------------+
| P(болен)                    | 0.01 (1% популяции болеет)                    |
+-----------------------------+-----------------------------------------------+
| P(+|болен)                  | 0.99 (чувствительность 99%)                   |
+-----------------------------+-----------------------------------------------+
| P(+|здоров)                 | 0.05 (5% ложноположительных)                  |
+-----------------------------+-----------------------------------------------+
| P(болен|+) = ?              | (0.99·0.01)/(0.99·0.01+0.05·0.99) ≈ 0.17     |
+-----------------------------+-----------------------------------------------+
| Вывод                       | При + тесте вероятность болезни всего ~17%.   |
+-----------------------------+-----------------------------------------------+

 Связь вероятности с другими разделами
+---------------------+--------------------------------------------+
| РАЗДЕЛ              | СВЯЗЬ С ВЕРОЯТНОСТЬЮ                       |
+---------------------+--------------------------------------------+
| Мера Лебега         | Вероятность = мера с μ(Ω)=1, E[X]=∫X dP    |
+---------------------+--------------------------------------------+
| Функц. анализ       | L²(Ω,P) — пространство с.в. с конечной Var |
+---------------------+--------------------------------------------+
| Линейная алгебра    | Ковариационная матрица, PCA                |
|                     | Корреляция = cos угла в L²                 |
+---------------------+--------------------------------------------+
| Ряды Фурье          | Характеристическая ф-ция E[eⁱᵗˣ] = Фурье   |
+---------------------+--------------------------------------------+
| Физика              | Стат. механика, квантовая теория, энтропия |
+---------------------+--------------------------------------------+
| ML / Статистика     | Байесовский вывод, регрессия, тестирование |
+---------------------+--------------------------------------------+
| B1 Программирование | ВЕРОЯТНОСТНОЕ ПРОГРАММИРОВАНИЕ:            |
|                     | Переменные = распределения, код = модель   |
|                     | Языки: Stan, PyMC, Edward, Pyro            |
+---------------------+--------------------------------------------+

 Характеристическая функция = преобразование Фурье плотности


 Определение:
   φ_X(t) = E[eⁱᵗˣ] = ∫ f(x) eⁱᵗˣ dx

   Это в точности преобразование Фурье плотности f(x).

 Почему это важно:

   Свёртка плотностей ↔ Умножение характеристических функций:

   Если X и Y независимы, то Z = X + Y имеет плотность f_Z = f_X * f_Y.
   Но свёртка сложна. А в частотной области:

       φ_{X+Y}(t) = φ_X(t) · φ_Y(t)

   Умножение проще свёртки — в этом сила Фурье.

 Примеры:
 +---------------+----------------------------+
 | РАСПРЕДЕЛЕНИЕ | ХАРАКТЕРИСТИЧЕСКАЯ ФУНКЦИЯ |
 +---------------+----------------------------+
 | N(μ, σ²)      | φ(t) = exp(iμt − σ²t²/2)   |
 | Exp(λ)        | φ(t) = λ/(λ − it)          |
 | Poisson(λ)    | φ(t) = exp(λ(eⁱᵗ − 1))     |
 +---------------+----------------------------+

 Следствие (цпт через Фурье):
   Почему сумма независимых с.в. → нормальное распределение?
   Потому что φ_N(t) = exp(−t²/2) — единственная функция, удовлетворяющая
   φ(t)ⁿ → φ(t) при правильной нормировке (неподвижная точка).


 Вероятностное программирование — мост между Байесом и кодом


 В обычном коде: x = 5                      (детерминированное значение)
 В вероятн. коде: x ~ Normal(μ, σ)          (переменная = распределение)

 Пример (псевдокод Stan):

   data { vector[N] y; }                     // наблюдения
   parameters { real mu; real&lt;lower=0&gt; sigma; }
   model {
     mu ~ Normal(0, 10);                     // априорное распределение
     sigma ~ Cauchy(0, 5);
     y ~ Normal(mu, sigma);                  // модель данных
   }

 Система автоматически вычисляет P(μ, σ | y) — апостериорное.

 Зачем: Декларативное описание модели вместо ручного вывода формул Байеса.
 Алгоритмы (MCMC, вариационный вывод) работают "под капотом".


 Прикладной пример: надёжность насосной станции


 Задача: Насосная станция с 3 насосами. Для работы нужны хотя бы 2 из 3.
 Каждый насос выходит из строя независимо с вероятностью p = 0.1 за год.
 Какова вероятность отказа станции?

         +----------+
    -----| Насос 1  |-----+
         +----------+     |     Нужно ≥2 работающих.
         +----------+     |
    -----| Насос 2  |-----+---►  выход
         +----------+     |
         +----------+     |
    -----| Насос 3  |-----+
         +----------+

 Модель: X ~ Binomial(n=3, p=0.1) — число отказавших насосов

   P(X = k) = C(3,k) · 0.1ᵏ · 0.9³⁻ᵏ

   P(X = 0) = 0.9³ = 0.729      (все работают)
   P(X = 1) = 3·0.1·0.81 = 0.243   (один отказал)
   P(X = 2) = 3·0.01·0.9 = 0.027   (два отказали — авария)
   P(X = 3) = 0.001               (все отказали — авария)

   P(авария) = P(X ≥ 2) = 0.027 + 0.001 = 0.028 = 2.8%

-------------------------------------------------------------------------------
 Сравнение схем резервирования
-------------------------------------------------------------------------------

   +---------------------------+--------------+------------------------------+
   | СХЕМА                     | P(авария)    | КОММЕНТАРИЙ                  |
   +---------------------------+--------------+------------------------------+
   | 1 насос (без резерва)     | 0.1 = 10%    | Базовый вариант              |
   +---------------------------+--------------+------------------------------+
   | 2 из 2 (оба нужны)        | 1−0.9² = 19% | Хуже. Последоват. соединение |
   +---------------------------+--------------+------------------------------+
   | 1 из 2 (любой достаточен) | 0.1² = 1%    | Параллельное соединение      |
   +---------------------------+--------------+------------------------------+
   | 2 из 3 (наш случай)       | 2.8%         | Мажоритарное голосование     |
   +---------------------------+--------------+------------------------------+

-------------------------------------------------------------------------------
 Экспоненциальное распределение — время до отказа
-------------------------------------------------------------------------------

   Если λ = интенсивность отказов (1/год), то время до отказа:

   T ~ Exp(λ),  P(T &gt; t) = e^(−λt)

   Среднее время до отказа: E[T] = 1/λ

   Пример: λ = 0.1/год ⇒ E[T] = 10 лет — средний срок службы насоса

-------------------------------------------------------------------------------

 Мораль: Вероятность — инструмент для расчёта надёжности систем.
 Независимость событий + формулы для схем соединения = анализ резервирования.


-------------------------------------------------------------------------------
Теория информации — математика неопределённости и связи
-------------------------------------------------------------------------------

 Информация как взгляд на пространство


 Теория информации изучает пространство сообщений и их вероятности.

 Ключевая идея: сообщения образуют пространство, и можно измерить
 "расстояние" между распределениями вероятностей на этом пространстве:

   • Энтропия H(X) — "размер" неопределённости
   • KL-дивергенция D(P||Q) — "расстояние" между распределениями
   • Взаимная информация I(X;Y) — "пересечение" неопределённостей

 Эта геометрия на пространстве вероятностей — основа машинного обучения.


 Визуализация: энтропия = мера беспорядка


   Начальное состояние после смешивания
   (низкая энтропия)                (высокая энтропия)

   +---------+---------+            +-------------------+
   | ● ● ● ● | ○ ○ ○ ○ |            | ○ ● ○ ● ● ○ ○ ● |
   | ● ● ● ● | ○ ○ ○ ○ |     →      | ● ○ ● ○ ○ ● ● ○ |
   | ● ● ● ● | ○ ○ ○ ○ |            | ○ ○ ● ● ○ ● ○ ● |
   | ● ● ● ● | ○ ○ ○ ○ |            | ● ● ○ ○ ● ○ ● ○ |
   +---------+---------+            +-------------------+
    Горячий    Холодный              Тёплый (равномерно)
      газ        газ

   Информация: "знаю, где какие молекулы"  →  "не знаю, где какие"
   Энтропия:   низкая (порядок)            →  высокая (беспорядок)
   Процесс:    необратим (2-й закон термодинамики)

   Количественно: S = kᵦ ln W, где W — число способов расположить молекулы
   Смешанное состояние: W гораздо больше → S гораздо больше


 Энтропия Шеннона — мера неопределённости


 Мотивация: Сколько "информации" несёт сообщение?

   • "Солнце взошло на востоке" — мало информации (ожидаемо)
   • "Солнце взошло на западе" — много информации (неожиданно)

 Идея Шеннона (1948): Информация = мера неожиданности

 Определение энтропии:
 +-------------------------------------------------------------+
 |                                                             |
 | H(X) = −Σᵢ pᵢ log₂ pᵢ     (биты)                            |
 |                                                             |
 | H(X) = −Σᵢ pᵢ ln pᵢ       (наты, если натуральный логарифм) |
 |                                                             |
 +-------------------------------------------------------------+

 Смысл: Энтропия = среднее количество "вопросов да/нет" для определения
 исхода случайной величины X.

 Примеры:

 +-----------------------+------------------+--------------------------+
 | РАСПРЕДЕЛЕНИЕ         | ЭНТРОПИЯ         | ИНТУИЦИЯ                 |
 +-----------------------+------------------+--------------------------+
 | Монета (½, ½)         | H = 1 бит        | Один вопрос: "орёл?"     |
 +-----------------------+------------------+--------------------------+
 | Кубик (⅙, ⅙, ..., ⅙)  | H = log₂6 ≈ 2.58 | ~2.58 вопросов в среднем |
 +-----------------------+------------------+--------------------------+
 | Определённое (1,0,0)  | H = 0            | Нет неопределённости     |
 +-----------------------+------------------+--------------------------+
 | Смещённая (0.99,0.01) | H ≈ 0.08 бит     | Почти всегда известно    |
 +-----------------------+------------------+--------------------------+

 Свойства энтропии:
   • H(X) ≥ 0 (неотрицательность)
   • H(X) = 0 ⟺ X определена (вероятность 1 у одного исхода)
   • H(X) максимальна при равномерном распределении (max = log n)
   • H(X,Y) ≤ H(X) + H(Y), равенство при независимости

 Дифференциальная энтропия (для непрерывных распределений):

   h(X) = −∫ f(x) ln f(x) dx

   Важно: Это НЕ прямое обобщение дискретной энтропии.
     • h(X) может быть отрицательной (например, для узких распределений)
     • h(X) зависит от единиц измерения (масштабирования)
     • Для нормального: h(X) = ½ ln(2πeσ²), отрицательна при σ² &lt; 1/(2πe)

   Инженеры часто путаются: дискретная H(X) ≥ 0, но дифф. h(X) ∈ ℝ.


 Связь с термодинамической энтропией


 Термодинамика (Больцман, ~1870):

   S = kᵦ ln W

   где W — число микросостояний, kᵦ — постоянная Больцмана

 Теория информации (Шеннон, 1948):

   H = −Σ pᵢ ln pᵢ

 Это одно и то же. (с точностью до константы kᵦ)

 +-------------------------------------------------------------------------+
 | ФИЗИКА                      | ТЕОРИЯ ИНФОРМАЦИИ                         |
 +-----------------------------+-------------------------------------------+
 | Энтропия системы S          | Количество неизвестной информации H       |
 +-----------------------------+-------------------------------------------+
 | 2-й закон: S возрастает     | Информация теряется при передаче          |
 +-----------------------------+-------------------------------------------+
 | Тепловая смерть             | Максимум неопределённости                 |
 +-----------------------------+-------------------------------------------+
 | Демон Максвелла             | Информация имеет термодинам. цену         |
 +-----------------------------+-------------------------------------------+

 Принцип Ландауэра (1961):
   Стирание 1 бита информации требует минимум kᵦT ln 2 энергии
   → Информация физична.


 Взаимная информация и канал связи


 Условная энтропия:
   H(Y|X) = "неопределённость Y, если известно X"
   H(Y|X) = Σₓ p(x) H(Y|X=x) = −Σₓ,ᵧ p(x,y) log p(y|x)

 Взаимная информация:
 +-------------------------------------------------------------------------+
 |                                                                         |
 |   I(X;Y) = H(X) + H(Y) − H(X,Y) = H(X) − H(X|Y) = H(Y) − H(Y|X)         |
 |                                                                         |
 |   Сколько информации X и Y имеют общего                                 |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Визуализация (диаграмма Венна для энтропий):

        +---------------------------------------+
        |               H(X,Y)                  |
        |    +-----------------------+          |
        |    |         ╭-----╮       |          |
        |    |   H(X)  |I(X;Y)  H(Y) |          |
        |    |         ╰-----╯       |          |
        |    +-----------------------+          |
        +---------------------------------------+

        H(X|Y)    I(X;Y)    H(Y|X)
        ←-----→   ←----→    ←-----→

 Теорема Шеннона о канале:
   Пропускная способность канала: C = max I(X;Y)
   При скорости &lt; C возможна передача без ошибок.


 Дивергенция Кульбака-Лейблера


 KL-дивергенция (относительная энтропия):

   D_KL(P ∥ Q) = Σᵢ pᵢ log(pᵢ/qᵢ)

 Смысл: "Расстояние" от распределения Q к распределению P
   (сколько бит теряется при использовании Q вместо P)

 Свойства:
   • D_KL ≥ 0 (неравенство Гиббса)
   • D_KL = 0 ⟺ P = Q
   • НЕ симметрична: D_KL(P∥Q) ≠ D_KL(Q∥P) в общем случае
   • НЕ удовлетворяет неравенству треугольника

 Применения:
   • Машинное обучение: функция потерь для классификации
   • Вариационный вывод: приближение сложных распределений
   • Статистика: тесты согласия, выбор моделей


 Кодирование и сжатие


 Теорема Шеннона о кодировании источника:
   Минимальная средняя длина кода = H(X)
   Нельзя сжать лучше, чем до H(X) бит на символ.

 Пример: Текст на английском
   Равномерно: log₂(26) ≈ 4.7 бит/буква
   Реально: H ≈ 1.0-1.5 бит/буква (из-за неравномерности частот)
   → Можно сжать в ~3 раза.

 Оптимальные коды:
   • Код Хаффмана — оптимальный префиксный код
   • Арифметическое кодирование — приближается к H(X)

 Связь с пространствами:
   Множество всех вероятностных распределений на n исходах —
   это (n−1)-мерный симплекс:  Δⁿ⁻¹ = {(p₁,...,pₙ): Σpᵢ=1, pᵢ≥0}
   Энтропия H — это гладкая функция на этом симплексе.


 Связь теории информации с другими разделами


 +--------------------+------------------------------------------------+
 | ОБЛАСТЬ            | СВЯЗЬ                                          |
 +--------------------+------------------------------------------------+
 | Термодинамика      | S = kᵦH (энтропия = информац. энтропия)        |
 +--------------------+------------------------------------------------+
 | Статистика         | Фишеровская информация, ML-оценки              |
 +--------------------+------------------------------------------------+
 | Машинное обучение  | Cross-entropy loss, VAE, информац. узкие места |
 +--------------------+------------------------------------------------+
 | Теория кодирования | Коды с исправлением ошибок, сжатие             |
 +--------------------+------------------------------------------------+
 | Криптография       | Совершенная секретность, энтропия ключа        |
 +--------------------+------------------------------------------------+
 | Квантовая механика | Фон-неймановская энтропия, запутанность        |
 +--------------------+------------------------------------------------+

 Глубинный смысл:
   Энтропия — универсальная мера "беспорядка" или "незнания".
   Она появляется везде, где есть вероятности и неопределённость.
   Это мост между дискретным (биты) и непрерывным (термодинамика).


===============================================================================
Теорема Нётер — симметрия ↔ закон сохранения
===============================================================================

 Самая глубокая связь математики и физики


 Теорема Эмми Нётер (1918):

   Каждой непрерывной симметрии физической системы соответствует
   закон сохранения некоторой величины.

 и наоборот: каждому закону сохранения соответствует симметрия.


 Главные примеры
+---------------------------+--------------------------+
| СИММЕТРИЯ                 | СОХРАНЯЮЩАЯСЯ ВЕЛИЧИНА   |
+---------------------------+--------------------------+
|                           |                          |
| Сдвиг во ВРЕМЕНИ          | ЭНЕРГИЯ                  |
| (физика одинакова вчера   | E = const                |
| и сегодня)                |                          |
|                           |                          |
+---------------------------+--------------------------+
|                           |                          |
| Сдвиг в ПРОСТРАНСТВЕ      | ИМПУЛЬС                  |
| (физика одинакова здесь   | p = const                |
| и там)                    |                          |
|                           |                          |
+---------------------------+--------------------------+
|                           |                          |
| ВРАЩЕНИЕ                  | МОМЕНТ ИМПУЛЬСА          |
| (физика не зависит от     | L = const                |
| направления)              |                          |
|                           |                          |
+---------------------------+--------------------------+
|                           |                          |
| Калибровочная симметрия   | электрический заряд      |
| (фаза волновой функции)   | Q = const                |
|                           |                          |
+---------------------------+--------------------------+
|                           |                          |
| Лоренц-инвариантность     | Релятивистская 4-импульс |
| (физика не зависит от СО) | pᵘ = (E/c, p)            |
|                           |                          |
+---------------------------+--------------------------+

 Математическая формулировка


 Система описывается лагранжианом L(q, q̇, t)

 Если L инвариантен относительно преобразования q → q + εδq:

                ∂L
   Q = Σᵢ ----- · δqᵢ  =  const  (сохраняется)
               ∂q̇ᵢ

 Примеры:
   • L не зависит от t  ⇒  ∂L/∂q̇ · q̇ − L = H (гамильтониан) сохраняется
   • L не зависит от x  ⇒  ∂L/∂ẋ = p (импульс) сохраняется
   • L не зависит от угла θ ⇒  ∂L/∂θ̇ = Lz (момент) сохраняется


 Философский смысл


 Законы сохранения — не "божественные заповеди", а следствия геометрии
 пространства-времени.

 Пространство однородно (нет "особых точек") ⇒ импульс сохраняется
 Пространство изотропно (нет "особых направлений") ⇒ момент сохраняется
 Время однородно (законы не меняются) ⇒ энергия сохраняется

 Группы Ли → Законы физики.


 Гамильтонова механика — симплектическая геометрия в действии


 Лагранжиан описывает систему через координаты q и скорости q̇.
 Гамильтониан — через координаты q и импульсы p = ∂L/∂q̇.

 Канонические уравнения Гамильтона:

   q̇ᵢ = ∂H/∂pᵢ,      ṗᵢ = −∂H/∂qᵢ

 Фазовое пространство (q, p) имеет симплектическую структуру:
   2-форма ω = Σ dpᵢ ∧ dqᵢ  (замкнутая, невырожденная)

 Теорема Лиувилля: фазовый объём сохраняется при гамильтоновом потоке.
   ∫ dq₁...dqₙ dp₁...dpₙ = const

   Физический смысл: облако начальных условий в фазовом пространстве
   может менять форму, но не объём. Жидкость несжимаема.

 Скобки Пуассона:

   {f, g} = Σᵢ (∂f/∂qᵢ · ∂g/∂pᵢ − ∂f/∂pᵢ · ∂g/∂qᵢ)

   Свойства: антисимметрия, тождество Якоби, правило Лейбница.
   Уравнение движения: ḟ = {f, H} + ∂f/∂t
   Интеграл движения: {f, H} = 0  ⟺  f сохраняется.

 Связь с квантовой механикой:
   {f, g} → (1/iℏ)[f̂, ĝ]  (скобки Пуассона → коммутатор операторов)
   Это не аналогия — это точное соответствие (квантование Дирака).


===============================================================================
Оптимизация — градиент, экстремумы, лагранжиан
===============================================================================

 Задача оптимизации


 Дана функция f(x₁, x₂, ..., xₙ)
 Найти точку, где f достигает минимума (или максимума)

 Два случая:
   • Без ограничений: ищем экстремум на всём пространстве
   • С ограничениями: g(x) = 0 (на поверхности)


 Выпуклость — гарантия глобального оптимума


 Главная теорема: Для выпуклой функции на выпуклом множестве
                  локальный минимум = глобальный минимум.

 Это фундаментальный факт, который делает задачу "решаемой".


 Выпуклое множество


 Множество C выпукло, если для любых x, y ∈ C и любого t ∈ [0,1]:

   tx + (1−t)y ∈ C

 (Отрезок между любыми двумя точками целиком лежит в множестве)

   Выпуклое: невыпуклое: невыпуклое:
   +---------+       +---╮               +-----+
   |    ●----+---●   |   |               |     +--+
   |         |       |   +---+           |        |
   +---------+       +-------+           +--------+
   Круг, квадрат     "Подкова"           С "дыркой"


 Выпуклая функция


 Функция f выпукла, если для любых x, y и t ∈ [0,1]:

   f(tx + (1−t)y) ≤ t·f(x) + (1−t)·f(y)

 (Хорда лежит над графиком)

         f(x)●------------------●f(y)   ← хорда
             ╲                 ╱
              ╲               ╱
               ╲------●------╱          ← график f
                f(tx+(1-t)y)


 Критерии выпуклости
+----------------------------+--------------------------------------+
| КРИТЕРИЙ                   | ФОРМУЛИРОВКА                         |
+----------------------------+--------------------------------------+
| Первый порядок             | f(y) ≥ f(x) + ∇f(x)·(y−x)            |
| (касательная ПОД графиком) | для всех x, y                        |
+----------------------------+--------------------------------------+
| Второй порядок             | H(f) ≽ 0 (матрица Гессе положительно |
| (для C² функций)           | полуопределена во всех точках)       |
+----------------------------+--------------------------------------+
| Для f(x) одной переменной  | f''(x) ≥ 0 для всех x                |
+----------------------------+--------------------------------------+

 Примеры выпуклых и невыпуклых функций
+---------------------------+-------------------------------------------------+
| ВЫПУКЛЫЕ                  | НЕВЫПУКЛЫЕ                                      |
+---------------------------+-------------------------------------------------+
| x² (парабола)             | −x² (перевёрнутая парабола) — ВОГНУТАЯ          |
| eˣ (экспонента)           | sin(x), cos(x) — осциллируют                   |
| |x| (модуль)              | x³ — меняет кривизну                           |
| x log x (x &gt; 0)           | √x — вогнутая (но −√x выпуклая)               |
| ‖x‖ (любая норма)         | x⁴ − x² — несколько минимумов                 |
| max(f₁, f₂) если fᵢ выпукл|                                                |
+---------------------------+-------------------------------------------------+

 Прикладной пример: оптимизация толщины изоляции


 Задача: Труба с теплоносителем. Найти оптимальную толщину изоляции δ.

 Затраты = Стоимость изоляции + Стоимость потерь тепла

   C(δ) = C_изол · δ + C_тепло / (R₀ + δ/λ)
              ↑                    ↑
      линейно по δ         убывает как 1/(R₀ + δ/λ)

 Анализ выпуклости:

   Первое слагаемое: линейно (выпукло)
   Второе слагаемое: 1/(R₀ + δ/λ) — выпукло для δ &gt; 0
   Сумма выпуклых = выпукла.

   C''(δ) = 2·C_тепло·(1/λ)² / (R₀ + δ/λ)³ &gt; 0  ✓

 Вывод: Функция затрат выпукла ⇒ найденный минимум глобальный.
        Градиентный спуск гарантированно найдёт оптимум.

 Если бы невыпукла: Могли бы застрять в локальном минимуме.
                    Нужны методы глобальной оптимизации (дорого)


 Сохранение выпуклости (правила комбинирования)


   +---------------------+------------------------------+
   | ОПЕРАЦИЯ            | РЕЗУЛЬТАТ                    |
   +---------------------+------------------------------+
   | αf, где α ≥ 0       | Выпуклая (масштабирование)   |
   | f + g               | Выпуклая (сумма выпуклых)    |
   | max(f, g)           | Выпуклая (максимум выпуклых) |
   | f(Ax + b)           | Выпуклая (аффинная замена)   |
   | ∩ выпуклых множеств | Выпуклое (пересечение)       |
   +---------------------+------------------------------+

 Осторожно: min(f, g) НЕ обязательно выпуклая.
            Произведение fg НЕ обязательно выпуклая.
            Композиция f(g(x)) требует условий на f и g.


 Градиент — направление наискорейшего роста


           ⎛ ∂f     ∂f          ∂f  ⎞
   ∇f  =   ⎜----, ----, ..., ----  ⎟
           ⎝ ∂x₁   ∂x₂         ∂xₙ ⎠

 Свойства:
   • ∇f указывает в направлении наибольшего роста f
   • |∇f| = скорость роста в этом направлении
   • ∇f ⊥ линиям уровня f = const

 Пример: f(x,y) = x² + y²
         ∇f = (2x, 2y) — направлен от центра наружу


 Тонкость: ∇f и df — НЕ одно и то же.


 Почему это важно:
   Когда пишут ∇f = (∂f/∂x, ∂f/∂y), это работает в ℝⁿ с обычной метрикой.
   Но в общем случае градиент и дифференциал — разные объекты.

 Дифференциал df — это ковектор (1-форма):
   df: касательные векторы → числа
   df(v) = "производная f в направлении v" = скорость изменения f

   df = (∂f/∂x) dx + (∂f/∂y) dy    ← линейная комбинация базисных 1-форм

 Градиент grad f = ∇f — это вектор:
   ∇f — это вектор, соответствующий ковектору df через метрику

 Связь через метрику:
   df(v) = ⟨∇f, v⟩    для любого вектора v
   или: ∇f = g⁻¹(df)  где g — метрический тензор

 В евклидовом пространстве (g = i):
   Метрика тривиальна, поэтому компоненты совпадают:
   df = (∂f/∂x, ∂f/∂y)  и  ∇f = (∂f/∂x, ∂f/∂y)  — выглядят одинаково

 В криволинейных координатах (сферические, цилиндрические):
   Компоненты различаются. Метрика нетривиальна.

 Визуализация:

   df — "ценник" (сколько стоит сдвиг?)    ← ковектор, живёт в V*
   ∇f — "стрелка" (куда идти?)             ← вектор, живёт в V

     Линии уровня f = const
         ╱  ╱  ╱  ╱  ╱
        ╱  ╱  ╱  ╱  ╱
       ╱  ╱--→╱  ╱   ← ∇f (вектор, перпендикулярен линиям уровня)
      ╱  ╱  ╱  ╱  ╱
     ╱  ╱  ╱  ╱  ╱

   df задаёт "расстояние" между линиями уровня
   ∇f показывает направление этого расстояния (требует метрику)

 Почему ∇f ⊥ линиям уровня:
   Вдоль линии уровня f = const: df(v) = 0 для касательных v
   Значит ⟨∇f, v⟩ = 0, т.е. ∇f перпендикулярен касательным

 Практический вывод:
   В ℝⁿ с обычной метрикой можно не различать df и ∇f.
   В общей теории относительности, на многообразиях — различие критично.


 Необходимое условие экстремума


 Без ограничений:

                         ∇f = 0

   (все частные производные равны нулю — критическая точка)

 Для определения типа точки — матрица Гессе:

            ⎛ ∂²f/∂x₁²    ∂²f/∂x₁∂x₂  .  ⎞
   H(f) =   ⎜ ∂²f/∂x₂∂x₁  ∂²f/∂x₂²    .  ⎟
            ⎝    .         .      .  ⎠

   H &gt; 0 (положительно определена) → минимум
   H &lt; 0 (отрицательно определена) → максимум
   det(H) &lt; 0 → седло


 Геометрический смысл гессиана — Почему это работает?


 Напоминание (одна переменная):

   f''(a) &gt; 0 ⇒ минимум (функция "вогнута вверх" ⌣)
   f''(a) &lt; 0 ⇒ максимум (функция "вогнута вниз" ⌢)

   Вторая производная — это кривизна графика.
   Положительная кривизна = "чаша" = минимум
   Отрицательная кривизна = "купол" = максимум

 Многомерный случай:

   В точке a функция f приближается квадратичной формой:

   f(a + h) ≈ f(a) + ∇f(a)·h + ½ hᵀ H(a) h
                       ↑          ↑
                    =0 в крит.    квадратичная форма
                       точке

   В критической точке ∇f = 0, поэтому:

   f(a + h) − f(a) ≈ ½ hᵀ H h

   Знак этого выражения определяет, куда смотрит "поверхность".

 Собственные значения гессиана = кривизны в главных направлениях:

   H — симметричная матрица, значит диагонализуется:

   H = Q Λ Qᵀ, где Λ = diag(λ₁, λ₂, ..., λₙ)

   λᵢ — это кривизна функции вдоль i-го главного направления.

 +-------------------------------------------------------------------------+
 |                                                                         |
 |   Все λᵢ &gt; 0:  "чаша" во всех направлениях = минимум                    |
 |                                                                         |
 |         z                                                               |
 |         |    ╭---╮                                                      |
 |         |   ╱     ╲                                                     |
 |         |  ╱   ●   ╲  ← точка на дне чаши                               |
 |         | ╱---------╲                                                   |
 |         +------------→ x,y                                              |
 |                                                                         |
 |   Все λᵢ &lt; 0:  "купол" во всех направлениях = максимум                  |
 |                                                                         |
 |         z                                                               |
 |         | ╲---------╱                                                   |
 |         |  ╲   ●   ╱  ← точка на вершине купола                         |
 |         |   ╲     ╱                                                     |
 |         |    ╰---╯                                                      |
 |         +------------→ x,y                                              |
 |                                                                         |
 |   Разные знаки λᵢ:  "седло" — вверх в одном, вниз в другом              |
 |                                                                         |
 |         z                                                               |
 |         |    ╱╲                                                         |
 |         |   ╱  ╲                                                        |
 |         |  -----● ← точка в седле                                       |
 |         |   ╲  ╱                                                        |
 |         |    ╲╱                                                         |
 |         +------------→ x,y                                              |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Почему работает окаймлённый гессиан:

   При условной оптимизации мы двигаемся не по всему пространству,
   а только вдоль поверхности g(x) = 0.

   Обычный Гессиан показывает кривизну во всех направлениях.
   Но нас интересуют только допустимые направления (вдоль ограничения).

   Окаймление "вычитает" недопустимые направления:
   • Нулевая строка/столбец — фиксирует ограничение
   • Внутренняя часть — Гессиан функции Лагранжа

   Миноры окаймлённого Гессиана показывают кривизну
   В пространстве, перпендикулярном ∇g (т.е. вдоль поверхности).

 Аналогия:
   Идёте по горному хребту (ограничение = оставаться на хребте).
   Вас интересует: это локальный минимум или максимум вдоль хребта,
   а не то, что по бокам обрыв.


 Метод множителей Лагранжа — экстремум с ограничением


 Задача: минимизировать f(x) при условии g(x) = 0

 Идея: В точке экстремума ∇f ∥ ∇g (градиенты параллельны)

                     ∇f = λ · ∇g

 где λ — множитель Лагранжа (неизвестный скаляр)

 Система уравнений:
   • ∂f/∂xᵢ = λ · ∂g/∂xᵢ  для всех i
   • g(x) = 0              (ограничение)

 Эквивалентно: экстремум функции Лагранжа L = f − λg

 Пример: Найти прямоугольник максимальной площади при P = 20
   f = xy (площадь), g = 2x + 2y − 20 = 0 (периметр)
   ∇f = (y, x), ∇g = (2, 2)
   y = 2λ, x = 2λ ⇒ x = y ⇒ квадрат 5×5


 Окаймлённая матрица Гессе — определение типа в условной оптимизации


 Проблема: Найдена критическая точка методом Лагранжа.
 Это минимум, максимум или седло? Обычный гессиан не работает.

 Идея: Нас интересует знак второй производной не во всём пространстве,
 а только вдоль поверхности ограничения g(x) = 0.

 Окаймлённый гессиан (для одного ограничения g = 0):

             ⎛   0      ∂g/∂x₁   ∂g/∂x₂  .  ∂g/∂xₙ  ⎞
             ⎜ ∂g/∂x₁    ∂²L/∂x₁²  .    .    .   ⎟
   H̄(L)  =   ⎜ ∂g/∂x₂    .     ∂²L/∂x₂²  .   .   ⎟
             ⎜   .      .      .     .   .   ⎟
             ⎝ ∂g/∂xₙ    .      .     .  ∂²L/∂xₙ²⎠

   где L = f − λg — функция Лагранжа

 Условия экстремума (проверяем угловые миноры h̄, начиная с 3-го):

   Обозначим: |H̄ₖ| — главный минор размера k × k

 +---------------+---------------------------------------------------------+
 | ТИП ТОЧКИ     | УСЛОВИЕ НА МИНОРЫ (k = 3, 4, ..., n+1)                  |
 +---------------+---------------------------------------------------------+
 |               |                                                         |
 | минимум       | Все |H̄ₖ| &lt; 0  (отрицательны)                            |
 |               |                                                         |
 +---------------+---------------------------------------------------------+
 |               |                                                         |
 | максимум      | Знаки чередуются: |H̄₃| &gt; 0, |H̄₄| &lt; 0, |H̄₅| &gt; 0, ...    |
 |               | (первый &gt; 0, потом знакочередование)                    |
 |               |                                                         |
 +---------------+---------------------------------------------------------+
 |               |                                                         |
 | СЕДЛО         | Иначе                                                   |
 |               |                                                         |
 +---------------+---------------------------------------------------------+

 Пример: f(x,y) = xy, g(x,y) = x + y − 10 = 0

   ∇f = (y, x), ∇g = (1, 1)
   Критическая точка: x = y = 5, λ = 5

   Функция Лагранжа: L = xy − λ(x + y − 10)
   ∂²L/∂x² = 0,  ∂²L/∂y² = 0,  ∂²L/∂x∂y = 1

              ⎛ 0  1  1 ⎞
   H̄(L)  =   ⎜ 1  0  1 ⎟
              ⎝ 1  1  0 ⎠

   |H̄₃| = det(H̄) = 0 + 1 + 1 − 0 − 0 − 0 = 2 &gt; 0

   Знак |H̄₃| &gt; 0 → максимум (xy максимально при x = y = 5)

 Несколько ограничений g₁ = 0, g₂ = 0, ..., gₘ = 0:

   Окаймление расширяется до m строк/столбцов:

              ⎛  0    0   ... ∇g₁ᵀ ⎞
              ⎜  0    0   ... ∇g₂ᵀ ⎟
   H̄(L)  =   ⎜  ⋮   ⋮   ⋮   ⋮  ⎟
              ⎜ ∇g₁  ∇g₂  ...  H   ⎟
              ⎝                     ⎠

   Проверяем миноры начиная с (2m+1)-го.

 Связь с обычным гессианом:
   Окаймление "проецирует" кривизну на касательное пространство
   к поверхности ограничения. Нули в углу — вклад от ограничений.


 KKT — условия для задач с неравенствами


 Множители Лагранжа работают для равенств: g(x) = 0
 Но инженерные задачи часто имеют неравенства: g(x) ≤ 0

 Задача: min f(x) при gᵢ(x) ≤ 0, hⱼ(x) = 0

 Условия Каруша-Куна-Таккера (KKT):
 +----------------------------------------------------------+
 | Необходимые условия для x* быть оптимумом:               |
 |                                                          |
 | 1. СТАЦИОНАРНОСТЬ:  ∇f(x*) + Σμᵢ∇gᵢ(x*) + Σλⱼ∇hⱼ(x*) = 0 |
 |                                                          |
 | 2. ДОПУСТИМОСТЬ:    gᵢ(x*) ≤ 0,  hⱼ(x*) = 0              |
 |                                                          |
 | 3. ДВОЙСТВЕННАЯ ДОПУСТИМОСТЬ:  μᵢ ≥ 0                    |
 |                                                          |
 | 4. ДОПОЛНЯЮЩАЯ НЕЖЁСТКОСТЬ:  μᵢ · gᵢ(x*) = 0  для всех i |
 | (либо ограничение активно gᵢ=0, либо множитель μᵢ=0)     |
 +----------------------------------------------------------+

 Смысл условия 4 (дополняющая нежёсткость):
   • Если x* внутри области (gᵢ &lt; 0), ограничение не влияет → μᵢ = 0
   • Если x* на границе (gᵢ = 0), ограничение активно → μᵢ ≥ 0

 Достаточность: Для выпуклых задач (f выпукла, gᵢ выпуклы, hⱼ линейны)
 KKT условия не только необходимы, но и достаточны.

 Пример: min x² + y²  при x + y ≥ 1 (т.е. g(x,y) = 1 − x − y ≤ 0)
   ∇f = (2x, 2y), ∇g = (−1, −1)
   Из стационарности: 2x − μ = 0, 2y − μ = 0 → x = y
   Из доп. нежёсткости: либо μ=0 (тогда x=y=0, но 0+0&lt;1 — недопустимо),
                       либо g=0 (тогда x=y=½, μ=1&gt;0 — допустимо)
   Ответ: x* = y* = ½, f* = ½


 Вариационное исчисление — Когда неизвестна функция


 Найти функцию y(x), минимизирующую функционал:

   J[y] = ∫ₐᵇ F(x, y, y') dx

 Уравнение Эйлера-Лагранжа:

            ∂F     d  ⎛ ∂F  ⎞
           ---- − --- ⎜----⎟ = 0
            ∂y    dx  ⎝ ∂y' ⎠

 Примеры:
   • Кратчайший путь → прямая
   • Брахистохрона (быстрейший спуск) → циклоида
   • Принцип наименьшего действия → законы механики


 Связь с пространствами


 Оптимизация — это поиск особых точек на пространстве.

 Пространство функций — бесконечномерное.
   Каждая функция y(x) — "точка" в этом пространстве.
   Функционал J[y] — "высота" этой точки.
   Вариационное исчисление = поиск экстремумов в ∞-мерном пространстве.

 Геодезические на многообразии = экстремумы длины пути.
   На сфере: большие круги
   В ото: траектории в гравитационном поле


 Градиентный спуск — численный метод оптимизации


 Идея: Двигаться в направлении наискорейшего убывания функции.

   x_{n+1} = x_n − α · ∇f(x_n)

   α — шаг (learning rate), ∇f — градиент

 Визуализация:

              ╱╲         линии уровня f = const
            ╱    ╲
          ╱   ●---→ ∇f (направление роста)
        ╱        ╲
      ╱           ╲    Спуск идёт против градиента: −∇f
    ╱      ●←------╲
              ↓
              ● минимум

 Выбор шага α:
   • α слишком мал: медленная сходимость
   • α слишком велик: расходимость, "прыжки" через минимум
   • Адаптивный α: метод Армихо, Wolfe conditions

 Варианты:
 +----------------------+----------------------------------------+
 | МЕТОД                | ОСОБЕННОСТЬ                            |
 +----------------------+----------------------------------------+
 | Градиентный спуск    | x ← x − α∇f                            |
 +----------------------+----------------------------------------+
 | Метод Ньютона        | x ← x − H⁻¹∇f (H = гессиан)            |
 |                      | Быстрее, но нужна 2-я производная      |
 +----------------------+----------------------------------------+
 | Стохастический (SGD) | Градиент по случайной подвыборке       |
 |                      | Для больших данных (машинное обучение) |
 +----------------------+----------------------------------------+
 | Adam, RMSprop        | Адаптивный шаг для каждой координаты   |
 |                      | Стандарт в deep learning               |
 +----------------------+----------------------------------------+

 Проблемы:
   • Локальные минимумы (не гарантируется глобальный)
   • Седловые точки (∇f=0, но не экстремум)
   • Плохая обусловленность (вытянутые "овраги")

 Связь с физикой:
   Градиентный спуск ≈ движение шарика по поверхности f(x,y)
   с вязким трением (без инерции)


===============================================================================
Устойчивость и теория управления
===============================================================================

 Зачем нужна устойчивость


 Главный вопрос: Если систему слегка толкнуть, она вернётся или улетит?

 Примеры:
   • Маятник: внизу — устойчив, вверху — неустойчив
   • Спутник: устойчивые и неустойчивые орбиты
   • Теплосеть: выйдет ли на режим после возмущения?
   • Экономика: вернётся ли рынок к равновесию?

 Математическая модель:
   Система описывается дифференциальным уравнением:

                     ẋ = f(x)

   где x — вектор состояния, f — векторное поле
   Точка x* называется положением равновесия, если f(x*) = 0

-------------------------------------------------------------------------------
 Фазовое пространство как "река траекторий"
-------------------------------------------------------------------------------

 Представьте фазовое пространство как бассейн с текущей водой:

   • Векторное поле f(x) — это скорость течения в каждой точке
   • Траектория x(t) — это путь щепки, брошенной в воду
   • Равновесие x* — это точка, где вода стоит (f = 0)
   • Устойчивое равновесие — это сток (вода втекает)
   • Неустойчивое равновесие — это источник (вода вытекает)
   • Предельный цикл — это водоворот, в который втягиваются траектории

 Эта аналогия с гидродинамикой глубока:
   • div(f) &lt; 0 в стоке, div(f) &gt; 0 в источнике
   • rot(f) ≠ 0 вокруг центра/фокуса
   • Теорема Лиувилля: несжимаемый поток сохраняет объём в фазовом простр.

 В гамильтоновой механике фазовый поток буквально несжимаем.


 Типы устойчивости


 +------------------+----------------------------------------------------+
 | ТИП              | ОПРЕДЕЛЕНИЕ                                        |
 +------------------+----------------------------------------------------+
 |                  |                                                    |
 | По Ляпунову      | ∀ε&gt;0 ∃δ&gt;0: |x(0)−x*|&lt;δ ⇒ |x(t)−x*|&lt;ε ∀t≥0        |
 | (устойчивость)   | "Начали близко — останемся близко навсегда"        |
 |                  |                                                    |
 +------------------+----------------------------------------------------+
 |                  |                                                    |
 | Асимптотическая  | Устойчива по Ляпунову + x(t) → x* при t → ∞       |
 |                  | "Не просто близко, а стремится к равновесию"       |
 |                  |                                                    |
 +------------------+----------------------------------------------------+
 |                  |                                                    |
 | Экспоненциальная | |x(t)−x*| ≤ C·e^(−αt)|x(0)−x*| для C,α &gt; 0        |
 |                  | "Сходится экспоненциально быстро"                  |
 |                  |                                                    |
 +------------------+----------------------------------------------------+
 |                  |                                                    |
 | Глобальная       | Асимптотическая для любых начальных условий        |
 |                  | (не только в окрестности x*)                       |
 |                  |                                                    |
 +------------------+----------------------------------------------------+
 |                  |                                                    |
 | BIBO             | Bounded Input → Bounded Output                     |
 |                  | Ограниченный вход даёт ограниченный выход          |
 |                  |                                                    |
 +------------------+----------------------------------------------------+

 Визуализация:

   Устойчива           Асимптотически        Неустойчива
   (по Ляпунову)       устойчива

       ●                   ●                     ○
      ╱|╲                 ╱|╲                   ╱|╲
     ╱ | ╲               ╱ | ╲                 ╱ | ╲
    ●--●--●             ●→-●-←●               ●--●--●→
   не уходит          стремится к           разбегается
   далеко             центру


 Линеаризация и собственные значения


 Идея: Вблизи равновесия x* заменяем нелинейную систему линейной

   ẋ = f(x) ≈ f(x*) + Df(x*)(x − x*) = A(x − x*)

   где A = Df(x*) — матрица Якоби (матрица частных производных)

 Теорема Ляпунова о первом приближении:
 +---------------------------------------------------------------------+
 |                                                                     |
 | Если все собственные значения λᵢ матрицы A имеют Re(λᵢ) &lt; 0,     |
 | то x* АСИМПТОТИЧЕСКИ УСТОЙЧИВО.                                     |
 |                                                                     |
 | Если хотя БЫ одно Re(λᵢ) &gt; 0, то x* неустойчиво.                 |
 |                                                                     |
 | Если Re(λᵢ) ≤ 0 и есть λ с Re(λ) = 0 — нужен дополнительный анализ. |
 |                                                                     |
 +---------------------------------------------------------------------+

 Геометрия на комплексной плоскости:

            Im(λ)
              |
       ○      |      ×     ← × неустойчиво (Re &gt; 0)
              |
   -----------+-----------  Re(λ)
              |
       ○      |      ×     ← ○ устойчиво (Re &lt; 0)
              |

   Все λ в левой полуплоскости ⟺ асимптотическая устойчивость

 Физический смысл:
   Re(λ) &lt; 0: экспоненциальное затухание e^(Re(λ)t)
   Re(λ) &gt; 0: экспоненциальный рост
   Im(λ) ≠ 0: колебания с частотой |Im(λ)|


 Фазовый портрет — визуализация динамики


 Для системы ẋ = Ax (2D) тип поведения определяется собственными числами:

 +-------------------------------------------------------------------------+
 |                                                                         |
 |   УЗЕЛ (устойчивый)        ФОКУС (устойчивый)       СЕДЛО               |
 |   λ₁, λ₂ &lt; 0, real         λ = α ± iβ, α &lt; 0        λ₁ &lt; 0 &lt; λ₂        |
 |                                                                         |
 |        ╲   |   ╱                  ╭---╮                   |             |
 |         ╲  |  ╱               ╭---╯   ╰--╮               |             |
 |          ╲ | ╱               ╭╯    ●    ╰╮          ----●----          |
 |      -----●-----            ╭╯           ╰╮              |             |
 |          ╱ | ╲               ╰-------------╯              |             |
 |         ╱  |  ╲                                          |             |
 |        ╱   |   ╲           затухающая спираль    неустойчиво.          |
 |      всё стремится                                                      |
 |      к центру                                                           |
 |                                                                         |
 |   ЦЕНТР                    УЗЕЛ (неустойчивый)      ФОКУС (неустойч.)   |
 |   λ = ±iβ (чисто мним.)    λ₁, λ₂ &gt; 0               λ = α ± iβ, α &gt; 0  |
 |                                                                         |
 |        ╭-------╮                 ↑   ↑   ↑              ╭---╮           |
 |       ╱         ╲               ╱   |   ╲           ╭--╯   ╰--╮        |
 |      |     ●     |             ╱    |    ╲         ╯    ●    ╰        |
 |       ╲         ╱           -----●-----          раскручивающаяся     |
 |        ╰-------╯               ╱    |    ╲           спираль          |
 |      замкнутые орбиты        ╱     |     ╲                            |
 |      (консервативн.)       всё разбегается                             |
 |                                                                         |
 +-------------------------------------------------------------------------+

 Пример: Маятник (линеаризованный)

   θ̈ + (b/m)θ̇ + (g/L)θ = 0  →  ẋ = Ax, где x = (θ, θ̇)

   A = | 0      1    |     Характ. уравнение: λ² + (b/m)λ + g/L = 0
       |−g/L  −b/m   |

   b = 0: центр (идеальный маятник, колебания без затухания)
   b &gt; 0 малое: фокус (затухающие колебания)
   b большое: узел (апериодическое затухание)


 Функция Ляпунова — обобщённая "энергия"


 Идея: Найти функцию V(x), которая убывает вдоль траекторий

 Определение:
   V: ℝⁿ → ℝ называется функцией Ляпунова для ẋ = f(x) в окрестности x*,
   если:
     1. V(x*) = 0 и V(x) &gt; 0 для x ≠ x* (положительно определена)
     2. V̇(x) = ∇V · f(x) ≤ 0 вдоль траекторий (убывает или постоянна)

 Теоремы Ляпунова:
 +------------------------------------------------------+
 |                                                      |
 | V̇ ≤ 0  ⇒  x* устойчиво по Ляпунову                  |
 |                                                      |
 | V̇ &lt; 0 (кроме x*)  ⇒  x* асимптотически устойчиво |
 |                                                      |
 +------------------------------------------------------+

 Пример: Маятник с трением  ẍ + bẋ + sin(x) = 0

   V = ½ẋ² + (1 − cos x)    ("энергия" = кинетическая + потенциальная)
   V̇ = −bẋ² ≤ 0            (энергия убывает из-за трения)

   Поскольку V̇ ≤ 0 и V̇ = 0 только при ẋ = 0, точка (0, 0) асимптотически
   устойчива (принцип инвариантности Ла-Салля).

 Преимущество:
   Не нужно решать уравнения. Достаточно найти подходящую V.
   Работает для нелинейных систем.

 Сложность:
   Нет общего метода построения V. Это искусство + физическая интуиция.


 Критерий Рауса-Гурвица — устойчивость без вычисления корней


 Задача: Проверить, все ли корни характеристического многочлена
         p(λ) = λⁿ + aₙ₋₁λⁿ⁻¹ + ... + a₁λ + a₀ лежат в левой полуплоскости

 Матрица Гурвица:

        ⎛ aₙ₋₁  aₙ₋₃  aₙ₋₅  .  0   ⎞
        ⎜  1    aₙ₋₂  aₙ₋₄  .  0   ⎟
   H =  ⎜  0    aₙ₋₁  aₙ₋₃  .  0   ⎟
        ⎜  0     1    aₙ₋₂  .  0   ⎟
        ⎝ .   .   .   . a₀   ⎠

 Критерий:
 +---------------------------------------------------------------+
 |                                                               |
 | Система устойчива ⟺ все главные миноры Δ₁, Δ₂, ..., Δₙ &gt; 0 |
 |                                                               |
 +---------------------------------------------------------------+

 Частные случаи:

   n = 2: λ² + a₁λ + a₀
          Устойчиво ⟺ a₁ &gt; 0 и a₀ &gt; 0

   n = 3: λ³ + a₂λ² + a₁λ + a₀
          Устойчиво ⟺ a₂ &gt; 0, a₀ &gt; 0, a₂a₁ &gt; a₀

 Практическое значение:
   Не нужно искать корни. Только проверять знаки определителей.
   Можно анализировать устойчивость при параметрах (aᵢ = f(k, τ, ...))


 Пространство состояний — современный подход к управлению


 Модель в пространстве состояний:

   ẋ = Ax + Bu      (уравнение состояния)
   y = Cx + Du      (уравнение выхода)

   x ∈ ℝⁿ — вектор состояния (внутренние переменные)
   u ∈ ℝᵐ — вектор входов (управляющие воздействия)
   y ∈ ℝᵖ — вектор выходов (измеряемые величины)
   A, B, C, D — матрицы системы

 Пример: Теплообменник
   x = (T₁, T₂, T₃)ᵀ  — температуры в точках
   u = (Q_вх, G)ᵀ     — тепловая мощность, расход
   y = T_вых          — температура на выходе

 Связь с передаточной функцией:

   G(s) = C(sI − A)⁻¹B + D

   Полюса G(s) = собственные значения A
   Устойчивость: все полюса в левой полуплоскости


 Управляемость и наблюдаемость


 Управляемость: Можно ли из любого x₀ попасть в любое x₁?

   Матрица управляемости:  𝒞 = [B  AB  A²B  .  Aⁿ⁻¹B]

 +-------------------------------------------------+
 | Система УПРАВЛЯЕМА ⟺ rank(𝒞) = n  (полный ранг) |
 +-------------------------------------------------+

 Наблюдаемость: Можно ли восстановить x(t) по y(t)?

   Матрица наблюдаемости:  𝒪 = [C; CA; CA²; .; CAⁿ⁻¹]ᵀ

 +-------------------------------------------------+
 | Система НАБЛЮДАЕМА ⟺ rank(𝒪) = n  (полный ранг) |
 +-------------------------------------------------+

 Двойственность:
   (A, B) управляема ⟺ (Aᵀ, Cᵀ) наблюдаема

 Практический смысл:
   • Неуправляемость: есть "скрытые" моды, на которые нельзя повлиять
   • Ненаблюдаемость: есть "невидимые" моды, которые не видны в выходе


 П, пи, пид-регуляторы — рабочие лошадки автоматики


 Задача: Поддерживать величину y(t) на уровне уставки r(t)
         e(t) = r(t) − y(t) — ошибка регулирования

-------------------------------------------------------------------------------
 1. П-регулятор (пропорциональный)
-------------------------------------------------------------------------------

   u(t) = Kₚ · e(t)

   Суть: Управляющее воздействие пропорционально ошибке.
         Чем больше отклонение — тем сильнее реакция.

   Пример (бойлер):
   Уставка 50°C, текущая температура 45°C, Kₚ = 2
   Ошибка e = 50 − 45 = 5°C
   Управление u = 2 × 5 = 10 единиц мощности

   ✓ Плюсы: Быстро реагирует
   ✗ Минусы: Остаётся статическая ошибка (не "дожимает" до уставки)

-------------------------------------------------------------------------------
 2. ПИ-регулятор (пропорционально-интегральный)
-------------------------------------------------------------------------------

   u(t) = Kₚ · e(t) + Kᵢ · ∫e(τ)dτ

   Суть: Добавляется "память" — накопленная сумма прошлых ошибок.
         Даже малая постоянная ошибка со временем накопится
         и увеличит управляющее воздействие.

   Пример (тот же бойлер, Kₚ = 2, Kᵢ = 0.5):

   Шаг 1: T = 45°C, e = 5°C
          Интеграл = 5
          u = 2×5 + 0.5×5 = 10 + 2.5 = 12.5

   Шаг 2: T = 47°C, e = 3°C
          Интеграл = 5 + 3 = 8
          u = 2×3 + 0.5×8 = 6 + 4 = 10

   Шаг 3: T = 49°C, e = 1°C
          Интеграл = 8 + 1 = 9
          u = 2×1 + 0.5×9 = 2 + 4.5 = 6.5

   Интеграл "помнит" прошлые ошибки и доводит до уставки.

   ✓ Плюсы: Устраняет статическую ошибку
   ✗ Минусы: Может перерегулировать (проскочить уставку)

-------------------------------------------------------------------------------
 3. ПИД-регулятор (пропорционально-интегрально-дифференциальный)
-------------------------------------------------------------------------------

   u(t) = Kₚ · e(t) + Kᵢ · ∫e(τ)dτ + K_d · ė(t)

   Суть: Добавляется реакция на скорость изменения ошибки.
         Если температура быстро приближается к уставке —
         дифференциальная часть "притормозит", чтобы не проскочить.

   Пример (Kₚ = 2, Kᵢ = 0.5, K_d = 1):

   Шаг 1: T = 45°C, e = 5°C, ė = 5 (ошибка появилась)
          u = 2×5 + 0.5×5 + 1×5 = 10 + 2.5 + 5 = 17.5 ← агрессивный старт

   Шаг 2: T = 47°C, e = 3°C, ė = 3−5 = −2 (ошибка уменьшается)
          u = 2×3 + 0.5×8 + 1×(−2) = 6 + 4 − 2 = 8 ← притормаживаем

   Шаг 3: T = 49°C, e = 1°C, ė = 1−3 = −2
          u = 2×1 + 0.5×9 + 1×(−2) = 2 + 4.5 − 2 = 4.5 ← плавный подход

   ✓ Плюсы: Быстрее и точнее, минимум перерегулирования
   ✗ Минусы: Сложнее настраивать, чувствителен к шуму

-------------------------------------------------------------------------------
 Сравнение на примере круиз-контроля
-------------------------------------------------------------------------------

   П:   Чем больше машина отстаёт от заданной скорости, тем сильнее газ.
        Но если дорога в гору — постоянное отставание.

   Пи:  "Помнит", что давно не достигает скорости — добавляет газ
        до полного совпадения. Но может разогнаться и проскочить.

   Пид: Если машина резко разгоняется — сбрасывает газ заранее,
        чтобы не проскочить нужную скорость.

-------------------------------------------------------------------------------
 Итоговая таблица
-------------------------------------------------------------------------------

 +-----------+-------------+----------------+-------------------+
 | РЕГУЛЯТОР | РЕАКЦИЯ     | СТАТИЧ. ОШИБКА | ПЕРЕРЕГУЛИРОВАНИЕ |
 +-----------+-------------+----------------+-------------------+
 | П         | Быстрая     | ЕСТЬ           | Нет или малое     |
 | ПИ        | Медленнее   | нет            | Возможно          |
 | ПИД       | Оптимальная | НЕТ            | Минимальное       |
 +-----------+-------------+----------------+-------------------+

 Настройка (метод Циглера-Никольса и др.):
   1. Найти критический коэффициент Kₚ_крит (на границе устойчивости)
   2. Найти период критических колебаний T_крит
   3. Вычислить Kₚ, Kᵢ, K_d по эмпирическим формулам

 ~95% промышленных систем управления используют ПИД.


 Обратная связь и стабилизация


 Без обратной связи (разомкнутая система):

   r(t) ---→ [Регулятор] ---→ [Объект] ---→ y(t)

   Проблема: Не компенсирует возмущения.

 С обратной связью (замкнутая система):

   r(t) --→⊕--→ [Регулятор] ---→ [Объект] ---→ y(t)
           |                                   |
           +------------- [−1] ←---------------+

 Теорема о стабилизации:
   Если (A, B) управляема, то всегда можно найти матрицу K такую,
   что система с обратной связью u = −Kx имеет любые желаемые полюса.

   Замкнутая система: ẋ = (A − BK)x
   Выбором K можно сделать все собственные значения (A − BK) отрицательными.

 LQR (Linear Quadratic Regulator):
   Оптимальный выбор K, минимизирующий функционал качества:
   J = ∫₀^∞ (xᵀQx + uᵀRu) dt
   Q — штраф за отклонение состояния
   R — штраф за расход управления


 Связь с другими разделами


 +-------------------+----------------------------------------------+
 | РАЗДЕЛ            | СВЯЗЬ С УСТОЙЧИВОСТЬЮ и УПРАВЛЕНИЕМ          |
 +-------------------+----------------------------------------------+
 | Линейная алгебра  | Собственные значения определяют устойчивость |
 |                   | Ранг матриц → управляемость/наблюдаемость    |
 +-------------------+----------------------------------------------+
 | Комплексные числа | Полюса на комплексной плоскости              |
 |                   | Критерий Найквиста (обход в ℂ)               |
 +-------------------+----------------------------------------------+
 | Ряды (Фурье)      | Частотный анализ, диаграммы Боде             |
 |                   | Передаточная функция G(jω)                   |
 +-------------------+----------------------------------------------+
 | XIX Оптимизация   | LQR, оптимальное управление                  |
 |                   | Принцип максимума Понтрягина                 |
 +-------------------+----------------------------------------------+
 | Дифф. уравнения   | Фазовые портреты, бифуркации                 |
 |                   | Нелинейная динамика, хаос                    |
 +-------------------+----------------------------------------------+

-------------------------------------------------------------------------------

 Глубокая аналогия: ПИД-регулятор ↔ arima-модель

 Пид (непрерывное управление) и arima (анализ временных рядов) — это
 один и тот же паттерн из разных миров.

 +-------------------+------------------+-------------------------+
 | КОМПОНЕНТА        | ПИД              | ARIMA                   |
 +-------------------+------------------+-------------------------+
 | Текущее состояние | P (пропорц.)     | AR (авторегрессия)      |
 | "Где я сейчас?"   | e(t)             | xₜ₋₁, xₜ₋₂, ...         |
 +-------------------+------------------+-------------------------+
 | Накопленная       | I (интегральный) | I (интегрирование)      |
 | история           | ∫e(τ)dτ          | ∇⁻¹ = накопление        |
 +-------------------+------------------+-------------------------+
 | Скорость          | D (дифференц.)   | MA (скользящее среднее) |
 | изменения         | de/dt            | εₜ₋₁, εₜ₋₂, ... (шоки)  |
 +-------------------+------------------+-------------------------+

 Оба подхода отвечают на вопрос: как учесть прошлое, настоящее
 и тенденцию изменения для предсказания/управления будущим?

-------------------------------------------------------------------------------

 Глубинный смысл:
   Устойчивость — это топологическое свойство фазового пространства.
   Траектории системы образуют "течение" на многообразии.
   Аттракторы (устойчивые точки/циклы) — особенности этого течения.


===============================================================================
Динамические системы — нелинейная динамика и хаос
===============================================================================

 Нелинейные системы как взгляд на пространство


 Линейные системы ẋ = Ax предсказуемы: узлы, фокусы, сёдла. Реальный
 мир нелинеен: ẋ = f(x). Нелинейность порождает качественно новые явления:
 предельные циклы, бифуркации, хаос.

 Динамическая система — это поток на фазовом пространстве.
 Вместо решения уравнений мы изучаем геометрию этого потока.


 Классификация особых точек нелинейных систем

 Для ẋ = f(x) около неподвижной точки f(x*) = 0 поведение определяется
 якобианом A = Df(x*) — если все Re(λᵢ) ≠ 0 (гиперболическая точка).

 Теорема Гробмана-Хартмана:
   Если все собственные значения A имеют ненулевую действительную часть,
   то нелинейная система топологически эквивалентна линейной ẋ = Ax
   вблизи x*.

 Когда Re(λ) = 0 — линеаризация недостаточна, возникают бифуркации.


 Предельные циклы — устойчивые колебания


 Предельный цикл — изолированная замкнутая траектория, к которой
 стремятся (или от которой убегают) соседние траектории.

 Ключевое отличие от линейного центра: предельный цикл устойчив
 (привлекает), центр — нейтрален (не привлекает и не отталкивает).

 Пример: осциллятор Ван дер Поля
   ẍ − μ(1 − x²)ẋ + x = 0    (μ > 0)

   При малых x: отрицательное демпфирование (раскачивает)
   При больших x: положительное демпфирование (тормозит)
   Результат: устойчивый предельный цикл — автоколебания.

   Физика: сердцебиение, генераторы, хищник-жертва.


 Бифуркации — качественная смена поведения


 Бифуркация — изменение топологии фазового портрета при изменении
 параметра.

 +---------------------+-------------------------------------------+
 | БИФУРКАЦИЯ          | ЧТО ПРОИСХОДИТ                            |
 +---------------------+-------------------------------------------+
 | Седло-узел          | Две неподвижных точки (устойчивая +        |
 | (fold)              | неустойчивая) сливаются и исчезают.        |
 |                     | ẋ = μ − x²:  μ>0: два корня, μ<0: нет.   |
 +---------------------+-------------------------------------------+
 | Вилочная            | Одна точка расщепляется на три.            |
 | (pitchfork)         | ẋ = μx − x³: при μ>0 появляются ±√μ.     |
 |                     | Пример: потеря устойчивости стержня       |
 |                     | при сжатии (задача Эйлера).               |
 +---------------------+-------------------------------------------+
 | Хопфа               | Неподвижная точка теряет устойчивость,     |
 |                     | рождается предельный цикл.                |
 |                     | Собственные значения пересекают мнимую ось.|
 |                     | Пример: начало автоколебаний в контуре.    |
 +---------------------+-------------------------------------------+
 | Удвоение периода    | Предельный цикл теряет устойчивость,       |
 |                     | рождается цикл двойного периода.           |
 |                     | Каскад удвоений → хаос (сценарий           |
 |                     | Фейгенбаума). Универсальная постоянная     |
 |                     | δ ≈ 4.669.                                 |
 +---------------------+-------------------------------------------+


 Хаос — детерминированная непредсказуемость


 Хаотическая система:
   • Детерминирована (нет случайности)
   • Чувствительна к начальным условиям (эффект бабочки)
   • Имеет странный аттрактор (фрактальная структура)

 Показатель Ляпунова λ:
   |δx(t)| ≈ |δx(0)| · e^{λt}

   λ > 0: хаос (близкие траектории расходятся экспоненциально)
   λ < 0: устойчивость (сходятся)
   λ = 0: на границе

 Пример: система Лоренца (модель конвекции)
   ẋ = σ(y − x)
   ẏ = x(ρ − z) − y
   ż = xy − βz

   При σ=10, β=8/3, ρ=28: странный аттрактор — «бабочка Лоренца».

 Практическое значение для инженера:
   Хаос означает, что долгосрочный прогноз невозможен даже с идеальной
   моделью. Но краткосрочный прогноз и статистические свойства —
   предсказуемы. Управление хаотическими системами возможно
   малыми воздействиями (OGY-метод).


===============================================================================
Машинное обучение — геометрия данных
===============================================================================

 Главная идея


   Машинное обучение = геометрия в пространстве признаков

   • Объект = точка в ℝⁿ (n признаков)
   • Обучение = поиск структуры в облаке точек
   • Классификация = разделение точек гиперповерхностью
   • Регрессия = проекция на подпространство
   • Снижение размерности = отображение ℝⁿ → ℝᵏ

   Все методы ML — это геометрические операции над точками в пространстве.


 Словарь:ml ↔ математика


   Веса нейросети W      = координаты точки в пространстве параметров ℝᵈ
   Обучение              = движение по многообразию функции потерь L(W)
   Градиентный спуск     = следование антиградиенту −∇L
   L2-регуляризация      = ограничение ‖W‖² ≤ C (шар в пространстве весов)
   Байесовский подход    = априорная мера на пространстве параметров
   Переобучение          = выход за пределы "типичного множества" данных


 Связь с другими разделами атласа


 ML — не изолированная область. Это применение математики атласа.

 +--------------------+------------------------------------------------+
 | КОНЦЕПЦИЯ ML       | ГДЕ В АТЛАСЕ                                   |
 +--------------------+------------------------------------------------+
 | Линейная регрессия | Проекция на подпространство:                   |
 |                    | ŷ = X(XᵀX)⁻¹Xᵀy — ортогональная проекция       |
 +--------------------+------------------------------------------------+
 | Backpropagation    | Цепное правило дифференцирования:              |
 |                    | ∂L/∂wᵢ = ∂L/∂y · ∂y/∂wᵢ                        |
 +--------------------+------------------------------------------------+
 | Регуляризация      | Априорное распределение = мера:                |
 |                    | L2-регуляризация ↔ гауссов prior на веса       |
 +--------------------+------------------------------------------------+
 | SVM с ядрами       | Гильбертово пространство:                      |
 |                    | K(x,y) — воспроизводящее ядро, ⟨φ(x),φ(y)⟩     |
 +--------------------+------------------------------------------------+
 | PCA                | Собственные векторы:                           |
 |                    | Спектральное разложение ковариационной матрицы |
 +--------------------+------------------------------------------------+
 | Градиентный спуск  | Оптимизация на многообразии:                   |
 |                    | −∇L ∈ T*M → движение в направлении убывания    |
 +--------------------+------------------------------------------------+
 | Softmax            | Экспоненциальное семейство распределений:      |
 |                    | p(y=k) ∝ exp(zₖ) — максимум энтропии           |
 +--------------------+------------------------------------------------+
 | Cross-entropy loss | KL-дивергенция:                                |
 |                    | H(p,q) = −Σp log q — информационная мера       |
 +--------------------+------------------------------------------------+
 | Нейросеть          | Композиция функций: f = fₙ ∘ ... ∘ f₁          |
 |                    | Универсальная аппроксимация                    |
 +--------------------+------------------------------------------------+

 Понимая эти связи, мы видим: ML — это не "чёрный ящик", а геометрия.


-------------------------------------------------------------------------------
Фундаментальные концепции
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
Разделение данных
-------------------------------------------------------------------------------

 Аналогия с экзаменом


   Плохой подход:
   Учишь ответы на конкретные вопросы из прошлогодних экзаменов.
   На тех же вопросах получаешь 100%. На реальном экзамене — провал.

   Хороший подход:
   Учишь материал глубоко. Проверяешься на новых задачах.
   Если хорошо справляешься с новыми задачами → реально понял материал.

   Модель должна работать на данных, которые не видела при обучении.


Train / Validation / Test:

    Исходные данные (100%):
    +- 70% → Обучающая (training)
    |         Модель "видит" эти данные и "учится" на них
    |
    +- 10% → Валидационная (validation)
    |         Подбор гиперпараметров, сравнение моделей
    |         Можно смотреть многократно
    |
    +- 20% → Тестовая (test)
              Финальная проверка один раз в конце
              Честная оценка качества

Чего никогда нельзя делать:
    ✗ Обучать модель на тесте
    ✗ Подбирать гиперпараметры по результатам на тесте
    ✗ Многократно проверять на тесте (тогда он становится валидацией)


Переобучение и недообучение
-------------------------------------------------------------------------------

 Переобучение (Overfitting)


   Модель "запоминает" обучающие данные вместо выучивания закономерностей.

   Симптомы:
   • Отличное качество на train (99%)
   • Плохое качество на test (70%)
   • Большой разрыв между train и test

   Причины: слишком сложная модель, мало данных, нет регуляризации

   Геометрически:

        •  •  класс 1
      ╱-|-╲╱-|-╲  ← граница "изогнулась" чтобы пройти через каждую точку
     --•---•---•--
        •  •  класс 0

   Модель подстроилась под шум в данных, а не под истинную зависимость.


 Недообучение (Underfitting)


   Модель слишком простая и не может выучить закономерности.

   Симптомы:
   • Плохое качество на train (70%)
   • Плохое качество на test (68%)
   • оба плохие, разрыв маленький

   Причины: слишком простая модель, слишком сильная регуляризация

   Геометрически:

          •  •  класс 1
        •  ○○○  •
          •  •  класс 0 (○) окружает класс 1
       ----+---- ← прямая линия не может разделить такие данные


Кросс-валидация (K-Fold CV)
-------------------------------------------------------------------------------

Проблема: validation set может быть "неудачным" — слишком простым или сложным.

Решение: усреднить по K разным разбиениям.

    +----+----+----+----+----+
    | F1 | F2 | F3 | F4 | F5 |
    +----+----+----+----+----+

    Итерация 1: обучаем на F2,F3,F4,F5  →  тестируем на F1
    Итерация 2: обучаем на F1,F3,F4,F5  →  тестируем на F2
    ...
    Итерация 5: обучаем на F1,F2,F3,F4  →  тестируем на F5

    Финальная оценка = среднее по 5 итерациям
    Стандартное отклонение = мера стабильности модели

    +=========================================================+
    | Низкий std = модель работает одинаково на разных данных |
    | Высокий std = модель чувствительна к выбору train       |
    +=========================================================+


-------------------------------------------------------------------------------
Регуляризация
-------------------------------------------------------------------------------

Регуляризация = ограничение сложности модели для борьбы с переобучением.

L2 (Ridge): L(θ) = Loss(θ) + λ‖θ‖²
    Сжимает веса к нулю, но не обнуляет

L1 (Lasso): L(θ) = Loss(θ) + λ‖θ‖₁
    Обнуляет часть весов → отбор признаков

Геометрическая интерпретация:

         θ₂                              θ₂
         ↑                               ↑
         |    ╱---╲                      |    ╱---╲
         |   ╱  ●  ╲ ← OLS решение       |   ╱  ●  ╲
         |  |   ╲   |                    |  |   ╱| |
         |  |    ○  | ← Ridge (на круге) |  |  ╱ ○ | ← Lasso (на ромбе)
         |   ╲     ╱                     |   ╲╱   ╱
         |    ⊙    | ← ограничение       |    ◆   |
         +------------→ θ₁               +------------→ θ₁
              Ridge                           Lasso

    Ridge: касание эллипса с кругом → веса сжимаются, но ≠ 0
    Lasso: касание эллипса с ромбом → касание в углу → некоторые веса = 0


-------------------------------------------------------------------------------
Линейная регрессия — геометрия проекции
-------------------------------------------------------------------------------

Постановка:

    Дано: X ∈ ℝⁿˣᵖ (n объектов, p признаков), y ∈ ℝⁿ (отклик)
    Найти: θ ∈ ℝᵖ такой что ŷ = Xθ минимизирует ‖y - ŷ‖²

Геометрическая интерпретация:

    +============================================+
    | Линейная регрессия = проекция вектора y    |
    | на подпространство, натянутое на столбцы X |
    +============================================+

         y (реальный вектор)
         ●
        ╱|╲
       ╱ | ╲
      ╱  |  ╲
     ╱   |90°╲
    ╱----●----╲--------→ подпространство L = span(X)
         ŷ (проекция)
         ↑
         Это перпендикуляр.

Условие оптимальности: остаток (y - ŷ) ⊥ подпространству L

    Xᵀ(y - Xθ) = 0
    Xᵀy = XᵀXθ
    θ* = (XᵀX)⁻¹Xᵀy ← нормальное уравнение


-------------------------------------------------------------------------------
Логистическая регрессия — вероятностная классификация
-------------------------------------------------------------------------------

Постановка:

    Дано: X ∈ ℝⁿˣᵖ, y ∈ {0,1}ⁿ (бинарные метки)
    Найти: P(y=1|x) для новых объектов

Почему не линейная регрессия?

    Проблема 1: предсказания выходят за [0,1]
        Пациент с очень высоким давлением: ŷ = 1.8 — но это не вероятность.

    Проблема 2: выбросы ломают модель
        Линейная регрессия "тянется" к выбросам

Решение — сигмоида:

    Линейная часть         Сигмоида           Вероятность
    z = θᵀx        ---→    σ(z) = 1/(1+e⁻ᶻ)  ---→   P(y=1)
    z ∈ (-∞, +∞)                                   ∈ [0,1]

    z = -10  →  P ≈ 0     (почти уверены: класс 0)
    z = 0    →  P = 0.5   (неопределённость)
    z = +10  →  P ≈ 1     (почти уверены: класс 1)

Функция потерь (Cross-Entropy):

    L(θ) = -Σᵢ[yᵢ log(p̂ᵢ) + (1-yᵢ) log(1-p̂ᵢ)]

    где p̂ᵢ = σ(θᵀxᵢ)

Почему cross-entropy, а не MSE? (критически важно)

    Градиенты для модели ŷ = σ(z), z = θᵀx:

    MSE:              ∂L/∂z = 2(ŷ - y) · σ(z)(1-σ(z))
    Cross-entropy:    ∂L/∂z = ŷ - y

    Ключевой факт: σ'(z) = σ(z)(1-σ(z)) → ноль при |z|→∞

    Насыщение сигмоиды:

        z       σ(z)    σ'(z)
        -----   -----   -----
        -10     0.00005 0.00005  ← почти ноль.
          0     0.50000 0.25000  ← максимум
        +10     0.99995 0.00005  ← почти ноль.

    Критический пример:

        Правильный ответ: y = 1
        Модель предсказывает: z = -10 → σ(-10) ≈ 0

        Ошибка огромная. (предсказали 0 вместо 1)

        MSE градиент:  2(0 - 1) · 0.00005 ≈ -0.0001  ← микроскопический.
        CE градиент:   0 - 1 = -1.0                   ← нормальный.

    +===============================================================+
    | При большой ошибке MSE даёт маленький градиент → застревание. |
    | Cross-entropy: производная σ'(z) сокращается при дифференц.   |
    | оставляя чистый градиент (ŷ - y)                              |
    +===============================================================+

    Математически: CE = negative log-likelihood для Bernoulli:
    P(y|x) = σ(z)ʸ · (1-σ(z))¹⁻ʸ  →  -log P = L_CE

Граница решений:

    Граница = {x : P(y=1|x) = 0.5} = {x : θᵀx = 0} ← гиперплоскость.

         •  •  класс 1
         •  •
    -----------------  ← граница θᵀx = 0
         •  •
         •  •  класс 0


-------------------------------------------------------------------------------
SVM — максимальный зазор
-------------------------------------------------------------------------------

Идея: найти гиперплоскость с максимальным зазором (margin) между классами.

         •  •  класс 1
        ===========  ← margin (зазор)
    ---------------  ← разделяющая гиперплоскость wᵀx + b = 0
        ===========
         •  •  класс 0

Задача оптимизации:

    max  margin = 2/‖w‖
    s.t. yᵢ(wᵀxᵢ + b) ≥ 1  для всех i

    Эквивалентно: min ½‖w‖²

Опорные вектора (Support Vectors):

    Точки, лежащие на границе margin (yᵢ(wᵀxᵢ + b) = 1).
    Только они определяют решение.

    ● ← опорный вектор (на границе margin)
    • ← обычная точка (не влияет на решение)

Kernel trick:

    Для нелинейно разделимых данных: проецируем в пространство большей
    размерности, где данные становятся линейно разделимы.

    Фокус: не вычисляем φ(x) явно, а используем ядро K(x,x') = ⟨φ(x),φ(x')⟩

    Популярные ядра:
    • Линейное: K(x,x') = xᵀx'
    • RBF (Гауссово): K(x,x') = exp(-γ‖x-x'‖²)
    • Полиномиальное: K(x,x') = (xᵀx' + c)ᵈ


-------------------------------------------------------------------------------
KNN — классификация по соседям
-------------------------------------------------------------------------------

Идея: "Скажи мне, кто твои соседи — и я скажу, кто ты."

Алгоритм:

    1. Для нового объекта x найти K ближайших соседей в обучающей выборке
    2. Класс x = голосование большинства среди K соседей

    K=1: граница = диаграмма Вороного
    K большое: граница сглаживается

Особенности:

    ✓ Нет обучения (lazy learning)
    ✓ Естественная нелинейная граница
    ✓ Легко добавлять новые данные

    ✗ Медленное предсказание O(nN) где N — размер обучающей выборки
    ✗ Проклятие размерности (в высоких измерениях все точки "далеко")
    ✗ Чувствителен к масштабу признаков → нужна нормализация


-------------------------------------------------------------------------------
PCA — снижение размерности
-------------------------------------------------------------------------------

Постановка:

    Дано: X ∈ ℝⁿˣᵖ (центрированные данные)
    Найти: направления w₁, w₂, ..., wₖ максимальной дисперсии

Главная теорема:

    +============================================================+
    | Направления максимальной дисперсии =                       |
    | = собственные вектора ковариационной матрицы S = XᵀX/(n-1) |
    |                                                            |
    | Дисперсия вдоль PCᵢ = собственное значение λᵢ              |
    +============================================================+

Вывод:

    max  Var(Xw) = wᵀSw
    s.t. ‖w‖ = 1

    Лагранжиан: ℒ = wᵀSw - λ(wᵀw - 1)
    ∂ℒ/∂w = 2Sw - 2λw = 0

    Sw = λw ← задача на собственные вектора.

Геометрическая интуиция:

    x₂
     ↑     PC1 (направление макс. дисперсии)
     |    ╱●
     |  ●╱  ●
     | ●╱ ●  ●    ← PC1 проходит вдоль "длины" облака
     |●╱ ●   ●       PC2 ⊥ PC1
     +╱----------→ x₁
      ╲
       PC2

    Проекция на PC1 сохраняет максимум информации о различиях между точками.

Почему дисперсия = информация?

    Большая дисперсия → точки хорошо различимы → много информации
    Малая дисперсия → точки "слиплись" → мало информации
    Нулевая дисперсия = константа → нет информации

Связь с SVD:

    X = UΣVᵀ

    • Столбцы V = направления главных компонент (loadings)
    • Σᵢᵢ² / (n-1) = собственные значения S = дисперсии
    • Столбцы U·Σ = проекции на главные компоненты (scores)


-------------------------------------------------------------------------------
Сравнение методов классификации
-------------------------------------------------------------------------------

+---------------------+-------------------+---------------------+-----------+
| Аспект              | Логистич. регрес. | SVM                 | KNN       |
+---------------------+-------------------+---------------------+-----------+
| Подход              | Вероятностная     | Геометрич. (margin) | Соседи    |
| Граница             | Линейная          | Линейная/нелинейная | Любая     |
| Обучение            | Итеративное       | Квадр. оптимизация  | Нет       |
| Предсказание        | Быстро O(p)       | Быстро O(#SV·p)     | Медленно  |
| Вероятности         | ✓ Естественные    | ✗ Нет               | ✓ Прибл.  |
| Интерпретируемость  | ✓ Высокая         | ~ Средняя           | ✓ Высокая |
| Высокие размерности | ✓ Хорошо          | ✓ Хорошо            | ✗ Плохо   |
| Большие данные      | ✓ Хорошо          | ✗ Плохо             | ✗ Плохо   |
+---------------------+-------------------+---------------------+-----------+

Рекомендации:

    Логистическая регрессия:
    ✓ Нужны вероятности, важна интерпретируемость, линейная граница достаточна
    ✓ Всегда начинай с неё как baseline.

    SVM:
    ✓ Средний объём данных (n &lt; 10,000), высокая размерность
    ✓ Нелинейная граница (с kernel), нужна робастность к выбросам

    KNN:
    ✓ Малые данные, сложная граница, нет времени настраивать модель
    ✓ Рекомендательные системы, поиск похожих объектов


===============================================================================
Нейронные сети — композиция нелинейных преобразований
===============================================================================

-------------------------------------------------------------------------------
Идея и структура
-------------------------------------------------------------------------------

Почему нужны нейросети?

    Линейные методы ограничены: если зависимость y = sin(x₁) + x₂³,
    линейная модель не справится.

    Нейросеть = композиция линейных преобразований и нелинейных активаций.

Архитектура (один скрытый слой):

    f(x) = W₂ · σ(W₁x + b₁) + b₂

    где:
    • W₁ ∈ ℝʰˣⁿ, b₁ ∈ ℝʰ  (входной → скрытый слой, h нейронов)
    • σ: ℝ → ℝ             (нелинейная активация, поэлементно)
    • W₂ ∈ ℝᵏˣʰ, b₂ ∈ ℝᵏ  (скрытый → выходной слой)

    x ∈ ℝⁿ  →  [W₁, b₁]  →  z ∈ ℝʰ  →  [σ]  →  a ∈ ℝʰ  →  [W₂, b₂]  →  y ∈ ℝᵏ
     вход       аффинное      линейная    нелинейность   аффинное       выход

Геометрическая интерпретация:

    • W₁x + b₁ = аффинное преобразование ℝⁿ → ℝʰ (поворот, растяжение, сдвиг)
    • σ = нелинейная деформация ("складывание" пространства)
    • W₂ = линейная комбинация ℝʰ → ℝᵏ

    Композиция даёт нелинейное отображение ℝⁿ → ℝᵏ.

Функции активации:

    ReLU(z) = max(0, z)      ← самая популярная, "складывает" половину пространства
    σ(z) = 1/(1+e⁻ᶻ)         ← сигмоида, сжимает в (0,1)
    tanh(z) = (eᶻ-e⁻ᶻ)/(eᶻ+e⁻ᶻ)  ← сжимает в (-1,1)

Universal Approximation Theorem:

    Нейросеть с одним скрытым слоем и достаточным числом нейронов
    может аппроксимировать любую непрерывную функцию.

 Два пространства в нейросетях — ключевая идея


 В ML есть два разных пространства, и их нельзя путать:

-------------------------------------------------------------------------------
 Пространство данных (input space)
-------------------------------------------------------------------------------

   • Каждая точка = один пример (изображение, текст, измерение)
   • Размерность = число признаков (784 для MNIST, миллионы для LLM)
   • Нейросеть деформирует это пространство, чтобы классы стали разделимы

   Картинка: облако точек двух цветов. Изначально перемешаны.
   После нескольких слоёв — разделены гиперплоскостью.

       До обучения: после обучения:
       • ○ • ○ •                 • • • | ○ ○ ○
       ○ • ○ • ○                 • • • | ○ ○ ○
       • ○ • ○ •                 • • • | ○ ○ ○
       (перемешано)              (линейно разделимо)

-------------------------------------------------------------------------------
 Пространство весов (parameter space) — здесь происходит обучение
-------------------------------------------------------------------------------

   • Каждая точка = один набор весов θ = (W₁, b₁, W₂, b₂, ...)
   • Размерность = общее число параметров (миллионы или миллиарды)
   • Функция потерь L(θ) — это "высота" в каждой точке

   Ландшафт функции потерь:

             ╱╲      ╱╲
            ╱  ╲    ╱  ╲         ← локальные максимумы (плохо)
       ----╱----╲--╱----╲----
              ╲╱                 ← седловые точки (много)
           глоб.мин              ← хотим попасть сюда

   Обучение = путешествие по этому ландшафту в поисках минимума.
   Градиентный спуск = "скатываемся вниз по склону".

 Почему это сложно:
   • Ландшафт в миллионах измерений — нельзя визуализировать
   • Много локальных минимумов и седловых точек
   • Градиент может быть огромным или исчезающе малым

 Удивительный факт:
   В высокой размерности большинство критических точек — сёдла, не минимумы.
   Поэтому градиентный спуск обычно находит путь к хорошему решению.


 Тензор в ML ≠ тензор в математике


 В PyTorch/TensorFlow "тензор" — это просто многомерный массив чисел:

   torch.tensor([1, 2, 3])           # "1D-тензор" = вектор
   torch.tensor([[1,2], [3,4]])      # "2D-тензор" = матрица
   torch.randn(3, 4, 5)              # "3D-тензор" = 3×4×5 массив

 В математике/физике тензор — это объект, который:
   • Преобразуется по определённому закону при смене координат
   • Ковариантные индексы: T'ᵢ = (∂xʲ/∂x'ⁱ) Tⱼ
   • Контравариантные: T'ⁱ = (∂x'ⁱ/∂xʲ) Tʲ

 +----------------------+-------------------+----------------------------+
 |                      | ML "ТЕНЗОР"       | МАТЕМАТИЧЕСКИЙ ТЕНЗОР      |
 +----------------------+-------------------+----------------------------+
 | Что это?             | Контейнер данных  | Геометрический объект      |
 | Зависит от базиса?   | Да (просто числа) | Нет (инвариантен)          |
 | Закон преобразования | Нет               | Да (ко/контравариантность) |
 | Пример               | Батч изображений  | Метрический тензор gᵢⱼ     |
 +----------------------+-------------------+----------------------------+

 Почему это важно:
   В обычном ML ковариантность не нужна — нет "смены координат".
   Но в Geometric Deep Learning (графовые сети, эквивариантные CNN)
   требуется настоящая тензорная структура: выход должен правильно
   преобразовываться при повороте/отражении входа.


-------------------------------------------------------------------------------
Backpropagation — обратное распространение ошибки
-------------------------------------------------------------------------------

 Интуиция: "эхо ошибки"


 Представьте: вы стреляете из лука и промахиваетесь.

   Промах (ошибка на выходе) = вы попали на 10 см левее.

   Кто виноват?
   • Может, рука дрогнула при выстреле (последний "слой")
   • Может, вы плохо прицелились (средний "слой")
   • Может, неправильно встали (первый "слой")

   Backpropagation = распределение вины от конца к началу.

   Ошибка "отражается" от выхода и идёт назад через сеть,
   как эхо, затухая или усиливаясь на каждом слое.

         вход → [слой 1] → [слой 2] → [слой 3] → выход
                                                  ↓
                                              Ошибка
                                                  ↓
         ∂L/∂W₁ ← [δ₁] ← [δ₂] ← [δ₃] ← ∂L/∂выход
                   ↑        ↑        ↑
              затухает  (или усиливается) на каждом слое

 δ (дельта) = "сколько вины" несёт этот нейрон за итоговую ошибку.

 Проблема затухания градиента:
   Если каждый слой умножает δ на число &lt; 1, то δ₁ ≈ 0.
   Первые слои не учатся. (эхо затухло)

   ReLU решает эту проблему: градиент либо 0, либо 1 (не затухает).


Задача: вычислить ∇L(θ) для всех параметров θ = {W₁, b₁, W₂, b₂, ...}

Идея: применить chain rule для композиции функций.

    Для f = g ∘ h:  ∂f/∂x = (∂g/∂h) · (∂h/∂x)

Алгоритм:

    Forward pass (сохраняем промежуточные значения):
    для i = 1 до L:
        aⁱ = Wᵢzⁱ⁻¹ + bᵢ       (линейное преобразование)
        zⁱ = σᵢ(aⁱ)            (активация)

    Backward pass (вычисляем градиенты от конца к началу):

    δᴸ = ∂L/∂aᴸ               (градиент на последнем слое)

    для i = L-1 до 1:
        δⁱ = (Wᵢ₊₁ᵀ · δⁱ⁺¹) ⊙ σ'ᵢ(aⁱ)    (рекуррентное вычисление)

    Градиенты по параметрам:
        ∂L/∂Wᵢ = δⁱ · (zⁱ⁻¹)ᵀ            (внешнее произведение)
        ∂L/∂bᵢ = δⁱ

Вычислительная сложность: такая же как forward pass. O(Σᵢ nᵢ₋₁ · nᵢ)

Численный пример:

    Сеть: ℝ¹ → ℝ¹, один скрытый нейрон, ReLU
    f(x) = w₂ · ReLU(w₁x + b₁) + b₂

    Параметры: w₁=1, b₁=-1, w₂=2, b₂=0
    Данные: x=2, y=5

    Forward:
    a¹ = w₁·x + b₁ = 1·2 + (-1) = 1
    z¹ = ReLU(1) = 1
    ŷ = w₂·z¹ + b₂ = 2·1 + 0 = 2
    L = ½(ŷ-y)² = ½(2-5)² = 4.5

    Backward:
    ∂L/∂ŷ = ŷ - y = -3

    ∂L/∂w₂ = ∂L/∂ŷ · z¹ = -3 · 1 = -3
    ∂L/∂b₂ = ∂L/∂ŷ · 1 = -3

    δ¹ = ∂L/∂ŷ · w₂ · ReLU'(a¹) = -3 · 2 · 1 = -6

    ∂L/∂w₁ = δ¹ · x = -6 · 2 = -12
    ∂L/∂b₁ = δ¹ · 1 = -6


-------------------------------------------------------------------------------
Оптимизация
-------------------------------------------------------------------------------

Градиентный спуск:

    θₜ₊₁ = θₜ - η · ∇L(θₜ)

    η = learning rate (скорость обучения)

Варианты:

    Batch GD:     градиент по всей выборке — точный, но медленный

    SGD:          градиент по одному примеру — шумный, но быстрый

    Mini-batch:   градиент по пачке B примеров — компромисс (B=32,64,128)

Momentum:

    vₜ = β·vₜ₋₁ + ∇L(θₜ)        (накопление "скорости")
    θₜ₊₁ = θₜ - η·vₜ

    Аналогия: шар, катящийся с горы с инерцией

Adam (Adaptive Moment Estimation):

    mₜ = β₁·mₜ₋₁ + (1-β₁)·∇L             (среднее градиента)
    vₜ = β₂·vₜ₋₁ + (1-β₂)·(∇L)²          (среднее квадрата градиента)

    θₜ₊₁ = θₜ - η · m̂ₜ / (√v̂ₜ + ε)

    Каждый параметр имеет свой адаптивный learning rate.


-------------------------------------------------------------------------------
Свёрточные нейросети (CNN)
-------------------------------------------------------------------------------

Проблема полносвязных сетей для изображений:

    MNIST 28×28: 784 входа → W₁ ∈ ℝ¹²⁸ˣ⁷⁸⁴ = 100k параметров
    ImageNet 224×224×3: 150,528 входов → W₁ ∈ ℝ¹²⁸ˣ¹⁵⁰⁵²⁸ = 19M параметров.

    и это только один слой.

Идеи CNN:

    1. Локальность: каждый нейрон смотрит только на окрестность k×k
    2. Weight sharing: один фильтр используется для всех позиций
    3. Иерархия: края → текстуры → части → объекты

Свёртка:

    Y[i,j] = Σₘ Σₙ K[m,n] · X[i+m, j+n]

    Геометрически: скалярное произведение ядра K с патчем изображения

Пример (детектор вертикального края):

    X = [1  2  3  0]     K = [-1  1]
        [0  1  2  3]         [-1  1]
        [3  0  1  2]
        [4  2  0  1]

    Y[0,0] = (-1)·1 + 1·2 + (-1)·0 + 1·1 = 2   (есть вертикальный край)

Pooling:

    Max Pooling: Y[i,j] = max{X[2i+m, 2j+n] | m,n ∈ {0,1}}

    • Уменьшает размерность в 2 раза по каждой оси
    • Обеспечивает локальную инвариантность к сдвигам
    • Нет обучаемых параметров

Типичная архитектура:

    Input → [Conv-ReLU-Pool]×N → Flatten → FC → Output

    Пример LeNet-5:
    INPUT 28×28×1 → CONV1 24×24×20 → POOL 12×12×20 →
    → CONV2 8×8×50 → POOL 4×4×50 → FLATTEN 800 → FC 500 → FC 10

Экономия параметров:

    Свёрточный слой k=3, Cᵢₙ=64, Cₒᵤₜ=128:
        Параметры = 3² · 64 · 128 + 128 ≈ 74k

    Полносвязный слой для изображения 32×32×64 → 32×32×128:
        Параметры = (32·32·64) · (32·32·128) = 8.6 миллиарда.

    CNN экономит параметры на 4-5 порядков.

Иерархия признаков:

    Слой 1-2:   Края, углы, простые градиенты (receptive field 3-7 px)
    Слой 3-5:   Текстуры, повторяющиеся паттерны (RF 20-50 px)
    Слой 6-8:   Части объектов (глаза, колёса) (RF 100+ px)
    Финальный:  Классификация по признакам высокого уровня


-------------------------------------------------------------------------------
Сравнение классических методов и нейросетей
-------------------------------------------------------------------------------

+--------------------+------------------------+--------------------------+
| Критерий           | Линейные методы        | Нейросети                |
+--------------------+------------------------+--------------------------+
| Параметры          | O(n)                   | O(h·n) или больше        |
| Решение            | Closed form или выпукл | Итеративное, невыпуклое  |
| Выразительность    | Только линейные        | Произвольные непрерывные |
| Интерпретируемость | Высокая                | Низкая                   |
| Данные             | Работает на малых      | Требует много данных     |
| Вычисления         | Легко на CPU           | Требует GPU              |
+--------------------+------------------------+--------------------------+

Когда что использовать:

    Линейные методы:
    ✓ n &lt; 1000 признаков
    ✓ Зависимость близка к линейной
    ✓ Важна интерпретируемость
    ✓ Мало данных (N &lt; 10,000)

    Нейросети:
    ✓ n &gt; 1000 признаков (изображения, текст)
    ✓ Нелинейные зависимости
    ✓ Много данных (N &gt; 100,000)
    ✓ Есть GPU


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
              ЧАСТЬ V: ЧИСЛЕННЫЕ МЕТОДЫ — ИНСТРУМЕНТЫ ДЛЯ ВЫЧИСЛЕНИЙ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

 Зачем этот раздел


 Атлас до сих пор был про понимание математики.
 Этот раздел — про вычисления: готовые алгоритмы для практических задач.

 Каждый метод описан так:
   1. Задача (что решаем)
   2. Алгоритм (пошагово)
   3. Пример с числами
   4. Когда использовать / когда не использовать
   5. Код (псевдокод или Python-подобный)


 Связь с теорией — почему методы работают


 Численные методы — не просто "рецепты". За каждым стоит теорема.

 +-----------------------+---------------------------------------------+
 | МЕТОД                 | ТЕОРЕТИЧЕСКОЕ ОБОСНОВАНИЕ                   |
 +-----------------------+---------------------------------------------+
 | Бисекция              | Теорема о промежуточном значении:           |
 |                       | непрерывная функция принимает все значения  |
 |                       | между f(a) и f(b)                           |
 +-----------------------+---------------------------------------------+
 | Ньютон                | Теорема Банаха о сжимающем отображении:     |
 |                       | итерации xₙ₊₁ = g(xₙ) сходятся, если g —    |
 |                       | сжатие. Ньютон: g(x) = x − f(x)/f'(x)       |
 +-----------------------+---------------------------------------------+
 | Гаусс (LU-разложение) | Факторизация в группе GL(n):                |
 |                       | любая обратимая матрица = произведение      |
 |                       | элементарных (перестановка, масштаб, сдвиг) |
 +-----------------------+---------------------------------------------+
 | Квадратуры            | Интеграл как линейный функционал:           |
 |                       | ∫ω — ковектор на пространстве функций.      |
 |                       | Квадратуры — конечномерное приближение      |
 +-----------------------+---------------------------------------------+
 | FFT                   | Ортогональность exp(2πikn/N) в L²:          |
 |                       | дискретный аналог разложения Фурье.         |
 |                       | Быстрота = рекурсия по группе ℤ/Nℤ          |
 +-----------------------+---------------------------------------------+
 | Рунге-Кутта           | Разложение Тейлора + согласование           |
 |                       | коэффициентов для максимального порядка     |
 +-----------------------+---------------------------------------------+
 | Градиентный спуск     | Производная как ковектор:                   |
 |                       | ∇f ∈ T*M указывает направление роста.       |
 |                       | Метрика g переводит его в вектор −g⁻¹∇f     |
 +-----------------------+---------------------------------------------+

 Понимание теории помогает:
   • Предсказать, когда метод НЕ сработает
   • Выбрать правильный метод для задачи
   • Оценить погрешность без эксперимента


===============================================================================
Решение нелинейных уравнений f(x) = 0
===============================================================================

 Метод бисекции (деления пополам)


 Задача: Найти корень f(x) = 0 на отрезке [a, b], где f(a) и f(b) разных
         знаков.

 Идея: Делим отрезок пополам, выбираем половину с разными знаками, повторяем.

 Алгоритм:
   1. c = (a + b) / 2
   2. Если f(c) ≈ 0 — нашли корень
   3. Если f(a) и f(c) разных знаков — корень в [a, c], берём b = c
   4. Иначе — корень в [c, b], берём a = c
   5. Повторяем до нужной точности

 Пример: f(x) = x³ − x − 1, найти корень на [1, 2]

   Проверка: f(1) = 1 − 1 − 1 = −1 &lt; 0
             f(2) = 8 − 2 − 1 = 5 &gt; 0   ✓ Разные знаки

   Шаг 1: c = 1.5, f(1.5) = 3.375 − 1.5 − 1 = 0.875 &gt; 0
          Корень в [1, 1.5]

   Шаг 2: c = 1.25, f(1.25) = 1.953 − 1.25 − 1 = −0.297 &lt; 0
          Корень в [1.25, 1.5]

   Шаг 3: c = 1.375, f(1.375) = 2.600 − 1.375 − 1 = 0.224 &gt; 0
          Корень в [1.25, 1.375]

   Шаг 4: c = 1.3125, f(1.3125) ≈ −0.051 &lt; 0
          Корень в [1.3125, 1.375]

   . Продолжаем до нужной точности. Ответ: x ≈ 1.3247

 Сходимость: Линейная. Каждая итерация уменьшает интервал вдвое.
             За n итераций: погрешность ≤ (b−a)/2ⁿ
             Для 6 знаков после запятой нужно ≈ 20 итераций.

 ✓ Когда использовать: Всегда работает, если есть смена знака
 ✗ Когда не использовать: Медленно, не работает для кратных корней

 Код:
   while b - a &gt; eps:
       c = (a + b) / 2
       if f(a) * f(c) &lt; 0:
           b = c
       else:
           a = c
   return c


 Метод Ньютона (касательных)


 Задача: Найти корень f(x) = 0, имея начальное приближение x₀.

 Идея: Заменяем кривую касательной, находим пересечение с осью x.

 Формула:

   xₙ₊₁ = xₙ − f(xₙ) / f'(xₙ)

 Геометрически:

       y
       |     ╱
       |    ╱ f(x)
       |   ●----------------- касательная в xₙ
       |  ╱|
       | ╱ |
       |╱  |
   ----●---+---------------→ x
      x*   xₙ₊₁  xₙ

   Касательная: y = f(xₙ) + f'(xₙ)(x − xₙ)
   Пересечение с y = 0: xₙ₊₁ = xₙ − f(xₙ)/f'(xₙ)

 Пример: f(x) = x² − 2 (ищем √2), x₀ = 1

   f(x) = x² − 2,  f'(x) = 2x

   Шаг 1: x₁ = 1 − (1 − 2)/(2·1) = 1 − (−1)/2 = 1.5

   Шаг 2: x₂ = 1.5 − (2.25 − 2)/(2·1.5) = 1.5 − 0.25/3 = 1.4167

   Шаг 3: x₃ = 1.4167 − (2.007 − 2)/(2·1.4167) = 1.4142

   Уже 4 знака после 3 итераций. (√2 ≈ 1.41421356)

 Сходимость: Квадратичная. Число верных цифр удваивается каждую итерацию.

 ✓ Когда использовать: Быстро, если хорошее начальное приближение
 ✗ Когда не использовать:
   • f'(x) = 0 около корня (деление на 0)
   • Плохое x₀ (может уйти не туда или зациклиться)
   • Нужно уметь вычислять производную

 Код:
   x = x0
   for i in range(max_iter):
       x = x - f(x) / df(x)
       if abs(f(x)) &lt; eps:
           break
   return x


 Метод секущих


 Идея: Как Ньютон, но производную заменяем разностным отношением.
       Не нужно знать f'(x)!

 Формула:

   xₙ₊₁ = xₙ − f(xₙ) · (xₙ − xₙ₋₁) / (f(xₙ) − f(xₙ₋₁))

 Сходимость: Сверхлинейная (порядок ≈ 1.618, золотое сечение)
             Медленнее Ньютона, но не нужна производная.

 ✓ Когда использовать: Когда f'(x) сложно вычислить


 Сравнение методов
+----------+----------------+----------------+-----------------------+
| МЕТОД    | СХОДИМОСТЬ     | ТРЕБУЕТСЯ      | НАДЁЖНОСТЬ            |
+----------+----------------+----------------+-----------------------+
| Бисекция | Линейная       | [a,b] с разн.  | 100% если есть корень |
|          | (медленно)     | знаками        |                       |
+----------+----------------+----------------+-----------------------+
| Ньютон   | Квадратичная   | f'(x), хор. x₀ | Может расходиться     |
|          | (очень быстро) |                |                       |
+----------+----------------+----------------+-----------------------+
| Секущих  | Сверхлинейная  | Две начальные  | Может расходиться     |
|          | (~1.618)       | точки          |                       |
+----------+----------------+----------------+-----------------------+

 Инженерные трейд-оффы: точность vs стоимость


 Компьютер не знает, какой метод "лучше". Инженер должен выбирать.

 Вопрос: Почему не всегда использовать самый точный метод (Ньютон)?

   Ответ: Каждый вызов f'(x) — это вычисления.
   Если f(x) — сложная функция (моделирование, БД-запрос), это дорого.

 Пример: Поиск оптимальной температуры реактора

   f(T) = выход продукта при температуре T
   Один вызов f(T) = запуск симуляции на 10 минут

   Бисекция: 20 итераций × 1 вызов = 20 вызовов = 200 минут
   Ньютон:   5 итераций × 2 вызова (f и f') = 10 вызовов = 100 минут

   Но: если f' нужно считать численно (ещё 2 вызова f), то:
   Ньютон: 5 × 3 = 15 вызовов = 150 минут ← уже не так выгодно.

 Правило: Выбирай метод, исходя из стоимости вызова функции.

   • f дешёвая (формула) → Ньютон
   • f дорогая (симуляция) → бисекция или методы без производных
   • f с шумом (эксперимент) → методы, устойчивые к шуму


Практическая рекомендация:
  Бисекция для надёжности → Ньютон для точности (комбинированный метод)


===============================================================================
Численное интегрирование
===============================================================================

 Метод трапеций


 Задача: Вычислить ∫ₐᵇ f(x) dx

 Идея: Заменяем кривую ломаной (трапециями).

   y|    ╱╲
    |   ╱  ╲
    |  ╱    ╲
    | ╱------╲-------- ← ломаная (трапеции)
    |╱        ╲
    +----------------→ x
     a  x₁ x₂  ...  b

 Формула (n равных отрезков, h = (b−a)/n):

   ∫ₐᵇ f(x) dx ≈ h · [f(a)/2 + f(x₁) + f(x₂) + ... + f(xₙ₋₁) + f(b)/2]

 Пример: ∫₀¹ x² dx, n = 4 (точный ответ = 1/3 ≈ 0.333)

   h = 1/4 = 0.25
   Точки: x₀ = 0, x₁ = 0.25, x₂ = 0.5, x₃ = 0.75, x₄ = 1
   Значения: f = 0, 0.0625, 0.25, 0.5625, 1

   I ≈ 0.25 × [0/2 + 0.0625 + 0.25 + 0.5625 + 1/2]
     = 0.25 × [0 + 0.0625 + 0.25 + 0.5625 + 0.5]
     = 0.25 × 1.375 = 0.34375

   Погрешность: 0.34375 − 0.333... = 0.01  (около 3%)

 Погрешность: O(h²) — уменьшение h вдвое уменьшает ошибку вчетверо


 Метод Симпсона (парабол)


 Идея: Заменяем кривую параболами (точнее, чем трапеции).
       Требуется чётное число отрезков n.

 Формула:

   ∫ₐᵇ f dx ≈ (h/3) · [f(a) + 4f(x₁) + 2f(x₂) + 4f(x₃) + ... + f(b)]

   Коэффициенты: 1, 4, 2, 4, 2, 4, ..., 2, 4, 1

 Пример: ∫₀¹ x² dx, n = 4

   I ≈ (0.25/3) × [0 + 4×0.0625 + 2×0.25 + 4×0.5625 + 1]
     = (0.25/3) × [0 + 0.25 + 0.5 + 2.25 + 1]
     = (0.25/3) × 4 = 0.3333...

   Точный ответ. (Симпсон точен для полиномов до степени 3)

 Погрешность: O(h⁴) — намного точнее трапеций.

 ✓ Когда использовать: Почти всегда лучше трапеций
 ✗ Когда не использовать: Разрывные функции, сильные осцилляции

 Код:
   h = (b - a) / n
   I = f(a) + f(b)
   for i in range(1, n):
       x = a + i * h
       if i % 2 == 1:
           I += 4 * f(x)
       else:
           I += 2 * f(x)
   return I * h / 3


 Квадратуры Гаусса — максимальная точность


 Идея: Выбираем точки xᵢ и веса wᵢ оптимально (не равномерно)

   ∫₋₁¹ f(x) dx ≈ Σᵢ wᵢ f(xᵢ)

 Таблица узлов и весов (на [−1, 1]):

 +---+---------------------+----------------------------+
 | n | УЗЛЫ xᵢ             | ВЕСА wᵢ                    |
 +---+---------------------+----------------------------+
 | 1 | 0                   | 2                          |
 | 2 | ±1/√3 ≈ ±0.577      | 1, 1                       |
 | 3 | 0, ±√(3/5) ≈ ±0.775 | 8/9, 5/9, 5/9              |
 | 4 | ±0.340, ±0.861      | 0.653, 0.653, 0.348, 0.348 |
 +---+---------------------+----------------------------+

 Точность: n точек Гаусса интегрируют точно полиномы до степени 2n−1!
           (Симпсон с 3 точками — только до степени 3)

 Для произвольного [a, b]:
   Замена: x = (b−a)t/2 + (a+b)/2,  t ∈ [−1, 1]
   dx = (b−a)/2 dt


===============================================================================
Решение систем линейных уравнений Ax = b
===============================================================================

 Метод Гаусса (прямой метод)


 Идея: Приводим матрицу к треугольному виду, решаем обратным ходом.

 Алгоритм:

 1. прямой ход: Обнуляем элементы под диагональю

    + a₁₁  a₁₂  a₁₃ | b₁ +      + a₁₁  a₁₂  a₁₃ | b₁  +
    | a₂₁  a₂₂  a₂₃ | b₂ |  →   |  0   a'₂₂ a'₂₃| b'₂ |
    + a₃₁  a₃₂  a₃₃ | b₃ +      +  0    0   a"₃₃| b"₃ +

 2. обратный ход: Находим xₙ, потом xₙ₋₁, ..., x₁

    x₃ = b"₃ / a"₃₃
    x₂ = (b'₂ − a'₂₃ x₃) / a'₂₂
    x₁ = (b₁ − a₁₂ x₂ − a₁₃ x₃) / a₁₁

 Пример:
    2x + y − z = 8
   −3x − y + 2z = −11
   −2x + y + 2z = −3

   Расширенная матрица:
   +  2   1  −1 |  8  +
   | −3  −1   2 |−11  |
   + −2   1   2 | −3  +

   Шаг 1: R₂ → R₂ + (3/2)R₁,  R₃ → R₃ + R₁
   +  2    1    −1  |   8   +
   |  0   0.5   0.5 |   1   |
   +  0    2     1  |   5   +

   Шаг 2: R₃ → R₃ − 4R₂
   +  2    1    −1  |   8   +
   |  0   0.5   0.5 |   1   |
   +  0    0    −1  |   1   +

   Обратный ход:
   z = 1/(−1) = −1
   y = (1 − 0.5×(−1)) / 0.5 = 1.5/0.5 = 3
   x = (8 − 1×3 − (−1)×(−1)) / 2 = 4/2 = 2

   Ответ: x = 2, y = 3, z = −1

 Сложность: O(n³) операций

 Важно: Выбор главного элемента (pivoting) для численной устойчивости.


 LU-разложение


 Идея: Разложить A = LU, где L — нижнетреугольная, U — верхнетреугольная.

 Зачем: Если нужно решать много систем с одной A, но разными b.
        Ax = b → LUx = b → Ly = b (легко), Ux = y (легко.

 Разложение делается один раз (O(n³)), потом каждое решение — O(n²).


 Метод простой итерации (для больших разреженных систем)


 Идея: Преобразуем Ax = b в x = Bx + c и итерируем: xₙ₊₁ = Bxₙ + c

 Сходимость: Если ‖B‖ &lt; 1 (спектральный радиус &lt; 1)

 Методы Якоби и Гаусса-Зейделя — конкретные способы построить B и c.

 ✓ Когда использовать: Очень большие разреженные матрицы (тысячи × тысячи)
 ✗ Когда не использовать: Плотные матрицы — Гаусс быстрее


===============================================================================
Численное решение ОДУ
===============================================================================

 Задача Коши: y' = f(t, y), y(t₀) = y₀


 Найти функцию y(t), зная начальное условие и дифференциальное уравнение.


 Метод Эйлера (простейший)


 Идея: Заменяем производную разностью: y' ≈ (yₙ₊₁ − yₙ)/h

 Формула:
   yₙ₊₁ = yₙ + h · f(tₙ, yₙ)

 Геометрически: Идём по касательной на шаг h

       y
       |      ●--→ куда идём (Эйлер)
       |     ╱ ╲
       |    ╱   ╲ куда на самом деле
       |   ●
       |  yₙ
       +-------------→ t
          tₙ   tₙ₊₁

 Пример: y' = y, y(0) = 1 (решение: y = eᵗ)

   h = 0.1,  f(t, y) = y

   y₀ = 1
   y₁ = 1 + 0.1×1 = 1.1
   y₂ = 1.1 + 0.1×1.1 = 1.21
   y₃ = 1.21 + 0.1×1.21 = 1.331
   ...
   y₁₀ = y(1) ≈ 2.594  (точно: e¹ ≈ 2.718)

   Погрешность ≈ 5% за 10 шагов. Не очень точно.

 Погрешность: O(h) на шаг, O(h) глобально — метод первого порядка

 ✓ Когда использовать: Быстрый прототип, обучение
 ✗ Когда не использовать: Когда нужна точность


 Метод Рунге-Кутты 4-го порядка (rk4) — рабочая лошадка


 Идея: Оцениваем наклон в нескольких точках и усредняем.

 Формулы:

   k₁ = f(tₙ, yₙ)
   k₂ = f(tₙ + h/2, yₙ + h·k₁/2)
   k₃ = f(tₙ + h/2, yₙ + h·k₂/2)
   k₄ = f(tₙ + h, yₙ + h·k₃)

   yₙ₊₁ = yₙ + (h/6)(k₁ + 2k₂ + 2k₃ + k₄)

 Интуиция:
   k₁ — наклон в начале
   k₂ — наклон в середине (по оценке k₁)
   k₃ — наклон в середине (по оценке k₂, точнее)
   k₄ — наклон в конце
   Итог — взвешенное среднее: (1×k₁ + 2×k₂ + 2×k₃ + 1×k₄)/6

 Пример: y' = y, y(0) = 1, h = 0.1

   k₁ = 1
   k₂ = 1 + 0.1×1/2 = 1.05
   k₃ = 1 + 0.1×1.05/2 = 1.0525
   k₄ = 1 + 0.1×1.0525 = 1.10525

   y₁ = 1 + (0.1/6)(1 + 2×1.05 + 2×1.0525 + 1.10525)
      = 1 + (0.1/6)×6.31025 = 1.10517.

   Точно: e^0.1 = 1.10517.  ← Совпадает до 5 знаков за 1 шаг.

 Погрешность: O(h⁴) на шаг, O(h⁴) глобально — метод 4-го порядка

 ✓ Когда использовать: Универсальный метод, подходит для большинства задач
 ✗ Когда не использовать:
   • Жёсткие уравнения (нужны неявные методы)
   • Очень высокая точность (нужен адаптивный шаг)

 Код:
   def rk4_step(f, t, y, h):
       k1 = f(t, y)
       k2 = f(t + h/2, y + h*k1/2)
       k3 = f(t + h/2, y + h*k2/2)
       k4 = f(t + h, y + h*k3)
       return y + h/6 * (k1 + 2*k2 + 2*k3 + k4)


 Сравнение методов ОДУ
+-----------------+---------+--------------+-----------------------+
| МЕТОД           | ПОРЯДОК | ВЫЧИСЛЕНИЙ f | Когда ИСПОЛЬЗОВАТЬ    |
|                 |         | НА ШАГ       |                       |
+-----------------+---------+--------------+-----------------------+
| Эйлер           | 1       | 1            | Обучение, прототип    |
+-----------------+---------+--------------+-----------------------+
| RK2 (Хойна)     | 2       | 2            | Быстрые грубые оценки |
+-----------------+---------+--------------+-----------------------+
| RK4             | 4       | 4            | Универсальный         |
+-----------------+---------+--------------+-----------------------+
| Адаптивный RK   | 4-5     | 6            | Высокая точность,     |
| (Дорманд-Принс) |         |              | переменный шаг        |
+-----------------+---------+--------------+-----------------------+
| Неявный Эйлер   | 1       | итерации     | Жёсткие уравнения     |
+-----------------+---------+--------------+-----------------------+


===============================================================================
Интерполяция
===============================================================================

 Задача: Построить функцию, проходящую через заданные точки (xᵢ, yᵢ)


 Полиномиальная интерполяция:
   n+1 точка → полином степени n (единственный)


 Интерполяция Лагранжа


 Формула:

   P(x) = Σᵢ yᵢ · Lᵢ(x)

   где Lᵢ(x) = ∏ⱼ≠ᵢ (x − xⱼ)/(xᵢ − xⱼ)

 Свойство Lᵢ: равен 1 в точке xᵢ, равен 0 в остальных узлах.

 Пример: Точки (0, 1), (1, 3), (2, 2)

   L₀(x) = (x−1)(x−2)/((0−1)(0−2)) = (x−1)(x−2)/2
   L₁(x) = (x−0)(x−2)/((1−0)(1−2)) = x(x−2)/(−1) = −x(x−2)
   L₂(x) = (x−0)(x−1)/((2−0)(2−1)) = x(x−1)/2

   P(x) = 1·(x−1)(x−2)/2 + 3·(−x(x−2)) + 2·x(x−1)/2
        = (x²−3x+2)/2 − 3x² + 6x + x² − x
        = −1.5x² + 3.5x + 1

   Проверка: P(0) = 1 ✓, P(1) = −1.5 + 3.5 + 1 = 3 ✓, P(2) = −6 + 7 + 1 = 2 ✓

 Проблема: При большом числе точек полином сильно осциллирует.
              (Феномен Рунге)


 Сплайн-интерполяция (кубический сплайн)


 Идея: Между каждой парой точек — свой кубический полином,
       но они "гладко сшиты" (совпадают значения, первые и вторые производ.)

       y
       |    ●
       |   ╱ ╲         ● ← узлы
       |  ╱   ●-------╱
       | ●
       +----------------→ x
         гладкая кривая, не осциллирует

 Преимущества:
   • Нет осцилляций Рунге
   • Гладкая кривая (C² — непрерывны до 2-й производной)
   • Локальность: изменение одной точки влияет только на соседние сегменты

 ✓ Когда использовать: Практически всегда лучше полиномиальной


===============================================================================
Оптимизация (минимизация функций)
===============================================================================

 Градиентный спуск


 Задача: Найти минимум f(x), x ∈ ℝⁿ

 Идея: Двигаемся в направлении наибыстрейшего убывания = против градиента

 Алгоритм:
   xₙ₊₁ = xₙ − α · ∇f(xₙ)

   где α — шаг (learning rate)

       ╭--------------------╮
      ╱    ↘                 ╲
     |       ↘                |      Спуск по "склону"
     |         ↘    ●        |      к минимуму
      ╲          ↘          ╱
       ╰--------------------╯

 Пример: f(x, y) = x² + y², начало (3, 4), α = 0.1

   ∇f = (2x, 2y)

   Шаг 1: (3, 4) − 0.1×(6, 8) = (3−0.6, 4−0.8) = (2.4, 3.2)
   Шаг 2: (2.4, 3.2) − 0.1×(4.8, 6.4) = (1.92, 2.56)
   ...
   Сходится к (0, 0)

 Выбор α:
   • Слишком большой — расходится, "прыгает" через минимум
   • Слишком маленький — сходится очень медленно
   • Адаптивные методы (Adam, RMSprop) — автоматически подбирают α

 ✓ Когда использовать: Гладкие функции, машинное обучение
 ✗ Когда не использовать: Много локальных минимумов, разрывные функции


 Метод Ньютона для оптимизации


 Идея: Аппроксимируем f квадратичной функцией, находим её минимум.

 Формула:
   xₙ₊₁ = xₙ − H⁻¹(xₙ) · ∇f(xₙ)

   где H — матрица Гессе (вторых производных)

 Сходимость: Квадратичная (очень быстро)

 ✓ Когда использовать: Функция гладкая, размерность невелика
 ✗ Когда не использовать:
   • Большая размерность (H⁻¹ дорого считать)
   • H вырождена или отрицательно определена (седловые точки)

 Квази-ньютоновские методы (BFGS, L-BFGS):
   Аппроксимируют H⁻¹ без явного вычисления — компромисс между
   скоростью сходимости и стоимостью итерации.


===============================================================================
Быстрое преобразование Фурье (БПФ / FFT)
===============================================================================

 Задача и идея


 Задача: Вычислить дискретное преобразование Фурье (ДПФ):

   Xₖ = Σⁿ⁻¹ⱼ₌₀ xⱼ · e^{−2πijk/n}

 Прямой расчёт: O(n²) операций
 БПФ (Кули-Тьюки): O(n log n) операций.

 Ускорение: Для n = 1024:  прямой = 1 млн операций
                            Бпф = 10 тыс. операций (в 100 раз быстрее)

 Идея: Разделяй и властвуй. Разбиваем на чётные и нечётные индексы,
       рекурсивно считаем, комбинируем за O(n).

 Применения:
   • Обработка сигналов и звука
   • Сжатие изображений (JPEG)
   • Спектральный анализ
   • Быстрое умножение полиномов и больших чисел
   • Решение УрЧП спектральными методами

 Код (рекурсивный, для понимания):
   def fft(x):
       n = len(x)
       if n == 1: return x
       even = fft(x[0::2])   # чётные индексы
       odd = fft(x[1::2])    # нечётные индексы
       W = [exp(-2j*pi*k/n) for k in range(n//2)]
       return [even[k] + W[k]*odd[k] for k in range(n//2)] + \
              [even[k] - W[k]*odd[k] for k in range(n//2)]


===============================================================================
Краткий справочник: какой метод выбрать
===============================================================================

 Решение уравнений f(x) = 0
+-------------------------------+-------------------------------------+
| СИТУАЦИЯ                      | РЕКОМЕНДАЦИЯ                        |
+-------------------------------+-------------------------------------+
| Есть интервал со сменой знака | Бисекция (надёжно) + Ньютон (точно) |
| Есть хорошее начальное прибл. | Ньютон                              |
| Нет производной               | Секущих или Брента                  |
| Система нелинейных уравнений  | Многомерный Ньютон                  |
+-------------------------------+-------------------------------------+

 Численное интегрирование
+-----------------------+---------------------------------------+
| СИТУАЦИЯ              | РЕКОМЕНДАЦИЯ                          |
+-----------------------+---------------------------------------+
| Гладкая функция       | Симпсон или Гаусс                     |
| Нужна адаптивность    | Адаптивный Симпсон (сгущаем где надо) |
| Многомерный интеграл  | Монте-Карло                           |
| Осциллирующая функция | Специальные методы (Филон)            |
+-----------------------+---------------------------------------+

 Линейные системы Ax = b
+------------------------------+------------------------------------+
| СИТУАЦИЯ                     | РЕКОМЕНДАЦИЯ                       |
+------------------------------+------------------------------------+
| Небольшая плотная матрица    | LU-разложение                      |
| Много систем с одной A       | LU один раз, потом быстрые решения |
| Симметричная положит. опред. | Холецкого (A = LLᵀ)                |
| Большая разреженная          | Итерационные (CG, GMRES)           |
| Очень большая (&gt;10⁶)      | Многосеточные методы               |
+------------------------------+------------------------------------+

 Обыкновенные дифф. уравнения
+--------------------------------+--------------------------------+
| СИТУАЦИЯ                       | РЕКОМЕНДАЦИЯ                   |
+--------------------------------+--------------------------------+
| Обычная задача, нужна точность | RK4 или адаптивный RK (dopri5) |
| Жёсткое уравнение              | Неявные методы (BDF, Radau)    |
| Сохранение энергии (Гамильтон) | Симплектические методы (Верле) |
| Длительное интегрирование      | Многошаговые (Adams-Bashforth) |
+--------------------------------+--------------------------------+

 Оптимизация
+----------------------------+--------------------------------------------+
| СИТУАЦИЯ                   | РЕКОМЕНДАЦИЯ                               |
+----------------------------+--------------------------------------------+
| Гладкая, малая размерность | BFGS                                       |
| Большая размерность (ML)   | Adam, SGD                                  |
| Ограничения (неравенства)  | Внутренних точек, SQP                      |
| Глобальный оптимум         | Генетические алгоритмы, отжиг              |
| Выпуклая функция           | Любой градиентный — сойдётся к глобальному |
+----------------------------+--------------------------------------------+

===============================================================================



▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                      ЧАСТЬ VI: СПРАВОЧНИК
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

===============================================================================
Словарь: программирование ↔ математика
===============================================================================

Базовые концепции программирования на языке теории множеств.

 Базовые понятия


 Переменная
 ----------
 Программирование:  x = 5

 Математика:
   Переменная = имя (идентификатор) для элемента некоторого множества
   Формально: функция из пространства имён в множество значений
   Var: Names → Values,  Var("x") = 5 ∈ ℤ

 Ключевое отличие:
   В математике: x = 5 → утверждение (x всегда равен 5)
   В программировании: x = 5 → присваивание (в ящик "x" положили 5)

-------------------------------------------------------------------------------

 Присваивание
 ------------
 Программирование:  x = 5;  x = x + 1  # теперь x = 6

 Математика:
   Присваивание = обновление отображения (последовательность состояний)
   Var₀("x") = 5
   Var₁("x") = Var₀("x") + 1 = 6

 НЕ математическое равенство.
   x = x + 1  (в программировании) ≠ x = x + 1 (в математике — противоречие)

-------------------------------------------------------------------------------

 Тип
 ---
 Программирование:  x: int = 5;  y: float = 3.14;  s: str = "текст"

 Математика:
   Тип = множество возможных значений

   int ≈ ℤ (целые числа)
   float ≈ ℝ (вещественные, с ограничениями точности)
   str = множество всех конечных последовательностей символов
   bool = {True, False} ≈ {⊤, ⊥}

   Типизация = ограничение области значений: x: int означает x ∈ ℤ


 Логические операции


 Условие (if)
 ------------
 Программирование:
   if условие:
       действие_1
   else:
       действие_2

 Математика (кусочная функция):
   f(x) = { g₁(x),  если P(x)
          { g₂(x),  если ¬P(x)

   где P(x) — предикат (логическое условие)

-------------------------------------------------------------------------------

 Логические операторы
 ---------------------

   Программирование  |  Математика (логика)  |  Геометрия (множества)
   ------------------+-----------------------+------------------------
   and               |  ∧ (конъюнкция)       |  ∩ (пересечение)
   or                |  ∨ (дизъюнкция)       |  ∪ (объединение)
   not               |  ¬ (отрицание)        |  ᶜ (дополнение)


 Управление потоком


 Цикл for
 --------
 Программирование:  for x in S: f(x)

 Математика:
   Применение функции f к каждому элементу множества S
   ∀x ∈ S: f(x)
   Если собираем результаты: ⋃_{x ∈ S} {f(x)}

-------------------------------------------------------------------------------

 Цикл while
 ----------
 Программирование:  while условие: действие

 Математика:
   Итерация до достижения условия остановки
   xₙ₊₁ = f(xₙ)  пока  P(xₙ) = ⊤
   Остановка когда P(xₙ) = ⊥

-------------------------------------------------------------------------------

 Функция
 -------
 Программирование:
   def f(x, y):
       return x + y

 Математика:
   f: X × Y → Z,  f(x, y) = x + y

 Ключевое:
   • Функция в программировании может иметь побочные эффекты
   • Математическая функция — чистое отображение

 Чистая функция (pure):  def pure(x): return x * 2
 Нечистая (impure):      def impure(x): global counter; counter += 1

-------------------------------------------------------------------------------

 Рекурсия
 --------
 Программирование:
   def factorial(n):
       if n == 0: return 1
       else: return n * factorial(n-1)

 Математика (рекуррентное определение):
   f: ℕ → ℕ
   f(0) = 1              (база)
   f(n) = n · f(n−1)     (рекуррентный шаг)


 Структуры данных


 Список (list)
 -------------
 Программирование:  L = [1, 2, 3]

 Математика:
   Конечная последовательность = функция из {0, 1, ..., n−1} в множество
   L: {0, 1, 2} → ℤ,  L(0)=1, L(1)=2, L(2)=3
   Упорядоченный кортеж: (1, 2, 3) ∈ ℤ³

-------------------------------------------------------------------------------

 Множество (set)
 ---------------
 Программирование:  S = {1, 2, 3}

 Математика:
   Множество = коллекция без порядка и повторов
   S = {1, 2, 3} ⊂ ℤ

   Операции: S ∪ T (union), S ∩ T (intersection), S \ T (difference)

-------------------------------------------------------------------------------

 Словарь (dict)
 --------------
 Программирование:  d = {'a': 1, 'b': 2}

 Математика:
   Словарь = частичная функция из Keys в Values
   d: K ⇀ V,  d('a') = 1, d('b') = 2

   Как множество пар: d ⊂ K × V

-------------------------------------------------------------------------------

 Класс и объект
 --------------
 Программирование:
   class Point:
       def __init__(self, x, y):
           self.x = x
           self.y = y
   p = Point(3, 4)

 Математика:
   Класс = алгебраическая структура (множество + операции + аксиомы)
   Point = (ℝ × ℝ, {distance, move, ...})
   Объект = элемент этого множества: p = (3, 4) ∈ ℝ²

   Наследование = вложение структур (подструктура наследует операции)


 Функциональное программирование


 Лямбда-функция
 ---------------
 Программирование:  f = lambda x: x**2
 Математика:        f = λx. x²  (λ-исчисление)

-------------------------------------------------------------------------------

 Map
 ---
 Программирование:  map(f, [1,2,3]) → [f(1), f(2), f(3)]
 Математика:        (f(x₁), f(x₂), f(x₃)) — поточечное применение функции

-------------------------------------------------------------------------------

 Filter
 ------
 Программирование:  filter(P, L) — элементы, для которых P(x) = True
 Математика:        {x ∈ L : P(x)} — селекция подмножества по предикату

-------------------------------------------------------------------------------

 Reduce (fold)
 -------------
 Программирование:  reduce(⊕, [a,b,c], init) → ((init ⊕ a) ⊕ b) ⊕ c
 Математика:        Свёртка: композиция бинарной операции по списку
                    reduce(+, [1,2,3], 0) = 0+1+2+3 = 6

-------------------------------------------------------------------------------

 List comprehension
 ------------------
 Программирование:  [f(x) for x in S if P(x)]
 Математика:        {f(x) : x ∈ S, P(x)} — определение множества

-------------------------------------------------------------------------------

 Композиция функций
 ------------------
 Программирование:  compose(f, g)(x) = f(g(x))
 Математика:        (f ∘ g)(x) = f(g(x))

-------------------------------------------------------------------------------

 Декоратор
 ---------
 Программирование:
   @decorator
   def f(x): ...

 Математика:
   Функция высшего порядка: decorator: (X → Y) → (X → Y)
   f̃ = decorator(f)

   Геометрически — обёртка:
        +-----------+
        | decorator |
        | +-------+ |
    x --|→ |   f   | -|→ y
        |  +-------+  |
        +-------------+


 Специальные концепции


 Глобальное состояние
 --------------------
 Программирование:
   counter = 0
   def increment(): global counter; counter += 1

 Математика:
   Функция с побочным эффектом: f: X × Env → Y × Env
   Вход + состояние → выход + новое состояние

   Монада State: State s a = s → (a, s)

-------------------------------------------------------------------------------

 Итератор
 --------
 Программирование:
   it = iter([1, 2, 3])
   next(it)  # 1
   next(it)  # 2

 Математика:
   Итератор = пара (состояние, функция перехода)
   Iterator = (S, next: S → S × V ∪ {Stop})
   Автомат: s₀ -next→ (v₁, s₁) -next→ (v₂, s₂) → ...

-------------------------------------------------------------------------------

 Ленивые вычисления
 ------------------
 Программирование:
   g = (x**2 for x in range(10**9))  # НЕ вычисляется сразу.
   next(g)  # вычисляется по требованию

 Математика:
   Thunk = () → Value — отложенное вычисление
   Вместо value храним функцию, которая его вычислит

 Бесконечные последовательности:
   def fibonacci():
       a, b = 0, 1
       while True:
           yield a
           a, b = b, a+b

   Математически: fib: ℕ → ℕ (функция на всех натуральных)
   Но хранится как вычислительный процесс

-------------------------------------------------------------------------------

 None / null
 ----------
 Программирование:  x = None
 Математика:        Maybe T = T ∪ {Nothing}
                    x: Maybe Int → x = Nothing или x = Just(5)


 Сводная таблица соответствий


 Программирование         | Математика               | Геометрия
 -------------------------+--------------------------+---------------------
 x = 5                    | Var("x") = 5 ∈ ℤ        | Точка в координате 5
 if P: A else: B          | {A, если P; B, если ¬P} | Ветвление траектории
 for x in S: f(x)         | ∀x∈S: f(x)              | Обход точек множества
 while P: f()             | xₙ₊₁=f(xₙ) пока P(xₙ)   | Движение до границы
 def f(x): return y       | f: X → Y                | Отображение
 [x₁, x₂, x₃]             | (x₁,x₂,x₃) — кортеж     | Дискретная кривая
 {x₁, x₂, x₃}             | {x₁,x₂,x₃} — множество  | Набор точек
 {'k': v}                 | k ↦ v — частич. функция | Дискретное отображение
 class C                  | (S, F) — алг. структура | Многообразие с операц.
 object                   | элемент S               | Точка в пространстве
 map(f, L)                | (f(x₁),...,f(xₙ))       | Поточечное преобразов.
 filter(P, L)             | {x∈L : P(x)}            | Селекция области
 reduce(⊕, L)             | x₁⊕x₂⊕.⊕xₙ           | Композиция операций
 lambda x: e              | λx.e                    | Анонимная функция
 [f(x) for x in S if P(x)]| {f(x) : x∈S, P(x)}      | Определение через усл.


 Парадигмы программирования


 SQL (декларативный):        Реляционная алгебра (операции над множествами)
 Python (императивный):      Пошаговые команды (алгоритм)
 Haskell (функциональный):   Композиция функций (λ-исчисление)
 Prolog (логический):        Правила вывода (логика предикатов)

-------------------------------------------------------------------------------

 Библиотеки Python ↔ математика:

 NumPy array:        Вектор/матрица (элементы ℝⁿ, ℝⁿˣᵐ)
 Pandas DataFrame:   Отношение (таблица из реляционной алгебры)
 sklearn.Model:      Статистическая модель (отображение X → Y с параметрами)
 NetworkX Graph:     Граф G = (V, E) (множество вершин + рёбер)


===============================================================================
Словарь: теория случайных процессов ↔ анализ временных рядов
===============================================================================

Мост между строгой теорией (теория меры, стохастический анализ) и практикой
(эконометрика, анализ данных, прогнозирование).

 Основные объекты


 Теория случайных процессов | анализ временных рядов
 -------------------------------+---------------------------------------
 Случайный процесс {X(t), t∈T}  | Временной ряд {x₁, x₂, ..., xₙ}
 Отображение T × Ω → ℝ          | Последовательность наблюдений
                                |
 Траектория (реализация)        | Наблюдаемый ряд
 X(·, ω) для фиксированного ω   | Конкретная последовательность чисел
                                |
 Вероятностное пр-во (Ω,ℱ,P)   | DGP (Data Generating Process)
                                | Генеральная совокупность
                                |
 Фильтрация {ℱₜ}               | Информационное множество
 σ-алгебры прошлого             | История процесса до момента t
                                |

 Свойства процессов


 Теория | практика
 -------------------------------+-------------------------------------------
 Стационарность в узком смысле  | (нет прямого аналога)
 F(xₜ₁,...,xₜₙ) = F(xₜ₁₊ₕ,...)  | Слишком сильное требование
                                |
 Стационарность в широком       | Стационарность (слабая)
 смысле (слабая)                | Постоянные mean и variance,
 E[X(t)] = μ = const            | ACF зависит только от лага
 Cov(X(t),X(s)) = R(|t−s|)     | μₜ = μ, σₜ² = σ², ρ(τ)
                                |
 Эргодичность                   | Временное среднее = матожиданию
 lim(T→∞) 1/T ∫X(t)dt = E[X]   | (1/n)Σxᵢ → μ при n → ∞
                                | Можно оценивать по одной реализации
                                |

 Характеристики процессов


 Теория | практика
 -------------------------------+-------------------------------------------
 Математическое ожидание        | Среднее уровня / тренд
 m(t) = E[X(t)]                | μ = (1/n)Σxᵢ
 Для стационарного: m = const   | μ̂ — выборочное среднее
                                |
 Автоковариационная функция     | ACVF (autocovariance function)
 γ(s,t) = Cov(X(s),X(t))       | γ(k) = Cov(xₜ, xₜ₊ₖ)
 Для стационарного:             | γ̂(k) = (1/n)Σ(xᵢ−x̄)(xᵢ₊ₖ−x̄)
 γ(τ) = Cov(X(t),X(t+τ))       |
                                |
 Автокорреляционная функция     | ACF (autocorrelation function)
 ρ(τ) = γ(τ)/γ(0)              | ρ(k) = γ(k)/γ(0)
 Нормированная ковариация       | ρ̂(k) — выборочная ACF
                                |
 Частичная автокорреляция       | PACF
 φₖₖ из уравнений Юла-Уолкера  | Для определения порядка AR-модели
                                |
 Спектральная плотность         | Power spectrum / периодограмма
 S(ω) = (1/2π)Σγ(k)e^(−ikω)   | I(ω) = |(1/√n)Σxₜe^(−iωt)|²
 Теорема Винера-Хинчина:        | Связь ACF и спектра через FFT
 S(ω) ↔ γ(τ) через Фурье       |
                                |

 Типы процессов и модели


 Теория | практика
 -------------------------------+-------------------------------------------
 Белый шум                      | White noise / Инновации
 {ξₜ} ~ WN(0, σ²)              | εₜ ~ iid(0, σ²)
 E[ξₜ] = 0, E[ξₜξₛ] = σ²δₜₛ   | Некоррелированы, E[εₜ] = 0
                                |
 Гауссовский процесс            | Нормально распределённый ряд
 Все конечномерные распределения| Часто предполагается для
 гауссовские                    | статистических выводов
                                |
 Марковский процесс             | AR(1) процесс
 P(Xₜ₊₁|Xₜ,Xₜ₋₁,...) = P(Xₜ₊₁|Xₜ)| xₜ = φxₜ₋₁ + εₜ
 Будущее зависит только от      | Авторегрессия первого порядка
 настоящего                     |
                                |
 Винеровский процесс            | Случайное блуждание
 (Броуновское движение)         | в непрерывном времени
 W(t) ~ N(0,t), непрерывный,   | Предел Δxₜ = εₜ при Δt → 0
 недифференцируемый             | I(1) процесс
                                |
 Процесс с независимыми         | Случайное блуждание
 приращениями                   | xₜ = xₜ₋₁ + εₜ
 X(t)−X(s) ⊥ X(s)−X(r)         | Дискретный аналог винеровского
                                |
 Процесс Орнштейна-Уленбека     | AR(1) в непрерывном времени
 dXₜ = −θ(Xₜ−μ)dt + σdWₜ       | Mean-reverting процесс
 Возврат к среднему             |
                                |
 Мартингал                      | Непредсказуемый процесс
 E[Xₜ₊₁|ℱₜ] = Xₜ               | E[εₜ₊₁|прошлое] = 0
 Лучшее предсказание = текущее  | Правильно подогнанная модель
 значение                       | даёт остатки-мартингалы
                                |
 Процесс с долгой памятью       | ARFIMA / Long memory процесс
 γ(k) ~ Ck^(−α), α ∈ (0,1)     | Медленно убывающая ACF
                                | Дробно интегрированный процесс
                                |

 Модели временных рядов


 Стохастическое ДУ | дискретная модель
 -------------------------------+-------------------------------------------
 Линейное СДУ                   | ARMA(p,q) модель
 dXₜ = a·Xₜdt + σdWₜ           | φ(L)xₜ = θ(L)εₜ
                                | φ(L) = 1−φ₁L−.−φₚLᵖ
                                | θ(L) = 1+θ₁L+...+θᵩLᵠ
                                |
 Процесс Орнштейна-Уленбека     | AR(1): xₜ = φxₜ₋₁ + εₜ
 dXₜ = −θ(Xₜ−μ)dt + σdWₜ       | где φ = e^(−θΔt)
                                |
 Винеровский процесс            | Случайное блуждание
 W(t) − W(s) ~ N(0, t−s)       | xₜ = xₜ₋₁ + εₜ
                                | Интегрированный процесс I(1)
                                |
 Геометрическое броуновское     | Логарифмическое случайное
 движение                       | блуждание
 dSₜ = μSₜdt + σSₜdWₜ          | ln(xₜ) = ln(xₜ₋₁) + μ + σεₜ
 S(t) = S(0)exp((μ−σ²/2)t+σW(t))| Модель цен активов
                                |

 Операторы и оценивание


 Теория | практика
 -------------------------------+-------------------------------------------
 Оператор сдвига                | Лаговый оператор
 Uₕf(t) = f(t+h)               | Lxₜ = xₜ₋₁, L²xₜ = xₜ₋₂
 Группа сдвигов                 | Lᵏxₜ = xₜ₋ₖ
                                |
 Стохастический интеграл        | Накопленная сумма шоков
 ∫₀ᵗ f(s)dW(s)                  | Σᵢ₌₁ᵗ εᵢ
 (Определение Ито)              |
                                |
 Условное математическое        | Прогноз по модели
 ожидание E[Xₜ₊ₕ|ℱₜ]            | x̂ₜ₊ₕ|ₜ = E[xₜ₊ₕ|x₁,...,xₜ]
                                |
 Оценка методом максимального   | MLE (Maximum Likelihood)
 правдоподобия                  | θ̂ = argmax L(θ|data)
                                |
 Асимптотическая нормальность   | √n(θ̂−θ) →^d N(0,V)
                                | Доверительные интервалы
                                |

 Ключевые формулы


 AR(1): Xₜ = φXₜ₋₁ + εₜ
   • Стационарность: |φ| &lt; 1
   • Дисперсия: Var[Xₜ] = σ²/(1−φ²)
   • ACF: ρ(k) = φᵏ
   • Спектральная плотность: S(ω) = σ²/|1−φe^(−iω)|²

 AR(p): Xₜ = φ₁Xₜ₋₁ + ... + φₚXₜ₋ₚ + εₜ
   • Стационарность: корни φ(z) = 0 вне единичного круга
   • Уравнения Юла-Уолкера: γ(k) = φ₁γ(k−1) + ... + φₚγ(k−p)
   • PACF: φₖₖ ≠ 0 для k≤p, φₖₖ = 0 для k&gt;p

 MA(q): Xₜ = εₜ + θ₁εₜ₋₁ + ... + θᵩεₜ₋ᵩ
   • Обратимость: корни θ(z) = 0 вне единичного круга
   • ACF: ρ(k) = 0 для k &gt; q (обрезается)

 ARIMA(p,d,q): φ(L)∇ᵈXₜ = θ(L)εₜ
   • d раз продифференцировать для стационарности
   • ∇xₜ = xₜ − xₜ₋₁ (оператор разности)

 Фильтр Калмана:
   State:   xₜ = Axₜ₋₁ + wₜ,  wₜ ~ N(0,Q)
   Observ:  yₜ = Cxₜ + vₜ,    vₜ ~ N(0,R)
   Predict: x̂ₜ|ₜ₋₁ = Ax̂ₜ₋₁|ₜ₋₁
   Update:  Kₜ = Pₜ|ₜ₋₁Cᵀ(CPₜ|ₜ₋₁Cᵀ + R)⁻¹  (Kalman gain)
            x̂ₜ|ₜ = x̂ₜ|ₜ₋₁ + Kₜ(yₜ − Cx̂ₜ|ₜ₋₁)


 Ключевые различия в подходах


 Теория случайных процессов:
   • Вопросы: существование, единственность, структура
   • Язык: теория меры, функциональный анализ, топология
   • Цель: доказать общие теоремы
   • Аудитория: математики
   • Акцент: строгость, общность, абстракция

 Анализ временных рядов:
   • Вопросы: идентификация, оценивание, прогнозирование
   • Язык: статистика, регрессионный анализ
   • Цель: получить численный прогноз
   • Аудитория: статистики, эконометристы, инженеры
   • Акцент: практичность, применимость, вычисления

-------------------------------------------------------------------------------

 Связь:
   Анализ временных рядов = дискретизация + оценивание + диагностика
                            теории случайных процессов

   Теория процессов объясняет Почему методы временных рядов работают.
   Временные ряды показывают как применять эти методы на практике.


-------------------------------------------------------------------------------
Словарь: непрерывное → дискретное (Как математика попадает в компьютер)
-------------------------------------------------------------------------------

 Зачем этот раздел


 Математика оперирует непрерывными объектами: ℝ, интегралы, производные.
 Компьютер работает с дискретными объектами: массивы, суммы, разности.

 Инженер должен понимать, как одно превращается в другое — и что теряется.


 Главная таблица: аналоговое → цифровое
+--------------------+-----------------------------+-------------------------+
| НЕПРЕРЫВНОЕ        | ДИСКРЕТНОЕ                  | ЧТО ТЕРЯЕТСЯ            |
+--------------------+-----------------------------+-------------------------+
| Функция f(x)       | Массив f[i]                 | Значения между узлами   |
| x ∈ [a,b]          | i = 0,1,...,N               | (нужна интерполяция)    |
+--------------------+-----------------------------+-------------------------+
| Производная df/dx  | Разность (f[i+1]−f[i])/h    | Точность O(h)           |
|                    | или (f[i+1]−f[i-1])/2h      | Точность O(h²)          |
+--------------------+-----------------------------+-------------------------+
| Вторая производная | (f[i+1]−2f[i]+f[i-1])/h²    | Точность O(h²)          |
| d²f/dx²            |                             |                         |
+--------------------+-----------------------------+-------------------------+
| Интеграл ∫f(x)dx   | Сумма Σf[i]·h               | Прямоугольники: O(h)    |
|                    | Трапеции: Σ(f[i]+f[i+1])h/2 | Трапеции: O(h²)         |
|                    | Симпсон                     | Симпсон: O(h⁴)          |
+--------------------+-----------------------------+-------------------------+
| ℝ (вещественные)   | float64                     | Точность ~15 знаков     |
|                    |                             | Переполнение, underflow |
+--------------------+-----------------------------+-------------------------+
| Оператор L: V→V    | Матрица A: ℝⁿ→ℝⁿ            | Конечная размерность    |
| (бесконечномерный) |                             |                         |
+--------------------+-----------------------------+-------------------------+

 Теорема Котельникова-Шеннона (Найквиста) — Когда ничего не теряется


 Фундаментальный результат: непрерывный сигнал можно точно восстановить
 из дискретных отсчётов — но только при определённых условиях.

 Теорема:
   Если сигнал f(t) не содержит частот выше F_max (ограничен по спектру),
   то он полностью определяется отсчётами с частотой ≥ 2·F_max.

   f(t) = Σ f(n·T) · sinc((t − n·T)/T),   где T ≤ 1/(2·F_max)

   sinc(x) = sin(πx)/(πx) — функция отсчётов (кардинальный синус)

 Следствия:
   • Частота Найквиста: F_Nyquist = 2·F_max — минимальная частота выборки
   • Алиасинг: если выборка реже F_Nyquist, высокие частоты "притворяются"
     низкими (эффект стробоскопа — колесо крутится "назад" в кино)
   • Перед дискретизацией нужен антиалиасинговый фильтр

 Практика:
   • CD Audio: F_max = 20 кГц → выборка 44.1 кГц &gt; 40 кГц ✓
   • При расчёте конструкций: шаг сетки h &lt; λ_min/2 (длина волны)

 Это мост между непрерывным и дискретным — теоретическое обоснование того,
 что цифровая обработка сигналов вообще возможна без потери информации.


 Производная → матрица


 Оператор d/dx на функциях f(x) — бесконечномерный.
 Но если f(x) задана в N точках: f[0], f[1], ..., f[N-1], то:

 Первая производная (центральная разность):

   (df/dx)[i] ≈ (f[i+1] − f[i-1]) / (2h)

   Матрица D₁:
   +                           +
   |  0   1   0   0   0  .   |
   | -1   0   1   0   0  .   |   1
   |  0  -1   0   1   0  .   |  ---  ×
   |  0   0  -1   0   1  .   |  2h
   |  .                      |
   +                           +

 Вторая производная (уравнение теплопроводности):

   (d²f/dx²)[i] ≈ (f[i+1] − 2f[i] + f[i-1]) / h²

   Матрица D₂:
   +                           +
   | -2   1   0   0   0  .   |
   |  1  -2   1   0   0  .   |   1
   |  0   1  -2   1   0  .   |  ---  ×
   |  0   0   1  -2   1  .   |  h²
   |  .                      |
   +                           +

 Это та же матрица, что в примере (тепловой баланс комнат)!
 Теплопроводность → матрица → собственные значения → решение.


 Лапласиан графа = дискретный оператор Лапласа


 На непрерывном пространстве: Δf = d²f/dx² + d²f/dy² + d²f/dz²

 На графе (например, тепловой сети):

   (Lf)[i] = Σⱼ wᵢⱼ (f[i] − f[j])

   где wᵢⱼ — вес ребра между узлами i и j (теплопроводность трубы)

 Матрица лапласиана:

   L = D − W

   D = diag(d₁, d₂, ..., dₙ) — степени вершин (dᵢ = Σⱼwᵢⱼ)
   W = матрица весов (wᵢⱼ)

 Собственные значения лапласиана:

   • λ₁ = 0 всегда (для связного графа — единственный нуль)
   • λ₂ &gt; 0 ⟺ граф связен
   • Чем больше λ₂, тем "лучше связан" граф

 Применение: Спектральная кластеризация, анализ сетей, PageRank


 Метод конечных элементов (fem) — вкратце


 Задача: Решить уравнение теплопроводности на сложной области Ω

   −∇·(k∇T) = q    (в области Ω)
   T = T₀          (на границе ∂Ω)

 Шаг 1: Разбить область на элементы (треугольники, тетраэдры)

         ●-------●-------●
        /╲      /╲      /╲
       /  ╲    /  ╲    /  ╲
      /    ╲  /    ╲  /    ╲
     ●------●------●------●
      ╲    /╲    /╲    /
       ╲  /  ╲  /  ╲  /
        ╲/    ╲/    ╲/
         ●-------●-------●

 Шаг 2: Внутри каждого элемента T(x,y) ≈ линейная функция

 Шаг 3: Записать вариационную форму:

   Минимизировать: ∫_Ω [½k|∇T|² − qT] dA

 Шаг 4: Получить систему линейных уравнений:

   K·T = F

   K — матрица жёсткости (зависит от геометрии и k)
   F — вектор нагрузки (зависит от q и гран. условий)
   T — вектор температур в узлах

 Итог: Дифференциальное уравнение → Матричное уравнение
       Бесконечномерная задача → Конечномерная линейная алгебра


 Подводные камни дискретизации


 Проблема 1: Потеря точности в float
 -----------------------------------
   В ℝ: (a + b) + c = a + (b + c)  — ассоциативность
   В float: может быть ложно.

   Пример: a = 1.0, b = 1e-16, c = 1e-16
     (a + b) + c = 1.0 + 1e-16 = 1.0  (b теряется)
     a + (b + c) = 1.0 + 2e-16 ≈ 1.0  (но чуть больше)

 Проблема 2: Неустойчивость схем
 -------------------------------
   Явная схема для теплопроводности:
     T[i,n+1] = T[i,n] + (aΔt/h²)(T[i+1,n] − 2T[i,n] + T[i-1,n])

   Устойчива только при: aΔt/h² ≤ 0.5 (условие Куранта)
   Иначе — осцилляции и взрыв решения.

 Проблема 3: Плохая обусловленность матрицы
 -------------------------------------------
   cond(A) = ‖A‖·‖A⁻¹‖ — число обусловленности
   Если cond(A) ≫ 1, малые ошибки в данных → большие ошибки в решении

   При уменьшении h: cond(D₂) ~ 1/h² → плохо.


 Z-преобразование — Лаплас для дискретных систем


 Определение:
   X(z) = Z[xₙ] = Σₙ₌₀^∞ xₙ z⁻ⁿ

 Связь с Лапласом:
   • Лаплас: L[x(t)] = ∫₀^∞ x(t) e⁻ˢᵗ dt    (непрерывное время)
   • Z:      Z[xₙ] = Σ xₙ z⁻ⁿ               (дискретное время)

   При дискретизации с шагом T:  z = eˢᵀ

 Ключевые свойства:
 +---------------------+--------------------------------+
 | Время               | Z-область                      |
 +---------------------+--------------------------------+
 | Задержка: xₙ₋₁      | z⁻¹ X(z)                       |
 | Разность: xₙ − xₙ₋₁ | (1 − z⁻¹) X(z)                 |
 | Свёртка: (x*y)ₙ     | X(z)·Y(z)                      |
 | Начальное значение  | lim_{z→∞} X(z) = x₀            |
 | Конечное значение   | lim_{z→1} (1−z⁻¹)X(z) = lim xₙ |
 +---------------------+--------------------------------+

 Применение в DSP (цифровая обработка сигналов):
   • Цифровой фильтр: Y(z) = H(z)·X(z)
   • Передаточная функция: H(z) = (b₀ + b₁z⁻¹ + ...)/(1 + a₁z⁻¹ + ...)
   • Устойчивость: все полюсы H(z) внутри единичного круга |z| &lt; 1

 Аналогия с Лапласом:
 +------------------------+-----------------------+------------------------+
 | ПОНЯТИЕ                | s-область (Лаплас)    | z-область              |
 +------------------------+-----------------------+------------------------+
 | Устойчивость           | Re(s) &lt; 0             | |z| &lt; 1                |
 | Граница устойчивости   | мнимая ось            | единичная окружность   |
 | Частотная хар-ка       | s = iω                | z = e^{iωT}            |
 +------------------------+-----------------------+------------------------+


 Резюме: связь разделов


   +----------------------+      дискретизация      +-----------------------+
   | Матанализ        |  ---------------------► | Линейная алгебра   |
   | (производные, инт-лы)|                         | (матрицы, системы)    |
   +----------------------+                         +-----------------------+

   +----------------------+      дискретизация      +-----------------------+
   | Многообразия      |  ---------------------► | Графы             |
   | (гладкие поверхности)|        (FEM)            | (сетки, узлы, рёбра)  |
   +----------------------+                         +-----------------------+

   +----------------------+      дискретизация      +-----------------------+
   | Функ. анализ     |  ---------------------► | Численная линейная    |
   | (операторы)          |                         | алгебра               |
   +----------------------+                         +-----------------------+

 Непрерывная математика даёт понимание (почему работает).
 Дискретная математика даёт вычисление (как посчитать).


===============================================================================
Словарь: инженерный жаргон ↔ математическая терминология
===============================================================================

 Введение


 Инженеры и математики часто говорят об одном и том же разными словами.
 Этот словарь помогает "переводить" между языками.


 Теория управления и сигналов
+---------------------------+---------------------------------------------------+
| ИНЖЕНЕРНЫЙ ТЕРМИН         | МАТЕМАТИЧЕСКИЙ ЭКВИВАЛЕНТ                         |
+---------------------------+---------------------------------------------------+
| Сигнал x(t)               | Функция x ∈ L²(ℝ) или распределение               |
+---------------------------+---------------------------------------------------+
| Система, "чёрный ящик"    | Оператор T: X → Y между функц. пространствами     |
+---------------------------+---------------------------------------------------+
| Линейная система          | Линейный оператор T(ax+by) = aT(x)+bT(y)          |
+---------------------------+---------------------------------------------------+
| Стационарная (LTI)        | Инвариантная относительно сдвига: T∘τ_s = τ_s∘T   |
| система                   | где τ_s — оператор сдвига на s                    |
+---------------------------+---------------------------------------------------+
| Импульсная характ. h(t)   | Ядро свёртки: y = h * x, т.е. y(t)=∫h(τ)x(t-τ)dτ  |
+---------------------------+---------------------------------------------------+
| Передаточная функция H(s) | Символ оператора / преобр. Лапласа ядра           |
|                           | H(s) = ℒ{h}(s), связь: Y(s) = H(s)X(s)            |
+---------------------------+---------------------------------------------------+
| Частотная хар-ка H(iω)    | Преобразование Фурье: H(iω) = ℱ{h}(ω)             |
+---------------------------+---------------------------------------------------+
| Полюсы передаточной       | Собственные значения оператора                    |
| функции                   | (корни характеристического многочлена)            |
+---------------------------+---------------------------------------------------+
| Устойчивая система        | Спектр оператора в левой полуплоскости Re(s)&lt;0 |
| (BIBO-устойчивость)       | или: все собственные значения с Re(λ)&lt;0        |
+---------------------------+---------------------------------------------------+
| Резонанс                  | Вынуждающая частота близка к мнимой части         |
|                           | собственного значения (полюса)                    |
+---------------------------+---------------------------------------------------+
| Обратная связь            | Модификация оператора: T_fb = T/(1 + KT)          |
| (feedback)                | Изменение собственных значений.                   |
+---------------------------+---------------------------------------------------+
| Управляемость             | Достижимость любой точки в пр-ве состояний        |
|                           | rank[B, AB, A²B, ...] = n (критерий Калмана)      |
+---------------------------+---------------------------------------------------+
| Наблюдаемость             | Восстановимость состояния по выходу               |
|                           | rank[C; CA; CA²; .] = n                         |
+---------------------------+---------------------------------------------------+

 Механика и теплотехника
+--------------------------+--------------------------------------------------+
| ИНЖЕНЕРНЫЙ ТЕРМИН        | МАТЕМАТИЧЕСКИЙ ЭКВИВАЛЕНТ                        |
+--------------------------+--------------------------------------------------+
| Распределённая система   | PDE (уравнение в частных производных)           |
| (теплопроводность, волны)| Решение — функция u(x,t) нескольких переменных  |
+--------------------------+--------------------------------------------------+
| Сосредоточенные парам.   | ODE (обыкновенное дифф. уравнение)              |
| (точечные массы, ёмкости)| Решение — вектор-функция x(t)                   |
+--------------------------+--------------------------------------------------+
| Граничные условия        | Значения функции (или производных) на ∂Ω       |
|                          | След u|_{∂Ω} — элемент пространства Соболева   |
+--------------------------+--------------------------------------------------+
| Собственная частота ωₙ   | √λₙ, где λₙ — собств. значение оператора       |
|                          | (Лапласиана с граничными условиями)              |
+--------------------------+--------------------------------------------------+
| Мода колебаний φₙ(x)     | Собственная функция: −∇²φₙ = λₙφₙ              |
+--------------------------+--------------------------------------------------+
| Разложение по модам      | Разложение по ортогональному базису из собств.  |
|                          | функций: u(x,t) = Σ cₙ(t)φₙ(x)                  |
+--------------------------+--------------------------------------------------+
| Демпфирование            | Диссипативный член в операторе                  |
|                          | Сдвигает собств. значения влево (Re↓)           |
+--------------------------+--------------------------------------------------+
| Тензор напряжений σᵢⱼ    | Симметричный тензор 2-го ранга                  |
|                          | σ: TₚM ⊗ TₚM → ℝ (билинейная форма)             |
+--------------------------+--------------------------------------------------+
| Градиент температуры     | 1-форма dT ∈ Ω¹(M), или вектор ∇T = g⁻¹(dT)    |
+--------------------------+--------------------------------------------------+
| Тепловой поток q         | Вектор или 2-форма (интегрируется по площадке)  |
|                          | q = −k∇T (закон Фурье = k связывает их)        |
+--------------------------+--------------------------------------------------+

 Статистика и машинное обучение
+--------------------------+------------------------------------------------+
| ИНЖЕНЕРНЫЙ ТЕРМИН        | МАТЕМАТИЧЕСКИЙ ЭКВИВАЛЕНТ                      |
+--------------------------+------------------------------------------------+
| Данные (выборка)         | Эмпирическая мера: μ_n = (1/n)Σδ_{xᵢ}          |
+--------------------------+------------------------------------------------+
| Признаки (features)      | Координаты в признаковом пространстве ℝᵖ       |
+--------------------------+------------------------------------------------+
| Главные компоненты (PCA) | Собственные векторы ковариационной матрицы     |
|                          | = направления максимальной дисперсии           |
+--------------------------+------------------------------------------------+
| Кластеризация            | Разбиение пространства по метрике              |
|                          | (Вороного, k-means, ...)                       |
+--------------------------+------------------------------------------------+
| Ядерные методы (kernel)  | Воспроизводящее ядро гильбертова пространства  |
|                          | K(x,y) = ⟨φ(x), φ(y)⟩ для вложения φ: X → H    |
+--------------------------+------------------------------------------------+
| Регуляризация            | Ограничение на норму решения                   |
| (L1, L2, ...)            | min ‖Ax-b‖² + λ‖x‖ₚ — задача в банаховом пр-ве |
+--------------------------+------------------------------------------------+
| Переобучение             | Аппроксимация шума, а не сигнала               |
| (overfitting)            | Нарушение bias-variance tradeoff               |
+--------------------------+------------------------------------------------+
| Градиентный спуск        | Итерационный метод: xₖ₊₁ = xₖ − α∇f(xₖ)        |
|                          | Сходимость: выпуклость + условие Липшица       |
+--------------------------+------------------------------------------------+

===============================================================================
Как пользоваться таблицами при решении задач
===============================================================================

Пошаговый алгоритм:

Шаг 1: определить уровень (Главная таблица)
        ↓
       На каком уровне абстракции находится задача?

Шаг 2: определить тип структуры (столпы в главной таблице)
        ↓
       Дискретное? Алгебраическое? Топологическое? Аналитическое?

Шаг 3: идентифицировать отношения
        ↓
       Какие отношения даны? ∈, ⊆, ~, ≤, →?

Шаг 4: искать аналогию (Таблица аналогий)
        ↓
       Видели ли похожий паттерн в другой области?

Шаг 5: выбрать метод доказательства
        ↓
       Прямое? От противного? Индукция? Контрапозиция?

Шаг 6: построить путь (Философия)
        ↓
       Доказательство = путь вложений множеств

Шаг 7: Проверить
        ↓
       Все вложения корректны?

Конкретный пример:

Задача: Доказать, что сумма двух чётных чисел чётна

Шаг 1: Уровень — Числа (ℤ), Уровень 4
Шаг 2: Тип — Алгебраическое (операция +) + Дискретное (делимость)
Шаг 3: Отношения — "Чётные" = {n ∈ ℤ : ∃k, n = 2k}
Шаг 4: Аналогия — Замкнутость подгруппы.
Шаг 5: Метод — Прямое доказательство
Шаг 6: Путь:
        1. a = 2k, b = 2m
        2. a + b = 2k + 2m = 2(k+m)
        3. ⇒ a + b чётно ✓
Шаг 7: Проверка — ✓ все шаги корректны

-------------------------------------------------------------------------------

Второй пример: Более сложная задача

Задача: Доказать, что множество иррациональных чисел несчётно

Шаг 1: определить уровень
         • Множества + кардинальность → Уровень 2 (теория множеств)
         • Но используем факты о ℝ и ℚ → Уровень 4 (числа)

Шаг 2: определить тип
         • Дискретное (мощности множеств)
         • Работаем с "размерами" бесконечных множеств

Шаг 3: идентифицировать отношения
         Дано:
           • ℝ несчётно (теорема Кантора)
           • ℚ счётно (известный факт)
           • Иррациональные = ℝ \ ℚ

         Требуется:
           • |ℝ \ ℚ| несчётно

Шаг 4: искать аналогию
         Вспоминаем арифметику мощностей:
           • Если A конечно, B конечно ⇒ A ∪ B конечно
           • Аналогия для бесконечных: счётное + счётное = счётное
           • Но: несчётное ≠ счётное + счётное

Шаг 5: выбрать метод
         • От противного (reductio ad absurdum)
         • Предположим, что иррациональные счётны → противоречие

Шаг 6: построить путь (доказательство)
         1. Предположим, что ℝ \ ℚ счётно               [от противного]

         2. ℚ счётно (известно)                         [факт]

         3. ℝ = ℚ ∪ (ℝ \ ℚ)                             [разбиение]

         4. Счётное ∪ Счётное = Счётное                 [теорема]

         5. ⇒ ℝ счётно                                  [из 1,2,3,4]

         6. Но ℝ несчётно (диагональный метод Кантора)  [противоречие]

         7. ⇒ Предположение неверно                     [reductio]

         8. ⇒ ℝ \ ℚ несчётно                            ✓

         Геометрия (множества):
           Если бы ℝ\ℚ было счётным:

           ℝ = ℚ ∪ (ℝ\ℚ)
               ↓     ↓
            счётное + счётное = счётное  (должно быть)

           Но ℝ несчётное. → противоречие

         Философия:
           Пытались представить ℝ как объединение двух счётных множеств.
           Получили абсурд: ℝ одновременно счётно и несчётно.
           Значит, одно из множеств несчётно. Так как ℚ счётно, то ℝ\ℚ несчётно.

Шаг 7: Проверить
         ✓ Используемые факты верны (ℚ счётно, ℝ несчётно)
         ✓ Теорема о счётном объединении верна
         ✓ Логика от противного применена корректно
         ✓ Противоречие реальное (не мнимое)

===============================================================================
Типичные задачи — от формулировки к методу
===============================================================================

+------------------+----------------------+------------------------------+
| ФОРМУЛИРОВКА     | ТИП ЗАДАЧИ           | МЕТОД                        |
+------------------+----------------------+------------------------------+
| "Доказать x ∈ A" | Принадлежность       | Прямое: показать определение |
| "Доказать A ⊆ B" | Включение            | Взять произвольный x ∈ A     |
| "Доказать A = B" | Равенство множеств   | Показать A ⊆ B и B ⊆ A       |
| "Не существует"  | Несуществование      | От противного                |
| "Для всех n ∈ ℕ" | Для всех натуральных | Индукция                     |
| "P ⇒ Q"          | Импликация           | Прямое или контрапозиция     |
| "P ⇔ Q"          | Эквивалентность      | Две импликации               |
| "Существует      | Существование +      | Построение + единственность  |
| единственный"    | единственность       | отдельно                     |
+------------------+----------------------+------------------------------+

===============================================================================
Исторический атлас — как математика росла по уровням
===============================================================================

+-----------+----------------------------------------------------------------+
| ПЕРИОД    | ЧТО ПОЯВИЛОСЬ (по уровням главной таблицы)                     |
+-----------+----------------------------------------------------------------+
| ~3000 BC  | УРОВЕНЬ 2-3: ℕ, ℤ, ℚ, геометрия Евклида, логика Аристотеля     |
| - 300 BC  |                                                                |
|           | • Евклид "Начала" — первая аксиоматическая система             |
|           | • Аристотель — формализация логики                             |
+-----------+----------------------------------------------------------------+
| 1500-1700 | УРОВЕНЬ 4: ℂ, исчисление                                       |
|           |                                                                |
|           | • Комплексные числа ℂ (Кардано, ~1545)                         |
|           | • Исчисление (Ньютон, Лейбниц, ~1670-1680)                     |
+-----------+----------------------------------------------------------------+
| 1800-1850 | УРОВЕНЬ 4-5: Группы, строгость анализа                         |
|           |                                                                |
|           | • Грассман — векторные пространства (~1844)                    |
|           | • Галуа — теория групп (~1830)                                 |
|           | • Вейерштрасс — ε-δ определения (~1850)                        |
+-----------+----------------------------------------------------------------+
| 1850-1900 | УРОВЕНЬ 2, 5: Множества, топология                             |
|           |                                                                |
|           | • Кантор — теория множеств (~1870-1880) [фундамент]           |
+-----------+----------------------------------------------------------------+
| 1900-1930 | УРОВЕНЬ 5-6: Топология, функциональный анализ                  |
|           |                                                                |
|           | • Лебег — теория меры (~1902)                                  |
|           | • Фреше — метрические пространства (~1906)                     |
|           | • Хаусдорф — общая топология (~1914)                           |
|           | • Банах — функциональный анализ (~1920-1930)                   |
|           | • Гёдель — теоремы о неполноте (~1931)                         |
+-----------+----------------------------------------------------------------+
| 1930-1960 | УРОВЕНЬ 6: Категории, алгебраическая топология                 |
|           |                                                                |
|           | • Эйленберг, Маклейн — теория категорий (~1945) [мета-уровень] |
|           | • Бурбаки — структуралистский подход (~1935)                   |
|           | • Колмогоров — аксиоматическая теория вероятностей (~1933)     |
+-----------+----------------------------------------------------------------+

Ключевое наблюдение:

  История математики идёт снизу вверх по главной таблице.
  Каждая эпоха строит на предыдущих уровнях.

===============================================================================
                           Типичные заблуждения
===============================================================================

Эти ошибки совершают почти все. Лучше узнать о них заранее.

 Заблуждения в логике
+--------------------------------+--------------------------------------------+
| ОШИБКА                         | ПРАВДА                                     |
+--------------------------------+--------------------------------------------+
| "Из ложного следует только     | Из ложного следует ЧТО УГОДНО.             |
| ложное"                        | F → P истинно для любого P                 |
+--------------------------------+--------------------------------------------+
| "∀ и ∃ можно менять местами"   | ∀x∃y P(x,y) ≢ ∃y∀x P(x,y)                  |
|                                | "У каждого своя мама" ≠ "Одна мама у всех" |
+--------------------------------+--------------------------------------------+
| "Доказать = проверить примеры" | Примеры никогда не доказывают ∀-утв.       |
|                                | Но один контрпример опровергает            |
+--------------------------------+--------------------------------------------+

 Заблуждения в алгебре
+---------------------------+--------------------------------------------+
| ОШИБКА                    | ПРАВДА                                     |
+---------------------------+--------------------------------------------+
| "Группа — это числа с     | Группа — множество СИММЕТРИЙ объекта.      |
| операцией"                | Числа — лишь один частный случай           |
+---------------------------+--------------------------------------------+
| "В группе всегда ab = ba" | Только в АБЕЛЕВЫХ группах.                 |
|                           | Повороты + отражения: НЕ коммутативны      |
+---------------------------+--------------------------------------------+
| "(ab)⁻¹ = a⁻¹b⁻¹"         | (ab)⁻¹ = b⁻¹a⁻¹ — порядок ОБРАТНЫЙ.        |
|                           | (надеть носки, ботинки)⁻¹ = снять ботинки, |
|                           | снять носки                                |
+---------------------------+--------------------------------------------+

 Заблуждения в топологии
+-------------------------------+-------------------------------------------+
| ОШИБКА                        | ПРАВДА                                    |
+-------------------------------+-------------------------------------------+
| "Открытое = без границы"      | Открытое = "внутри каждой точки есть шар" |
|                               | ℝ открыто в ℝ, хотя "границы нет"         |
+-------------------------------+-------------------------------------------+
| "Множество либо открыто,      | Может быть и тем и другим (∅, X)          |
| либо закрыто"                 | Может быть НИ тем НИ другим: [0,1) в ℝ    |
+-------------------------------+-------------------------------------------+
| "Непрерывная функция не может | x ↦ 1/x непрерывна на (0,∞) и → ∞         |
| уходить в бесконечность"      | Непрерывность ≠ ограниченность            |
+-------------------------------+-------------------------------------------+
| "Бублик и чашка — это шутка"  | Это ТОЧНАЯ теорема: оба имеют род 1       |
|                               | (одну дырку), значит гомеоморфны          |
+-------------------------------+-------------------------------------------+

 Заблуждения в линейной алгебре
+-------------------------------+-------------------------------------------+
| ОШИБКА                        | ПРАВДА                                    |
+-------------------------------+-------------------------------------------+
| "Вектор — это стрелка"        | Вектор — элемент векторного пространства. |
|                               | Функции, матрицы, ряды — тоже векторы.    |
+-------------------------------+-------------------------------------------+
| "Матрица — это таблица чисел" | Матрица — ПРЕДСТАВЛЕНИЕ линейного         |
|                               | оператора в конкретном базисе.            |
|                               | Меняем базис — меняется матрица           |
+-------------------------------+-------------------------------------------+
| "det(A+B) = det(A) + det(B)"  | НЕВЕРНО. det мультипликативен:            |
|                               | det(AB) = det(A)·det(B)                   |
+-------------------------------+-------------------------------------------+
| "Если det A = 0, матрица      | Матрица есть, но она НЕОБРАТИМА.          |
| не существует"                | Некоторые векторы "схлопываются" в ядро   |
+-------------------------------+-------------------------------------------+

 Заблуждения в дифференциальной геометрии
+------------------------------+-------------------------------------------+
| ОШИБКА                       | ПРАВДА                                    |
+------------------------------+-------------------------------------------+
| "dx — бесконечно малая       | dx — базисный элемент кокасательного      |
| величина"                    | пространства T*M. Линейная функция.       |
+------------------------------+-------------------------------------------+
| "∫ — просто антипроизводная" | ∫ₘω — независимое понятие (интеграл формы |
|                              | по многообразию). Связь через Стокса.     |
+------------------------------+-------------------------------------------+
| "Кривизна — это изогнутость" | Внутренняя кривизна определяется через    |
|                              | параллельный перенос вектора по контуру.  |
|                              | Цилиндр: K=0 (плоский). Сфера: K&gt;0.   |
+------------------------------+-------------------------------------------+
| "Связность — абстрактная     | Связность определяет, что значит          |
| ерунда"                      | "параллельно" в искривлённом пр-ве.       |
|                              | Без неё нельзя сравнивать векторы в       |
|                              | разных точках.                            |
+------------------------------+-------------------------------------------+

 Заблуждения в математическом анализе
+------------------------------+--------------------------------------------+
| ОШИБКА                       | ПРАВДА                                     |
+------------------------------+--------------------------------------------+
| "Производная — это скорость" | Производная — ЛИНЕЙНОЕ ПРИБЛИЖЕНИЕ.        |
|                              | Скорость — лишь один физический пример.    |
|                              | f(x+h) ≈ f(x) + f'(x)·h — вот суть.        |
+------------------------------+--------------------------------------------+
| "Интеграл — это площадь"     | Площадь — частный случай.                  |
|                              | Интеграл — это мера: обобщённый            |
|                              | "размер" множества или функционал на C(X). |
+------------------------------+--------------------------------------------+
| "∞ — это число"              | ∞ — это СИМВОЛ для записи пределов.        |
|                              | Нельзя: ∞ − ∞, ∞/∞, 0·∞ — неопределённо.   |
+------------------------------+--------------------------------------------+
| "1/0 = ∞"                    | 1/0 НЕ ОПРЕДЕЛЕНО в ℝ.                     |
|                              | lim(1/x) = ∞ при x→0⁺ — это поведение,     |
|                              | не значение в точке.                       |
+------------------------------+--------------------------------------------+
| "Сходящийся ряд можно        | Только АБСОЛЮТНО сходящийся.               |
| переставлять"                | Условно сходящийся → теорема Римана:       |
|                              | перестановкой получим любую сумму.         |
+------------------------------+--------------------------------------------+

 Заблуждения о тензорах
+--------------------------------+--------------------------------------------+
| ОШИБКА                         | ПРАВДА                                     |
+--------------------------------+--------------------------------------------+
| "Тензор — это многомерный      | Тензор — МУЛЬТИЛИНЕЙНАЯ ФУНКЦИЯ.           |
| массив чисел"                  | Массив — лишь представление в базисе.      |
|                                | Тензор существует независимо от координат. |
+--------------------------------+--------------------------------------------+
| "Матрица — это тензор 2-го     | Матрица — представление оператора V → W.   |
| ранга"                         | Тензор типа (1,1) — это V* ⊗ V.            |
|                                | Матрица меняется при замене базиса,        |
|                                | тензор — нет.                              |
+--------------------------------+--------------------------------------------+
| "Индексы вверху/внизу — просто | Это разные объекты: вектор (↑) vs          |
| обозначения"                   | ковектор (↓). Связаны через метрику.       |
|                                | vⁱ = gⁱʲvⱼ — поднятие индекса требует g.   |
+--------------------------------+--------------------------------------------+

 Заблуждения о вероятности
+--------------------------------+--------------------------------------------+
| ОШИБКА                         | ПРАВДА                                     |
+--------------------------------+--------------------------------------------+
| "Вероятность — это частота"    | Частота — одна ИНТЕРПРЕТАЦИЯ. Математически|
|                                | вероятность — это мера со свойством P(Ω)=1.|
|                                | Байесовская вероятность — степень уверен. |
+--------------------------------+--------------------------------------------+
| "P(A|B) = P(B|A)"              | НЕВЕРНО. P(болезнь|тест⁺) ≠ P(тест⁺|болезнь)|
|                                | Это путают даже врачи. Используй Байеса.  |
+--------------------------------+--------------------------------------------+
| "Независимые события не могут  | Независимость: P(A∩B) = P(A)·P(B).        |
| произойти вместе"              | Они могут произойти вместе. Просто знание |
|                                | об одном не меняет вероятность другого.   |
+--------------------------------+--------------------------------------------+
| "После 10 орлов шанс решки     | ОШИБКА ИГРОКА. Монета не помнит прошлое.  |
| выше"                          | P(решка) = 0.5 на каждом броске.          |
+--------------------------------+--------------------------------------------+

 Заблуждения о мерах и интегралах
+------------------------------+-------------------------------------------+
| ОШИБКА                       | ПРАВДА                                    |
+------------------------------+-------------------------------------------+
| "Любое множество имеет меру" | Существуют НЕИЗМЕРИМЫЕ множества.         |
|                              | (Пример Витали, следствие аксиомы выбора) |
+------------------------------+-------------------------------------------+
| "Интеграл Римана — это       | Лебег: интегрируем по значениям функции.  |
| единственный интеграл"       | Риман не интегрирует характеристическую   |
|                              | функцию ℚ, Лебег — интегрирует (= 0).     |
+------------------------------+-------------------------------------------+
| "Множество меры нуль —       | Канторово множество: несчётно, но μ = 0!  |
| конечное или счётное"        | Мера и мощность — разные понятия.         |
+------------------------------+-------------------------------------------+

 Главное заблуждение


   "Разделы математики — это разные предметы"

   Правда:
   Это один предмет, рассматриваемый с разных сторон.
   Группа — это категория с одним объектом.
   Топология — это категория открытых множеств.
   Векторное пр-во — это модуль над полем.
   Дифференциальная форма — это сечение расслоения.

   Когда понимаешь глубинную структуру, границы между разделами исчезают.


 Почему X не является Y — отрицательные Примеры


 Понимание того, чем объект НЕ является, не менее важно, чем знать, чем
 он является. Вот ключевые различия:


 Алгебраические структуры
+--------------------------------+--------------------------------------------+
| УТВЕРЖДЕНИЕ                    | ПРИЧИНА                                    |
+--------------------------------+--------------------------------------------+
| ℤ — кольцо, но НЕ поле         | Нет деления: 1/2 ∉ ℤ                      |
+--------------------------------+--------------------------------------------+
| ℤ/6ℤ — кольцо, но НЕ          | Есть делители нуля: 2·3 = 0 (mod 6)       |
| целостное кольцо               |                                            |
+--------------------------------+--------------------------------------------+
| (ℝ&gt;0, ×) — группа, но         | Нет нейтрального элемента для + (0 ∉ ℝ&gt;0) |
| (ℝ&gt;0, +) — НЕ группа           |                                            |
+--------------------------------+--------------------------------------------+
| Кватернионы ℍ — тело, но       | ab ≠ ba (некоммутативность умножения)     |
| НЕ поле                        |                                            |
+--------------------------------+--------------------------------------------+
| ПРОСТРАНСТВА и НОРМЫ                                                        |
+--------------------------------+--------------------------------------------+
| L¹[0,1] — банахово, но НЕ      | Норма ‖f‖₁ = ∫|f| не порождается         |
| гильбертово                    | скалярным произведением (нарушен паралл.) |
+--------------------------------+--------------------------------------------+
| C[0,1] с ‖·‖∞ — нормировано,  | Есть последовательность Коши без предела  |
| но НЕ полно по ‖·‖₁           | в C[0,1]: предел — разрывная функция      |
+--------------------------------+--------------------------------------------+
| Метрика d(x,y) = |x−y|/(1+|x−y|)| d(x,y) ≤ 1, но исходное ℝ неограничено  |
| не порождается нормой          | Нет линейной структуры на уровне метрики  |
+--------------------------------+--------------------------------------------+
| ТОПОЛОГИЧЕСКИЕ СВОЙСТВА                                                     |
+--------------------------------+--------------------------------------------+
| ℚ — НЕ связное                 | ℚ = (−∞,√2)∩ℚ ∪ (√2,∞)∩ℚ — два открытых|
+--------------------------------+--------------------------------------------+
| [0,1) — НЕ компактно           | Покрытие (1/n, 1) не имеет конечного      |
| (в отличие от [0,1])           | подпокрытия                               |
+--------------------------------+--------------------------------------------+
| Цилиндр — НЕ гомеоморфен       | π₁(цилиндр) = ℤ ≠ 0 = π₁(плоскость)     |
| плоскости                      | (хотя оба локально евклидовы)             |
+--------------------------------+--------------------------------------------+
| ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ                                                       |
+--------------------------------+--------------------------------------------+
| Слабая сходимость НЕ влечёт    | eₙ → 0 слабо в L², но ‖eₙ‖ = 1           |
| сходимость по норме            | (ортонормированный базис)                 |
+--------------------------------+--------------------------------------------+
| Компактность в ∞-мерном        | Замкнутый единичный шар в L² —            |
| НЕ эквивалентна замкнутости +  | замкнут и ограничен, но НЕ компактен.    |
| ограниченности                 |                                            |
+--------------------------------+--------------------------------------------+
| Непрерывный линейный оператор  | Сдвиг в ℓ²: T(x₁,x₂,...) = (0,x₁,x₂,...) |
| НЕ обязательно имеет собств.   | Инъективен, но Tx = λx ⇒ x = 0           |
| значения                       |                                            |
+--------------------------------+--------------------------------------------+

===============================================================================
                           Справочник нотаций
===============================================================================

Все символы, используемые в настоящем стандарте:

 Логические символы
+--------+---------------------+-----------------------------------------+
| СИМВОЛ | НАЗВАНИЕ            | ЗНАЧЕНИЕ                                |
+--------+---------------------+-----------------------------------------+
| ∀      | Квантор всеобщности | "для всех", "для любого"                |
| ∃      | Квантор существов.  | "существует", "найдётся хотя бы один"   |
| ∃!     | Единственность      | "существует единственный"               |
| ¬      | Отрицание           | "не", "неверно что"                     |
| ∧      | Конъюнкция          | "и", "одновременно"                     |
| ∨      | Дизъюнкция          | "или" (включающее)                      |
| →      | Импликация          | "если…, то…", "влечёт"              |
| ↔      | Эквиваленция        | "тогда и только тогда", "равносильно"   |
| ⊢      | Выводимость         | "из левого выводится правое"            |
| ⊨      | Семант. следование  | "из левого семантически следует правое" |
+--------+---------------------+-----------------------------------------+

 Теоретико-множественные символы
+---------+---------------------+---------------------------------------------+
| СИМВОЛ  | НАЗВАНИЕ            | ЗНАЧЕНИЕ                                    |
+---------+---------------------+---------------------------------------------+
| ∈       | Принадлежность      | x ∈ A: "x является элементом A"             |
| ∉       | Непринадлежность    | x ∉ A: "x не является элементом A"          |
| ⊂, ⊆    | Подмножество        | A ⊂ B: "каждый элемент A есть элемент B"    |
| ⊃, ⊇    | Надмножество        | A ⊃ B: эквивалентно B ⊂ A                   |
| ∪       | Объединение         | A ∪ B = {x : x∈A или x∈B}                   |
| ∩       | Пересечение         | A ∩ B = {x : x∈A и x∈B}                     |
| \       | Разность            | A \ B = {x : x∈A и x∉B}                     |
| ∅       | Пустое множество    | Множество без элементов                     |
| ℘(A)    | Булеан              | Множество всех подмножеств A                |
| |A|     | Мощность            | Количество элементов (для конечных)         |
| ×       | Декартово произвед. | A×B = {(a,b) : a∈A, b∈B}                    |
+---------+---------------------+---------------------------------------------+

 Символы отображений
+--------+---------------------+---------------------------------------------+
| СИМВОЛ | НАЗВАНИЕ            | ЗНАЧЕНИЕ                                    |
+--------+---------------------+---------------------------------------------+
| →      | Отображение         | f: X → Y: "f из X в Y"                      |
| ↦      | Правило отображения | x ↦ f(x): "x переходит в f(x)"              |
| ∘      | Композиция          | (g∘f)(x) = g(f(x))                          |
| f⁻¹    | Обратное / Прообраз | Обратное отображение или прообраз множества |
| id     | Тождественное       | id(x) = x                                   |
| Im, im | Образ               | Im f = f(X) = {f(x) : x∈X}                  |
| ker    | Ядро                | ker f = {x : f(x) = e} (e — нейтральный)    |
| Hom    | Множество морфизмов | Hom(A,B) = {морфизмы из A в B}              |
+--------+---------------------+---------------------------------------------+

 Числовые множества
+---------+---------------------+---------------------------------------------+
| СИМВОЛ  | НАЗВАНИЕ            | ЭЛЕМЕНТЫ                                    |
+---------+---------------------+---------------------------------------------+
| ℕ       | Натуральные         | {0, 1, 2, 3, ...} или {1, 2, 3, ...}      |
| ℤ       | Целые               | {..., −2, −1, 0, 1, 2, ...}                 |
| ℚ       | Рациональные        | {p/q : p∈ℤ, q∈ℤ, q≠0}                      |
| ℝ       | Вещественные        | Числовая прямая (включая иррациональные)    |
| ℂ       | Комплексные         | {a + bi : a,b∈ℝ, i² = −1}                   |
| ℍ       | Кватернионы         | 4-мерное расширение ℂ (некоммутативное)*    |
| 𝕆       | Октонионы           | 8-мерное расширение ℍ (неассоциативное)     |
+---------+---------------------+---------------------------------------------+
| *ℍ: x²+1=0 имеет ∞ корней (±i, ±j, ±k и все их комбинации на S²)          |
| ℝⁿ      | n-мерное простр.    | Множество n-ок (x₁, ..., xₙ), xᵢ∈ℝ         |
+---------+---------------------+---------------------------------------------+
| S¹      | Единичная окружн.   | {z ∈ ℂ : |z| = 1} = {e^{iθ} : θ ∈ [0,2π)}  |
| Sⁿ      | n-мерная сфера      | {x ∈ ℝⁿ⁺¹ : |x| = 1}. S² — обычная сфера   |
| Tⁿ      | n-мерный тор        | S¹ × S¹ × ... × S¹ (n раз). T² — бублик    |
| ℝPⁿ     | Проективное простр. | Прямые через 0 в ℝⁿ⁺¹. ℝP¹ ≅ S¹           |
+---------+---------------------+---------------------------------------------+

 Алгебраические символы
+---------+---------------------+-------------------------------------+
| СИМВОЛ  | НАЗВАНИЕ            | ЗНАЧЕНИЕ                            |
+---------+---------------------+-------------------------------------+
| ·, ∗    | Групповая операция  | Бинарная операция (умножение)       |
| e, 1    | Нейтральный элемент | e·g = g·e = g для всех g            |
| g⁻¹     | Обратный элемент    | g·g⁻¹ = g⁻¹·g = e                   |
| ≤, &lt; | Подгруппа           | H ≤ G: "H — подгруппа G"            |
| ⊲, ⊴    | Нормальная подгр.   | H ⊲ G: "H — нормальная подгруппа G" |
| G/H     | Факторгруппа        | Множество смежных классов gH        |
| ≅       | Изоморфизм          | G ≅ H: "G изоморфна H"              |
| ⊕       | Прямая сумма        | V ⊕ W (для векторных пространств)   |
| ⊗       | Тензорное произв.   | V ⊗ W (тензорное произведение)      |
| ∧       | Внешнее произв.     | v ∧ w (антисимметричное)            |
+---------+---------------------+-------------------------------------+

 Топологические символы
+--------+-------------------+---------------------------------------+
| СИМВОЛ | НАЗВАНИЕ          | ЗНАЧЕНИЕ                              |
+--------+-------------------+---------------------------------------+
| τ      | Топология         | Семейство открытых множеств           |
| B(x,ε) | Открытый шар      | {y : d(x,y) &lt; ε}                   |
| Ā      | Замыкание         | Наименьшее замкнутое, содержащее A    |
| int(A) | Внутренность      | Наибольшее открытое, содержащееся в A |
| ∂A     | Граница           | Ā \ int(A)                            |
| ≅      | Гомеоморфизм      | Топологическая эквивалентность        |
| ≃      | Гомотоп. эквив.   | Гомотопическая эквивалентность        |
| π₁     | Фундамент. группа | π₁(X) — группа петель в X             |
| Hₙ     | Группа гомологий  | n-мерные "дырки" в пространстве       |
+--------+-------------------+---------------------------------------+

 Символы линейной алгебры
+--------+----------------------+---------------------------------------+
| СИМВОЛ | НАЗВАНИЕ             | ЗНАЧЕНИЕ                              |
+--------+----------------------+---------------------------------------+
| dim    | Размерность          | dim V = число базисных векторов       |
| rank   | Ранг                 | rank A = dim Im A                     |
| det    | Определитель         | det A ∈ F (для квадратных матриц)     |
| tr     | След                 | tr A = Σ aᵢᵢ (сумма диагональных)     |
| ⟨·,·⟩  | Скалярное произв.    | ⟨u,v⟩ ∈ F (билинейная форма)          |
| ‖·‖    | Норма                | ‖v‖ = √⟨v,v⟩                          |
| ⊥      | Ортогональность      | u ⊥ v ⟺ ⟨u,v⟩ = 0                     |
| V*     | Двойственное простр. | V* = Hom(V, F) — линейные функционалы |
| Aᵀ     | Транспонирование     | (Aᵀ)ᵢⱼ = Aⱼᵢ                          |
| A†, A* | Эрмитово сопряж.     | (A†)ᵢⱼ = Āⱼᵢ                          |
+--------+----------------------+---------------------------------------+

 Символы дифференциальной геометрии
+--------+---------------------+-----------------------------------+
| СИМВОЛ | НАЗВАНИЕ            | ЗНАЧЕНИЕ                          |
+--------+---------------------+-----------------------------------+
| TₚM    | Касательное простр. | Векторное пространство в точке p  |
| T*ₚM   | Кокасательное пр.   | Двойственное к TₚM                |
| d      | Внешняя производная | d: Ωᵏ → Ωᵏ⁺¹, d² = 0              |
| Ωᵏ(M)  | k-формы             | Антисимметричные (0,k)-тензоры    |
| ∇      | Связность / Набла   | Ковариантная производная          |
| ∂/∂xⁱ  | Координатный базис  | Базис касательного пространства   |
| dxⁱ    | Кобазис             | Базис кокасательного пространства |
| gᵢⱼ    | Метрический тензор  | ⟨∂/∂xⁱ, ∂/∂xʲ⟩                    |
| Γⁱⱼₖ   | Символы Кристоффеля | Коэффициенты связности            |
| Rⁱⱼₖₗ  | Тензор Римана       | Мера кривизны пространства        |
+--------+---------------------+-----------------------------------+

 Символы теории категорий
+----------+--------------------+--------------------------------------+
| СИМВОЛ   | НАЗВАНИЕ           | ЗНАЧЕНИЕ                             |
+----------+--------------------+--------------------------------------+
| Ob(C)    | Объекты            | Класс объектов категории C           |
| Mor(C)   | Морфизмы           | Класс морфизмов категории C          |
| Hom(A,B) | Hom-множество      | Морфизмы из A в B                    |
| F: C→D   | Функтор            | Отображение между категориями        |
| η: F⇒G   | Естеств. преобраз. | Семейство морфизмов ηₐ: F(A)→G(A)    |
| ⊣        | Сопряжённость      | F ⊣ G: F левый сопряжённый к G       |
| lim, ←   | Предел             | Универсальный конус над диаграммой   |
| colim,→  | Копредел           | Универсальный коконус под диаграммой |
+----------+--------------------+--------------------------------------+

 Стандартные категории
+--------+---------------------+--------------------------------------------+
| СИМВОЛ | НАЗВАНИЕ            | ОБЪЕКТЫ / МОРФИЗМЫ                         |
+--------+---------------------+--------------------------------------------+
| Set    | Категория множеств  | Множества / Функции                        |
| Grp    | Категория групп     | Группы / Гомоморфизмы групп                |
| Ab     | Абелевы группы      | Коммутативные группы / Гомоморфизмы        |
| Ring   | Категория колец     | Кольца / Гомоморфизмы колец                |
| Vect_F | Векторные простр.   | Пространства над F / Линейные отображения  |
| Top    | Топол. пространства | Простр-ва / Непрерывные отображения        |
| Man    | Многообразия        | Гладкие многообразия / Гладкие отображения |
+--------+---------------------+--------------------------------------------+


===============================================================================
                    Справочник: фундаментальные неравенства
===============================================================================

Эти неравенства используются во всей математике. Запомните их — они встретятся
в анализе, линейной алгебре, теории вероятностей, физике.

 Неравенство Коши-Буняковского-Шварца (КБШ)


 +-------------------------------------------------------------------------+
 |                |⟨u, v⟩| ≤ ‖u‖ · ‖v‖                                    |
 |                                                                         |
 | Модуль скалярного произведения ≤ произведение длин                      |
 +-------------------------------------------------------------------------+

 Частные случаи:

 Для векторов в ℝⁿ:
   |Σ aᵢbᵢ|² ≤ (Σ aᵢ²)(Σ bᵢ²)

 Для интегралов:
   |∫fg dx|² ≤ (∫f² dx)(∫g² dx)

 Для сумм:
   (a₁b₁ + a₂b₂)² ≤ (a₁² + a₂²)(b₁² + b₂²)

 Геометрический смысл:
   cos θ = ⟨u,v⟩/(‖u‖·‖v‖), а |cos θ| ≤ 1

 Когда равенство:
   u и v коллинеарны (один кратен другому): v = λu


 Неравенство треугольника


 +--------------------------+
 | ‖u + v‖ ≤ ‖u‖ + ‖v‖      |
 |                          |
 | Длина суммы ≤ суммы длин |
 +--------------------------+

 Для чисел: |a + b| ≤ |a| + |b|
 Для метрик: d(x,z) ≤ d(x,y) + d(y,z)

 Обратное неравенство:  |‖u‖ − ‖v‖| ≤ ‖u − v‖


 Неравенство о средних (AM-GM)


 +--------------------------------------------------------+
 | Для неотрицательных чисел a₁, ..., aₙ:                 |
 |                                                        |
 | (a₁ + a₂ + ... + aₙ)/n  ≥  ⁿ√(a₁ · a₂ · ... · aₙ)      |
 | AM              ≥           GM                         |
 | (среднее арифметическое)      (среднее геометрическое) |
 +--------------------------------------------------------+

 Частный случай (n = 2):
   (a + b)/2 ≥ √(ab)     равенство при a = b

 Применение:
   Минимизация суммы при фиксированном произведении (и наоборот)

 Пример: Какой прямоугольник с периметром 20 имеет max площадь?
   2(a+b) = 20 ⇒ a+b = 10
   S = ab ≤ (a+b)²/4 = 25  (max при a = b = 5, т.е. квадрат)


 Неравенство Йенсена


 +--------------------------------------------------+
 | Для ВЫПУКЛОЙ функции f и весов λᵢ ≥ 0 с Σλᵢ = 1: |
 |                                                  |
 | f(Σ λᵢxᵢ)  ≤  Σ λᵢf(xᵢ)                          |
 |                                                  |
 | Функция от среднего ≤ среднее от функции         |
 +--------------------------------------------------+

 Важно: Для вогнутой функции знак меняется на ≥

 Примеры выпуклых функций: x², eˣ, |x|, −ln x (на x&gt;0)
 Примеры вогнутых функций: √x, ln x, −x²

 Частный случай: AM-GM следует из Йенсена для f(x) = −ln(x)


 Неравенства Гёльдера и Минковского


 Неравенство Гёльдера (обобщение КБШ):

   Для p, q &gt; 1 с 1/p + 1/q = 1:

   +-----------------------------------------------------------------------+
   |  Σ|aᵢbᵢ| ≤ (Σ|aᵢ|ᵖ)^(1/p) · (Σ|bᵢ|^q)^(1/q)                         |
   |                                                                       |
   |  ‖ab‖₁ ≤ ‖a‖ₚ · ‖b‖_q                                               |
   +-----------------------------------------------------------------------+

   При p = q = 2 получаем КБШ.

 Неравенство Минковского (неравенство треугольника для Lᵖ):

   +-----------------------------------------------------------------------+
   |  (Σ|aᵢ+bᵢ|ᵖ)^(1/p) ≤ (Σ|aᵢ|ᵖ)^(1/p) + (Σ|bᵢ|ᵖ)^(1/p)               |
   |                                                                       |
   |  ‖a + b‖ₚ ≤ ‖a‖ₚ + ‖b‖ₚ                                             |
   +-----------------------------------------------------------------------+

   Это доказывает, что ‖·‖ₚ — действительно норма.


 Таблица: Когда какое неравенство использовать
+-------------------------------+---------------------------------------------+
| СИТУАЦИЯ                      | НЕРАВЕНСТВО                                 |
+-------------------------------+---------------------------------------------+
| Оценить скалярное произведение| КБШ: |⟨u,v⟩| ≤ ‖u‖·‖v‖                    |
+-------------------------------+---------------------------------------------+
| Оценить норму суммы           | Треугольника: ‖u+v‖ ≤ ‖u‖+‖v‖             |
+-------------------------------+---------------------------------------------+
| Сравнить сумму и произведение | AM-GM: (a+b)/2 ≥ √(ab)                     |
+-------------------------------+---------------------------------------------+
| Выпуклая функция от среднего  | Йенсен: f(Ex) ≤ E[f(x)]                    |
+-------------------------------+---------------------------------------------+
| Работа в пространствах Lᵖ    | Гёльдер, Минковский                        |
+-------------------------------+---------------------------------------------+

 Прикладной пример: неравенства в теплообмене


 Задача 1: Оптимальная форма оребрения (AM-GM)
-------------------------------------------------------------------------------

   Радиатор отопления. Фиксированный объём металла V = a·b·L.
   Как выбрать толщину ребра a и высоту b, чтобы максимизировать теплоотдачу?

   Теплоотдача ~ площадь поверхности ~ 2(a + b)·L
   При фиксированном ab = V/L:

   Максимум (a + b) при ab = const достигается при a = b
   (по AM-GM: a+b ≥ 2√(ab), равенство при a=b)

   Вывод: Квадратное сечение ребра оптимально.

 Задача 2: Оценка мощности вентилятора (КБШ)
-------------------------------------------------------------------------------

   Скорость воздуха v(x,y) неоднородна по сечению воздуховода.
   Нужно оценить кинетическую энергию потока.

   E = ½ρ ∬ v³ dA = ½ρ ∬ v·v² dA

   По Коши-Буняковскому:
   (∬v·v² dA)² ≤ (∬v² dA)·(∬v⁴ dA)

   Это позволяет оценить энергию через более простые интегралы.

 Задача 3: Усреднение температуры (Йенсен)
-------------------------------------------------------------------------------

   Излучательная способность ~ T⁴ (закон Стефана-Больцмана).
   T⁴ — выпуклая функция.

   По Йенсену: (средняя T)⁴ ≤ среднее(T⁴)

   Практический смысл:
   Нельзя заменить распределение температур средней температурой
   при расчёте радиационного теплообмена — получится занижение.

   Если T₁ = 300 K, T₂ = 500 K:
   (400)⁴ = 2.56×10¹⁰ — по средней температуре
   ½(300⁴ + 500⁴) = 3.53×10¹⁰ — правильный расчёт (на 38% больше)


===============================================================================
Векторный анализ — справочник для инженера
===============================================================================

 Интуиция: что делают grad, div, rot


 ∇f (градиент) — "куда идти вверх?"
-------------------------------------------------------------------------------

   Представь карту высот (температур, давлений).
   ∇f — это стрелка, указывающая в направлении наибольшего роста f.
   Длина |∇f| = крутизна подъёма.

            высоко
              ○
             /|\
            / | \     ∇f указывает вверх по склону
           /  |  \    +---→
          /   |   \   |
         -----●-----  (точка, где стоишь)
                низко

   Пример: T(x,y) = 20 − x² − y² (холм температуры в центре)
   ∇T = (−2x, −2y) — направлен к центру (к вершине холма)

 Div F (дивергенция) — "источник или сток?"
-------------------------------------------------------------------------------

   Представь векторное поле как течение жидкости.
   div F &gt; 0: в этой точке жидкость появляется (источник, кран)
   div F &lt; 0: в этой точке жидкость исчезает (сток, слив)
   div F = 0: сколько втекает, столько вытекает (несжимаемый поток)

      Источник (div &gt; 0) сток (div &lt; 0) div = 0

            ↑                        ↓                    → → →
         ←--●--→                  →--●--←                 → → →
            ↓                        ↑                    → → →
      (стрелки расходятся)    (стрелки сходятся)    (равномерный поток)

   Пример: F = (x, y, z) (радиальное поле)
   div F = ∂x/∂x + ∂y/∂y + ∂z/∂z = 3 &gt; 0 — источник везде.

 Rot F (ротор) — "есть ли вихрь?"
-------------------------------------------------------------------------------

   Представь маленький пропеллер, брошенный в поток.
   rot F ≠ 0: пропеллер крутится (есть вихрь)
   rot F = 0: пропеллер НЕ крутится (потенциальный поток)

      Вихрь (rot ≠ 0) потенциальный (rot = 0)

           ←                            ↑
        ↙     ↖                         ↑
       ↓   ●   ↑                        ↑
        ↘     ↗                         ●
           →                            ↑
     (закручивается)              (прямолинейный)

   Направление rot F — ось вращения (по правилу правой руки)
   Длина |rot F| — скорость вращения

   Пример: F = (−y, x, 0) (круговой поток)
   rot F = (0, 0, 2) — вихрь вдоль оси z


 Формулы в декартовых координатах (x, y, z)


   ∇f = (∂f/∂x, ∂f/∂y, ∂f/∂z)

   div F = ∂Fₓ/∂x + ∂Fᵧ/∂y + ∂F_z/∂z

   rot F = (∂F_z/∂y − ∂Fᵧ/∂z,  ∂Fₓ/∂z − ∂F_z/∂x,  ∂Fᵧ/∂x − ∂Fₓ/∂y)

   ∇²f = ∂²f/∂x² + ∂²f/∂y² + ∂²f/∂z²   (лапласиан)


 Формулы в цилиндрических координатах (r, φ, z)


   x = r cos φ,  y = r sin φ,  z = z

   ∇f = (∂f/∂r,  (1/r)∂f/∂φ,  ∂f/∂z)

   div F = (1/r)∂(rFᵣ)/∂r + (1/r)∂Fφ/∂φ + ∂F_z/∂z

   rot F = ((1/r)∂F_z/∂φ − ∂Fφ/∂z,
            ∂Fᵣ/∂z − ∂F_z/∂r,
            (1/r)[∂(rFφ)/∂r − ∂Fᵣ/∂φ])

   ∇²f = (1/r)∂/∂r(r∂f/∂r) + (1/r²)∂²f/∂φ² + ∂²f/∂z²

 Когда использовать: трубы, цилиндры, осесимметричные задачи


 Формулы в сферических координатах (r, θ, φ)


   x = r sin θ cos φ,  y = r sin θ sin φ,  z = r cos θ
   (θ — угол от оси z, φ — азимутальный угол)

   ∇f = (∂f/∂r,  (1/r)∂f/∂θ,  (1/(r sin θ))∂f/∂φ)

   div F = (1/r²)∂(r²Fᵣ)/∂r + (1/(r sin θ))∂(sin θ Fθ)/∂θ
          + (1/(r sin θ))∂Fφ/∂φ

   ∇²f = (1/r²)∂/∂r(r²∂f/∂r) + (1/(r²sin θ))∂/∂θ(sin θ ∂f/∂θ)
        + (1/(r²sin²θ))∂²f/∂φ²

 Когда использовать: шары, сферы, точечные источники


 Важнейшие тождества


   rot(∇f) = 0       ← "Градиент безвихревой"
                        (потенциальное поле не крутит)

   div(rot F) = 0   ← "Вихрь не имеет источников"
                        (линии вихря замкнуты)

   rot(rot F) = ∇(div F) − ∇²F

   div(fF) = f div F + ∇f · F

   rot(fF) = f rot F + ∇f × F


 Связь с физикой (уравнения в векторной форме)


 Теплопроводность:
   q = −λ∇T               (тепловой поток ~ минус градиент температуры)
   ∂T/∂t = a∇²T            (уравнение теплопроводности)

 Гидродинамика:
   div v = 0               (несжимаемая жидкость)
   ∂v/∂t + (v·∇)v = −∇p/ρ + ν∇²v   (Навье-Стокс)

 Электродинамика (Максвелл):
   div E = ρ/ε₀           (источник E — заряды)
   div B = 0               (нет магнитных монополей)
   rot E = −∂B/∂t         (изменение B порождает вихрь E)
   rot B = μ₀J + μ₀ε₀∂E/∂t   (ток и изменение E порождают B)



===============================================================================
                         Великое объединение
===============================================================================


   Вся математика — это один узор, рассматриваемый с разных точек зрения.

   +---------------------------------------------------------------------+
   |                                                                     |
   |                          Структура                                  |
   |                              |                                      |
   |            +-----------------+-----------------+                    |
   |            |                 |                 |                    |
   |            ▼                 ▼                 ▼                    |
   |      +----------+      +----------+      +----------+              |
   |      | Алгебра  |      |Топология |      | Анализ   |              |
   |      |          |      |          |      |          |              |
   |      |симметрии |◄----►|  форма   |◄----►|изменение |              |
   |      | G · g⁻¹  |      |  τ, π₁   |      |  d, ∫    |              |
   |      +----------+      +----------+      +----------+              |
   |            |                 |                 |                    |
   |            +-----------------+-----------------+                    |
   |                              |                                      |
   |                              ▼                                      |
   |                     +----------------+                              |
   |                     |   Категории    |                              |
   |                     |                |                              |
   |                     | Объекты        |                              |
   |                     | Морфизмы       |                              |
   |                     | Функторы       |                              |
   |                     +----------------+                              |
   |                              |                                      |
   |                              ▼                                      |
   |                    Универсальный язык                               |
   |                                                                     |
   +---------------------------------------------------------------------+

   Группа — это категория с одним объектом, где все морфизмы обратимы.
   Топология — это категория, где морфизмы = непрерывные отображения.
   Линейная алгебра — категория с прямыми суммами и тензорными произвед.

   Когда вы понимаете одну структуру глубоко — вы понимаете все.


 Один язык — много диалектов


   +---------------------------------------------------------------------+
   |                                                                     |
   |    АЛГЕБРА         ТОПОЛОГИЯ       ЛИН.АЛГЕБРА      ДИФ.ГЕОМ.      |
   |       |                |                |               |          |
   |       ▼                ▼                ▼               ▼          |
   |    +-----+          +-----+          +-----+        +-----+       |
   |    |ker φ|          | π₁  |          |ker T|        |ker d|       |
   |    +--+--+          +--+--+          +--+--+        +--+--+       |
   |       |                |                |               |          |
   |       +----------------+----------------+---------------+          |
   |                        |                |                          |
   |                        ▼                ▼                          |
   |                 один и тот же паттерн:                             |
   |                                                                     |
   |                     "ЧТО УХОДИТ В НОЛЬ"                            |
   |                                                                     |
   |   Ядро — это то, что "схлопывается", "теряется", "тривиализуется"  |
   |   при применении морфизма.                                         |
   |                                                                     |
   |   dim V = dim ker + dim Im  ← ЭТО РАБОТАЕТ ВЕЗДЕ.                  |
   |                                                                     |
   +---------------------------------------------------------------------+


 Почему это важно


   Математика — не набор техник для сдачи экзамена.
   Математика — язык, на котором написана Вселенная.

   Законы Максвелла: dF = 0, d*F = J  (две строчки)
   Гравитация:       Gμν = 8πTμν      (одно уравнение)
   Квантовая механика: iℏ∂ψ/∂t = Ĥψ  (одно уравнение)

   Структуры, описанные в этом стандарте, лежат в основе:
   • Физики элементарных частиц (группы симметрий)
   • Общей теории относительности (многообразия, тензоры)
   • Квантовой механики (гильбертовы пространства, операторы)
   • Криптографии (теория чисел, эллиптические кривые)
   • Машинного обучения (линейная алгебра, оптимизация)

   Изучая математику, вы изучаете структуру самой реальности.


         "Книга природы написана на языке математики"

                                         — Галилео Галилей


         "Бог — геометр"

                                         — Платон


         "Математика — это музыка разума"

                                         — Джеймс Джозеф Сильвестр



Математика — это не набор формул. Это способ видеть мир:
находить инварианты среди изменений, структуру среди хаоса,
единство среди различий.

Пустота → границы → пространство → структура → измерение.

Этот путь продолжается.


===============================================================================
                           Что дальше
===============================================================================

Этот атлас покрывает ядро математики. За его пределами — территории,
на которых ведутся активные исследования. Карта для ориентирования:

 Алгебра:
   • Теория представлений — как группы действуют на пространствах
   • Гомологическая алгебра — цепные комплексы, производные функторы
   • Алгебраическая K-теория — обобщение понятия размерности

 Геометрия и топология:
   • Гомотопическая теория типов — новый фундамент математики
   • Теория узлов — инварианты Джонса, связь с квантовой физикой
   • Алгебраическая топология — спектральные последовательности
   • Симплектическая топология — гипотеза Арнольда, теорема Громова

 Анализ:
   • Стохастический анализ — интеграл Ито, формула Фейнмана-Каца
   • Микролокальный анализ — операторы, волновые фронты
   • Некоммутативная геометрия (Конн) — обобщение многообразий

 Математическая физика:
   • Квантовая теория поля — функциональные интегралы, ренормализация
   • Общая теория относительности — уравнения Эйнштейна, чёрные дыры
   • Теория струн — калибровочная/гравитационная двойственность

 Дискретная математика и информатика:
   • Теория сложности — P vs NP, криптография
   • Теория информации — каналы, коды, энтропия
   • Теория игр — равновесия, механизмы

Каждая из этих территорий использует язык, который мы уже знаем:
группы, пространства, формы, меры, функторы. Атлас — это компас.
</pre>
</body>
</html>
