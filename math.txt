═══════════════════════════════════════════════════════════════════════════════
                    МАТЕМАТИЧЕСКИЙ АТЛАС
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   МАТЕМАТИКА — ЭТО ЯЗЫК ПРОСТРАНСТВ                                        │
│                                                                             │
│   Комната, в которой мы сидим — это пространство.                           │
│   Множество всех возможных температур в этой комнате — тоже пространство.   │
│   Множество всех функций, описывающих температуру — тоже пространство.      │
│                                                                             │
│   Математика изучает пространства разных типов и связи между ними.          │
│                                                                             │
│   Каждый раздел математики — это СПОСОБ СМОТРЕТЬ на пространство:           │
│                                                                             │
│   ┌─────────────────┬───────────────────────────────────────────────────┐   │
│   │ РАЗДЕЛ          │ ЧТО ВИДИТ В ПРОСТРАНСТВЕ                          │   │
│   ├─────────────────┼───────────────────────────────────────────────────┤   │
│   │ Теория множеств │ Только точки, никакой структуры                   │   │
│   │ Топология       │ Какие точки "близки" (но без чисел-расстояний)    │   │
│   │ Метрика         │ Расстояния между точками                          │   │
│   │ Линейная алгебра│ Сложение и умножение на числа                     │   │
│   │ Группы          │ Симметрии — преобразования, сохраняющие структуру │   │
│   │ Многообразия    │ Локально похоже на ℝⁿ, глобально искривлено       │   │
│   │ Функц. анализ   │ Бесконечномерные пространства функций             │   │
│   └─────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│   Одно и то же физическое пространство можно изучать всеми способами.       │
│   Разные задачи требуют разных взглядов.                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Это карта математической территории. Атлас показывает СВЯЗИ между разделами.

┌─────────────────────────────────────────────────────────────────────────────┐
│ НОТАЦИИ (чтобы не листать в конец)                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│ ∈ ∉ ⊂ ⊆      принадлежит, включение     │ ∀ ∃ ⇒ ⇔    кванторы, следование │
│ ∩ ∪ \        пересечение, объединение   │ ¬ ∧ ∨      не, и, или           │
│ ℕ ℤ ℚ ℝ ℂ   числовые множества          │ ℍ 𝕆        кватернионы, октонионы│
│ ≅            изоморфизм                  │ ⊗ ⊕        тензорное, прямая сумма│
│ ⟨·,·⟩ ‖·‖   скалярное произв., норма   │ V* Aᵀ A⁻¹  двойств., трансп.    │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ПРОСТРАНСТВ — ГЛАВНАЯ СХЕМА                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                         МНОЖЕСТВО                                           │
│                    (точки без структуры)                                    │
│                            │                                                │
│              ┌─────────────┼─────────────┐                                  │
│              ▼             ▼             ▼                                  │
│      ТОПОЛОГИЧЕСКОЕ   АЛГЕБРАИЧЕСКОЕ   ПОРЯДОК                             │
│       ПРОСТРАНСТВО      (группа,       (решётка)                           │
│       (близость)        кольцо)                                            │
│              │             │                                                │
│              ▼             ▼                                                │
│         МЕТРИЧЕСКОЕ   ВЕКТОРНОЕ                                            │
│        (расстояние)   ПРОСТРАНСТВО                                         │
│              │             │                                                │
│              └──────┬──────┘                                                │
│                     ▼                                                       │
│              НОРМИРОВАННОЕ                                                  │
│             (длина вектора)                                                 │
│                     │                                                       │
│                     ▼                                                       │
│               ГИЛЬБЕРТОВО                                                   │
│           (скалярное произведение,                                          │
│            углы между векторами)                                            │
│                     │                                                       │
│                     ▼                                                       │
│               МНОГООБРАЗИЕ                                                  │
│          (локально евклидово,                                               │
│           глобально искривлено)                                             │
│                     │                                                       │
│                     ▼                                                       │
│           РИМАНОВО МНОГООБРАЗИЕ                                             │
│          (метрика меняется от                                               │
│           точки к точке)                                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ МАТАНАЛИЗ НЕ В НАЧАЛЕ? (важное пояснение)                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Традиционное образование: школа → матанализ → всё остальное.               │
│ Этот атлас устроен ИНАЧЕ.                                                   │
│                                                                             │
│ Матанализ — это анализ на КОНКРЕТНОМ пространстве ℝⁿ.                      │
│ Мы сначала отвечаем: что такое пространство ВООБЩЕ?                        │
│                                                                             │
│   • Топология: что значит "близко" и "непрерывно"                          │
│   • Линейная алгебра: что значит "сложить" и "умножить на число"           │
│   • Группы: что значит "симметрия"                                         │
│   • Многообразия: что значит "локально как ℝⁿ"                             │
│                                                                             │
│ И ПОТОМ показываем: вот как всё это работает на ℝⁿ (матанализ).            │
│                                                                             │
│ Это как учить географию: можно начать с родного города, а можно —          │
│ с понятий "планета", "континент", "страна". Мы выбираем второй путь.       │
│                                                                             │
│ ⚠️  ЕСЛИ ТЫ ХОЧЕШЬ НАЧАТЬ С МАТАНАЛИЗА — иди сразу в раздел A13.           │
│     Там есть всё: пределы, производные, интегралы, ряды.                   │
│     Но потом вернись к A2 (топология) — увидишь, откуда это всё растёт.    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОДНА ЗАДАЧА — МНОГО ЯЗЫКОВ (зачем нужен атлас)                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Теплопроводность в стержне. ОДНА физика, но:                                │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ ЯЗЫК              │ КАК ВЫГЛЯДИТ                                      │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Физика            │ Тепло течёт от горячего к холодному              │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Матанализ (A13)   │ ∂T/∂t = α·∂²T/∂x²  (уравнение в частных произв.) │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Фурье (A14)        │ T(x,t) = Σ cₙe^{−αn²t}sin(nπx/L)                 │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Функанализ (A15)  │ dT/dt = AT, где A = α·d²/dx² — оператор в L²     │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Полугруппы        │ T(t) = e^{At}T₀ — однопараметрическая полугруппа │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Вероятность (A17) │ Броуновское движение, диффузия частиц            │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ Все эти языки описывают ОДНО И ТО ЖЕ. Атлас показывает, как переходить     │
│ между ними. Иногда задача проще на одном языке, иногда — на другом.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВТОРАЯ ЗАДАЧА — ЕЩЁ БОЛЬШЕ ЯЗЫКОВ (течение в трубе)                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Вода течёт по трубе. Какой расход? Какие потери давления?                   │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ РАЗДЕЛ АТЛАСА     │ ЧТО ДАЁТ ДЛЯ ЭТОЙ ЗАДАЧИ                          │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Векторы (A3)      │ Скорость v⃗ = (vₓ, vᵧ, v_z) — векторное поле     │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Тензоры (A6)      │ Напряжения τᵢⱼ — тензор 2-го ранга               │   │
│ │                   │ Связь τ и скорости: τᵢⱼ = μ(∂vᵢ/∂xⱼ + ∂vⱼ/∂xᵢ)  │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Формы (A8)        │ Расход = ∬_S v⃗·dS⃗ — интеграл 2-формы ρv        │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Матанализ (A13)   │ Уравнение Навье-Стокса:                           │   │
│ │                   │ ρ(∂v⃗/∂t + (v⃗·∇)v⃗) = −∇p + μ∇²v⃗ + ρg⃗          │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Функанализ (A15)  │ Слабые решения, пространства Соболева W^{1,2}     │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Группы (A1)       │ Симметрия задачи: осевая → профиль Пуазейля      │   │
│ │                   │ v(r) = v_max(1 − r²/R²) — параболический профиль  │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Размерности (A6)  │ Число Рейнольдса Re = ρvL/μ — безразмерное!      │   │
│ │                   │ Re < 2300: ламинар, Re > 4000: турбулентность    │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ Инженерная формула Дарси-Вейсбаха: ΔP = λ·(L/D)·(ρv²/2)                   │
│ Откуда λ? Из решения Навье-Стокса или эмпирических корреляций.             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                              ЧАСТЬ I: ФУНДАМЕНТ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▀

1. ФИЛОСОФСКИЙ ФУНДАМЕНТ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ МЫШЛЕНИЯ: ОТ ПУСТОТЫ К ФИЗИКЕ                                      │
└─────────────────────────────────────────────────────────────────────────────┘

Вся математика и познание мира возникают из последовательности актов мышления:

        ∅ ПУСТОТА
         │
         │ Акт 1: ВЫБОР
         ↓
   ╔════════════════════════════════════════════════════════════╗
   ║  Субъект наделяется возможностью действовать над пустотой  ║
   ╚════════════════════════════════════════════════════════════╝
         │
         │ Акт 2: ПРОВЕДЕНИЕ ГРАНИЦ
         ↓
   ╔══════════════════════════════════════════════════════════╗
   ║  Пустота разрезается границами на ОБРАЗЫ                 ║
   ╚══════════════════════════════════════════════════════════╝
         │
         │ Акт 3: МАНИПУЛЯЦИИ ОБРАЗАМИ
         ↓
   ╔══════════════════════════════════════════════════════════╗
   ║  Универсальны для всего живого                           ║
   ║  Не требуют символов                                     ║
   ║  Прямое оперирование паттернами                          ║
   ╚══════════════════════════════════════════════════════════╝
         │
         │ Акт 4: КАТЕГОРИЗАЦИЯ
         ↓
   ╔══════════════════════════════════════════════════════════╗
   ║  ТЕОРИЯ МНОЖЕСТВ                                         ║
   ║  Минимальный язык для описания наборов объектов          ║
   ║  Мост между образами и коммуникацией                     ║
   ╚══════════════════════════════════════════════════════════╝
         │
         │ Акт 5: КОММУНИКАЦИЯ
         ↓
   ╔══════════════════════════════════════════════════════════╗
   ║  ЕСТЕСТВЕННЫЕ ЯЗЫКИ                                      ║
   ║  Символическое представление образов                     ║
   ║  Потеря точности при передаче                            ║
   ╚══════════════════════════════════════════════════════════╝
         │
         │ Акт 6: ПРОВЕРКА КОММУНИКАЦИИ
         ↓
   ╔══════════════════════════════════════════════════════════╗
   ║  ЛОГИКА / ДОКАЗАТЕЛЬСТВА                                 ║
   ║  Нужны из-за ненадёжности языка                          ║
   ║  Попытка восстановить исходную ясность образов           ║
   ╚══════════════════════════════════════════════════════════╝
         │
         │ Акт 7: ПРИМЕНЕНИЕ К МИРУ
         ↓
   ╔══════════════════════════════════════════════════════════╗
   ║  ФИЗИКА                                                  ║
   ║  Экспериментальная наука с высокой воспроизводимостью    ║
   ║  Математика = экспериментальная физика                   ║
   ╚══════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВЫЕ ФИЛОСОФСКИЕ ПОЛОЖЕНИЯ                                              │
├────┬────────────────────────────────────────────────────────────────────────┤
│ 1  │ Вселенная есть пустота, бесконечно переопределяющая границы            │
├────┼────────────────────────────────────────────────────────────────────────┤
│ 2  │ Существование объекта = возможность кому-то указать на этот объект     │
├────┼────────────────────────────────────────────────────────────────────────┤
│ 3  │ Мышление = указание, к каким множествам относятся объекты              │
├────┼────────────────────────────────────────────────────────────────────────┤
│ 4  │ Доказательство = явный путь по карте вложений множеств                 │
├────┼────────────────────────────────────────────────────────────────────────┤
│ 5  │ Логика и математика = экспериментальная физика с высокой воспроизв.    │
├────┼────────────────────────────────────────────────────────────────────────┤
│ 6  │ Понять = уметь визуально представить                                   │
├────┼────────────────────────────────────────────────────────────────────────┤
│ 7  │ "Объект" и "пространство" — не свойства вещи, а роли, определяемые     │
│    │ актом проведения границы наблюдателем (см. раздел ниже)                │
└────┴────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ПРИМЕЧАНИЕ О ФИЛОСОФИИ МАТЕМАТИКИ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Положение 2 ("Существование = возможность указать") ближе к КОНСТРУКТИВИЗМУ│
│ (Брауэр, Гейтинг), чем к классической математике.                           │
│                                                                             │
│ В КЛАССИЧЕСКОЙ МАТЕМАТИКЕ (ZFC) "существование" (∃) слабее:                │
│   • Достаточно доказать, что несуществование приводит к противоречию       │
│   • Не обязательно уметь "показать" объект явно                            │
│                                                                             │
│ ПРИМЕР: Доказательство существования иррационального a^b (√2^√2):          │
│   Либо √2^√2 рационально, либо (√2^√2)^√2 = 2 рационально.                 │
│   Значит, такая пара (a,b) СУЩЕСТВУЕТ, хотя мы не знаем какая!             │
│   Это классическое, но НЕконструктивное доказательство.                    │
│                                                                             │
│ В этом атласе используется классическая математика (ZFC),                   │
│ но философский взгляд остаётся интуитивно конструктивным —                 │
│ мы стремимся не просто доказать существование, а ПОКАЗАТЬ объект.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБЪЕКТ ИЛИ ПРОСТРАНСТВО? — ВОПРОС ТОЧКИ ЗРЕНИЯ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Философское положение 1 гласит:                                             │
│   "Вселенная есть пустота, бесконечно переопределяющая границы"             │
│                                                                             │
│ Отсюда следует глубокий вывод: ОДНА И ТА ЖЕ СУЩНОСТЬ может быть            │
│ и объектом, и пространством — в зависимости от того, ГДЕ мы проводим       │
│ границу наблюдения.                                                         │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР: БУБЛИК (ТОР)                                                        │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ БУБЛИК КАК ОБЪЕКТ:                                                          │
│   • Мы смотрим на него "снаружи"                                           │
│   • Он — элемент пространства всех поверхностей                            │
│   • Нас интересует он ЦЕЛИКОМ: его род, площадь, как вложен в ℝ³           │
│   • Граница проведена ВОКРУГ бублика                                        │
│                                                                             │
│         Пространство поверхностей                                           │
│        ┌─────────────────────────┐                                          │
│        │   ●        ●        ●   │                                          │
│        │ сфера    тор     двойной│   ← каждая поверхность = точка           │
│        │                   тор   │                                          │
│        └─────────────────────────┘                                          │
│                                                                             │
│ БУБЛИК КАК ПРОСТРАНСТВО:                                                    │
│   • Мы "живём" на нём                                                       │
│   • Нас интересуют ТОЧКИ на нём, пути между ними, функции на нём           │
│   • Муравей ползает по бублику — для муравья это пространство              │
│   • Граница проведена ВНУТРИ бублика (между его точками)                   │
│                                                                             │
│         Поверхность тора                                                    │
│        ╭───────────────╮                                                    │
│       ╱   ●p    ●q      ╲                                                   │
│      │     ╲   ╱         │   ← каждая точка = объект на этом пространстве   │
│       ╲     ╲ ╱ путь    ╱                                                   │
│        ╰───────────────╯                                                    │
│                                                                             │
│ ОБА ВЗГЛЯДА ВЕРНЫ! Бублик один, но акт выбора границы определяет роль.     │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ РЕКУРСИЯ: ПРОСТРАНСТВО СТАНОВИТСЯ ОБЪЕКТОМ                                  │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Уровень 0:  Точка p на торе T          ← p — объект                      │
│   Уровень 1:  Тор T                       ← T — пространство для p          │
│   Уровень 2:  Пространство модулей торов  ← T становится объектом!         │
│   Уровень 3:  Пространство всех модулей   ← предыдущее становится объектом │
│   ...                                                                       │
│                                                                             │
│ На каждом уровне то, что было пространством, становится объектом           │
│ в пространстве более высокого уровня. Граница поднимается.                 │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ АНАЛОГИЯ С ГОРОДОМ                                                          │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   ┌──────────────────┬───────────────────────────────────────────────────┐  │
│   │ ТОЧКА ЗРЕНИЯ     │ ГОРОД — ЭТО...                                    │  │
│   ├──────────────────┼───────────────────────────────────────────────────┤  │
│   │ Пилот самолёта   │ ОБЪЕКТ (точка на карте среди других городов)      │  │
│   │ Пешеход внутри   │ ПРОСТРАНСТВО (улицы, маршруты, точки назначения)  │  │
│   │ Архитектор       │ ОБЪЕКТ в пространстве градостроительных проектов  │  │
│   └──────────────────┴───────────────────────────────────────────────────┘  │
│                                                                             │
│ Один и тот же город! Но пилот оперирует множеством городов,                │
│ а пешеход — множеством точек внутри города.                                │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР ИЗ ФИЗИКИ: ЖИДКОСТЬ И ГАЗ                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Этот пример особенно важен, потому что показывает, как ОДИН И ТОТ ЖЕ       │
│ физический объект требует РАЗНЫХ математических описаний.                   │
│                                                                             │
│ ┌──────────────────┬────────────────────────────────────────────────────┐   │
│ │ ПОДХОД           │ ЖИДКОСТЬ/ГАЗ — ЭТО...                              │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Термодинамика    │ ОБЪЕКТ с параметрами (P, V, T, S)                  │   │
│ │                  │ "Чему равно давление газа в баллоне?"              │   │
│ │                  │ Внутренняя структура неважна — только состояние.   │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Гидродинамика    │ ПРОСТРАНСТВО с полями v(x,t), P(x,t), ρ(x,t)       │   │
│ │ (уравнения       │ "Как течёт жидкость вокруг крыла?"                 │   │
│ │ Навье-Стокса)    │ Каждая точка — место, где определены скорость,    │   │
│ │                  │ давление, плотность. Само течение = траектории.    │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Кинетическая     │ ПРОСТРАНСТВО МОЛЕКУЛ (фазовое пространство)        │   │
│ │ теория           │ Каждая молекула — объект с координатами (x, v).    │   │
│ │                  │ Газ = облако точек в 6N-мерном пространстве!       │   │
│ └──────────────────┴────────────────────────────────────────────────────┘   │
│                                                                             │
│ КЛЮЧЕВОЕ НАБЛЮДЕНИЕ:                                                        │
│                                                                             │
│   • В термодинамике: газ = точка в пространстве состояний (P,V,T)          │
│   • В гидродинамике: газ = само пространство, где живут поля               │
│   • В кинетике: газ = множество частиц, каждая из которых объект           │
│                                                                             │
│ Три РАЗНЫХ уровня описания — три разных ответа на вопрос                   │
│ "что здесь объект, а что пространство".                                    │
│                                                                             │
│ Уравнения Навье-Стокса, уравнение Больцмана, уравнение состояния —         │
│ это НЕ конкуренты, а описания на РАЗНЫХ уровнях иерархии!                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРАКТИЧЕСКИЙ КРИТЕРИЙ                                                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   ОБЪЕКТ — когда спрашиваем "КАКОЙ он?" (свойства целого)                  │
│   ПРОСТРАНСТВО — когда спрашиваем "ЧТО В НЁМ?" (структура внутри)          │
│                                                                             │
│   Это не свойство вещи, а свойство ВОПРОСА, который мы задаём.             │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СВЯЗЬ С СЕЧЕНИЯМИ ДЕДЕКИНДА (см. раздел 5.1)                                │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Там показано: "Иррациональное число — это не объект, а ГРАНИЦА между       │
│ объектами. √2 — это не конкретная дробь, а место разреза числовой прямой." │
│                                                                             │
│ Это та же идея! Граница (акт разрезания) создаёт новую сущность.           │
│ И эта сущность может быть объектом или пространством —                     │
│ в зависимости от того, на каком уровне мы работаем.                        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ КАТЕГОРНЫЙ ВЗГЛЯД (см. A12)                                                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Теория категорий делает эту двойственность явной и формальной:             │
│                                                                             │
│   • В категории Top тор T — ОБЪЕКТ                                         │
│   • Пространство функций C(T, ℝ) — новое пространство, где ФУНКЦИИ         │
│     становятся объектами                                                   │
│   • Функционалы на C(T, ℝ) — ещё более высокий уровень                     │
│                                                                             │
│ Категория = формализация того, "кто объект, а кто пространство"            │
│ на данном уровне абстракции.                                               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ФИЛОСОФСКИЙ ВЫВОД                                                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ "Объект" и "пространство" — не абсолютные свойства, а РОЛИ.                │
│ Роль определяется актом проведения границы наблюдателем.                   │
│                                                                             │
│ Это согласуется с положением 2: "Существование объекта = возможность       │
│ кому-то УКАЗАТЬ на этот объект." Чтобы указать, нужно выделить.            │
│ Чтобы выделить, нужно провести границу. Граница определяет уровень.        │
│                                                                             │
│ Математика изучает структуры на ВСЕХ уровнях одновременно —                │
│ и даёт язык для перехода между ними.                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
1.1  ТЕОРИЯ МНОЖЕСТВ — БАЗОВЫЕ ПОНЯТИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ТАКОЕ МНОЖЕСТВО                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МНОЖЕСТВО — это совокупность объектов, рассматриваемых как единое целое.    │
│                                                                             │
│ Объекты, входящие в множество, называются его ЭЛЕМЕНТАМИ.                   │
│                                                                             │
│ СПОСОБЫ ЗАДАНИЯ:                                                            │
│   • Перечисление: A = {1, 2, 3}                                             │
│   • Описание свойства: B = {x : x > 0} = "все положительные x"             │
│                                                                             │
│ ОСОБЫЕ МНОЖЕСТВА:                                                           │
│   ∅ = {} — ПУСТОЕ МНОЖЕСТВО (не содержит элементов)                        │
│   U — УНИВЕРСУМ (множество всех рассматриваемых объектов)                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВА ГЛАВНЫХ ОТНОШЕНИЯ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ x ∈ A     "x — ЭЛЕМЕНТ множества A"                                   │   │
│ │           x — это один объект, лежащий внутри A                       │   │
│ │                                                                       │   │
│ │           ╔═══════════════╗                                           │   │
│ │           ║       A       ║                                           │   │
│ │           ║    ●          ║  ← точка x внутри A                       │   │
│ │           ║    x          ║                                           │   │
│ │           ╚═══════════════╝                                           │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ B ⊆ A     "B — ПОДМНОЖЕСТВО A"                                        │   │
│ │           Каждый элемент B является элементом A                       │   │
│ │           (B целиком лежит внутри A)                                  │   │
│ │                                                                       │   │
│ │           ╔═══════════════════════╗                                   │   │
│ │           ║         A             ║                                   │   │
│ │           ║    ┌─────────┐        ║                                   │   │
│ │           ║    │    B    │        ║  ← B целиком внутри A             │   │
│ │           ║    └─────────┘        ║                                   │   │
│ │           ╚═══════════════════════╝                                   │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ВАЖНО НЕ ПУТАТЬ:                                                            │
│   • x ∈ A — x это ОБЪЕКТ внутри A                                          │
│   • B ⊆ A — B это МНОЖЕСТВО, все элементы которого в A                     │
│                                                                             │
│ ПРИМЕР:  A = {1, 2, 3}                                                      │
│   • 2 ∈ A — ДА (2 — элемент A)                                             │
│   • {2} ⊆ A — ДА ({2} — подмножество A)                                    │
│   • {2} ∈ A — НЕТ! ({2} не является элементом A, элементы — числа)         │
│   • 2 ⊆ A — НЕ ИМЕЕТ СМЫСЛА (2 — не множество)                             │
│                                                                             │
│ ПУСТОЕ МНОЖЕСТВО:                                                           │
│   • ∅ ⊆ A — ВСЕГДА ВЕРНО для любого A                                      │
│   • ∅ ∈ A — верно ТОЛЬКО если ∅ явно указано как элемент                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПЕРАЦИИ НАД МНОЖЕСТВАМИ                                                    │
├──────────────┬──────────────────────────┬───────────────────────────────────┤
│ ОПЕРАЦИЯ     │ ОПРЕДЕЛЕНИЕ              │ ДИАГРАММА ВЕННА                   │
├──────────────┼──────────────────────────┼───────────────────────────────────┤
│              │                          │                                   │
│ A ∪ B        │ {x : x ∈ A или x ∈ B}    │     .-"""-.   .-"""-.             │
│ ОБЪЕДИНЕНИЕ  │                          │    /███████\ /███████\            │
│              │ Все элементы, которые    │   |█████████████████████|         │
│              │ хотя бы в одном          │   |█████████████████████|         │
│              │                          │    \███████/ \███████/            │
│              │                          │     `-._.-"   `-._.-"             │
│              │                          │   ВСЁ закрашенное                 │
│              │                          │                                   │
├──────────────┼──────────────────────────┼───────────────────────────────────┤
│              │                          │                                   │
│ A ∩ B        │ {x : x ∈ A и x ∈ B}      │     .-"""-.   .-"""-.             │
│ ПЕРЕСЕЧЕНИЕ  │                          │    /       \ /       \            │
│              │ Все элементы, которые    │   |         █         |           │
│              │ в обоих множествах       │   |       █████       |           │
│              │                          │    \       █ /       /            │
│              │                          │     `-._.-" `-._.-"              │
│              │                          │   ТОЛЬКО пересечение              │
│              │                          │                                   │
├──────────────┼──────────────────────────┼───────────────────────────────────┤
│              │                          │                                   │
│ A \ B        │ {x : x ∈ A и x ∉ B}      │     .-"""-.   .-"""-.             │
│ РАЗНОСТЬ     │                          │    /███████\ /       \            │
│              │ Элементы A, которых      │   |█████████         |            │
│              │ нет в B                  │   |███████           |            │
│              │                          │    \███████/ \       /            │
│              │                          │     `-._.-"   `-._.-"             │
│              │                          │   A без пересечения               │
│              │                          │                                   │
├──────────────┼──────────────────────────┼───────────────────────────────────┤
│              │                          │  ╔═══════════════════════════╗    │
│ Aᶜ или A'   │ {x : x ∉ A}              │  ║█████████████████████████ ║    │
│ ДОПОЛНЕНИЕ   │                          │  ║██████ .-"""-. ██████████║    │
│              │ Все элементы универсума, │  ║█████/       \█████████ ║    │
│              │ не входящие в A          │  ║████|    A    |█████████║    │
│              │                          │  ║█████\       /██████████║    │
│              │ Aᶜ = U \ A               │  ║██████ `-._.-" ██████████║    │
│              │                          │  ╚═══════════════════════════╝    │
│              │                          │  ВСЁ КРОМЕ A                      │
│              │                          │                                   │
└──────────────┴──────────────────────────┴───────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАКОНЫ ТЕОРИИ МНОЖЕСТВ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КОММУТАТИВНОСТЬ:    A ∪ B = B ∪ A           A ∩ B = B ∩ A                  │
│ АССОЦИАТИВНОСТЬ:    (A∪B)∪C = A∪(B∪C)       (A∩B)∩C = A∩(B∩C)              │
│ ДИСТРИБУТИВНОСТЬ:   A∩(B∪C) = (A∩B)∪(A∩C)   A∪(B∩C) = (A∪B)∩(A∪C)          │
│                                                                             │
│ ЗАКОНЫ ДЕ МОРГАНА:                                                          │
│   (A ∪ B)ᶜ = Aᶜ ∩ Bᶜ    "не(A или B)" = "не A и не B"                      │
│   (A ∩ B)ᶜ = Aᶜ ∪ Bᶜ    "не(A и B)" = "не A или не B"                      │
│                                                                             │
│ СВОЙСТВА ПУСТОГО И УНИВЕРСУМА:                                              │
│   A ∪ ∅ = A             A ∩ ∅ = ∅                                          │
│   A ∪ U = U             A ∩ U = A                                          │
│   A ∪ Aᶜ = U            A ∩ Aᶜ = ∅                                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МОЩНОСТЬ МНОЖЕСТВА                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ |A| — количество элементов в конечном множестве A.                          │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   |∅| = 0                                                                   │
│   |{a, b, c}| = 3                                                           │
│   |{1, 2, {1,2}}| = 3  (три элемента: 1, 2, и множество {1,2})             │
│                                                                             │
│ ФОРМУЛА ВКЛЮЧЕНИЙ-ИСКЛЮЧЕНИЙ:                                               │
│   |A ∪ B| = |A| + |B| − |A ∩ B|                                             │
│                                                                             │
│ МОЩНОСТЬ МНОЖЕСТВА ПОДМНОЖЕСТВ:                                             │
│   Если |A| = n, то A имеет 2ⁿ подмножеств (включая ∅ и само A)             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДЕКАРТОВО ПРОИЗВЕДЕНИЕ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ A × B = {(a, b) : a ∈ A, b ∈ B}                                             │
│                                                                             │
│ Множество всех упорядоченных пар, где первый элемент из A, второй из B.     │
│                                                                             │
│ ПРИМЕР: {1, 2} × {a, b} = {(1,a), (1,b), (2,a), (2,b)}                      │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИ: Если A и B — отрезки на осях, то A × B — прямоугольник.      │
│                                                                             │
│   b ┤    ┌─────────┐                                                        │
│     │    │         │                                                        │
│   a ┤    │  A × B  │                                                        │
│     │    │         │                                                        │
│     └────┴─────────┴────                                                    │
│          1         2                                                        │
│                                                                             │
│ |A × B| = |A| · |B|                                                         │
│                                                                             │
│ ℝ × ℝ = ℝ² — плоскость                                                     │
│ ℝ × ℝ × ℝ = ℝ³ — трёхмерное пространство                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

1.2  АКСИОМАТИЧЕСКИЙ МЕТОД — ПРАВИЛА ИГРЫ В МАТЕМАТИКУ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ТАКОЕ АКСИОМА                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ АКСИОМА — это утверждение, которое принимается БЕЗ ДОКАЗАТЕЛЬСТВА.          │
│                                                                             │
│ Почему без доказательства? Потому что любое доказательство опирается на     │
│ какие-то предшествующие утверждения. Если требовать доказывать всё, получим │
│ бесконечную цепочку или замкнутый круг. Нужна точка опоры.                  │
│                                                                             │
│ АНАЛОГИЯ: Правила настольной игры                                           │
│                                                                             │
│   • Вы не "доказываете", что в шахматах конь ходит буквой Г                 │
│   • Это ПРАВИЛО ИГРЫ — мы его принимаем, чтобы играть                       │
│   • Аксиомы = правила математической игры                                   │
│   • Теоремы = всё, что можно вывести из правил                              │
│                                                                             │
│ ВАЖНО: Аксиомы не "истинны" и не "ложны" в абсолютном смысле.               │
│ Они — соглашения. Разные наборы аксиом дают разные математики.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖЕН АКСИОМАТИЧЕСКИЙ МЕТОД                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИСТОРИЯ: До конца XIX века математики работали "интуитивно".                │
│ Потом обнаружились парадоксы — логические противоречия.                     │
│                                                                             │
│ ПАРАДОКС РАССЕЛА (1901):                                                    │
│                                                                             │
│   Пусть R = {x : x ∉ x} — "множество всех множеств, не содержащих себя"    │
│                                                                             │
│   Вопрос: R ∈ R или R ∉ R?                                                 │
│                                                                             │
│   • Если R ∈ R, то по определению R должно быть R ∉ R. Противоречие!       │
│   • Если R ∉ R, то по определению R должно быть R ∈ R. Противоречие!       │
│                                                                             │
│ ВЫВОД: Нельзя просто так создавать "множество всего, что удовлетворяет      │
│ условию". Нужны ОГРАНИЧЕНИЯ — аксиомы, определяющие, какие множества        │
│ "легальны".                                                                 │
│                                                                             │
│ РЕШЕНИЕ: Система аксиом ZFC (Цермело-Френкель с аксиомой выбора)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
1.2.1  АКСИОМЫ ZFC — ФУНДАМЕНТ СОВРЕМЕННОЙ МАТЕМАТИКИ
═══════════════════════════════════════════════════════════════════════════════

ZFC = Zermelo-Fraenkel + Choice (Цермело-Френкель + Выбор)

Это система из ~9 аксиом, на которой построена почти ВСЯ современная
математика.

┌─────────────────────────────────────────────────────────────────────────────┐
│ НОТАЦИЯ (подробно — в разделе 2 "Логика")                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│   ∀x — "для всех x" (квантор всеобщности)                                   │
│   ∃x — "существует x" (квантор существования)                               │
│   →  — "следует", "влечёт"                                                  │
│   ↔  — "эквивалентно", "тогда и только тогда"                               │
│   ∧  — "и" (конъюнкция)                                                     │
│   ∨  — "или" (дизъюнкция)                                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АКСИОМЫ ZFC — СВОДНАЯ ТАБЛИЦА                                               │
├───────────────┬────────────────────────────┬────────────────────────────────┤
│ АКСИОМА       │ ФОРМУЛА                    │ ЧТО ДАЁТ                       │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 1. Объёмность │ (∀x: x∈A ↔ x∈B) → A=B      │ Множество = его элементы.      │
│ Extensionality│                            │ {1,2,3} = {3,1,2}              │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 2. Пустое мн. │ ∃∅: ∀x: x∉∅                │ "Ноль" теории множеств.        │
│ Empty Set     │                            │ Точка отсчёта для построений   │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 3. Пара       │ ∀a∀b ∃P: x∈P ↔ (x=a∨x=b)  │ Можно создать {a,b}.           │
│ Pairing       │                            │ Следствие: {a}={a,a}           │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 4. Объединение│ ∀A ∃U: x∈U ↔ ∃B(B∈A∧x∈B) │ Можно слить множества.         │
│ Union         │                            │ ∪{{1,2},{3}} = {1,2,3}         │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 5. Булеан     │ ∀A ∃P: B∈P ↔ B⊆A          │ Множество всех подмножеств.    │
│ Power Set     │                            │ 𝒫({1,2}) = {∅,{1},{2},{1,2}} │
│               │                            │ |𝒫(A)| = 2^|A|                │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 6. Бесконечн. │ ∃I: ∅∈I ∧ (x∈I → x∪{x}∈I)│ Бесконечные множества сущ-ют.  │
│ Infinity      │                            │ Минимальное такое I = ℕ        │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 7. Выделение  │ ∀A ∃B: x∈B ↔ (x∈A ∧ φ(x)) │ {x∈A: φ(x)} — легально.        │
│ Separation    │                            │ {x: φ(x)} — НЕлегально!        │
│               │                            │ (избегаем парадокса Рассела)   │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 8. Замена     │ Образ множества под        │ {f(a): a∈A} — множество.       │
│ Replacement   │ функцией — множество       │ Нужно для больших кардиналов   │
├───────────────┼────────────────────────────┼────────────────────────────────┤
│ 9. Регулярн.  │ A≠∅ → ∃x∈A: x∩A=∅         │ Нет x∈x, нет циклов ...∈b∈a   │
│ Foundation    │                            │ Всё строится "снизу" из ∅      │
└───────────────┴────────────────────────────┴────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ВАЖНАЯ ТОНКОСТЬ: СХЕМЫ АКСИОМ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Аксиомы 7 (Выделение) и 8 (Замена) — это НЕ одиночные аксиомы, а СХЕМЫ:    │
│ для каждой формулы φ(x) получается своя аксиома!                           │
│                                                                             │
│   • "Выделение с φ(x) = (x чётное)" — одна аксиома                         │
│   • "Выделение с φ(x) = (x простое)" — другая аксиома                      │
│   • ... и так далее для каждой возможной формулы                            │
│                                                                             │
│ Поэтому ZFC формально содержит БЕСКОНЕЧНО МНОГО аксиом.                    │
│ Это не проблема — мы всё равно можем проверить любое конкретное            │
│ доказательство за конечное время.                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ПАРАДОКС РАССЕЛА И КАК ZFC ЕГО РЕШАЕТ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПАРАДОКС: Пусть R = {x : x ∉ x}. Тогда R ∈ R ⟺ R ∉ R. Противоречие!       │
│                                                                             │
│ РЕШЕНИЕ В ZFC:                                                              │
│   Аксиома Выделения (Separation) запрещает строить {x : φ(x)}.             │
│   Можно только {x ∈ A : φ(x)} — подмножество УЖЕ СУЩЕСТВУЮЩЕГО A.          │
│                                                                             │
│   Чтобы построить R = {x : x ∉ x}, нужно сначала иметь множество A,        │
│   содержащее R. Но такого A не существует (по Регулярности x ∉ x всегда).  │
│                                                                             │
│ МОРАЛЬ: ZFC — это "свобода с ответственностью". Нельзя создавать           │
│ множества "из воздуха" — только из уже построенных.                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФИЛОСОФСКИЙ СМЫСЛ АКСИОМ                                                    │
├───────────────┬─────────────────────────────────────────────────────────────┤
│ АКСИОМА       │ ФИЛОСОФСКАЯ ИНТЕРПРЕТАЦИЯ                                   │
├───────────────┼─────────────────────────────────────────────────────────────┤
│ Пустое мн-во  │ Формализация "пустоты" — постулируем, что она существует   │
├───────────────┼─────────────────────────────────────────────────────────────┤
│ Бесконечность │ Бесконечность — не очевидность, а ВЫБОР играть в такую     │
│               │ математику. Можно строить математику без этой аксиомы      │
├───────────────┼─────────────────────────────────────────────────────────────┤
│ Выделение     │ Ограничение на "наивное" создание множеств — урок из       │
│               │ парадокса Рассела. Свобода с ответственностью              │
├───────────────┼─────────────────────────────────────────────────────────────┤
│ Регулярность  │ Всё строится иерархически из ∅. Нет "висящих в воздухе"    │
│               │ или самореферентных конструкций                            │
└───────────────┴─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ: КУМУЛЯТИВНАЯ ИЕРАРХИЯ — "БАШНЯ МНОЖЕСТВ"                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Аксиомы ZFC порождают ВСЮ математику из НИЧЕГО (пустого множества).        │
│ Это происходит уровень за уровнем — кумулятивная иерархия V_α.             │
│                                                                             │
│                                                                             │
│   V_ω+1  │ 𝒫(V_ω) — степень бесконечного множества                         │
│          │ Включает ℝ, все функции ℕ → ℕ, ...                              │
│          │ ЭТО УЖЕ НЕСЧЁТНО!                                                │
│    ───────┼──────────────────────────────────────────────────────────────   │
│          │                                                                  │
│   V_ω    │ V₀ ∪ V₁ ∪ V₂ ∪ ... — первый бесконечный уровень                │
│          │ Включает ℕ, все конечные множества, все конечные структуры      │
│    ───────┼──────────────────────────────────────────────────────────────   │
│    ⋮      │ ⋮                                                               │
│   V₃     │ 𝒫(V₂) = все подмножества V₂                                    │
│          │ |V₃| = 2^4 = 16 элементов                                       │
│    ───────┼──────────────────────────────────────────────────────────────   │
│   V₂     │ 𝒫(V₁) = {∅, {∅}}                                               │
│          │ 2 элемента — можно отождествить с {0, 1}                        │
│    ───────┼──────────────────────────────────────────────────────────────   │
│   V₁     │ 𝒫(V₀) = 𝒫(∅) = {∅}                                              │
│          │ 1 элемент — это "1" в конструкции натуральных чисел              │
│    ───────┼──────────────────────────────────────────────────────────────   │
│   V₀     │ ∅ — пустое множество, начало всего                              │
│          │ 0 элементов — это "0"                                            │
│    ═══════╧══════════════════════════════════════════════════════════════   │
│                                                                             │
│ РОСТ РАЗМЕРОВ:                                                              │
│                                                                             │
│   |V₀| = 0                                                                  │
│   |V₁| = 2⁰ = 1                                                            │
│   |V₂| = 2¹ = 2                                                            │
│   |V₃| = 2² = 4                                                            │
│   |V₄| = 2⁴ = 16                                                           │
│   |V₅| = 2¹⁶ = 65536                                                       │
│   |V₆| = 2^65536 ≈ 10^19728 — уже непредставимо!                           │
│   ...                                                                       │
│   |V_ω| = ℵ₀ (счётная бесконечность)                                       │
│   |V_{ω+1}| = 2^{ℵ₀} = |ℝ| (континуум)                                    │
│                                                                             │
│ МОРАЛЬ: Вся математика "вырастает" из ∅ применением одной операции 𝒫.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГДЕ ЖИВУТ ЗНАКОМЫЕ ОБЪЕКТЫ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ ОБЪЕКТ              │ ПЕРВЫЙ УРОВЕНЬ, ГДЕ ПОЯВЛЯЕТСЯ                  │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ ∅ = 0               │ V₀                                              │   │
│ │ 1 = {∅}             │ V₁                                              │   │
│ │ 2 = {∅, {∅}}        │ V₂                                              │   │
│ │ n (любое конечное)  │ V_n                                             │   │
│ │ ℕ (как множество)   │ V_ω                                             │   │
│ │ Функция f: ℕ → ℕ    │ V_{ω+1} (как подмножество ℕ×ℕ)                 │   │
│ │ ℝ (как мн-во Дедек.)│ V_{ω+1}                                         │   │
│ │ Функция f: ℝ → ℝ    │ V_{ω+2}                                         │   │
│ │ Пространство C[0,1] │ V_{ω+2}                                         │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
│ Почти вся "рабочая" математика живёт в V_{ω+ω} — относительно низко!       │
│ Большие кардиналы (недостижимые, измеримые, ...) требуют ОЧЕНЬ высоких V_α.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
1.2.2  АКСИОМА ВЫБОРА — ОСОБЫЙ СТАТУС
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ АКСИОМА ВЫБОРА (AC)                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛА: ∀𝒜: (∀A∈𝒜: A≠∅) → ∃f: ∀A∈𝒜: f(A)∈A                              │
│                                                                             │
│ СМЫСЛ: Для любого семейства непустых множеств СУЩЕСТВУЕТ функция,          │
│        выбирающая по одному элементу из каждого.                            │
│                                                                             │
│ ⚠️ Слово "одновременно" — психологическое, а не математическое!            │
│    Математически: существует ФУНКЦИЯ ВЫБОРА f.                              │
│    Никакого "процесса выбирания" нет — функция просто ЕСТЬ (или нет).      │
│                                                                             │
│        ┌───┐  ┌───┐  ┌───┐  ┌───┐                                          │
│        │ ● │  │ ▲ │  │ ■ │  │ ◆ │  ...  бесконечно много коробок           │
│        │ ○ │  │ △ │  │ □ │  │ ◇ │                                          │
│        └───┘  └───┘  └───┘  └───┘                                          │
│          ↓      ↓      ↓      ↓                                             │
│          ●      ▲      ■      ◆    ← функция выбора f СУЩЕСТВУЕТ            │
│                                                                             │
│ БЕЗ AC в некоторых моделях ZF: произведение непустых множеств ПУСТО!       │
│ Это не "мы не можем выбрать", а "выбора буквально не существует".          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ АКСИОМА ВЫБОРА НЕОЧЕВИДНА                                            │
├───────────────────────┬─────────────────────────────────────────────────────┤
│ СЛУЧАЙ                │ СИТУАЦИЯ                                            │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Конечное число коробок│ Очевидно — просто перебираем (AC НЕ НУЖНА!)        │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Счётное число         │ Достаточно АКСИОМЫ СЧЁТНОГО ВЫБОРА (ACω)           │
│                       │ — более слабой, чем полная AC                       │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Несчётное число       │ КАК выбрать? Алгоритма нет! AC утверждает, что      │
│                       │ функция СУЩЕСТВУЕТ, даже без явного построения      │
└───────────────────────┴─────────────────────────────────────────────────────┘
│ │ Аксиома выбора         │ Можно одновременно выбрать по элементу       │   │
│ │                        │ из каждого множества семейства               │   │
│ ├────────────────────────┼──────────────────────────────────────────────┤   │
│ │ Лемма Цорна            │ Если каждая цепь в част. упоряд. множестве   │   │
│ │                        │ имеет верхнюю грань, то есть максимальный эл.│   │
│ ├────────────────────────┼──────────────────────────────────────────────┤   │
│ │ Теорема о полном       │ Любое множество можно вполне упорядочить     │   │
│ │ упорядочении           │ (сравнить любые два элемента)                │   │
│ ├────────────────────────┼──────────────────────────────────────────────┤   │
│ │ Произведение непустых  │ Если каждое Aᵢ ≠ ∅, то ∏Aᵢ ≠ ∅              │   │
│ │ множеств непусто       │ (есть хотя бы один кортеж)                   │   │
│ └────────────────────────┴──────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО СЛЕДУЕТ ИЗ АКСИОМЫ ВЫБОРА                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ХОРОШИЕ СЛЕДСТВИЯ (нужны в математике):                                     │
│                                                                             │
│   • Любое векторное пространство имеет базис                                │
│   • Любой идеал содержится в максимальном идеале                            │
│   • Теорема Тихонова: произведение компактов компактно                      │
│   • Теорема Хана-Банаха: продолжение линейных функционалов                  │
│   • Любые два кардинала сравнимы: |A| ≤ |B| или |B| ≤ |A|                  │
│                                                                             │
│ ПАРАДОКСАЛЬНЫЕ СЛЕДСТВИЯ (странные, но не противоречивые):                  │
│                                                                             │
│   • Парадокс Банаха-Тарского:                                               │
│     Шар можно разрезать на 5 частей и собрать ДВА таких же шара!            │
│     (части — не "обычные" куски, а патологические множества точек)          │
│                                                                             │
│   • Существуют неизмеримые множества (по Лебегу, см. A16)                            │
│                                                                             │
│ СТАТУС:                                                                     │
│   Аксиома выбора НЕЗАВИСИМА от ZF — её нельзя ни доказать, ни опровергнуть. │
│   Можно работать с ней (ZFC) или без неё (ZF). Большинство математиков      │
│   принимают AC.                                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ "ВЫБОР" В ФИЛОСОФИИ vs "ВЫБОР" В АКСИОМЕ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В философском фундаменте (Акт 1) "выбор" = способность субъекта различать,  │
│ проводить границы, выделять объекты из пустоты. Это ОНТОЛОГИЧЕСКИЙ выбор.   │
│                                                                             │
│ В аксиоме выбора "выбор" = существование функции, сопоставляющей элемент    │
│ каждому множеству. Это ТЕХНИЧЕСКАЯ возможность.                             │
│                                                                             │
│ СВЯЗЬ:                                                                      │
│   Философский выбор — первичен (без него нет математики вообще).            │
│   Аксиома выбора — конкретное правило игры, которое можно принять или нет.  │
│                                                                             │
│ РАЗНИЦА:                                                                    │
│   Философский выбор: "Я МОГУ выделить объект"                               │
│   Аксиома выбора: "Для ЛЮБОГО (даже несчётного) семейства СУЩЕСТВУЕТ        │
│                    способ одновременного выбора"                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕЗЮМЕ: ЗАЧЕМ ВСЁ ЭТО НУЖНО                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Аксиомы ZFC — это НЕ "истины о мире".                                       │
│ Это ПРАВИЛА ИГРЫ, которые:                                                  │
│                                                                             │
│   1. Достаточно сильны, чтобы построить всю известную математику            │
│   2. Достаточно ограничены, чтобы избежать парадоксов                       │
│   3. (Насколько известно) непротиворечивы                                   │
│   4. НЕПОЛНЫ (теорема Гёделя, 1931): существуют истинные утверждения        │
│      о натуральных числах, недоказуемые в ZFC                               │
│                                                                             │
│ Неполнота — не баг, а фундаментальное свойство любой достаточно богатой     │
│ формальной системы. ZFC не может доказать свою непротиворечивость изнутри.  │
│                                                                             │
│ Когда далее мы пишем "существует множество X" или "выберем элемент из Y",   │
│ мы опираемся на эти аксиомы. Математика — это следствия этих правил.        │
│                                                                             │
│ Теперь, имея фундамент, можно строить числа.                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
ТЕОРЕМЫ ГЁДЕЛЯ — ГРАНИЦЫ ФОРМАЛЬНЫХ СИСТЕМ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНТЕКСТ: ЗАЧЕМ ЭТО В АТЛАСЕ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Теоремы Гёделя (1931) — это НЕ абстрактная логика. Это фундаментальные      │
│ результаты о том, ЧТО МОЖЕТ и ЧЕГО НЕ МОЖЕТ математика:                    │
│                                                                             │
│   • Почему некоторые задачи принципиально неразрешимы                       │
│   • Почему машина не может заменить математика полностью                    │
│   • Почему "истина" и "доказуемость" — разные вещи                         │
│   • Почему мы не можем быть уверены в непротиворечивости математики        │
│                                                                             │
│ Для инженера: если задача неразрешима — это не наша вина, а граница теории. │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПЕРВАЯ ТЕОРЕМА ГЁДЕЛЯ О НЕПОЛНОТЕ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛИРОВКА (упрощённая):                                                  │
│                                                                             │
│   В любой непротиворечивой формальной системе, достаточно богатой,          │
│   чтобы описать арифметику натуральных чисел, существует утверждение G,     │
│   которое:                                                                  │
│     • ИСТИННО (в стандартной интерпретации)                                 │
│     • НЕДОКАЗУЕМО в этой системе                                            │
│                                                                             │
│ ИНТУИЦИЯ — "ПАРАДОКС ЛЖЕЦА":                                                │
│                                                                             │
│   Рассмотрим предложение: "Это предложение ложно."                          │
│   Если оно истинно — значит оно ложно (противоречие).                       │
│   Если оно ложно — значит оно истинно (противоречие).                       │
│   Парадокс! Это предложение не имеет значения истинности.                   │
│                                                                             │
│   Гёдель построил МАТЕМАТИЧЕСКИЙ аналог:                                    │
│   "Это утверждение недоказуемо в системе S."                                │
│                                                                             │
│   Если оно доказуемо — мы доказали ложь (система противоречива).            │
│   Если система непротиворечива — оно недоказуемо.                           │
│   Но тогда оно ИСТИННО (ведь оно говорит о своей недоказуемости)!           │
│                                                                             │
│ КАК ЭТО РАБОТАЕТ (идея доказательства):                                     │
│                                                                             │
│   1. Гёдель закодировал ФОРМУЛЫ как ЧИСЛА (гёделева нумерация)              │
│      Каждому символу — число, формуле — произведение степеней простых       │
│                                                                             │
│   2. Доказательства тоже стали числами                                       │
│      "x — доказательство формулы y" — это арифметическое соотношение!       │
│                                                                             │
│   3. Построил формулу G, говорящую о СЕБЕ:                                  │
│      G = "Не существует числа, кодирующего доказательство формулы G"        │
│                                                                             │
│ СЛЕДСТВИЕ: ZFC (и любая "разумная" система) НЕПОЛНА.                        │
│   Существуют истинные утверждения о числах, которые ZFC не докажет.         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВТОРАЯ ТЕОРЕМА ГЁДЕЛЯ О НЕПОЛНОТЕ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛИРОВКА:                                                               │
│                                                                             │
│   Непротиворечивая система, достаточно богатая для арифметики,              │
│   НЕ МОЖЕТ ДОКАЗАТЬ СВОЮ СОБСТВЕННУЮ НЕПРОТИВОРЕЧИВОСТЬ.                    │
│                                                                             │
│ ИНТУИЦИЯ:                                                                   │
│                                                                             │
│   Утверждение Con(S) = "Система S непротиворечива" можно записать           │
│   как арифметическую формулу (через гёделеву нумерацию).                    │
│                                                                             │
│   Гёдель показал: Con(S) → G                                                │
│   (Если S непротиворечива, то G истинно)                                    │
│                                                                             │
│   Если бы S доказывала Con(S), она доказала бы G.                           │
│   Но G недоказуема (по первой теореме).                                     │
│   Значит, Con(S) тоже недоказуема в S.                                      │
│                                                                             │
│ ФИЛОСОФСКИЙ СМЫСЛ:                                                          │
│                                                                             │
│   Математика НЕ МОЖЕТ гарантировать свою собственную надёжность.            │
│   Мы не можем ДОКАЗАТЬ, что ZFC не приведёт к противоречию.                 │
│   Мы просто ВЕРИМ в это (и пока противоречий не нашли за 100 лет).         │
│                                                                             │
│   Это похоже на bootstrapping: нельзя проверить компилятор самим собой.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ЭТО ОЗНАЧАЕТ НА ПРАКТИКЕ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────┬───────────────────────────────────┐ │
│ │ НЕПОЛНОТА НЕ ОЗНАЧАЕТ              │ НЕПОЛНОТА ОЗНАЧАЕТ                │ │
│ ├─────────────────────────────────────┼───────────────────────────────────┤ │
│ │ "Математика бесполезна"             │ Есть принципиальные границы       │ │
│ │ "Ничего нельзя доказать"            │ Некоторые вопросы неразрешимы     │ │
│ │ "Компьютеры не могут доказывать"    │ Полная автоматизация невозможна   │ │
│ │ "Нужно отказаться от формализма"   │ Интуиция остаётся важной          │ │
│ └─────────────────────────────────────┴───────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕРЫ НЕРАЗРЕШИМЫХ УТВЕРЖДЕНИЙ:                                           │
│                                                                             │
│   • Континуум-гипотеза: |ℝ| = ℵ₁?  — независима от ZFC                     │
│   • Аксиома выбора — независима от ZF                                       │
│   • Некоторые комбинаторные утверждения (Пэрис-Харрингтон)                  │
│                                                                             │
│ ДЛЯ ИНЖЕНЕРА:                                                               │
│                                                                             │
│   99.9% практических задач НЕ затронуты неполнотой.                         │
│   Теоремы Гёделя важны для понимания ГРАНИЦ, а не для ежедневной работы.   │
│   Если алгоритм не находит решение — возможно, задача неразрешима,         │
│   но обычно нужно просто искать лучше.                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ АТЛАСА                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   • Континуум-гипотеза (раздел 1.4): Пример независимого утверждения        │
│   • Машина Тьюринга (B1): Проблема останова — другое проявление границ     │
│   • Аксиома выбора (1.2.2): Независима от ZF, принимаем как аксиому        │
│                                                                             │
│ ЕДИНАЯ ИДЕЯ: Существуют вопросы, на которые формальная система              │
│ не может ответить. Это не слабость — это теорема.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
2. ЛОГИКА И ДОКАЗАТЕЛЬСТВА
═══════════════════════════════════════════════════════════════════════════════

Логические законы есть формализация самоочевидных экспериментальных результатов 
манипуляций со множествами, полученных из наблюдений за поведением физических 
объектов реальности. Впрочем, эти результаты не обязаны воспроизводиться всегда.

───────────────────────────────────────────────────────────────────────────────
2.1  ВЫСКАЗЫВАНИЯ И МНОЖЕСТВА
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФИЛОСОФСКИЙ ФУНДАМЕНТ: МЫШЛЕНИЕ = КЛАССИФИКАЦИЯ ПО МНОЖЕСТВАМ               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   В конечном итоге все наши мысли сводятся к указанию того,                 │
│   к каким множествам относятся мыслимые объекты.                            │
│                                                                             │
│ Когда мы думаем "этот стол деревянный", мы помещаем объект (стол)           │
│ в множество (деревянные вещи). Когда думаем "5 — простое число",            │
│ помещаем 5 в множество простых чисел.                                       │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СТРУКТУРА ЛЮБОГО ВЫСКАЗЫВАНИЯ                                               │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Любое высказывание можно разложить на две части:                            │
│                                                                             │
│   • x — ОБЪЕКТ, о котором идёт речь                                         │
│   • P — МНОЖЕСТВО (свойство), к которому объект относится или нет           │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   ВЫСКАЗЫВАНИЕ  =  "объект x обладает свойством P"  =  x ∈ P            │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕРЫ РАЗЛОЖЕНИЯ:                                                         │
│                                                                             │
│   "Сократ смертен"                                                          │
│       x = Сократ                                                            │
│       P = {все смертные существа}                                           │
│       Высказывание: Сократ ∈ P                                              │
│                                                                             │
│   "7 — нечётное число"                                                      │
│       x = 7                                                                 │
│       P = {нечётные числа} = {1, 3, 5, 7, 9, ...}                          │
│       Высказывание: 7 ∈ P  (истинно)                                       │
│                                                                             │
│   "Эта жидкость — кислота"                                                  │
│       x = эта жидкость                                                      │
│       P = {кислоты}                                                         │
│       Высказывание: x ∈ P  (требует проверки)                              │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   Вся логика — это правила работы с принадлежностью объектов множествам.    │
│   "P и Q" = x принадлежит И множеству P, И множеству Q = x ∈ (P ∩ Q)       │
│   "P или Q" = x принадлежит хотя бы одному = x ∈ (P ∪ Q)                   │
│   "не P" = x НЕ принадлежит P = x ∈ Pᶜ (дополнение)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ТАКОЕ ЛОГИКА И ЗАЧЕМ ОНА НУЖНА                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Логика — это НОРМАТИВНАЯ дисциплина: она предписывает, как человеку СЛЕДУЕТ │
│ думать, но не описывает, как он думает на самом деле.                       │
│                                                                             │
│ ЦЕЛИ ЛОГИКИ:                                                                │
│   • Уметь ДОКАЗЫВАТЬ новые утверждения на основе уже известных              │
│   • Обеспечить средства для ОЦЕНКИ аргументов на корректность               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ БАЗОВЫЕ ПОНЯТИЯ                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ВЫСКАЗЫВАНИЕ — утверждение, которое можно проверить на истинность/ложность. │
│   Примеры:                                                                  │
│     ✓ "2 + 2 = 4" — высказывание (истинное)                                 │
│     ✓ "Москва — столица Франции" — высказывание (ложное)                    │
│     ✗ "Который час?" — НЕ высказывание (вопрос)                             │
│     ✗ "x > 5" — НЕ высказывание, пока x не определён (предикат)             │
│                                                                             │
│ ФОРМУЛА — высказывание, составленное из других высказываний через           │
│ логические связки (∧, ∨, ¬, →, ↔) или кванторы (∀, ∃).                     │
│                                                                             │
│ ТАВТОЛОГИЯ — формула, истинная при ЛЮБЫХ значениях составляющих.            │
│   Пример: P ∨ ¬P (закон исключённого третьего) — всегда истинно.            │
│   Тавтологии используются для построения МЕТОДОВ ДОКАЗАТЕЛЬСТВА.            │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ДВА УРОВНЯ ЛОГИКИ                                                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ПРОПОЗИЦИОНАЛЬНАЯ (логика высказываний, логика нулевого порядка):           │
│   • Работает с готовыми высказываниями P, Q, R, ...                         │
│   • Связки: ∧, ∨, ¬, →, ↔                                                  │
│   • Можно проверить таблицей истинности (механически!)                      │
│                                                                             │
│ ПРЕДИКАТНАЯ (логика первого порядка):                                       │
│   • Добавляет переменные, предикаты и кванторы ∀, ∃                        │
│   • Позволяет говорить о свойствах ОБЪЕКТОВ и отношениях между ними         │
│   • Нужна для математики (утверждения типа "для всех n...")                 │
│                                                                             │
│   ПЕРЕМЕННЫЕ — представляют элементы некоторого множества.                  │
│   ПРЕДИКАТЫ — функции, возвращающие истину/ложь для объектов.               │
│     Пример: P(x) = "x чётное", Q(x,y) = "x < y"                            │
│   КВАНТОРЫ — позволяют делать утверждения о множествах объектов.            │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ДВА СПОСОБА ПРОВЕРКИ ЛОГИЧЕСКОГО СЛЕДОВАНИЯ                                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ СПОСОБ 1: Таблица истинности (механический, для пропозициональной логики)   │
│   • Выписать все комбинации значений переменных                             │
│   • Вычислить значения посылок и заключения                                 │
│   • Проверить: если посылки = 1, то заключение = 1?                         │
│   • Подробнее — см. раздел 2.2                                            │
│                                                                             │
│ СПОСОБ 2: Готовые методы (тавтологии с известной структурой)                │
│   • Modus Ponens, Modus Tollens, от противного и др.                        │
│   • Не требуют таблиц — используют уже доказанные тавтологии                │
│   • Подробнее — см. раздел 2.3 (Методы доказательств)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│ ФУНДАМЕНТАЛЬНЫЙ ПРИНЦИП:                                                    │
│                                                                             │
│   Теория множеств первична по отношению к логике!                          │
│                                                                             │
│   • ТЕОРИЯ МНОЖЕСТВ = правила операций над объектами любой природы         │
│   • ЛОГИКА = правила операций над высказываниями любого языка              │
│                                                                             │
│   Логика — это НАДСТРОЙКА над теорией множеств.                            │
│   Сначала мыслим принадлежностями к множествам,                            │
│   и только потом даём определения логическим операциям.                    │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────┬─────────────────────────┬──────────────────────────────────┐
│ ЛОГИЧЕСКАЯ   │  ОПРЕДЕЛЕНИЕ ЧЕРЕЗ      │  ДИАГРАММА ВЕННА                 │
│ ОПЕРАЦИЯ     │  ТЕОРИЮ МНОЖЕСТВ        │  (заштриховано = результат)      │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ P ∧ Q        │ x ∈ (P ∩ Q)             │       .-"""-.   .-"""-.          │
│ "P и Q"      │ x принадлежит           │      /   P   \ /   Q   \         │
│              │ пересечению             │     |         █         |        │
│              │                         │     |       █████       |        │
│              │                         │      \       █ /       /         │
│              │                         │       `-._.-" `-._.-"            │
│              │                         │          ↑                       │
│              │                         │     ТОЛЬКО ЭТО (пересечение)     │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ P ∨ Q        │ x ∈ (P ∪ Q)             │       .-"""-.   .-"""-.          │
│ "P или Q"    │ x принадлежит           │      /███████\ /███████\         │
│              │ объединению             │     |█████████████████████|      │
│              │                         │     |█████████████████████|      │
│              │                         │      \███████/ \███████/         │
│              │                         │       `-._.-"   `-._.-"          │
│              │                         │          ↑                       │
│              │                         │     ВСЁ ЗАКРАШЕННОЕ (оба круга)  │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │  ╔═══════════════════════════╗   │
│ ¬P           │ x ∈ Pᶜ                  │  ║█████████████████████████ ║   │
│ "не P"       │ x принадлежит           │  ║██████ .-"""-. ██████████║   │
│              │ дополнению              │  ║█████/       \█████████ ║   │
│              │                         │  ║████|    P    |█████████║   │
│              │                         │  ║█████\       /██████████║   │
│              │                         │  ║██████ `-._.-" ██████████║   │
│              │                         │  ║█████████████████████████ ║   │
│              │                         │  ╚═══════════════════════════╝   │
│              │                         │     ↑ ВСЁ КРОМЕ P                │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ P ⇒ Q        │ P ⊆ Q                   │       .------""""""------.       │
│ "если P,     │ Множество P вложено     │      /          Q         \      │
│  то Q"       │ в множество Q           │     |    .---.             |     │
│              │                         │     |   |  P  |            |     │
│              │ (каждый x из P          │     |    `---"             |     │
│              │  обязательно в Q)       │      \                    /      │
│              │                         │       `------......------"       │
│              │ Эквивалентно: ¬P ∨ Q    │     P целиком внутри Q           │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ P ⇔ Q        │ P = Q                   │         .-------.               │
│ "P тогда и   │ Множества совпадают     │        /         \              │
│ только тогда,│                         │       |   P = Q   |             │
│ когда Q"     │ (P ⊆ Q) ∧ (Q ⊆ P)       │        \         /              │
│              │                         │         `-------"               │
│              │                         │     Один и тот же круг!          │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ ⊤            │ U (универсум)           │  ╔═══════════════════════════╗   │
│ "истина"     │                         │  ║█████████████████████████ ║   │
│              │ x ∈ U  для любого x     │  ║█████████████████████████ ║   │
│              │                         │  ║█████████ U █████████████║   │
│              │                         │  ║█████████████████████████ ║   │
│              │                         │  ╚═══════════════════════════╝   │
│              │                         │     ВСЁ пространство             │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ ⊥            │ ∅ (пустое множество)    │      { }                         │
│ "ложь"       │                         │      (ничего нет)                │
│              │ x ∈ ∅ никогда           │                                  │
│              │                         │                                  │
└──────────────┴─────────────────────────┴──────────────────────────────────┘

КВАНТОРЫ (для предикатной логики):

┌──────────────┬─────────────────────────┬──────────────────────────────────┐
│ КВАНТОР      │  ОПРЕДЕЛЕНИЕ            │  ВИЗУАЛИЗАЦИЯ                    │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ ∀x ∈ A: P(x) │ P(x) истинно для всех x │  ╔═══════════╗                  │
│              │ из множества A          │  ║ · · · · · ║ ← каждая точка   │
│ "для всех x  │                         │  ║ · · · · · ║   в A имеет      │
│  из A верно  │ Эквивалентно: A ⊆ P     │  ║ · · · · · ║   свойство P     │
│  P(x)"       │ (A вложено в множество  │  ╚═══════════╝                  │
│              │  точек со свойством P)  │       A ⊆ P                      │
│              │                         │                                  │
├──────────────┼─────────────────────────┼──────────────────────────────────┤
│              │                         │                                  │
│ ∃x ∈ A: P(x) │ P(x) истинно хотя бы    │  ╔═══════════╗                  │
│              │ для одного x из A       │  ║           ║                  │
│ "существует  │                         │  ║     ●     ║ ← хотя бы одна   │
│  x из A      │ Эквивалентно: A ∩ P ≠ ∅ │  ║           ║   точка с P      │
│  со свойством│ (пересечение A и        │  ╚═══════════╝                  │
│  P"          │  множества точек с P    │      A ∩ P ≠ ∅                   │
│              │  непусто)               │                                  │
│              │                         │                                  │
└──────────────┴─────────────────────────┴──────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СООТВЕТСТВИЕ: ЛОГИКА ↔ ТЕОРИЯ МНОЖЕСТВ                                      │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ЛОГИКА                    │ ТЕОРИЯ МНОЖЕСТВ                                 │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Высказывание P            │ Множество {x : P(x) истинно}                    │
│ Логический вывод P ⊢ Q    │ Вложение множеств: P ⊆ Q                        │
│ Тавтология                │ Универсальное множество                         │
│ Противоречие              │ Пустое множество ∅                              │
└───────────────────────────┴─────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЧНЫЙ МЕТОД ДЛЯ ЛОГИКИ ВЫСКАЗЫВАНИЙ (нулевого порядка)                  │
│                                                                             │
│ Позволяет МЕХАНИЧЕСКИ проверить любую формулу без творчества               │
│ Работает ТОЛЬКО для конечного числа переменных, без кванторов ∀, ∃         │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА ИСТИННОСТИ ЛОГИЧЕСКИХ ОПЕРАЦИЙ                                      │
├─────┬─────┬───────┬───────┬───────┬─────────┬───────────────────────────────┤
│  P  │  Q  │ P ∧ Q │ P ∨ Q │  ¬P   │  P → Q  │  P ↔ Q                        │
├─────┼─────┼───────┼───────┼───────┼─────────┼───────────────────────────────┤
│  0  │  0  │   0   │   0   │   1   │    1    │    1                          │
│  0  │  1  │   0   │   1   │   1   │    1    │    0                          │
│  1  │  0  │   0   │   1   │   0   │    0    │    0                          │
│  1  │  1  │   1   │   1   │   0   │    1    │    1                          │
└─────┴─────┴───────┴───────┴───────┴─────────┴───────────────────────────────┘

2.2  АЛГОРИТМ КЛАССИФИКАЦИИ ФОРМУЛ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАДАЧА: Определить тип формулы F                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│ Вход:  формула F с переменными P₁, P₂, ..., Pₙ                             │
│ Выход: тавтология / противоречие / выполнимая                               │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АЛГОРИТМ ТАБЛИЧНОЙ ПРОВЕРКИ                                                 │
├──────────┬──────────────────────────────────────────────────────────────────┤
│ ШАГ      │ ДЕЙСТВИЕ                                                         │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 1        │ Выписать переменные: P₁, P₂, ..., Pₙ                            │
│ 2        │ Построить таблицу с 2ⁿ строками                                  │
│ 3        │ Вычислить F для каждой строки                                    │
│ 4        │ Классифицировать результат                                       │
└──────────┴──────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССИФИКАЦИЯ                                                               │
├─────────────────────────┬───────────────────────────────────────────────────┤
│ РЕЗУЛЬТАТ               │ ТИП ФОРМУЛЫ                                       │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Все строки = 1          │ Тавтология                                        │
│ Все строки = 0          │ Противоречие                                      │
│ Смешанные               │ Выполнимая                                        │
└─────────────────────────┴───────────────────────────────────────────────────┘

ПРИМЕР 1.1: Проверить (P → Q) ↔ (¬P ∨ Q)

  ┌─────┬─────┬───────┬──────┬────────┬─────────────────────┐
  │  P  │  Q  │ P → Q │  ¬P  │ ¬P ∨ Q │ (P→Q) ↔ (¬P ∨ Q)    │
  ├─────┼─────┼───────┼──────┼────────┼─────────────────────┤
  │  0  │  0  │   1   │   1  │    1   │          1          │
  │  0  │  1  │   1   │   1  │    1   │          1          │
  │  1  │  0  │   0   │   0  │    0   │          1          │
  │  1  │  1  │   1   │   0  │    1   │          1          │
  └─────┴─────┴───────┴──────┴────────┴─────────────────────┘
  
  Все строки = 1  →  ТАВТОЛОГИЯ

ПРИМЕР 1.2: Проверить P ∧ ¬P

  ┌─────┬──────┬─────────┐
  │  P  │  ¬P  │ P ∧ ¬P  │
  ├─────┼──────┼─────────┤
  │  0  │   1  │    0    │
  │  1  │   0  │    0    │
  └─────┴──────┴─────────┘
  
  Все строки = 0  →  ПРОТИВОРЕЧИЕ

ПРИМЕР 1.3: Проверить закон де Моргана ¬(P ∧ Q) ↔ (¬P ∨ ¬Q)

  ┌─────┬─────┬───────┬──────────┬──────┬──────┬───────────┬───────┐
  │  P  │  Q  │ P ∧ Q │ ¬(P ∧ Q) │  ¬P  │  ¬Q  │ ¬P ∨ ¬Q   │   ↔   │
  ├─────┼─────┼───────┼──────────┼──────┼──────┼───────────┼───────┤
  │  0  │  0  │   0   │     1    │   1  │   1  │     1     │   1   │
  │  0  │  1  │   0   │     1    │   1  │   0  │     1     │   1   │
  │  1  │  0  │   0   │     1    │   0  │   1  │     1     │   1   │
  │  1  │  1  │   1   │     0    │   0  │   0  │     0     │   1   │
  └─────┴─────┴───────┴──────────┴──────┴──────┴───────────┴───────┘
  
  Все строки = 1  →  ТАВТОЛОГИЯ

───────────────────────────────────────────────────────────────────────────────
ЗАДАЧА 2: ПРОВЕРКА СЛЕДОВАНИЯ
───────────────────────────────────────────────────────────────────────────────

Задача: определить, следует ли B из посылок A₁, A₂, ..., Aₖ

Запись: A₁, A₂, ..., Aₖ ⊢ B

КЛЮЧЕВОЕ: запятая между посылками означает ∧ (логическое И).

  A₁, A₂, ..., Aₖ ⊢ B   означает   (A₁ ∧ A₂ ∧ ... ∧ Aₖ) → B

АЛГОРИТМ:

  Шаг 1.  Выписать все переменные из всех формул A₁, ..., Aₖ, B
  Шаг 2.  Построить таблицу с 2ⁿ строками
  Шаг 3.  Для каждой строки вычислить A₁, A₂, ..., Aₖ, их конъюнкцию, и B
  Шаг 4.  Искать КОНТРПРИМЕР: строку, где (A₁ ∧ ... ∧ Aₖ) = 1, но B = 0
  
          • Контрпример найден     →  следование НЕВЕРНО
          • Контрпримера нет       →  следование ВЕРНО

ПРИМЕР 2.1: Проверить modus ponens  (P → Q) ∧ P ⊢ Q

  Обозначим: A₁ = (P → Q),  A₂ = P,  B = Q

  ┌─────┬─────┬─────┬─────┬─────────┬─────┬────────────────────┐
  │  P  │  Q  │ A₁  │ A₂  │ A₁ ∧ A₂ │  B  │ Проверка           │
  ├─────┼─────┼─────┼─────┼─────────┼─────┼────────────────────┤
  │  0  │  0  │  1  │  0  │    0    │  0  │ A₁∧A₂=0            │
  │  0  │  1  │  1  │  0  │    0    │  1  │ A₁∧A₂=0            │
  │  1  │  0  │  0  │  1  │    0    │  0  │ A₁∧A₂=0            │
  │  1  │  1  │  1  │  1  │    1    │  1  │ A₁∧A₂=1, B=1 ✓     │
  └─────┴─────┴─────┴─────┴─────────┴─────┴────────────────────┘
  
  Единственная строка где A₁∧A₂=1: P=1, Q=1.
  В ней B=1. Контрпримера нет  →  следование ВЕРНО.

ПРИМЕР 2.2: Проверить modus tollens  (P → Q) ∧ ¬Q ⊢ ¬P

  Обозначим: A₁ = (P → Q),  A₂ = ¬Q,  B = ¬P

  ┌─────┬─────┬─────┬─────┬─────────┬─────┬────────────────────┐
  │  P  │  Q  │ A₁  │ A₂  │ A₁ ∧ A₂ │  B  │ Проверка           │
  ├─────┼─────┼─────┼─────┼─────────┼─────┼────────────────────┤
  │  0  │  0  │  1  │  1  │    1    │  1  │ A₁∧A₂=1, B=1 ✓     │
  │  0  │  1  │  1  │  0  │    0    │  1  │ A₁∧A₂=0            │
  │  1  │  0  │  0  │  1  │    0    │  0  │ A₁∧A₂=0            │
  │  1  │  1  │  1  │  0  │    0    │  0  │ A₁∧A₂=0            │
  └─────┴─────┴─────┴─────┴─────────┴─────┴────────────────────┘
  
  Единственная строка где A₁∧A₂=1: P=0, Q=0.
  В ней B=1. Контрпримера нет  →  следование ВЕРНО.

ПРИМЕР 2.3: Проверить НЕВЕРНОЕ следование  (P → Q) ∧ Q ⊢ P

  Обозначим: A₁ = (P → Q),  A₂ = Q,  B = P

  ┌─────┬─────┬─────┬─────┬─────────┬─────┬────────────────────┐
  │  P  │  Q  │ A₁  │ A₂  │ A₁ ∧ A₂ │  B  │ Проверка           │
  ├─────┼─────┼─────┼─────┼─────────┼─────┼────────────────────┤
  │  0  │  0  │  1  │  0  │    0    │  0  │ A₁∧A₂=0            │
  │  0  │  1  │  1  │  1  │    1    │  0  │ A₁∧A₂=1, B=0 ✗     │
  │  1  │  0  │  0  │  0  │    0    │  1  │ A₁∧A₂=0            │
  │  1  │  1  │  1  │  1  │    1    │  1  │ A₁∧A₂=1, B=1 ✓     │
  └─────┴─────┴─────┴─────┴─────────┴─────┴────────────────────┘
  
  Строка P=0, Q=1: A₁∧A₂=1, но B=0.
  Контрпример найден  →  следование НЕВЕРНО.
  (Это ошибка "утверждение консеквента")

───────────────────────────────────────────────────────────────────────────────
ОГРАНИЧЕНИЯ МЕТОДА
───────────────────────────────────────────────────────────────────────────────

  ┌────────────────────────────────────────────────────────────────────────┐
  │  • Работает ТОЛЬКО для логики высказываний (нулевого порядка)         │
  │  • НЕ работает для логики предикатов (с ∀, ∃)                          │
  │  • При n переменных требует 2ⁿ строк (экспоненциальный рост)          │
  │  • Для n = 10 уже 1024 строки, для n = 20 — больше миллиона           │
  └────────────────────────────────────────────────────────────────────────┘

СВЯЗЬ С ТЕОРИЕЙ МНОЖЕСТВ:

  Таблица истинности — перебор всех точек пространства {0,1}ⁿ.
  Формула задаёт подмножество (где она истинна).
  
  Тавтология = всё пространство.
  Противоречие = пустое множество.
  Следование (A₁ ∧ ... ∧ Aₖ) ⊢ B верно ⟺ множество (A₁ ∧ ... ∧ Aₖ) ⊆ множество B.


═══════════════════════════════════════════════════════════════════════════════
2.3  МЕТОДЫ ДОКАЗАТЕЛЬСТВ — С КОНКРЕТНЫМИ ПРИМЕРАМИ ЗАДАЧ
═══════════════════════════════════════════════════════════════════════════════
┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ЗНАЧИТ "ДОКАЗАТЬ" В МАТЕМАТИКЕ?                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИТИВНО:                                                                 │
│   Доказать = убедить ЛЮБОГО разумного человека, следуя правилам,            │
│   которые он заранее принял.                                                │
│                                                                             │
│ ФОРМАЛЬНО:                                                                  │
│   Доказательство — это КОНЕЧНАЯ цепочка утверждений, где каждое:            │
│   • либо АКСИОМА (принятое без доказательства)                              │
│   • либо СЛЕДУЕТ из предыдущих по правилам логики                           │
│   Последнее утверждение = то, что доказываем.                               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ЧЕГО ДОКАЗАТЕЛЬСТВО НЕ ДЕЛАЕТ:                                              │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   ✗ НЕ объясняет "почему это правда" (это делает интуиция)                  │
│   ✗ НЕ показывает, как это открыли (это история)                            │
│   ✗ НЕ гарантирует понимание (можно проверить доказательство, не понимая)   │
│                                                                             │
│   Доказательство — это ВЕРИФИКАЦИЯ, а не объяснение.                        │
│   Хорошее доказательство объясняет, плохое — только убеждает.               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТИПЫ УТВЕРЖДЕНИЙ И ЧТО НУЖНО ДЛЯ ДОКАЗАТЕЛЬСТВА                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ┌─────────────────────┬──────────────────────┬────────────────────────────┐ │
│ │ УТВЕРЖДЕНИЕ         │ КАК ДОКАЗАТЬ         │ КАК ОПРОВЕРГНУТЬ           │ │
│ ├─────────────────────┼──────────────────────┼────────────────────────────┤ │
│ │ ∀x: P(x)            │ Доказать для         │ ОДИН контрпример           │ │
│ │ "для всех"          │ ПРОИЗВОЛЬНОГО x      │                            │ │
│ ├─────────────────────┼──────────────────────┼────────────────────────────┤ │
│ │ ∃x: P(x)            │ ОДИН пример          │ Доказать для ВСЕХ,         │ │
│ │ "существует"        │                      │ что P(x) ложно             │ │
│ ├─────────────────────┼──────────────────────┼────────────────────────────┤ │
│ │ ∀x∃y: P(x,y)        │ Для произвольного x  │ Найти x, для которого      │ │
│ │ "для всех           │ предъявить такой y   │ нет подходящего y          │ │
│ │  существует"        │                      │                            │ │
│ ├─────────────────────┼──────────────────────┼────────────────────────────┤ │
│ │ ∃x∀y: P(x,y)        │ Предъявить x,        │ Для любого x найти y,      │ │
│ │ "существует         │ работающий для       │ нарушающий P               │ │
│ │  для всех"          │ всех y               │                            │ │
│ └─────────────────────┴──────────────────────┴────────────────────────────┘ │
│                                                                             │
│ ВАЖНО: Примеры НИКОГДА не доказывают ∀-утверждения!                         │
│        Даже миллион примеров не доказывает, что "для всех".                 │
│        Но ОДИН контрпример опровергает!                                     │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ КОНСТРУКТИВНЫЕ vs НЕКОНСТРУКТИВНЫЕ ДОКАЗАТЕЛЬСТВА                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ КОНСТРУКТИВНОЕ: Предъявляет объект явно.                                    │
│   Пример: "Существует иррациональное число" — вот √2, и вот доказательство. │
│                                                                             │
│ НЕКОНСТРУКТИВНОЕ: Доказывает существование, НЕ показывая объект.            │
│   Пример: "Среди a^b есть иррациональное с иррациональным результатом —     │
│           рациональное число". Рассмотрим √2^√2.                            │
│           Если рациональное — готово.                                       │
│           Если иррациональное — то (√2^√2)^√2 = √2² = 2 — рациональное!    │
│           Мы НЕ ЗНАЕМ, какой случай верен, но один из них точно!            │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ КАК ЧИТАТЬ ДОКАЗАТЕЛЬСТВА (практические советы)                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ 1. Выпишите ОТДЕЛЬНО: что дано, что доказываем                              │
│ 2. На каждом шаге спрашивайте: "откуда это следует?"                        │
│ 3. Ищите КЛЮЧЕВУЮ ИДЕЮ — обычно один трюк, остальное — техника              │
│ 4. Попробуйте СЛОМАТЬ доказательство — где оно использует условия?          │
│ 5. После прочтения — перескажите СВОИМИ словами                             │
│                                                                             │
│ Если не можете объяснить простыми словами — вы НЕ поняли.                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Доказательства — это НЕ вершина математики, а КОСТЫЛЬ для компенсации
потерь при языковой передаче. В идеальном мире телепатов доказательства
были бы не нужны!

Доказательство = явное описание пути по карте вложений и пересечений
множеств, приводящего к утверждению о принадлежности объекта множеству.

┌──────────────────┬──────────────────────┬──────────────────────────────────┐
│  МЕТОД           │  СТРУКТУРА           │  ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ    │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ MODUS PONENS     │  1. P → Q (истинно)  │  Если объект в P, и P вложено    │
│ (правило вывода) │  2. P (истинно)      │  в Q, то объект в Q              │
│                  │  ───────────────     │                                  │
│                  │  ∴ Q (истинно)       │     ┌─────────────┐              │
│                  │                      │     │      Q      │              │
│                  │ "Если P, то Q.       │     │  ┌─────┐    │              │
│                  │  P верно.            │     │  │  P  │●   │              │
│                  │  Следовательно, Q"   │     │  └─────┘    │              │
│                  │                      │     └─────────────┘              │
│                  │                      │     объект ● ∈ P ⊂ Q             │
│                  │                      │                                  │
│ ПРИМЕР ЗАДАЧИ:   │ Доказать: если n     │ РЕШЕНИЕ:                         │
│                  │ делится на 6, то n   │ 1. n ⊢ 6 ⇒ n = 6k                │
│                  │ делится на 3         │ 2. n = 6k = 3·(2k)               │
│                  │                      │ 3. ⇒ n ⊢ 3  ✓                    │
│                  │                      │ "⊢ 6" ⊂ "⊢ 3"                    │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ MODUS TOLLENS    │  1. P → Q            │  Если объект НЕ в Q, и P ⊂ Q,    │
│ (отрицание       │  2. ¬Q               │  то объект НЕ в P                │
│  следствия)      │  ───────────────     │                                  │
│                  │  ∴ ¬P                │     ┌─────────────┐              │
│                  │                      │     │      Q      │              │
│                  │ "Если P, то Q.       │     │  ┌─────┐    │              │
│                  │  Q ложно.            │     │  │  P  │    │   ● не в Q   │
│                  │  Следовательно, P    │     │  └─────┘    │              │
│                  │  ложно"              │     └─────────────┘              │
│                  │                      │     ⇒ ● не может быть в P        │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ REDUCTIO AD      │  Хотим доказать Q    │  Предполагаем ¬Q, приходим к     │
│ ABSURDUM         │                      │  противоречию                    │
│ (от противного)  │  1. Предполагаем ¬Q  │                                  │
│                  │  2. Выводим          │  ┌──────────┐                    │
│                  │     противоречие P∧¬P│  │Универс   │                    │
│                  │  ───────────────     │  │  ┌──┐    │                    │
│                  │  ∴ Q истинно         │  │  │Q │ ¬Q │ ← пусто!           │
│                  │                      │  │  └──┘    │                    │
│                  │ "Предположим         │  └──────────┘                    │
│                  │  противоположное.    │  Если ¬Q пусто, то все в Q       │
│                  │  Получаем абсурд.    │                                  │
│                  │  Значит, исходное    │                                  │
│                  │  верно"              │                                  │
│                  │                      │                                  │
│ ПРИМЕР ЗАДАЧИ:   │ Доказать √2 ∉ ℚ      │ РЕШЕНИЕ:                         │
│                  │                      │ 1. Предполагаем √2 ∈ ℚ           │
│                  │                      │ 2. √2 = p/q (несократима)        │
│                  │                      │ 3. 2q² = p² ⇒ p чётно (=2k)      │
│                  │                      │ 4. 2q² = 4k² ⇒ q² = 2k²          │
│                  │                      │ 5. ⇒ q чётно                     │
│                  │                      │ 6. Но p,q оба чётны —            │
│                  │                      │    ПРОТИВОРЕЧИЕ!                 │
│                  │                      │ 7. ⇒ √2 ∉ ℚ  ✓                   │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ ПРЯМОЕ           │  Даны: предпосылки   │  Прямой путь от посылок к        │
│ ДОКАЗАТЕЛЬСТВО   │  P₁, P₂, ..., Pₙ     │  заключению через вложения       │
│                  │                      │                                  │
│                  │  Цель: Q             │  P₁ → P₂ → ... → Pₙ → Q          │
│                  │                      │                                  │
│                  │  Строим цепочку:     │  Каждая стрелка = вложение       │
│                  │  P₁ ⇒ ... ⇒ Pₙ ⇒ Q   │  множеств или логическое         │
│                  │                      │  следование                      │
│                  │                      │                                  │
│ ПРИМЕР ЗАДАЧИ:   │ Доказать: n чётно    │ РЕШЕНИЕ:                         │
│                  │ ⇒ n² чётно           │ 1. n чётно ⇒ n = 2k              │
│                  │                      │ 2. n² = (2k)² = 4k²              │
│                  │                      │ 3. = 2·(2k²) = 2m, m=2k²         │
│                  │                      │ 4. ⇒ n² чётно  ✓                 │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ МАТЕМАТИЧЕСКАЯ   │  База: P(0)          │  Домино падают:                  │
│ ИНДУКЦИЯ         │  Шаг: P(n) ⇒ P(n+1)  │                                  │
│                  │  ─────────────       │  ●→●→●→●→●→...                   │
│                  │  ∴ ∀n: P(n)          │  0  1  2  3  4                   │
│                  │                      │                                  │
│                  │ "Верно для 0.        │  Если толкнули 0, и каждое       │
│                  │  Если верно для n,   │  толкает следующее, то все       │
│                  │  то и для n+1.       │  упадут                          │
│                  │  Значит, верно для   │                                  │
│                  │  всех натуральных"   │                                  │
│                  │                      │                                  │
│ ПРИМЕР ЗАДАЧИ:   │ Доказать             │ РЕШЕНИЕ:                         │
│                  │ 1+2+...+n=n(n+1)/2   │ База: n=1: 1=1·2/2=1  ✓          │
│                  │                      │ Шаг: Пусть верно для n.          │
│                  │                      │ Для n+1:                         │
│                  │                      │ 1+...+n+(n+1) =                  │
│                  │                      │ = n(n+1)/2 + (n+1)               │
│                  │                      │ = (n+1)(n/2+1)                   │
│                  │                      │ = (n+1)(n+2)/2  ✓                │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ РАЗБОР СЛУЧАЕВ   │  P ∨ Q               │  Универс = P ∪ Q                 │
│                  │  P ⇒ R               │                                  │
│                  │  Q ⇒ R               │  ┌──────────────┐                │
│                  │  ─────────────       │  │   R          │                │
│                  │  ∴ R                 │  │ ┌───┐  ┌───┐ │                │
│                  │                      │  │ │ P │  │ Q │ │                │
│                  │ "Либо P, либо Q.     │  │ └───┘  └───┘ │                │
│                  │  И в том, и в другом │  └──────────────┘                │
│                  │  случае следует R"   │  Оба случая ведут в R            │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ КОНТРАПОЗИЦИЯ    │  P → Q               │  P ⊂ Q эквивалентно              │
│                  │  ═════════           │  Qᶜ ⊂ Pᶜ                         │
│                  │  ¬Q → ¬P             │                                  │
│                  │                      │  ┌────────────┐                  │
│                  │ "Если из P следует Q,│  │  Q    Qᶜ   │                  │
│                  │  то из НЕ-Q следует  │  │┌──┐  ┌──┐  │                  │
│                  │  НЕ-P"               │  ││P │  │Pᶜ│  │                  │
│                  │                      │  │└──┘  └──┘  │                  │
│                  │ Эквивалентные        │  └────────────┘                  │
│                  │ формулировки!        │                                  │
│                  │                      │                                  │
│ ПРИМЕР ЗАДАЧИ:   │ Доказать: n² нечётно │ РЕШЕНИЕ (контрапозиция):         │
│                  │ ⇒ n нечётно          │ Докажем: n чётно ⇒ n² чётно      │
│                  │                      │ (это мы уже знаем!)              │
│                  │                      │ По контрапозиции:                │
│                  │                      │ n² нечётно ⇒ n нечётно  ✓        │
│                  │                      │                                  │
└──────────────────┴──────────────────────┴──────────────────────────────────┘

КЛЮЧЕВАЯ ИДЕЯ:

  Все методы доказательств сводятся к демонстрации того, что некоторый
  объект находится во вложенных друг в друга множествах.
  
  Доказать Q = показать путь вложений, ведущий к Q.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ МЕТОДОВ ДОКАЗАТЕЛЬСТВА                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Каждый метод доказательства имеет простую визуализацию через вложенность    │
│ множеств на диаграмме Венна. Это делает логику интуитивно понятной.        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ MODUS PONENS: "Если P, то Q. P верно. Следовательно, Q верно."             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Формула: P → Q,  P  ⊢  Q                                                  │
│                                                                             │
│   Геометрически:                                                            │
│   Если P ⊂ Q (круг P полностью внутри круга Q)                             │
│   и объект x ∈ P                                                           │
│   то x ∈ Q (очевидно!)                                                     │
│                                                                             │
│       ╔════════════════════════════════╗                                    │
│       ║            Q                   ║                                    │
│       ║      ┌────────────┐            ║                                    │
│       ║      │     P      │            ║                                    │
│       ║      │   ● x      │            ║  ← x в P, но P внутри Q           │
│       ║      └────────────┘            ║    ⇒ x автоматически в Q          │
│       ╚════════════════════════════════╝                                    │
│                                                                             │
│   Пример: "Все студенты имеют студенческий билет."                         │
│           "Маша — студент."                                                │
│           ⇒ "Маша имеет студенческий билет."                               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ REDUCTIO AD ABSURDUM: "Предположим противоположное. Получаем абсурд."      │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Формула: Предположим ¬Q. Выводим противоречие. Следовательно, Q.         │
│                                                                             │
│   Геометрически:                                                            │
│   Допустим P ⊂ Q (P внутри Q).                                             │
│   Предполагаем: объект x принадлежит P И одновременно НЕ принадлежит Q.    │
│   Но это противоречие! (x не может быть в P и вне Q, если P ⊂ Q)           │
│   Следовательно, если x ∈ P, то x ∈ Q.                                     │
│                                                                             │
│       ╔════════════════════════════════╗                                    │
│       ║            Q          ████████ ║ ← Qᶜ (дополнение)                 │
│       ║      ┌────────────┐   █ ¬Q  ██ ║                                    │
│       ║      │     P      │   ████████ ║                                    │
│       ║      │            │   ████████ ║                                    │
│       ║      └────────────┘   ████████ ║                                    │
│       ╚════════════════════════════════╝                                    │
│                                                                             │
│   Попытка поместить точку одновременно в P и в Qᶜ — противоречие!          │
│   Эти области не пересекаются.                                             │
│                                                                             │
│   Пример: "Доказать √2 ∉ ℚ"                                                 │
│           Предположим √2 ∈ ℚ ⇒ получаем противоречие ⇒ √2 ∉ ℚ              │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ФИЛОСОФСКОЕ ЗАМЕЧАНИЕ                                                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Доказательства — это не вершина математики, а КОСТЫЛЬ для компенсации      │
│ потерь при языковой передаче. В идеальном мире телепатов, где можно        │
│ напрямую "показать" геометрию вложений, формальные доказательства          │
│ были бы не нужны!                                                          │
│                                                                             │
│ Формализация математики — это не строгость сама по себе, а вынужденная     │
│ мера при переходе к ЯЗЫКОВОМУ описанию. Сама математика существует на      │
│ ДОЯЗЫЧНОМ уровне манипуляций с образами и вложениями множеств.             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


───────────────────────────────────────────────────────────────────────────────
2.4  ЕДИНСТВО: ЛОГИКА = МНОЖЕСТВА = ПОРЯДОК
───────────────────────────────────────────────────────────────────────────────

ПРЕДВАРИТЕЛЬНО: Что такое ПОРЯДОК?

  Частичный порядок ≤ на множестве X — это отношение, которое:
    • Рефлексивно: x ≤ x для любого x
    • Антисимметрично: x ≤ y и y ≤ x ⟹ x = y
    • Транзитивно: x ≤ y и y ≤ z ⟹ x ≤ z
  
  Примеры: ⊆ на множествах, ≤ на числах, "делит" на натуральных.
  Подробнее об отношениях — см. раздел 3.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНОЕ ОТКРЫТИЕ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Логика, множества и порядок — это ТРИ ЯЗЫКА для описания ОДНОЙ структуры!   │
│                                                                             │
│ Это не аналогия. Это ТОЖДЕСТВО. Теорема Стоуна (1936) доказывает:           │
│ булева алгебра ≅ алгебра множеств ≅ пропозициональная логика                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОДИН ОБЪЕКТ — ТРИ ЯЗЫКА                                                     │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ ЛОГИКА                  │ МНОЖЕСТВА               │ ПОРЯДОК/РЕШЁТКА         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Высказывание P          │ Множество A             │ Элемент a               │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ P ∧ Q  (И)              │ A ∩ B  (пересечение)    │ a ∧ b  (meet, inf)      │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ P ∨ Q  (ИЛИ)            │ A ∪ B  (объединение)    │ a ∨ b  (join, sup)      │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ ¬P  (НЕ)                │ Aᶜ  (дополнение)        │ ¬a  (complement)        │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ P ⇒ Q  (следует)        │ A ⊆ B  (включение)      │ a ≤ b  (порядок)        │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ ИСТИНА ⊤                │ Универсум U             │ Максимум 1              │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ ЛОЖЬ ⊥                  │ Пустое ∅                │ Минимум 0               │
│                         │                         │                         │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАКОНЫ — ОДНИ И ТЕ ЖЕ В ТРЁХ ЯЗЫКАХ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Де Моргана:    ¬(P∧Q) = ¬P∨¬Q     │  (A∩B)ᶜ = Aᶜ∪Bᶜ    │  аналогично       │
│                ¬(P∨Q) = ¬P∧¬Q     │  (A∪B)ᶜ = Aᶜ∩Bᶜ    │                   │
│                                                                             │
│ Дистрибутивн:  P∧(Q∨R)=(P∧Q)∨(P∧R)│  A∩(B∪C)=(A∩B)∪(A∩C)│                   │
│                P∨(Q∧R)=(P∨Q)∧(P∨R)│  A∪(B∩C)=(A∪B)∩(A∪C)│                   │
│                                                                             │
│ Исключ. третьего: P ∨ ¬P = ⊤      │  A ∪ Aᶜ = U        │  a ∨ ¬a = 1       │
│ Противоречие:     P ∧ ¬P = ⊥      │  A ∩ Aᶜ = ∅        │  a ∧ ¬a = 0       │
│                                                                             │
│ Это не "похожие законы" — это ОДИН закон, записанный тремя способами!       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕШЁТКА И БУЛЕВА АЛГЕБРА                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ РЕШЁТКА = частичный порядок, где любые два элемента имеют:                  │
│   a ∨ b = sup{a, b}  (наименьшая верхняя грань, join)                       │
│   a ∧ b = inf{a, b}  (наибольшая нижняя грань, meet)                        │
│                                                                             │
│ БУЛЕВА АЛГЕБРА = решётка с дополнением:                                     │
│   Для каждого a существует ¬a:  a ∨ ¬a = 1  и  a ∧ ¬a = 0                   │
│                                                                             │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ ПРИМЕР                  │ ∨ (join)                │ ∧ (meet)                │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│ Подмножества 2^X        │ A ∪ B                   │ A ∩ B                   │
│ Делители n              │ НОК(a, b)               │ НОД(a, b)               │
│ Высказывания            │ P ∨ Q (ИЛИ)             │ P ∧ Q (И)               │
│ Открытые множества      │ U₁ ∪ U₂                 │ U₁ ∩ U₂                 │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘
│                                                                             │
│ ВАЖНО: Делители 12 — решётка, но НЕ булева! (нет дополнения для 2, 3, 4, 6) │
│        Подмножества — булева алгебра (дополнение Aᶜ всегда существует)      │
│                                                                             │
│ Подробнее о решётках — см. раздел A9                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ИНТУИЦИОНИСТСКАЯ ЛОГИКА И ТОПОЛОГИЯ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Таблица выше верна для КЛАССИЧЕСКОЙ логики (булева алгебра).               │
│ Но есть ИНТУИЦИОНИСТСКАЯ логика, где ¬¬P ≠ P и P ∨ ¬P не всегда верно!    │
│                                                                             │
│ ┌───────────────────────┬───────────────────────────────────────────────┐   │
│ │ КЛАССИЧЕСКАЯ          │ ИНТУИЦИОНИСТСКАЯ                              │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Булева алгебра        │ Алгебра ГЕЙТИНГА                              │   │
│ │ Подмножества          │ ОТКРЫТЫЕ множества топологии                  │   │
│ │ P ∨ ¬P = ⊤ (всегда)  │ P ∨ ¬P ≠ ⊤ (не всегда!)                      │   │
│ │ ¬¬P = P              │ ¬¬P ≠ P                                       │   │
│ │ A ∪ Aᶜ = U           │ U ∪ Int(Uᶜ) ≠ X в общем случае               │   │
│ └───────────────────────┴───────────────────────────────────────────────┘   │
│                                                                             │
│ ПОЧЕМУ ОТКРЫТЫЕ МНОЖЕСТВА:                                                  │
│   • ¬U = Int(Uᶜ) = внутренность дополнения (не само дополнение!)           │
│   • U ∪ ¬U = U ∪ Int(Uᶜ) может не равняться X                             │
│   • Пример: U = (0,1) на ℝ. Тогда ¬U = Int((−∞,0]∪[1,∞)) = (−∞,0)∪(1,∞)  │
│     И U ∪ ¬U = ℝ \ {0,1} ≠ ℝ!                                            │
│                                                                             │
│ СВЯЗЬ С КОНСТРУКТИВИЗМОМ:                                                   │
│   В интуиционистской логике "существует" = "можно построить".              │
│   Закон исключённого третьего (P ∨ ¬P) неверен, потому что                 │
│   из невозможности построить контрпример не следует наличие примера.       │
│                                                                             │
│ См. также: примечание о философии математики в начале атласа               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
3. ОТНОШЕНИЯ — КАК ИЗ МНОЖЕСТВ ВОЗНИКАЕТ СТРУКТУРА
═══════════════════════════════════════════════════════════════════════════════

"Вся математика = изучение ОТНОШЕНИЙ между объектами"

───────────────────────────────────────────────────────────────────────────────
ИНТУИЦИЯ: ЧТО ТАКОЕ ОТНОШЕНИЕ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОТНОШЕНИЕ = СПОСОБ СКАЗАТЬ "ЭТИ ОБЪЕКТЫ КАК-ТО СВЯЗАНЫ"                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В обыденной жизни мы постоянно используем отношения:                        │
│                                                                             │
│   • "Иван — отец Петра"        (отношение "быть отцом")                    │
│   • "Москва больше Твери"      (отношение "больше по населению")           │
│   • "5 меньше 7"               (отношение "меньше")                         │
│   • "Эти два треугольника подобны" (отношение "подобие")                    │
│   • "A и B — друзья"           (отношение "дружба")                         │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ: Отношение — это просто МНОЖЕСТВО ПАР (или троек, и т.д.),   │
│ которые мы считаем "связанными".                                            │
│                                                                             │
│   "меньше" на ℕ = {(1,2), (1,3), (2,3), (1,4), (2,4), (3,4), ...}          │
│                                                                             │
│   Запись "3 < 5" означает просто "(3, 5) ∈ R", где R — отношение "меньше". │
│                                                                             │
│ ЗАЧЕМ ФОРМАЛИЗАЦИЯ?                                                         │
│   • Можно ДОКАЗЫВАТЬ свойства отношений                                     │
│   • Можно КОМБИНИРОВАТЬ отношения (композиция)                              │
│   • Можно КЛАССИФИЦИРОВАТЬ отношения по свойствам                           │
│   • Основа для порядка, эквивалентности, функций                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДЕКАРТОВО ПРОИЗВЕДЕНИЕ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ A × B = {(a, b) | a ∈ A, b ∈ B}  — множество всех упорядоченных пар         │
│                                                                             │
│ Пример: {1, 2} × {a, b} = {(1,a), (1,b), (2,a), (2,b)}                       │
│                                                                             │
│ ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ ПАРЫ (Куратовский):                                  │
│   (a, b) := {{a}, {a, b}}                                                   │
│                                                                             │
│   Это позволяет отличить (a,b) от (b,a): {{a},{a,b}} ≠ {{b},{a,b}} при a≠b │
│   Важно: упорядоченная пара строится из неупорядоченных множеств!           │
│                                                                             │
│ Обобщение на n множеств:                                                    │
│ A₁ × A₂ × ... × Aₙ = {(a₁, a₂, ..., aₙ) | aᵢ ∈ Aᵢ}  — n-кортежи            │
│                                                                             │
│ Пример: ℝ × ℝ × ℝ = ℝ³ — трёхмерное пространство                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ТАКОЕ ОТНОШЕНИЕ                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ n-АРНОЕ ОТНОШЕНИЕ на множествах A₁, ..., Aₙ — это подмножество:             │
│                                                                             │
│   R ⊆ A₁ × A₂ × ... × Aₙ                                                    │
│                                                                             │
│ Кортеж (a₁, ..., aₙ) ∈ R означает "элементы связаны отношением R".          │
│                                                                             │
│ ┌───────────┬─────────────────────────────────────────────────────────────┐ │
│ │ АРНОСТЬ   │ ПРИМЕРЫ                                                     │ │
│ ├───────────┼─────────────────────────────────────────────────────────────┤ │
│ │           │                                                             │ │
│ │ Унарное   │ R ⊆ A  — просто подмножество (свойство)                     │ │
│ │ (n = 1)   │ "чётные" ⊆ ℤ = {x ∈ ℤ | x делится на 2}                     │ │
│ │           │                                                             │ │
│ │ Бинарное  │ R ⊆ A × B  — связь между двумя элементами                   │ │
│ │ (n = 2)   │ "меньше" ⊆ ℝ × ℝ = {(x,y) | x < y}                          │ │
│ │           │ "делит" ⊆ ℕ × ℕ = {(a,b) | a | b}                           │ │
│ │           │                                                             │ │
│ │ Тернарное │ R ⊆ A × B × C  — связь между тремя элементами               │ │
│ │ (n = 3)   │ "между" ⊆ ℝ × ℝ × ℝ = {(x,y,z) | x < y < z}                 │ │
│ │           │ "сумма" = {(a,b,c) | a + b = c}                             │ │
│ │           │                                                             │ │
│ │ n-арное   │ Таблица в базе данных с n столбцами!                        │ │
│ │           │ Каждая строка — кортеж, таблица — отношение                 │ │
│ │           │                                                             │ │
│ └───────────┴─────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С БАЗАМИ ДАННЫХ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Реляционная база данных = набор n-арных отношений (таблиц).                 │
│                                                                             │
│   Таблица "Сотрудники":                                                     │
│   ┌────────┬─────────┬────────┬─────────┐                                   │
│   │ ID     │ Имя     │ Отдел  │ Зарплата│   ← 4-арное отношение             │
│   ├────────┼─────────┼────────┼─────────┤      R ⊆ ℕ × String × String × ℝ  │
│   │ 1      │ Иван    │ IT     │ 100000  │   ← кортеж (1, "Иван", "IT", 100k)│
│   │ 2      │ Мария   │ HR     │ 80000   │                                   │
│   └────────┴─────────┴────────┴─────────┘                                   │
│                                                                             │
│ SQL-запрос = операции над отношениями (объединение, пересечение, проекция). │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
ВАЖНЕЙШИЕ БИНАРНЫЕ ОТНОШЕНИЯ
───────────────────────────────────────────────────────────────────────────────

Далее — таблица бинарных отношений, из которых строится вся математика.

┌──────────────────┬──────────────────────┬──────────────────────────────────┐
│  ОТНОШЕНИЕ       │  СВОЙСТВА            │  ПРИМЕРЫ / ВИЗУАЛИЗАЦИЯ          │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 1. ПРИНАДЛЕЖНОСТЬ│ Базовое отношение    │ • 3 ∈ ℕ                          │
│    x ∈ A         │ Не рефлексивно       │ • π ∈ ℝ                          │
│                  │ (x ∉ x обычно)       │ • {1} ∈ 𝒫(ℕ)                     │
│ "элемент         │                      │                                  │
│  множества"      │ Фундамент теории     │    A                             │
│                  │ множеств             │   ┌─────┐                        │
│                  │                      │   │  ●  │ ← x ∈ A                 │
│                  │                      │   └─────┘                        │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 2. ВКЛЮЧЕНИЕ     │ • Рефлексивна:       │ • ℕ ⊆ ℤ ⊆ ℚ ⊆ ℝ ⊆ ℂ              │
│    A ⊆ B         │   A ⊆ A              │ • {1,2} ⊆ {1,2,3}                │
│                  │ • Транзитивна:       │ • ∅ ⊆ A для любого A             │
│ "подмножество"   │   A⊆B, B⊆C ⇒ A⊆C     │                                  │
│                  │ • Антисимметрична:   │   ┌─────────┐                    │
│                  │   A⊆B, B⊆A ⇒ A=B     │   │    B    │                    │
│                  │                      │   │  ┌───┐  │                    │
│                  │ Частичный порядок    │   │  │ A │  │                    │
│                  │ на 𝒫(X)              │   │  └───┘  │                    │
│                  │                      │   └─────────┘                    │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 3. ЭКВИВАЛЕНТНОСТЬ│ • Рефлексивна:      │ • Равенство чисел (=)            │
│    x ~ y         │   x ~ x              │ • Подобие треугольников          │
│                  │ • Симметрична:       │ • Сравнимость по модулю:         │
│ "неразличимы     │   x~y ⇒ y~x          │   a ≡ b (mod n)                  │
│  относительно    │ • Транзитивна:       │ • Изоморфизм структур            │
│  свойства"       │   x~y, y~z ⇒ x~z     │                                  │
│                  │                      │ Разбивает X на классы:           │
│                  │ Даёт факторизацию:   │  ┌───┬───┬───┐                   │
│                  │ X/~ (фактормножество)│  │[x]│[y]│[z]│                   │
│                  │                      │  └───┴───┴───┘                   │
│                  │                      │  классы эквивалентности          │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 4. (ПОЛНЫЙ) ПОРЯДОК│ • Рефлексивна:     │ • ≤ на ℝ                         │
│    x ≤ y         │   x ≤ x              │ • Лексикографический на строках  │
│                  │ • Антисимметрична:   │ • Хронологический (время)        │
│ "не больше"      │   x≤y, y≤x ⇒ x=y     │                                  │
│                  │ • Транзитивна:       │      a ≤ b ≤ c ≤ d               │
│                  │   x≤y, y≤z ⇒ x≤z     │      ●───●───●───●               │
│                  │ • ПОЛНОТА:           │                                  │
│                  │   ∀x,y: x≤y ∨ y≤x    │  Любые два элемента сравнимы     │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 5. ЧАСТИЧНЫЙ     │ Как полный порядок,  │ • ⊆ на 𝒫(X)                      │
│    ПОРЯДОК       │ НО БЕЗ полноты       │ • Делимость | на ℕ               │
│    x ⪯ y         │                      │ • Импликация ⇒ на высказываниях  │
│                  │ ∃x,y: несравнимы     │                                  │
│ "не больше, но   │                      │      ┌──d──┐                     │
│  не всегда       │ Диаграмма Хассе:     │      │     │                     │
│  сравнимы"       │                      │      b     c  ← несравнимы       │
│                  │                      │      │     │                     │
│                  │                      │      └──a──┘                     │
│                  │                      │                                  │
│                  │                      │ Пример: {1,2} и {1,3}            │
│                  │                      │ несравнимы по ⊆                  │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 6. ФУНКЦИЯ       │ • Тотальна:          │ • f(x) = x²                      │
│    f: A → B      │   ∀a ∈ A: ∃b         │ • sin: ℝ → [-1,1]                │
│                  │ • Однозначна:        │ • det: M_n → ℝ                   │
│ "правило         │   f(a) определено    │                                  │
│  соответствия"   │   единственно        │      A         B                 │
│                  │                      │     ┌─┐      ┌─┐                 │
│                  │ Подмножество A×B с   │  a₁─●──────→ ●─b₁                │
│                  │ условиями выше       │  a₂─●──────→ ●─b₂                │
│                  │                      │     └─┘      └─┘                 │
│                  │                      │   каждому a ровно одно b         │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 7. ИНЪЕКЦИЯ      │ Функция с доп.       │ • f(x) = 2x                      │
│    f: A ↣ B      │ свойством:           │ • exp: ℝ → ℝ⁺                    │
│                  │                      │ • вложение ℕ в ℤ                 │
│ "один к одному"  │ f(x₁) = f(x₂)        │                                  │
│                  │   ⇒ x₁ = x₂          │      A         B                 │
│                  │                      │     ┌─┐      ┌─┐                 │
│                  │ Разные входы →       │  a₁─●──────→ ●─b₁                │
│                  │ разные выходы        │  a₂─●──────→ ●─b₂                │
│                  │                      │     └─┘  ╱   └●┘                 │
│                  │ Сохраняет различия   │         ╱     b₃ не используется │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 8. СЮРЪЕКЦИЯ     │ Функция с доп.       │ • f: ℝ → ℝ, f(x) = x³            │
│    f: A ↠ B      │ свойством:           │ • проекция ℝ² → ℝ: (x,y) ↦ x     │
│                  │                      │                                  │
│ "на"             │ ∀b ∈ B: ∃a ∈ A       │      A         B                 │
│                  │ такое, что f(a) = b  │     ┌─┐      ┌─┐                 │
│                  │                      │  a₁─●──────→ ●─b₁                │
│                  │ Накрывает весь B     │  a₂─●──╲   ╱─●─b₂                │
│                  │                      │  a₃─●───╲╱                       │
│                  │ Каждый элемент B     │     └─┘      └─┘                 │
│                  │ имеет прообраз       │   каждое b достигается           │
│                  │                      │                                  │
├──────────────────┼──────────────────────┼──────────────────────────────────┤
│                  │                      │                                  │
│ 9. БИЕКЦИЯ       │ Функция, которая     │ • f: ℝ → ℝ, f(x) = x             │
│    f: A ↔ B      │ одновременно:        │ • exp: ℝ → ℝ⁺                    │
│                  │ • Инъекция           │ • любой изоморфизм               │
│ "взаимно-        │ • Сюръекция          │                                  │
│  однозначное     │                      │      A         B                 │
│  соответствие"   │ Существует обратная  │     ┌─┐      ┌─┐                 │
│                  │ f⁻¹: B → A           │  a₁─●──────→ ●─b₁                │
│                  │                      │  a₂─●──────→ ●─b₂                │
│                  │ |A| = |B|            │  a₃─●──────→ ●─b₃                │
│                  │ (равномощны)         │     └─┘      └─┘                 │
│                  │                      │   идеальное соответствие         │
│                  │                      │                                  │
└──────────────────┴──────────────────────┴──────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
МОРФИЗМ — ФУНКЦИЯ, СОХРАНЯЮЩАЯ СТРУКТУРУ
───────────────────────────────────────────────────────────────────────────────

Теперь, когда мы знаем что такое функция, можно определить морфизм.

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВОЕ ПОНЯТИЕ: МОРФИЗМ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФУНКЦИЯ (= ОТОБРАЖЕНИЕ) — правило f: A → B, сопоставляющее каждому          │
│ элементу a ∈ A единственный элемент f(a) ∈ B.                               │
│                                                                             │
│ МОРФИЗМ — функция между структурами, которая СОХРАНЯЕТ структуру.           │
│                                                                             │
│ ИЗОМОРФИЗМ — обратимый морфизм (биекция, сохраняющая структуру).            │
│              Означает "структуры одинаковы с точностью до имён элементов".  │
│                                                                             │
├────────────────────┬────────────────────────┬───────────────────────────────┤
│ СТРУКТУРА          │ МОРФИЗМ НАЗЫВАЕТСЯ     │ ЧТО СОХРАНЯЕТ                 │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│ Множества          │ Функция                │ (ничего — базовый случай)     │
│ Группы             │ Гомоморфизм            │ Операцию: φ(ab) = φ(a)φ(b)    │
│ Кольца             │ Гомоморфизм колец      │ Обе операции: +, ×            │
│ Векторные пр-ва    │ Линейное отображение   │ Линейность: T(αu+βv)=αTu+βTv  │
│ Топологии          │ Непрерывное отображ.   │ Открытые множества            │
│ Многообразия       │ Гладкое отображение    │ Гладкость                     │
│ Порядки            │ Монотонное отображение │ Порядок: a≤b ⇒ f(a)≤f(b)      │
└────────────────────┴────────────────────────┴───────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ФОРМУЛА ≠ ФУНКЦИЯ (частая ошибка)                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛА: способ вычисления, например f(x) = x²                             │
│ ФУНКЦИЯ: ТРОЙКА (область A, кообласть B, правило соответствия)             │
│                                                                             │
│ ПОЧЕМУ ЭТО РАЗНЫЕ ВЕЩИ:                                                    │
│                                                                             │
│ 1. ОДНА ФУНКЦИЯ — МНОГО ФОРМУЛ:                                            │
│    f(x) = x² = (x+1)² − 2x − 1 = x·x = ...   (разные записи одного)        │
│                                                                             │
│ 2. ОДНА ФОРМУЛА — РАЗНЫЕ ФУНКЦИИ (зависит от области):                     │
│    ┌────────────┬─────────┬───────────┬─────────────────────────────────┐  │
│    │ ФОРМУЛА    │ ОБЛАСТЬ │ КООБЛАСТЬ │ СВОЙСТВА                        │  │
│    ├────────────┼─────────┼───────────┼─────────────────────────────────┤  │
│    │ f(x) = x²  │ ℝ       │ ℝ         │ НЕ инъективна: f(2) = f(−2)     │  │
│    │ g(x) = x²  │ ℝ⁺      │ ℝ⁺        │ Инъективна и сюръективна!       │  │
│    │ h(z) = z²  │ ℂ       │ ℂ         │ Совсем другой объект            │  │
│    └────────────┴─────────┴───────────┴─────────────────────────────────┘  │
│                                                                             │
│ 3. ФУНКЦИИ БЕЗ ФОРМУЛ:                                                     │
│    D(x) = 1 если x ∈ ℚ, иначе 0  (функция Дирихле — нет "формулы"!)       │
│                                                                             │
│ ВЫВОД: Функция = тройка (A, B, f: A → B).                                  │
│        Формула — лишь ОДИН СПОСОБ задать правило.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБРАЗ И ПРООБРАЗ МНОЖЕСТВА                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для функции f: A → B и подмножеств S ⊆ A, T ⊆ B:                           │
│                                                                             │
│ ┌─────────────────┬─────────────────────────────────────────────────────┐   │
│ │ ПОНЯТИЕ         │ ОПРЕДЕЛЕНИЕ                                         │   │
│ ├─────────────────┼─────────────────────────────────────────────────────┤   │
│ │ ОБРАЗ множества │ f(S) = {f(x) : x ∈ S}                               │   │
│ │ f(S)            │ = все значения f на элементах S                     │   │
│ ├─────────────────┼─────────────────────────────────────────────────────┤   │
│ │ ПРООБРАЗ мн-ва  │ f⁻¹(T) = {x ∈ A : f(x) ∈ T}                         │   │
│ │ f⁻¹(T)          │ = все точки, которые f отправляет в T              │   │
│ └─────────────────┴─────────────────────────────────────────────────────┘   │
│                                                                             │
│ ⚠️ ВАЖНО: f⁻¹(T) — это НЕ обратная функция!                                │
│    Прообраз определён ВСЕГДА, даже если f необратима.                      │
│    Обратная функция f⁻¹: B → A существует только для биекций.              │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   f(x) = x², f: ℝ → ℝ                                                      │
│   f({1, 2, 3}) = {1, 4, 9}                  — образ множества              │
│   f⁻¹({4}) = {−2, 2}                       — прообраз точки               │
│   f⁻¹({y : y > 0}) = ℝ \ {0}               — прообраз интервала           │
│   f⁻¹({−1}) = ∅                            — прообраз может быть пуст     │
│                                                                             │
│ СВОЙСТВА (для запоминания):                                                 │
│   • f(S₁ ∪ S₂) = f(S₁) ∪ f(S₂)             — образ объединения             │
│   • f⁻¹(T₁ ∪ T₂) = f⁻¹(T₁) ∪ f⁻¹(T₂)       — прообраз объединения          │
│   • f⁻¹(T₁ ∩ T₂) = f⁻¹(T₁) ∩ f⁻¹(T₂)       — прообраз пересечения          │
│   • f(S₁ ∩ S₂) ⊆ f(S₁) ∩ f(S₂)             — для образа только ⊆ !         │
│                                                                             │
│ ПРИМЕНЕНИЕ: Топология использует прообразы для определения непрерывности:   │
│   f непрерывна ⟺ прообраз открытого множества открыт (см. A2.3)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

КЛЮЧЕВЫЕ ПАТТЕРНЫ:

Проверка свойств отношения R:
  1. Рефлексивность: xRx для всех x?
  2. Симметричность: xRy ⇒ yRx?
  3. Транзитивность: xRy, yRz ⇒ xRz?
  4. Антисимметричность: xRy, yRx ⇒ x=y?

Комбинации определяют тип:
  • Рефл. + Симм. + Транз. = ЭКВИВАЛЕНТНОСТЬ (разбиение на классы)
  • Рефл. + Антисимм. + Транз. = ЧАСТИЧНЫЙ ПОРЯДОК
  • + Полнота = ЛИНЕЙНЫЙ ПОРЯДОК

───────────────────────────────────────────────────────────────────────────────
ОТНОШЕНИЯ ЭКВИВАЛЕНТНОСТИ И КЛАССЫ ЭКВИВАЛЕНТНОСТИ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТУИЦИЯ: ЭКВИВАЛЕНТНОСТЬ = "ОДИНАКОВЫ С КАКОЙ-ТО ТОЧКИ ЗРЕНИЯ"            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Равенство (=) — слишком строгое требование. Часто нам важно не ПОЛНОЕ      │
│ тождество, а "одинаковость" по какому-то КРИТЕРИЮ:                         │
│                                                                             │
│   • Два человека "эквивалентны" по возрасту (им обоим 25 лет)              │
│   • Два треугольника "эквивалентны" по форме (подобны)                      │
│   • Две дроби "эквивалентны" по значению (1/2 = 2/4 = 3/6)                 │
│   • Два числа "эквивалентны" по остатку от деления на 3                    │
│                                                                             │
│ Формально: отношение ~ называется ЭКВИВАЛЕНТНОСТЬЮ, если оно:              │
│                                                                             │
│   1. РЕФЛЕКСИВНО:  a ~ a      (каждый эквивалентен себе)                   │
│   2. СИММЕТРИЧНО:  a ~ b ⇒ b ~ a  (порядок не важен)                      │
│   3. ТРАНЗИТИВНО:  a ~ b, b ~ c ⇒ a ~ c  (эквивалентность "передаётся")   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАСС ЭКВИВАЛЕНТНОСТИ = ВСЕ, КТО "ОДИНАКОВЫ" С ДАННЫМ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если ~ — эквивалентность на множестве X, то КЛАСС ЭКВИВАЛЕНТНОСТИ          │
│ элемента a — это множество ВСЕХ элементов, эквивалентных a:                │
│                                                                             │
│   [a] = {x ∈ X | x ~ a}                                                    │
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ: Классы эквивалентности РАЗБИВАЮТ множество X:               │
│                                                                             │
│   • Каждый элемент x ∈ X лежит ровно в одном классе                        │
│   • Разные классы НЕ ПЕРЕСЕКАЮТСЯ                                           │
│   • Объединение всех классов = X                                            │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│   Множество X:                  После разбиения X/~:                       │
│   ┌───────────────────────┐     ┌───────────────────────┐                  │
│   │ ● ●   ○ ○ ○   ▪ ▪    │     │ [●]   [○]   [▪]      │                  │
│   │   ●   ○       ▪ ▪ ▪  │  →  │                       │                  │
│   │       ○ ○         ▪  │     │ 3 класса              │                  │
│   └───────────────────────┘     └───────────────────────┘                  │
│   (элементы одного "типа"       (каждый класс — один                       │
│    отмечены одинаково)           элемент фактормножества)                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЕ ПРИМЕРЫ КЛАССОВ ЭКВИВАЛЕНТНОСТИ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 1: Остатки от деления (модулярная арифметика)                        │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Множество: ℤ (все целые числа)                                            │
│   Отношение: a ~ b ⟺ a − b делится на 3  (записывают: a ≡ b (mod 3))       │
│                                                                             │
│   Классы эквивалентности:                                                   │
│     [0] = {..., −6, −3, 0, 3, 6, 9, ...}   — числа с остатком 0            │
│     [1] = {..., −5, −2, 1, 4, 7, 10, ...}  — числа с остатком 1            │
│     [2] = {..., −4, −1, 2, 5, 8, 11, ...}  — числа с остатком 2            │
│                                                                             │
│   Фактормножество: ℤ/3ℤ = {[0], [1], [2]} — всего 3 класса!               │
│   (Это кольцо остатков — основа криптографии)                               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 2: Дроби (рациональные числа)                                        │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Множество: ℤ × ℤ* = {(a, b) | a,b ∈ ℤ, b ≠ 0} — пары "числитель/знамен." │
│   Отношение: (a,b) ~ (c,d) ⟺ a·d = b·c  (дроби равны)                      │
│                                                                             │
│   Классы эквивалентности:                                                   │
│     [(1,2)] = {(1,2), (2,4), (3,6), (−1,−2), ...}  — все формы "одной     │
│     [(1,3)] = {(1,3), (2,6), (−1,−3), ...}          половины"              │
│                                                                             │
│   Рациональное число — это КЛАСС эквивалентности, а не конкретная дробь!   │
│   ℚ = (ℤ × ℤ*)/~ — множество классов эквивалентности пар.                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 3: Подобие треугольников                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Множество: все треугольники на плоскости                                  │
│   Отношение: T₁ ~ T₂ ⟺ углы T₁ равны углам T₂                             │
│                                                                             │
│   Класс эквивалентности: все треугольники одной "формы" (разных размеров)   │
│                                                                             │
│         ┌─┐              ┌───┐                                              │
│        ╱   ╲            ╱     ╲                                             │
│       ╱ 60° ╲          ╱  60°  ╲                                            │
│      ╱       ╲        ╱         ╲          Все три — в ОДНОМ                │
│     ╱ 60° 60° ╲      ╱  60° 60°  ╲         классе эквивалентности           │
│    └───────────┘    └─────────────┘        (равносторонние)                 │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 4: Вещественные числа (конструкция через Коши)                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Множество: все последовательности Коши рациональных чисел                 │
│   Отношение: {aₙ} ~ {bₙ} ⟺ |aₙ − bₙ| → 0                                   │
│                                                                             │
│   Вещественное число — это КЛАСС эквивалентности последовательностей!       │
│   Пример: √2 = [{1, 1.4, 1.41, 1.414, 1.4142, ...}]                        │
│                                                                             │
│   (Бесконечно много последовательностей сходятся к √2 — они все            │
│    эквивалентны и образуют ОДИН класс, который МЫ НАЗЫВАЕМ числом √2)      │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 5: Гомотопические классы путей (топология)                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Множество: все пути из A в B в пространстве X                            │
│   Отношение: γ₁ ~ γ₂ ⟺ γ₁ можно непрерывно деформировать в γ₂             │
│                                                                             │
│   Фундаментальная группа π₁(X) = классы эквивалентности замкнутых путей.   │
│   Эта конструкция — основа алгебраической топологии!                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФАКТОРМНОЖЕСТВО X/~ — "СКЛЕИВАНИЕ" ЭКВИВАЛЕНТНЫХ ЭЛЕМЕНТОВ                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Фактормножество X/~ — это множество КЛАССОВ эквивалентности:               │
│                                                                             │
│   X/~ = {[a] | a ∈ X}                                                      │
│                                                                             │
│ ИНТУИЦИЯ: Мы "склеиваем" все эквивалентные элементы в одну точку.          │
│                                                                             │
│ ПРОЕКЦИЯ: Каноническое отображение π: X → X/~, где π(a) = [a].             │
│   Оно "забывает" различия между эквивалентными элементами.                  │
│                                                                             │
│ ГЛАВНАЯ ТЕОРЕМА (Универсальное свойство):                                   │
│                                                                             │
│   Любая функция f: X → Y, постоянная на классах эквивалентности            │
│   (т.е. a ~ b ⇒ f(a) = f(b)), единственным образом пропускается            │
│   через фактормножество:                                                    │
│                                                                             │
│           X ──────f──────→ Y                                               │
│           │                ↗                                                │
│         π │            f̄  (существует единственная!)                       │
│           ↓           ╱                                                     │
│          X/~ ────────╱                                                      │
│                                                                             │
│ ГДЕ ЭТО ИСПОЛЬЗУЕТСЯ:                                                       │
│   • ℤₙ = ℤ/nℤ         (модулярная арифметика, криптография)                │
│   • ℚ = (ℤ×ℤ*)/~     (конструкция рациональных чисел)                      │
│   • ℝ = Коши/~        (конструкция вещественных чисел)                      │
│   • ℂ = ℝ[x]/(x²+1)  (конструкция комплексных чисел)                       │
│   • Проективное пространство ℙⁿ = (ℝⁿ⁺¹ \ 0)/~                            │
│   • Торы, бутылки Клейна и др. топологические объекты                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ИНЖЕНЕРУ КЛАССЫ ЭКВИВАЛЕНТНОСТИ?                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. МОДУЛЯРНАЯ АРИФМЕТИКА (ℤₙ):                                              │
│    Хеш-функции, контрольные суммы, криптография — всё это работа           │
│    с классами остатков.                                                     │
│                                                                             │
│ 2. КОНЕЧНЫЕ АВТОМАТЫ:                                                       │
│    Минимизация автомата = объединение "эквивалентных" состояний             │
│    (тех, которые невозможно различить входными данными).                   │
│                                                                             │
│ 3. РАЗМЕРНЫЙ АНАЛИЗ:                                                        │
│    Физические величины с одинаковой размерностью — один класс.             │
│    "Метры в секунду" — это класс всех способов выразить скорость.          │
│                                                                             │
│ 4. КООРДИНАТЫ:                                                              │
│    Тензор — это класс эквивалентности наборов чисел (координат),           │
│    где два набора эквивалентны, если связаны законом преобразования.       │
│                                                                             │
│ 5. КЛАСТЕРИЗАЦИЯ:                                                           │
│    Разбиение данных на кластеры — это фактически построение классов        │
│    эквивалентности по критерию "похожести".                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

ФИЛОСОФИЯ:

  Математика изучает не сами объекты, а ОТНОШЕНИЯ между ними.
  Функция f: A → B важнее, чем A и B по отдельности.
  Современная математика (категорная) — это "математика стрелок".

═══════════════════════════════════════════════════════════════════════════════
4. ОТОБРАЖЕНИЯ — КАК СВЯЗЫВАЮТСЯ СТРУКТУРЫ
═══════════════════════════════════════════════════════════════════════════════

ПРИМЕЧАНИЕ: Этот раздел — ОБЗОР типов отображений. Термины "группа",
"топология", "многообразие" определены в Части II (A1, A2, A7).
Здесь они используются для иллюстрации общего паттерна.

В разделе 3 мы определили функцию и морфизм. Здесь — подробные примеры.

"Хороший морфизм СОХРАНЯЕТ структуру"

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРЕДВАРИТЕЛЬНОЕ ЗАМЕЧАНИЕ О КАТЕГОРИЯХ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Все примеры ниже — частные случаи ОДНОЙ идеи: МОРФИЗМ.                     │
│                                                                             │
│   • Объекты (множества, группы, пространства, ...)                         │
│   • Стрелки между ними (функции, гомоморфизмы, непрерывные отобр., ...)   │
│   • Композиция стрелок (применить одну, потом другую)                      │
│                                                                             │
│ Это и есть КАТЕГОРИЯ — язык, объединяющий всю математику.                  │
│ Подробнее: раздел A12. Сейчас достаточно знать: разные виды отображений   │
│ в таблице ниже — это морфизмы в РАЗНЫХ категориях.                         │
│                                                                             │
│   Категория множеств:   морфизмы = функции                                  │
│   Категория групп:      морфизмы = гомоморфизмы                             │
│   Категория топол. пр.: морфизмы = непрерывные отображения                 │
│   Категория вект. пр.:  морфизмы = линейные операторы                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────┬──────────────────────────┬──────────────────────────┐
│ ПРЕОБРАЗОВАНИЕ       │  СТРУКТУРА               │  ПРИМЕРЫ                 │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 1. ФУНКЦИЯ           │ Множество → Множество    │ • f(x) = x + 1           │
│    f: A → B          │                          │ • проекция (x,y) ↦ x     │
│                      │ Ничего не сохраняет      │ • любое отображение      │
│ Базовое отображение  │ (нет доп. структуры)     │                          │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 2. ГОМОМОРФИЗМ       │ Группа → Группа          │ • exp: (ℝ,+) → (ℝ⁺,×)    │
│    φ: G → H          │                          │   exp(a+b) = exp(a)exp(b)│
│                      │ φ(g₁ ∗ g₂) =             │ • det: (GL(n),×) → (ℝ*,×)│
│ Сохраняет операцию   │    = φ(g₁) ⊙ φ(g₂)       │   det(AB) = det(A)det(B) │
│                      │                          │   (GL(n) = обратимые n×n │
│                      │                          │    матрицы, см. A3)      │
│                      │                          │                          │
│ Автоморфизм если     │ Изоморфизм если биекция  │ • комплексное сопряжение │
│ G = H                │ (структуры "одинаковы")  │   z ↦ z̄ на ℂ             │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 3. ЛИНЕЙНЫЙ ОПЕРАТОР │ Вект.пр-во → Вект.пр-во  │ • Поворот в ℝ²           │
│    T: V → W          │                          │ • Проекция на подпр-во   │
│                      │ T(αv + βw) =             │ • Дифференцирование      │
│ Сохраняет линейную   │    = αT(v) + βT(w)       │   D: C¹ → C⁰             │
│ структуру            │                          │   D(af + bg) =           │
│                      │ Матрица в базисе         │   = aD(f) + bD(g)        │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 4. НЕПРЕРЫВНОЕ       │ Топол.пр-во → Топол.пр-во│ • f: ℝ → ℝ непрерывная   │
│    ОТОБРАЖЕНИЕ       │                          │ • Деформация резины      │
│    f: X → Y          │ Прообраз открытого       │ • Любое f: M → N (гладк.)│
│                      │ открыт:                  │                          │
│ Сохраняет "близость" │ U ∈ τ_Y ⇒ f⁻¹(U) ∈ τ_X   │ Гомеоморфизм если        │
│                      │                          │ биекция + f⁻¹ непрерывна │
│                      │                          │ (топологически "то же")  │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 5. ДИФФЕОМОРФИЗМ     │ Многообразие →           │ • Любое гладкое обратимое│
│    f: M → N          │ Многообразие             │   отображение            │
│                      │                          │ • ℝ ≅ (0,1) через        │
│ Гладкое + обратимое  │ f и f⁻¹ гладкие          │   f(x) = x/(1+|x|)       │
│                      │                          │                          │
│                      │ Сохраняет гладкую        │ Показывает геометрическую│
│                      │ структуру                │ эквивалентность          │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 6. ПРОИЗВОДНАЯ       │ Функция → Функция        │ • D(x²) = 2x             │
│    d/dx              │                          │ • D(sin) = cos           │
│                      │ Линейный оператор:       │ • D(eˣ) = eˣ             │
│ Мгновенная скорость  │ D(af + bg) = aD(f)+bD(g) │                          │
│ изменения            │                          │ Геометрия: касательная   │
│                      │ Локальная аппроксимация  │ к графику                │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 7. ИНТЕГРАЛ          │ Функция → Число          │ • ∫₀¹ x² dx = 1/3        │
│    ∫ₐᵇ f(x)dx        │                          │ • ∫ sin x dx = -cos x+C  │
│                      │ Линейный функционал:     │                          │
│ Накопление           │ ∫(af+bg) = a∫f + b∫g     │ Геометрия: площадь под   │
│ (площадь, масса)     │                          │ графиком                 │
│                      │ Обратная к производной   │                          │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 8. КАСАТЕЛЬНОЕ       │ Многообразие →           │ • TₚS² — плоскость,      │
│    ПРОСТРАНСТВО      │ Векторное пр-во          │   касающаяся сферы в p   │
│    TₚM               │                          │ • TₚM — где "живут"      │
│                      │ Искривлённое → Плоское   │   векторы скоростей      │
│ "Плоскость в точке"  │                          │                          │
│                      │ Функтор: M ↦ TₚM         │ Линеаризация геометрии   │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 9. ФУНДАМЕНТАЛЬНАЯ   │ Топология → Алгебра      │ • π₁(S¹) = ℤ             │
│    ГРУППА            │                          │   (окружность → целые)   │
│    π₁: Top → Grp     │ Пространство ↦ Группа    │ • π₁(S²) = {e}           │
│                      │                          │   (сфера тривиальна)     │
│ ФУНКТОР              │ Петли с гомотопиями      │ • π₁(T²) = ℤ × ℤ         │
│                      │                          │   (тор → две дыры)       │
│ Геометрия → Алгебра  │ "Дыры" превращает в      │                          │
│                      │ алгебраическую структуру │ Вычисление топологии     │
│                      │                          │ через группы             │
│                      │                          │                          │
├──────────────────────┼──────────────────────────┼──────────────────────────┤
│                      │                          │                          │
│ 10. ПРЕОБРАЗОВАНИЕ   │ Функция → Функция        │ • cos(ωt) ↔ δ(ω - ω₀)    │
│     ФУРЬЕ            │                          │ • Свёртка ↔ Умножение    │
│     ℱ: L²(ℝ) → L²(ℝ) │ ℱ(f)(ω) = ∫ f(t)e⁻ⁱωᵗdt  │                          │
│                      │                          │ Применения:              │
│ Функтор              │ Унитарный оператор       │ • Обработка сигналов     │
│ Время ↔ Частота      │                          │ • Квантовая механика     │
│                      │ Превращает дифф. ур-я    │ • Дифф. уравнения        │
│                      │ в алгебраические         │                          │
│                      │                          │                          │
└──────────────────────┴──────────────────────────┴──────────────────────────┘

ОБЩИЙ ПАТТЕРН:

  Хорошее преобразование СОХРАНЯЕТ то, что важно:
    • Гомоморфизм сохраняет операцию
    • Непрерывное отображение сохраняет близость
    • Линейный оператор сохраняет линейность
    • Изометрия сохраняет расстояние

  ФУНКТОР — преобразование между КАТЕГОРИЯМИ (подробно — см. A12):
    Переводит объекты в объекты и стрелки в стрелки, сохраняя композицию.
    Пример: π₁ переводит топологические пространства в группы,
    а непрерывные отображения — в гомоморфизмы.

ЗАЧЕМ ЭТО НУЖНО:

  1. СВЯЗЬ МЕЖДУ ОБЛАСТЯМИ: π₁ превращает топологию в алгебру
  2. УПРОЩЕНИЕ: Фурье превращает дифф. ур-я в алгебраические
  3. ПОНИМАНИЕ: касательное пространство делает геометрию плоской
  4. ВЫЧИСЛЕНИЯ: изоморфизм позволяет работать в удобной структуре

═══════════════════════════════════════════════════════════════════════════════
5. ЧИСЛА — КАК ИЗ ПУСТОТЫ ВОЗНИКАЮТ ВСЕ ЧИСЛА
═══════════════════════════════════════════════════════════════════════════════

───────────────────────────────────────────────────────────────────────────────
5.1  ПОСТРОЕНИЕ НАТУРАЛЬНЫХ ЧИСЕЛ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОСТРОЕНИЕ НАТУРАЛЬНЫХ ЧИСЕЛ ИЗ ПУСТОГО МНОЖЕСТВА (фон Нейман)              │
└─────────────────────────────────────────────────────────────────────────────┘

Вся математика возникает из единственного примитива: ПУСТОГО МНОЖЕСТВА ∅

┌──────────┬───────────────────────────┬──────────────────────────────────────┐
│  ЧИСЛО   │   ОПРЕДЕЛЕНИЕ             │   ВИЗУАЛИЗАЦИЯ                       │
├──────────┼───────────────────────────┼──────────────────────────────────────┤
│          │                           │                                      │
│    0     │   ∅                       │   { }                                │
│          │   Пустое множество        │   Ничего нет                         │
│          │                           │                                      │
├──────────┼───────────────────────────┼──────────────────────────────────────┤
│          │                           │                                      │
│    1     │   {∅}                     │   { { } }                            │
│          │   Множество, содержащее   │   Коробка с пустой коробкой          │
│          │   пустое множество        │                                      │
│          │                           │                                      │
├──────────┼───────────────────────────┼──────────────────────────────────────┤
│          │                           │                                      │
│    2     │   {∅, {∅}}                │   { { }, { { } } }                   │
│          │   = {0, 1}                │   Коробка с: (пустой) и (коробкой    │
│          │                           │   с пустой)                          │
│          │                           │                                      │
├──────────┼───────────────────────────┼──────────────────────────────────────┤
│          │                           │                                      │
│    3     │   {∅, {∅}, {∅, {∅}}}     │   { { }, { { } }, { { }, { { } } } } │
│          │   = {0, 1, 2}             │   Коробка с 0, 1 и 2                 │
│          │                           │                                      │
├──────────┼───────────────────────────┼──────────────────────────────────────┤
│          │                           │                                      │
│    n     │   {0, 1, 2, ..., n-1}     │   Множество всех предыдущих чисел    │
│          │                           │                                      │
│          │   n = {k : k < n}         │   n содержит в себе все числа        │
│          │                           │   меньше себя                        │
│          │                           │                                      │
└──────────┴───────────────────────────┴──────────────────────────────────────┘

РЕКУРСИВНОЕ ОПРЕДЕЛЕНИЕ:
  
  0 := ∅
  n+1 := n ∪ {n}   (следующее число = предыдущее + множество с предыдущим)

ГЛУБИННЫЙ СМЫСЛ:

  • Из НИЧЕГО (∅) возникает ВСЁ
  • Каждое число СОДЕРЖИТ все предыдущие: 3 ⊃ 2 ⊃ 1 ⊃ 0
  • Число = "память" о всех предыдущих шагах
  • Построение чисел = последовательное проведение границ в пустоте

ОТ НАТУРАЛЬНЫХ К ОСТАЛЬНЫМ:

  ℕ = {0, 1, 2, 3, ...}     (определено выше)
        ↓
  ℤ = ℕ × ℕ / ~             (пары (a,b) как "a - b", с эквивалентностью)
        ↓
  ℚ = ℤ × ℤ* / ~            (пары (p,q) как "p/q", q≠0)
        ↓
  ℝ = {сечения Дедекинда}   (или последовательности Коши в ℚ)
        ↓
  ℂ = ℝ × ℝ                 (пары (a,b) как "a + bi")

Всё строится из ∅ последовательными актами проведения границ!

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДЕДЕКИНДОВО СЕЧЕНИЕ — КАК СОЗДАТЬ ИРРАЦИОНАЛЬНЫЕ ЧИСЛА ИЗ РАЦИОНАЛЬНЫХ      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: В ℚ есть "дырки"                                                  │
│   Уравнение x² = 2 не имеет решения в ℚ (доказательство — от противного)   │
│   Но на числовой прямой должна быть точка √2!                               │
│                                                                             │
│ ИДЕЯ ДЕДЕКИНДА (1858): определить число через РАЗРЕЗ прямой                 │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   Сечение (A, B) множества ℚ — это разбиение ℚ на два непустых класса:      │
│                                                                             │
│   • A — "нижний класс": все рациональные числа слева от разреза             │
│   • B — "верхний класс": все рациональные числа справа от разреза           │
│   • A ∪ B = ℚ,  A ∩ B = ∅                                                   │
│   • Любой элемент A меньше любого элемента B                                │
│   • В классе A нет наибольшего элемента (ключевое условие!)                 │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│   Числовая прямая ℚ:                                                        │
│   ←──●──●──●──●──●──│──●──●──●──●──●──→                                     │
│         A          ✂         B                                              │
│                 (разрез)                                                    │
│                                                                             │
│   Сечение для √2:                                                           │
│   A = {q ∈ ℚ : q < 0  или  q² < 2}     (все "слева от √2")                 │
│   B = {q ∈ ℚ : q > 0  и  q² ≥ 2}       (все "справа от √2")                │
│                                                                             │
│   В A нет наибольшего! Для любого q ∈ A с q² < 2 найдётся                  │
│   рациональное r > q с r² < 2.                                              │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ ВЕЩЕСТВЕННОГО ЧИСЛА:                                            │
│   ℝ := {все сечения (A, B) множества ℚ}                                     │
│                                                                             │
│ ДВА ТИПА СЕЧЕНИЙ:                                                           │
│   1. B имеет наименьший элемент q ∈ ℚ → сечение задаёт рациональное q       │
│   2. B не имеет наименьшего элемента → сечение задаёт ИРРАЦИОНАЛЬНОЕ число  │
│                                                                             │
│ АРИФМЕТИКА СЕЧЕНИЙ:                                                         │
│   (A₁, B₁) + (A₂, B₂) := (A₁ + A₂, ...) где A₁ + A₂ = {a₁ + a₂}            │
│   Аналогично определяются умножение, порядок и т.д.                         │
│                                                                             │
│ ГЛУБИННЫЙ СМЫСЛ:                                                            │
│   • Иррациональное число — это не объект, а ГРАНИЦА между объектами         │
│   • √2 — это не конкретная дробь, а место разреза числовой прямой           │
│   • Снова акт проведения границы создаёт новую сущность!                    │
│                                                                             │
│ АЛЬТЕРНАТИВА — ПОСЛЕДОВАТЕЛЬНОСТИ КОШИ:                                     │
│   ℝ можно также определить как классы эквивалентности                       │
│   фундаментальных последовательностей в ℚ                                   │
│   (последовательностей, где |aₙ − aₘ| → 0 при n, m → ∞)                    │
│                                                                             │
│   Пример: 1, 1.4, 1.41, 1.414, 1.4142, ... → √2                            │
│                                                                             │
│   Оба подхода дают одно и то же множество ℝ!                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОСЛЕДОВАТЕЛЬНОСТЬ КОШИ — СХОДИМОСТЬ БЕЗ ЗНАНИЯ ПРЕДЕЛА                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Как понять, что последовательность сходится,                      │
│           если мы НЕ ЗНАЕМ, к чему она сходится?                            │
│                                                                             │
│ ИДЕЯ КОШИ: Последовательность сходится, если её члены                       │
│            становятся СКОЛЬ УГОДНО БЛИЗКИ ДРУГ К ДРУГУ.                     │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   Последовательность {aₙ} называется последовательностью Коши              │
│   (или фундаментальной), если:                                              │
│                                                                             │
│   ∀ε > 0  ∃N ∈ ℕ:  ∀n,m > N  ⇒  |aₙ − aₘ| < ε                             │
│                                                                             │
│   Словами: начиная с некоторого номера N, расстояние между                  │
│   ЛЮБЫМИ двумя членами меньше любого наперёд заданного ε.                   │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│   Обычная последовательность:                                               │
│   "Все члены близки к ПРЕДЕЛУ a"                                            │
│                                                                             │
│         a₁    a₂  a₃ a₄a₅                                                   │
│    ──●───●────●──●●●●────────────→                                          │
│                   ↑                                                         │
│                   a (предел)                                                │
│                                                                             │
│   Последовательность Коши:                                                  │
│   "Все члены близки ДРУГ К ДРУГУ"                                           │
│                                                                             │
│         a₁      a₂    a₃  a₄ a₅ a₆ a₇...                                   │
│    ──●───────●─────●───●──●●●●●●────────→                                   │
│                        ├──┤                                                 │
│                         <ε                                                  │
│                    "слипаются"                                              │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│                                                                             │
│   ✓ КОШИ: aₙ = 1/n                                                          │
│     |aₙ − aₘ| = |1/n − 1/m| ≤ 1/n + 1/m → 0                                │
│     Члены: 1, 0.5, 0.33, 0.25, 0.2, ...  (слипаются около 0)               │
│                                                                             │
│   ✓ КОШИ: aₙ = 1 + 1/2 + 1/4 + ... + 1/2ⁿ                                  │
│     Частичные суммы геом. прогрессии: 1, 1.5, 1.75, 1.875, ...             │
│     Сходится к 2, члены всё ближе друг к другу                              │
│                                                                             │
│   ✗ НЕ КОШИ: aₙ = n                                                         │
│     |aₙ₊₁ − aₙ| = 1 — не стремится к 0, члены разбегаются                  │
│                                                                             │
│   ✗ НЕ КОШИ: aₙ = (−1)ⁿ                                                    │
│     |aₙ₊₁ − aₙ| = 2 — члены прыгают между −1 и 1                           │
│                                                                             │
│ ТЕОРЕМА (КРИТЕРИЙ КОШИ):                                                    │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   В ℝ (вещественных числах):                                            │ │
│ │                                                                         │ │
│ │   Последовательность сходится ⟺ Последовательность Коши                │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ВАЖНО: В ℚ это НЕ ТАК!                                                      │
│                                                                             │
│   Последовательность 1, 1.4, 1.41, 1.414, 1.4142, ... является Коши в ℚ,   │
│   но НЕ СХОДИТСЯ в ℚ, потому что √2 ∉ ℚ!                                   │
│                                                                             │
│   Это называется НЕПОЛНОТА ℚ.                                               │
│                                                                             │
│ ПОЛНОТА ℝ:                                                                  │
│   Множество ℝ называется ПОЛНЫМ, потому что в нём                           │
│   КАЖДАЯ последовательность Коши имеет предел.                              │
│   Это ключевое свойство, отличающее ℝ от ℚ!                                 │
│                                                                             │
│ КОНСТРУКЦИЯ КОШИ ДЛЯ ℝ:                                                     │
│   ℝ = {классы эквивалентности последовательностей Коши в ℚ}                │
│                                                                             │
│   Две последовательности {aₙ} ~ {bₙ} эквивалентны, если |aₙ − bₙ| → 0     │
│                                                                             │
│   Пример: (1, 1.4, 1.41, ...) ~ (1.5, 1.42, 1.415, ...) — обе "представляют" √2 │
│                                                                             │
│ ГЛУБИННЫЙ СМЫСЛ:                                                            │
│   Критерий Коши позволяет говорить о сходимости                             │
│   ВНУТРЕННИМ образом — через сами члены последовательности,                 │
│   не привлекая понятие "предела" извне.                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МОЩНОСТИ МНОЖЕСТВ — РАЗНЫЕ РАЗМЕРЫ БЕСКОНЕЧНОСТИ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Два множества имеют ОДИНАКОВУЮ МОЩНОСТЬ, если между ними есть биекция.      │
│ Для конечных множеств это очевидно: |{a,b,c}| = |{1,2,3}| = 3.              │
│                                                                             │
│ А для бесконечных? Кантор показал: есть РАЗНЫЕ бесконечности!               │
│                                                                             │
│ СЧЁТНЫЕ МНОЖЕСТВА (мощность ℵ₀ — "алеф-ноль"):                              │
│   Множество называется счётным, если существует биекция с ℕ.                │
│   То есть элементы можно "пронумеровать": a₁, a₂, a₃, ...                   │
│                                                                             │
│   • ℕ — счётно (тривиально)                                                 │
│   • ℤ — счётно! Биекция: 0, 1, −1, 2, −2, 3, −3, ...                       │
│   • ℚ — счётно! (удивительно — "больше" чисел, но та же мощность)           │
│   • ℕ × ℕ — счётно (диагональный обход)                                    │
│                                                                             │
│ НЕСЧЁТНЫЕ МНОЖЕСТВА (мощность > ℵ₀):                                        │
│   • ℝ — несчётно!                                                           │
│   • (0,1) — несчётно (биекция с ℝ через tan)                               │
│   • 𝒫(ℕ) — несчётно (множество всех подмножеств ℕ)                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДИАГОНАЛЬНЫЙ АРГУМЕНТ КАНТОРА — ПОЧЕМУ ℝ НЕСЧЁТНО                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМА: Множество ℝ (или даже отрезок [0,1]) несчётно.                     │
│                                                                             │
│ ДОКАЗАТЕЛЬСТВО (от противного):                                             │
│                                                                             │
│ Допустим, [0,1] счётно. Тогда все числа можно занумеровать:                 │
│                                                                             │
│   x₁ = 0. a₁₁ a₁₂ a₁₃ a₁₄ ...                                              │
│   x₂ = 0. a₂₁ a₂₂ a₂₃ a₂₄ ...                                              │
│   x₃ = 0. a₃₁ a₃₂ a₃₃ a₃₄ ...                                              │
│   x₄ = 0. a₄₁ a₄₂ a₄₃ a₄₄ ...                                              │
│   ...     ↘   ↘   ↘   ↘                                                    │
│              диагональ                                                      │
│                                                                             │
│ Построим число y = 0. b₁ b₂ b₃ b₄ ..., где:                                │
│                                                                             │
│   bₙ ≠ aₙₙ  (отличается от n-го числа в n-й цифре)                         │
│                                                                             │
│ Тогда y ≠ x₁ (отличается в 1-й цифре)                                      │
│       y ≠ x₂ (отличается во 2-й цифре)                                     │
│       y ≠ xₙ для любого n!                                                  │
│                                                                             │
│ Но y ∈ [0,1], значит y должно быть в списке. ПРОТИВОРЕЧИЕ!                 │
│                                                                             │
│ ВЫВОД: [0,1] нельзя занумеровать. Множество ℝ НЕСЧЁТНО.                     │
│                                                                             │
│ ГЛУБИННЫЙ СМЫСЛ:                                                            │
│   Диагональный аргумент — универсальный метод. Он показывает:               │
│   𝒫(A) ВСЕГДА имеет бо́льшую мощность, чем A (теорема Кантора).            │
│   Бесконечности образуют ИЕРАРХИЮ: ℵ₀ < 2^ℵ₀ < 2^(2^ℵ₀) < ...             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНТИНУУМ-ГИПОТЕЗА — ЗАГАДКА БЕЗ ОТВЕТА                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Мощность ℝ называется КОНТИНУУМ и обозначается c или 2^ℵ₀.                 │
│                                                                             │
│ ВОПРОС КАНТОРА (1878):                                                      │
│   Существует ли множество мощности МЕЖДУ ℵ₀ и c?                           │
│   То есть: бывает ли бесконечность "посередине" между ℕ и ℝ?               │
│                                                                             │
│ КОНТИНУУМ-ГИПОТЕЗА (CH): Нет, не существует. То есть c = ℵ₁.               │
│                                                                             │
│ ШОКИРУЮЩИЙ РЕЗУЛЬТАТ XX ВЕКА:                                               │
│                                                                             │
│   • Гёдель (1940): CH совместима с ZFC (нельзя опровергнуть)               │
│   • Коэн (1963):   ¬CH тоже совместима с ZFC (нельзя доказать)             │
│                                                                             │
│   ⇒ CH НЕЗАВИСИМА от аксиом ZFC!                                           │
│                                                                             │
│ Это не вопрос "мы пока не знаем". Это принципиально: в рамках ZFC          │
│ вопрос НЕ ИМЕЕТ ОТВЕТА. Можно работать в математике с CH или без неё.      │
│                                                                             │
│ ФИЛОСОФСКИЙ УРОК:                                                           │
│   Есть осмысленные математические вопросы, на которые аксиомы не отвечают. │
│   Математика — не единственная "истинная" система, а семейство возможных.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
5.2  РАСШИРЕНИЕ ЧИСЕЛ — ЧЕГО НЕ ХВАТАЕТ?
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ ИДЕЯ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Каждая числовая система возникает как ОТВЕТ на вопрос:                      │
│ "Какое уравнение не имеет решения?"                                         │
│                                                                             │
│ Расширяем числа → получаем решение → теряем какое-то свойство               │
│                                                                             │
│ ТЕРМИНОЛОГИЯ (строгие определения — см. A1.8):                              │
│   • ПОЛЕ = множество с +, ×, где всё кроме 0 обратимо (ℚ, ℝ, ℂ)           │
│   • КОЛЬЦО = поле без обязательного деления (ℤ)                            │
│   • АЛГЕБРА С ДЕЛЕНИЕМ = "почти поле", но возможно некоммутативное (ℍ, 𝕆) │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ЧИСЛОВЫХ СИСТЕМ                                                    │
├──────┬─────────────┬─────────────────┬──────────────────┬───────────────────┤
│ЧИСЛО │ УРАВНЕНИЕ   │ РЕШЕНИЕ         │ ЧТО ТЕРЯЕМ       │ ЧТО ПОЛУЧАЕМ      │
│      │ БЕЗ РЕШЕНИЯ │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ ℕ    │ x + 3 = 1   │ нет в ℕ         │ —                │ Счёт              │
│      │             │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ ℤ    │ 2x = 3      │ нет в ℤ         │ "всегда ≥ 0"     │ Вычитание         │
│      │             │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ ℚ    │ x² = 2      │ нет в ℚ         │ Дискретность     │ Деление           │
│      │             │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ ℝ    │ x² = −1     │ нет в ℝ         │ Счётность        │ Непрерывность     │
│      │             │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ ℂ    │ ВСЕ ЕСТЬ!   │ —               │ Порядок (<, >)   │ Алг. замкнутость  │
│      │             │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ ℍ    │ (спец.)     │ —               │ Коммутативность  │ 4D вращения       │
│      │             │                 │ ab ≠ ba          │                   │
│      │             │                 │                  │                   │
├──────┼─────────────┼─────────────────┼──────────────────┼───────────────────┤
│      │             │                 │                  │                   │
│ 𝕆    │ (спец.)     │ —               │ Ассоциативность  │ 8D, исключит.     │
│      │             │                 │ (ab)c ≠ a(bc)    │ структуры         │
│      │             │                 │                  │                   │
└──────┴─────────────┴─────────────────┴──────────────────┴───────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ                                                        │
│   │   │   │   │   │                                                         │
│   │   │   │   │   └── Плоскость (2D): a + bi                                │
│   │   │   │   └────── Прямая (1D): непрерывная                              │
│   │   │   └────────── Прямая (1D): с дырками (√2 нет)                       │
│   │   └────────────── Прямая (1D): целые точки                              │
│   └────────────────── Луч: 0, 1, 2, 3, ...                                  │
│                                                                             │
│   ℍ (кватернионы): 4D, базис {1, i, j, k},  i² = j² = k² = ijk = −1        │
│   𝕆 (октонионы):   8D, последняя алгебра с делением над ℝ                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА ФРОБЕНИУСА (1877)                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Единственные алгебры с делением над ℝ:  ℝ, ℂ, ℍ, 𝕆                          │
│                                                                             │
│ Размерности: 1, 2, 4, 8 — и ВСЁ! Больше нет.                                │
│                                                                             │
│ С каждым расширением теряем фундаментальное свойство:                       │
│   ℝ → ℂ:  теряем порядок                                                    │
│   ℂ → ℍ:  теряем коммутативность                                            │
│   ℍ → 𝕆:  теряем ассоциативность                                            │
│   𝕆 → 𝕊:  ТЕРЯЕМ ВОЗМОЖНОСТЬ ДЕЛИТЬ! (появляются делители нуля)            │
│                                                                             │
│ Седенионы 𝕊 (16D) и дальше — математически существуют, но бесполезны       │
│ для физики: в них ab = 0 возможно при a ≠ 0 и b ≠ 0.                       │
│ Поэтому цепочка ℝ → ℂ → ℍ → 𝕆 — это ВСЁ, что есть.                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОСНОВНАЯ ТЕОРЕМА АЛГЕБРЫ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Любой многочлен с комплексными коэффициентами имеет корень в ℂ.             │
│                                                                             │
│ Это значит: ℂ — ЗАМКНУТО относительно решения уравнений.                    │
│ Дальше расширять "ради уравнений" не нужно!                                 │
│                                                                             │
│ Поэтому ℂ называют "алгебраически замкнутым полем".                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧИСЛА КАК ТОЧКИ В ПРОСТРАНСТВАХ — ТОПОЛОГИЧЕСКИЕ РАЗЛИЧИЯ                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                                    ℂ (плоскость)                            │
│                                     │                                       │
│                              ┌──────┴──────┐                                │
│                              │             │                                │
│                              │      ●      │ ← i = √(-1)                    │
│                              │      │      │                                │
│   ───●────●────●────●────●───┼──────●──────┼────●────●────●────●────●───    │
│     -2   -1    0    1    2   │      │      │                                │
│     ├───────────────────────────────┤   ℝ (прямая)                          │
│           ℤ (решётка)        │      │      │                                │
│           ●    ●    ●        │      ●      │ ← -i                           │
│                              │             │                                │
│                              └─────────────┘                                │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│ ТОПОЛОГИЧЕСКИЕ СВОЙСТВА                                                     │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ┌───────────┬───────────────────────────────────────────────────────────┐   │
│ │ ПРОСТР.   │ ТОПОЛОГИЧЕСКИЕ СВОЙСТВА                                   │   │
│ ├───────────┼───────────────────────────────────────────────────────────┤   │
│ │ ℕ, ℤ      │ Дискретная топология: каждая точка — открытое множество  │   │
│ │           │ Не компактно, не связно (каждая точка — компонента)       │   │
│ ├───────────┼───────────────────────────────────────────────────────────┤   │
│ │ ℚ         │ Всюду плотно в ℝ, но "дырявое"                           │   │
│ │           │ Не полно (последовательность → √2 не имеет предела в ℚ)  │   │
│ │           │ Не связно! (ℚ = (−∞,√2)∩ℚ ∪ (√2,+∞)∩ℚ — разбиение)      │   │
│ ├───────────┼───────────────────────────────────────────────────────────┤   │
│ │ ℝ         │ Полное, связное, локально компактное                      │   │
│ │           │ Единственное полное упорядоченное поле!                   │   │
│ ├───────────┼───────────────────────────────────────────────────────────┤   │
│ │ ℂ         │ Полное, связное, локально компактное                      │   │
│ │           │ Алгебраически замкнуто (любой многочлен имеет корень)     │   │
│ │           │ НЕТ порядка, совместимого с операциями!                   │   │
│ └───────────┴───────────────────────────────────────────────────────────┘   │
│                                                                             │
│ КЛЮЧЕВАЯ МЫСЛЬ:                                                             │
│   ℕ ⊂ ℤ ⊂ ℚ ⊂ ℝ ⊂ ℂ  — это не просто "добавление чисел".                 │
│   На каждом шаге меняется ТОПОЛОГИЯ и АЛГЕБРАИЧЕСКАЯ СТРУКТУРА пространства.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
6.  СЛОВАРЬ МАТЕМАТИЧЕСКОГО ЖАРГОНА
═══════════════════════════════════════════════════════════════════════════════

Математики используют слова, которые редко объясняются в учебниках.
Вот словарь самых частых "невидимых" терминов.

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАНОНИЧЕСКОЕ (canonical)                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ = "естественное", "единственное", "не требующее произвольного выбора"      │
│                                                                             │
│ ПРИМЕР:                                                                     │
│   • V** ≅ V — канонический изоморфизм (есть естественное соответствие)     │
│   • V* ≅ V — НЕ канонический (нужно выбрать базис, результат зависит от    │
│              выбора)                                                        │
│                                                                             │
│ Когда говорят "канонический" — значит есть ОДИН ПРАВИЛЬНЫЙ способ,         │
│ и не нужно делать никаких дополнительных выборов.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОРРЕКТНО ОПРЕДЕЛЕНО / ХОРОШО ОПРЕДЕЛЕНО (well-defined)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ = "результат не зависит от способа представления"                          │
│                                                                             │
│ ПРОБЛЕМА: Иногда один и тот же объект можно записать по-разному.           │
│           Функция корректно определена, если даёт одинаковый ответ         │
│           для всех представлений.                                          │
│                                                                             │
│ ПРИМЕР 1 (некорректно):                                                     │
│   Пусть f: ℤ/3ℤ → ℤ, f([x]) = остаток x при делении на 2.                 │
│   Проверим: f([0]) = 0, f([3]) = 1.                                        │
│   Но [0] = [3] в ℤ/3ℤ! Значит f([0]) должно = f([3]).                      │
│   Противоречие: 0 ≠ 1. Функция f НЕ корректно определена.                  │
│                                                                             │
│ ПРИМЕР 2 (корректно):                                                       │
│   Пусть g: ℤ/6ℤ → ℤ/2ℤ, g([x]) = [x mod 2].                                │
│   Проверим: если [x] = [y] в ℤ/6ℤ, то x ≡ y (mod 6).                       │
│   Значит x ≡ y (mod 2), и [x mod 2] = [y mod 2].                           │
│   Функция g корректно определена. ✓                                        │
│                                                                             │
│ МОРАЛЬ: При работе с классами эквивалентности ВСЕГДА проверяйте            │
│         корректность определения.                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ БЕЗ ПОТЕРИ ОБЩНОСТИ (WLOG = without loss of generality)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ = "достаточно рассмотреть частный случай, остальные сводятся к нему"       │
│                                                                             │
│ ПРИМЕР 1:                                                                   │
│   Теорема: |a + b| ≤ |a| + |b|                                             │
│   Доказательство: "Б.п.о. пусть a ≥ 0."                                    │
│   Почему можно? Если a < 0, заменим a на −a (модуль не изменится),         │
│   и вернёмся к случаю a ≥ 0.                                               │
│                                                                             │
│ ПРИМЕР 2:                                                                   │
│   Доказать что-то для двух точек A и B.                                    │
│   "Б.п.о. пусть A левее B."                                                │
│   Почему можно? Можем переименовать: A ↔ B.                                │
│                                                                             │
│ КОГДА МОЖНО ИСПОЛЬЗОВАТЬ:                                                   │
│   • Есть симметрия в условии (a и b равноправны)                           │
│   • Можно привести к нужному случаю заменой переменных                     │
│   • Операция (переименование, смена знака) не меняет суть задачи           │
│                                                                             │
│ КОГДА НЕЛЬЗЯ:                                                               │
│   • Условия для a и b разные                                               │
│   • Преобразование меняет структуру задачи                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТРИВИАЛЬНЫЙ / НЕТРИВИАЛЬНЫЙ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТРИВИАЛЬНЫЙ = "очевидный", "пустой", "простейший возможный"                │
│ НЕТРИВИАЛЬНЫЙ = "содержательный", "не сводящийся к очевидному"             │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Тривиальное решение Ax = 0: x = 0                                      │
│   • Тривиальная подгруппа: {e} или вся G                                   │
│   • Нетривиальный корень: x ≠ 0                                            │
│                                                                             │
│ ИРОНИЯ: Что "тривиально" для профессора, может быть сложным для студента.  │
│         "Тривиально следует..." часто означает "я не хочу это объяснять".  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ СИМВОЛ ∘ ДЛЯ КОМПОЗИЦИИ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Запись (f ∘ g)(x) = f(g(x)) означает: "применить сначала g, потом f".      │
│                                                                             │
│ ПОЧЕМУ СПРАВА НАЛЕВО:                                                       │
│   Из записи f(g(x)) — сначала вычисляем g(x), потом f от результата.       │
│   Внутренняя функция применяется первой!                                   │
│                                                                             │
│ ПРОИСХОЖДЕНИЕ СИМВОЛА:                                                      │
│   ∘ — маленький кружок, "связующее звено" между функциями.                 │
│   Введён в XIX веке для краткости.                                         │
│                                                                             │
│ АЛЬТЕРНАТИВНАЯ НОТАЦИЯ (редко):                                             │
│   f ; g = g ∘ f — "сначала f, потом g" (читается слева направо)            │
│   Используется в некоторых языках программирования и теории категорий.     │
│                                                                             │
│ ЗАПОМНИТЬ: f ∘ g читать как "f после g" или "f круг g".                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЕДИНСТВЕННЫЙ С ТОЧНОСТЬЮ ДО... (unique up to...)                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ = "единственный, если не различать объекты определённого типа"             │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • "Базис единственен с точностью до порядка" — можно переставить векторы │
│   • "Решение единственно с точностью до знака" — есть ровно два: x и −x    │
│   • "Группа единственна с точностью до изоморфизма" — все такие группы     │
│     изоморфны друг другу                                                   │
│                                                                             │
│ СМЫСЛ: Есть несколько объектов, но они "одинаковы" в определённом смысле.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
7.  ТИПИЧНЫЕ ОШИБКИ В РАССУЖДЕНИЯХ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОШИБКА 1: Путать импликацию A⇒B с эквивалентностью A⟺B                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   A ⇒ B  НЕ ОЗНАЧАЕТ  B ⇒ A                                               │
│                                                                             │
│   ВЕРНО:  "Если n делится на 4, то n делится на 2"                        │
│   НЕВЕРНО: "Если n делится на 2, то n делится на 4"                        │
│            Контрпример: n = 6 делится на 2, но 6 не делится на 4.         │
│                                                                             │
│   ПРАВИЛЬНЫЕ ОТНОШЕНИЯ:                                                    │
│     A ⇒ B   (прямая импликация)                                           │
│     B ⇒ A   (обратная импликация) — ДРУГОЕ утверждение!                   │
│     ¬B ⇒ ¬A (контрапозиция) — ЭКВИВАЛЕНТНА прямой                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОШИБКА 2: Круговое доказательство                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   НЕПРАВИЛЬНО: "Докажем A. Предположим A. Тогда... Значит A. ∎"            │
│                                                                             │
│   Это НЕ доказательство! Вы использовали A для доказательства A.           │
│                                                                             │
│   БОЛЕЕ ТОНКАЯ ВЕРСИЯ:                                                     │
│   "Из A следует B. Из B следует C. Из C следует A."                       │
│   Это доказывает A ⟺ B ⟺ C, но НЕ доказывает, что A истинно!             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОШИБКА 3: Путать порядок кванторов ∀x∃y и ∃y∀x                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ∀x ∃y: P(x,y)  — для КАЖДОГО x существует СВОЙ y (y зависит от x)       │
│   ∃y ∀x: P(x,y)  — существует ОДИН y, работающий для ВСЕХ x               │
│                                                                             │
│   ПРИМЕР: Непрерывность vs равномерная непрерывность                       │
│                                                                             │
│   ∀ε>0 ∀x ∃δ>0: ...  — δ может зависеть от x и ε (просто непрерывность)   │
│   ∀ε>0 ∃δ>0 ∀x: ...  — δ одна для всех x (равномерная непрерывность)      │
│                                                                             │
│   Это РАЗНЫЕ свойства! f(x) = 1/x непрерывна на (0,1), но не равномерно.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОШИБКА 4: Деление на выражение, которое может быть нулём                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   НЕПРАВИЛЬНО: "Из ax = ay делим на a, получаем x = y"                    │
│                                                                             │
│   А если a = 0? Тогда 0 = 0 верно для ЛЮБЫХ x, y!                          │
│                                                                             │
│   ПРАВИЛЬНО: "Если a ≠ 0, то из ax = ay следует x = y."                   │
│              "Если a = 0, то равенство выполнено для любых x, y."          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОШИБКА 5: Один пример — не доказательство                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   НЕПРАВИЛЬНО: "41 простое, 41+2=43 тоже простое.                          │
│                 Значит, если p простое, то p+2 тоже простое."              │
│                                                                             │
│   Контрпример: 7 простое, но 7+2 = 9 = 3² не простое.                      │
│                                                                             │
│   АСИММЕТРИЯ:                                                               │
│     • Для доказательства ∀x P(x) нужно проверить ВСЕ x                     │
│     • Для опровержения ∀x P(x) достаточно ОДНОГО x с ¬P(x)                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОШИБКА 6: Отождествлять необходимое и достаточное                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   A — ДОСТАТОЧНОЕ условие для B:  A ⇒ B  (если A, то точно B)             │
│   A — НЕОБХОДИМОЕ условие для B:  B ⇒ A  (без A не бывает B)              │
│                                                                             │
│   ПРИМЕР: "Быть квадратом" для "делиться на 4"                             │
│                                                                             │
│   Достаточное? n = k² ⇒ n делится на 4?  НЕТ! (9 = 3², но 9 ∤ 4)          │
│   Необходимое? n делится на 4 ⇒ n квадрат? НЕТ! (8 делится на 4, 8 ≠ k²)  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
8.  ЗАЧЕМ СИМВОЛЫ ВМЕСТО СЛОВ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВОПРОС: Почему математики пишут ∀ε>0 ∃δ>0 вместо слов?                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРИЧИНА 1: КОМПАКТНОСТЬ                                                    │
│                                                                             │
│   СЛОВАМИ:                                                                 │
│   "Для любого положительного числа эпсилон найдётся такое положительное    │
│    число дельта, что для всех x, если модуль разности x и a меньше дельта, │
│    то модуль разности f от x и L меньше эпсилон."                          │
│                                                                             │
│   СИМВОЛАМИ:                                                               │
│   ∀ε>0 ∃δ>0 ∀x: |x−a|<δ ⇒ |f(x)−L|<ε                                     │
│                                                                             │
│   Одна строка вместо четырёх!                                              │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРИЧИНА 2: ТОЧНОСТЬ                                                        │
│                                                                             │
│   Порядок кванторов виден СРАЗУ:                                           │
│                                                                             │
│   ∀ε ∃δ  — для каждого ε свой δ (обычная непрерывность)                   │
│   ∃δ ∀ε  — один δ для всех ε (ДРУГОЕ свойство!)                           │
│                                                                             │
│   Словами это легко перепутать.                                            │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРИЧИНА 3: МАНИПУЛЯЦИЯ                                                     │
│                                                                             │
│   Логические правила применяются механически:                              │
│                                                                             │
│   ¬(∀x P(x)) = ∃x ¬P(x)   — просто переворачиваем квантор и отрицаем P    │
│   ¬(∃x P(x)) = ∀x ¬P(x)                                                    │
│                                                                             │
│   Словами такие преобразования легко запутать.                             │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СОВЕТ ДЛЯ ЧТЕНИЯ:                                                          │
│   При первом чтении переводите символы в слова ВСЛУХ.                      │
│   "Для всех эпсилон больше нуля существует дельта больше нуля..."          │
│                                                                             │
│ СОВЕТ ДЛЯ НАПИСАНИЯ:                                                       │
│   Используйте символы для точности структуры.                              │
│   Добавляйте словесные пояснения для интуиции.                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
9.  ПОЧЕМУ ТЕРМИНЫ ТАК НАЗЫВАЮТСЯ (этимология)
═══════════════════════════════════════════════════════════════════════════════

Понимание происхождения терминов помогает запомнить их смысл.

┌─────────────────────────────────────────────────────────────────────────────┐
│ АЛГЕБРАИЧЕСКИЕ ТЕРМИНЫ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЯДРО (kernel, от нем. Kern = зерно, сердцевина):                           │
│   Историческая метафора: "сердцевина" того, что теряется при отображении.  │
│   Ядро — это то, что "схлопывается" в нейтральный элемент.                 │
│   ker(φ) = {x : φ(x) = 0} — центральная часть "потерь".                   │
│                                                                             │
│ ОБРАЗ (image, от лат. imago = отражение):                                   │
│   Буквально: "картинка", "отражение" исходного множества.                  │
│   Im(f) = f(A) — куда "отображается" множество A.                          │
│                                                                             │
│ ГОМОМОРФИЗМ (ὁμός = одинаковый, μορφή = форма):                            │
│   "Сохраняющий форму" — переносит операции без изменения структуры.        │
│   φ(a · b) = φ(a) · φ(b) — операция "выглядит одинаково" до и после.       │
│                                                                             │
│ ИЗОМОРФИЗМ (ἴσος = равный):                                                │
│   "Равноформенный" — структуры полностью идентичны алгебраически.          │
│   Биективный гомоморфизм: ничего не теряется, ничего не склеивается.       │
│                                                                             │
│ ГРУППА (фр. groupe, нем. Gruppe):                                           │
│   Введено Галуа (1830-е) для "группы подстановок корней уравнения".        │
│   Исходно: набор симметрий, связанных с алгебраическим уравнением.         │
│                                                                             │
│ КОЛЬЦО (нем. Ring):                                                         │
│   Изначально: циклические структуры типа ℤ/nℤ, которые "закольцовываются". │
│   Дедекинд (1871) использовал для "колец целых чисел" в полях.             │
│                                                                             │
│ ПОЛЕ (нем. Körper = тело, англ. field):                                     │
│   Немецкий термин "тело" = пространство для полноценной арифметики.        │
│   Английский "field" = область/поле деятельности для всех операций.        │
│   Поле — где можно делить на всё ненулевое.                                │
│                                                                             │
│ ИДЕАЛ (от Куммера, 1840-е):                                                 │
│   Изначально "идеальные числа" — фиктивные элементы для восстановления     │
│   единственности разложения на простые множители.                          │
│   Дедекинд формализовал как подмножество кольца.                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЕОМЕТРИЧЕСКИЕ И ТОПОЛОГИЧЕСКИЕ ТЕРМИНЫ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТОПОЛОГИЯ (τόπος = место, λόγος = учение):                                 │
│   "Наука о местах/расположении" — изучает, что рядом с чем.                │
│   Введено Листингом (1847): "Топология — геометрия положения".             │
│                                                                             │
│ МНОГООБРАЗИЕ (manifold, от нем. Mannigfaltigkeit):                          │
│   "Много-образное" — может выглядеть по-разному в разных местах,           │
│   но ЛОКАЛЬНО всегда как ℝⁿ. Риман (1854).                                │
│                                                                             │
│ ГОМОТОПИЯ (ὁμός = одинаковый, τόπος = место):                              │
│   Два пути "одноместны" = можно непрерывно деформировать один в другой.    │
│                                                                             │
│ СИМПЛЕКС (лат. simplex = простой):                                          │
│   Простейший многогранник в данной размерности:                            │
│   точка → отрезок → треугольник → тетраэдр → ...                          │
│                                                                             │
│ КОМПАКТНЫЙ (лат. compactus = плотно сжатый):                                │
│   Множество "плотно упаковано" — из любого покрытия можно выбрать          │
│   конечное подпокрытие. Нет "бесконечных дыр" или "убегания в бесконечность"│
│                                                                             │
│ СВЯЗНЫЙ (connected):                                                        │
│   "Цельный" — нельзя разбить на два непересекающихся открытых множества.   │
│   Можно дойти из любой точки в любую, не выходя из множества.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АНАЛИТИЧЕСКИЕ ТЕРМИНЫ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ НЕПРЕРЫВНЫЙ (continuous, от лат. continuus = связный):                      │
│   "Без разрывов" — малые изменения аргумента дают малые изменения значения.│
│                                                                             │
│ ДИФФЕРЕНЦИРУЕМЫЙ (от лат. differentia = разность):                          │
│   Можно вычислить "разностное отношение" и перейти к пределу.              │
│   Функция "различима" — можно увидеть, как она меняется.                   │
│                                                                             │
│ ИНТЕГРАЛ (от лат. integer = целый):                                         │
│   "Восстановление целого" из частей (суммирование бесконечно малых).       │
│   Лейбниц использовал ∫ как стилизованную букву S (summa).                 │
│                                                                             │
│ СХОДИМОСТЬ (convergence, от лат. convergere = склоняться к):                │
│   Члены последовательности "склоняются к" одной точке.                     │
│                                                                             │
│ ПРЕДЕЛ (limit, от лат. limes = граница):                                    │
│   "Граница", к которой стремится последовательность или функция.           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
10.  КАТЕГОРНЫЙ ВЗГЛЯД — ЯЗЫК ДЛЯ ВСЕГО, ЧТО ДАЛЕЕ
═══════════════════════════════════════════════════════════════════════════════

Прежде чем перейти к конкретным структурам (группы, пространства, многообразия),
введём ЯЗЫК, на котором все они описываются единообразно.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ ИДЕЯ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Математические объекты важны не сами по себе, а через ОТНОШЕНИЯ между ними.│
│                                                                             │
│ Категория = ОБЪЕКТЫ + СТРЕЛКИ (морфизмы) между ними                        │
│                                                                             │
│      A ──f──► B ──g──► C                                                   │
│                                                                             │
│ Объекты: то, ЧТО мы изучаем (множества, группы, пространства...)           │
│ Стрелки: КАК объекты связаны (функции, гомоморфизмы, непрерывные отобр...) │
│                                                                             │
│ КЛЮЧЕВОЕ СВОЙСТВО: стрелки можно КОМПОЗИРОВАТЬ (g∘f: A → C)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ КАТЕГОРИЙ (которые встретятся далее)                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────┬─────────────────────┬──────────────────────────────────┐   │
│ │ КАТЕГОРИЯ    │ ОБЪЕКТЫ             │ СТРЕЛКИ                          │   │
│ ├──────────────┼─────────────────────┼──────────────────────────────────┤   │
│ │ Set          │ Множества           │ Функции                          │   │
│ │ Grp          │ Группы (A1)         │ Гомоморфизмы                     │   │
│ │ Vect         │ Вект. пр-ва (A3)    │ Линейные отображения             │   │
│ │ Top          │ Топ. пр-ва (A2)     │ Непрерывные отображения          │   │
│ │ Man          │ Многообразия (A7)   │ Гладкие отображения              │   │
│ └──────────────┴─────────────────────┴──────────────────────────────────┘   │
│                                                                             │
│ Во всех этих случаях ПАТТЕРН один:                                         │
│   • Есть объекты с какой-то структурой                                     │
│   • Есть отображения, СОХРАНЯЮЩИЕ эту структуру                            │
│   • Отображения можно композировать                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТО НУЖНО СЕЙЧАС                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В Части II вы встретите много АНАЛОГИЙ:                                     │
│                                                                             │
│   • Подгруппа (A1) ↔ Подпространство (A3) ↔ Подмногообразие (A7)           │
│   • Гомоморфизм ↔ Линейное отображение ↔ Гладкое отображение               │
│   • Ядро ↔ Ядро ↔ Ядро                                                     │
│   • Факторгруппа ↔ Факторпространство ↔ ...                                │
│                                                                             │
│ Это НЕ СЛУЧАЙНОСТЬ. Это ОДИН И ТОТ ЖЕ ПАТТЕРН в разных категориях.        │
│                                                                             │
│ Когда увидите такую аналогию — вы узнаёте категорную структуру.            │
│                                                                             │
│ Подробно: раздел A12 (Категории и функторы)                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════

▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀

▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                              ЧАСТЬ II: ПРОСТРАНСТВА
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▀


───────────────────────────────────────────────────────────────────────────────
          ВВЕДЕНИЕ: РАЗНЫЕ ВЗГЛЯДЫ НА ОДНО ПРОСТРАНСТВО

═══════════════════════════════════════════════════════════════════════════════
ТРИ ЗАДАЧИ НА ПРОСТРАНСТВАХ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ Что можно делать с математическими объектами?                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Любая работа с пространством (и вообще с математическим объектом)          │
│ сводится к одной из ТРЁХ ЗАДАЧ:                                            │
│                                                                             │
│   КЛАССИФИКАЦИЯ — что это за объект? что возможно в принципе?              │
│   ВЫЧИСЛЕНИЯ    — найти конкретное значение внутри известного              │
│   ПОСТРОЕНИЕ    — создать новый объект из имеющихся                        │
│                                                                             │
│ Эти три задачи ИСЧЕРПЫВАЮТ всё, что можно делать в математике.             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССИФИКАЦИЯ — НОРМАТИВНЫЕ ГРАНИЦЫ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Классификация отвечает: ЧТО ЭТО? ЧТО ВОЗМОЖНО В ПРИНЦИПЕ?                  │
│                                                                             │
│ Результат: "это X, а не Y", "это возможно / невозможно", "таких ровно N"   │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Замкнутых поверхностей ровно столько: сферы с ручками + неориентир.    │
│   • Твёрдое тело имеет 6 степеней свободы (не 5, не 7)                     │
│   • Уравнение 5-й степени НЕ решается в радикалах (группа S₅ неразрешима)  │
│   • Поле F = grad φ существует ⟺ rot F = 0 И область односвязна           │
│   • Сфера и тор НЕ гомеоморфны (разные π₁, разные χ)                       │
│                                                                             │
│ Классификация устанавливает ГРАНИЦЫ — что можно искать, а что бессмысленно.│
│                                                                             │
│ ИНСТРУМЕНТЫ: топологические инварианты, группы симметрий, теоремы          │
│ существования/единственности.                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВЫЧИСЛЕНИЯ — НАЙТИ КОНКРЕТНОЕ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Вычисления отвечают: ГДЕ ИМЕННО? СКОЛЬКО? КАКОЕ ЗНАЧЕНИЕ?                  │
│                                                                             │
│ Результат: число, координаты, формула, конкретный объект                   │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Найти корни уравнения x³ − 2x + 1 = 0                                  │
│   • Вычислить интеграл ∫₀^∞ e^{−x²} dx = √π/2                              │
│   • Найти собственные значения матрицы                                     │
│   • Определить кратчайший путь на поверхности (геодезическую)              │
│   • Найти минимум функции на компакте                                      │
│                                                                             │
│ Вычисления работают ВНУТРИ границ, установленных классификацией.           │
│ Если классификация говорит "не существует" — вычислять нечего.             │
│                                                                             │
│ ИНСТРУМЕНТЫ: алгоритмы, методы оптимизации, численные методы,              │
│ аналитические техники.                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОСТРОЕНИЕ — СОЗДАТЬ НОВОЕ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Построение отвечает: КАК ПОЛУЧИТЬ НОВЫЙ ОБЪЕКТ ИЗ ИМЕЮЩИХСЯ?               │
│                                                                             │
│ Результат: новый объект, которого раньше не было                           │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • a × b — новый вектор из двух данных                                    │
│   • V ⊗ W — новое пространство из двух данных                              │
│   • G/H — факторгруппа (новая группа из группы и подгруппы)                │
│   • ℚ → ℝ — пополнение (новое пространство из старого)                     │
│   • Произведение M × N — новое многообразие                                │
│   • Касательное расслоение TM — новое пространство над M                   │
│   • Дополнительные построения в геометрии (провести прямую, опустить ⊥)   │
│                                                                             │
│ ОТЛИЧИЕ ОТ ВЫЧИСЛЕНИЙ: вычисление НАХОДИТ существующее (корень уже есть,   │
│ мы его ищем). Построение СОЗДАЁТ — до операции a × b этого вектора не было.│
│                                                                             │
│ ИНСТРУМЕНТЫ: операции (×, ⊗, ∧, /, ×), конструкции (пополнение,           │
│ накрытие, расширение), универсальные свойства.                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ ТРЁХ ЗАДАЧ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                      КЛАССИФИКАЦИЯ                                          │
│                      "что возможно?"                                        │
│                           │                                                 │
│              ┌────────────┴────────────┐                                    │
│              ↓                         ↓                                    │
│        ПОСТРОЕНИЕ                ВЫЧИСЛЕНИЯ                                 │
│      "создать новое"           "найти внутри"                               │
│              │                         │                                    │
│              └──────────┬──────────────┘                                    │
│                         ↓                                                   │
│                   НОВЫЕ ОБЪЕКТЫ                                             │
│                         │                                                   │
│                         ↓                                                   │
│              КЛАССИФИКАЦИЯ НОВЫХ...                                         │
│                                                                             │
│ Классификация устанавливает границы →                                       │
│   Построение создаёт объекты внутри границ →                               │
│     Вычисления находят конкретные значения →                               │
│       Результаты могут требовать новой классификации                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГДЕ ЧТО ИСКАТЬ В ЭТОЙ ЧАСТИ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КЛАССИФИКАЦИЯ (что возможно, инварианты, типы):                            │
│   A1. Группы — классификация симметрий и движений                          │
│   A2. Топология — классификация пространств по форме                       │
│   A9. Теория чисел — классификация чисел                                   │
│                                                                             │
│ ВЫЧИСЛЕНИЯ (найти значение, решить уравнение):                             │
│   A3. Линейная алгебра — системы уравнений, собственные значения           │
│   A13. Анализ — производные, интегралы, ряды                               │
│   A15. Функциональный анализ — уравнения в бесконечной размерности         │
│                                                                             │
│ ПОСТРОЕНИЕ (создать новый объект):                                          │
│   A4. Произведения векторов — ⟨,⟩, ×, ∧, ⊗                                 │
│   A5. Двойственность — V → V*                                              │
│   A6. Тензоры — мультилинейные конструкции                                 │
│   A7. Многообразия — склейка из карт                                       │
│   A8. Дифф. формы — формы из векторов                                      │
│                                                                             │
│ Большинство разделов включают ВСЕ ТРИ задачи в разных пропорциях.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


───────────────────────────────────────────────────────────────────────────────

П3. ТАБЛИЦА ПРОСТРАНСТВ — ЦЕНТРАЛЬНАЯ ТАБЛИЦА ДОКУМЕНТА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОСТРАНСТВО — центральный объект математики                                │
│                                                                             │
│ Вся математика изучает ПРОСТРАНСТВА и СТРУКТУРЫ на них:                     │
│   • Топология: форма пространства (дырки, связность)                        │
│   • Алгебра: симметрии пространства (группы)                                │
│   • Анализ: функции на пространстве                                         │
│   • Геометрия: измерения на пространстве (метрика, кривизна)                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ПРОСТРАНСТВ — ЧТО ДОБАВЛЯЕТСЯ НА КАЖДОМ УРОВНЕ                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   МНОЖЕСТВО (просто набор точек)                                            │
│       │ + топология (понятие "близости", открытые множества)                │
│       ↓                                                                     │
│   ТОПОЛОГИЧЕСКОЕ ПРОСТРАНСТВО                                               │
│       │ + локальная евклидовость (похоже на ℝⁿ в малом)                     │
│       ↓                                                                     │
│   МНОГООБРАЗИЕ                                                              │
│       │ + метрика (способ измерять расстояния)                              │
│       ↓                                                                     │
│   РИМАНОВО МНОГООБРАЗИЕ                                                     │
│       │ + физические уравнения                                              │
│       ↓                                                                     │
│   ПРОСТРАНСТВО-ВРЕМЯ (ОТО)                                                  │
│                                                                             │
│   Параллельная ветвь:                                                       │
│                                                                             │
│   МНОЖЕСТВО                                                                 │
│       │ + линейная структура (сложение, умножение на число)                 │
│       ↓                                                                     │
│   ВЕКТОРНОЕ ПРОСТРАНСТВО                                                    │
│       │ + скалярное произведение                                            │
│       ↓                                                                     │
│   ЕВКЛИДОВО ПРОСТРАНСТВО ℝⁿ                                                 │
│       │ + бесконечная размерность                                           │
│       ↓                                                                     │
│   ГИЛЬБЕРТОВО ПРОСТРАНСТВО (квантовая механика)                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

ГЛАВНЫЕ ПРОСТРАНСТВА — КАТАЛОГ:

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБОЗНАЧЕНИЯ В ТАБЛИЦЕ:                                                      │
│                                                                             │
│   dim = размерность (сколько координат нужно для описания точки)            │
│   π₁  = фундаментальная группа (какие петли нельзя стянуть в точку?)        │
│         0 означает "все петли стягиваются", ℤ — "есть одна незамкнутая"     │
│   H₁  = первая группа гомологий (похоже на π₁, но абелева версия)           │
│   χ   = эйлерова характеристика = V − E + F (вершины − рёбра + грани)       │
│         Инвариант формы: сфера χ=2, тор χ=0, проект. плоскость χ=1          │
│                                                                             │
│   Подробнее об инвариантах — см. A2.7 и П5.                                 │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────┬─────┬───────┬───────┬─────┬─────────────────────────────────────┐
│ ПРОСТРАНСТВО│dim  │ π₁    │ H₁    │  χ  │ ЧТО ЭТО / ГДЕ ВСТРЕЧАЕТСЯ           │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Точка {*}   │  0  │   0   │   0   │  1  │ Тривиальное; нульмерный "мир"       │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Прямая ℝ    │  1  │   0   │   0   │  —  │ Некомпактна; время, температура     │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Окружность  │  1  │   ℤ   │   ℤ   │  0  │ S¹ = {|z|=1}; углы, фазы, периоды  │
│ S¹          │     │       │       │     │ Группа U(1)!                        │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Плоскость   │  2  │   0   │   0   │  —  │ Некомпактна; обычная геометрия      │
│ ℝ²          │     │       │       │     │                                     │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Сфера S²    │  2  │   0   │   0   │  2  │ Поверхность шара; Земля, небо       │
│             │     │       │       │     │ Все петли стягиваются!              │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Тор T²      │  2  │  ℤ²   │  ℤ²   │  0  │ Бублик = S¹×S¹; два угла           │
│             │     │       │       │     │ Периодические граничные условия     │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Проективная │  2  │  ℤ/2  │  ℤ/2  │  1  │ ℝP² = "направления прямых"          │
│ плоскость   │     │       │       │     │ Неориентируема!                     │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ Бутылка     │  2  │ ℤ⋊ℤ   │ℤ⊕ℤ/2 │  0  │ Неориентируема; 4D нужно           │
│ Клейна K    │     │       │       │     │                                     │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ 3-сфера S³  │  3  │   0   │   0   │  0  │ ≅ SU(2)! Пространство вращений      │
│             │     │       │       │     │ (с точностью до ±)                  │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ SO(3)       │  3  │  ℤ/2  │  ℤ/2  │  —  │ Все вращения в ℝ³                   │
│             │     │       │       │     │ ≅ ℝP³ (не S³!)                      │
│             │     │       │       │     │                                     │
├─────────────┼─────┼───────┼───────┼─────┼─────────────────────────────────────┤
│             │     │       │       │     │                                     │
│ ℝ⁴ (простр- │  4  │   0   │   0   │  —  │ Пространство-время (СТО)            │
│ время СТО)  │     │       │       │     │ Плоское, метрика Минковского        │
│             │     │       │       │     │                                     │
└─────────────┴─────┴───────┴───────┴─────┴─────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССИФИКАЦИЯ ЗАМКНУТЫХ ПОВЕРХНОСТЕЙ (dim = 2)                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМА: Любая замкнутая поверхность — это:                                 │
│                                                                             │
│   ОРИЕНТИРУЕМАЯ:        Сфера с g ручками (род g)                           │
│                                                                             │
│     g = 0     g = 1     g = 2                                               │
│       ○         ◎        ◎◎      χ = 2 − 2g                                 │
│     сфера     тор      "кренделёк"                                          │
│                                                                             │
│   НЕОРИЕНТИРУЕМАЯ:      Сфера с k "крестышками" (Мёбиус вклеен)             │
│                                                                             │
│     k = 1     k = 2                                                         │
│      ℝP²       K        χ = 2 − k                                           │
│   проект.   Клейна                                                          │
│                                                                             │
│ Это ПОЛНАЯ классификация! Других замкнутых поверхностей нет.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ ПРОСТРАНСТВ С ГРУППАМИ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Многие важные пространства ОДНОВРЕМЕННО являются группами:                  │
│                                                                             │
│   S¹ ≅ U(1) ≅ SO(2)    — окружность = группа вращений плоскости             │
│   S³ ≅ SU(2)           — 3-сфера = группа (двойное накрытие SO(3))          │
│   SO(3) ≅ ℝP³          — вращения в 3D = проективное пространство           │
│   GL(n), SL(n), O(n)   — группы матриц = многообразия                       │
│                                                                             │
│ Это ГРУППЫ ЛИ — группы, которые одновременно многообразия!                  │
│                                                                             │
│ Фундаментальная группа π₁ ТОЖЕ связывает:                                   │
│   π₁(S¹) = ℤ           — целые числа как группа                             │
│   π₁(T²) = ℤ²          — решётка                                            │
│   π₁(∨ₙS¹) = Fₙ        — свободная группа                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П6. ТРИ ОТНОШЕНИЯ К ПРОСТРАНСТВУ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ Задача: определить предмет каждой области математики                       │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────┬────────────────┬──────────────────────────────────┐
│ ОБЛАСТЬ                  │ ГЛАГОЛ         │ ВОПРОС                           │
├──────────────────────────┼────────────────┼──────────────────────────────────┤
│ Дифференциальная         │   ИЗМЕРЯЕТ     │ Как устроено ИЗНУТРИ?            │
│ геометрия                │                │ (кривизна, метрика, углы)        │
├──────────────────────────┼────────────────┼──────────────────────────────────┤
│ Алгебраическая           │   РАЗЛИЧАЕТ    │ Чем ОТЛИЧАЕТСЯ от других?        │
│ топология                │                │ (инварианты: π₁, Hₙ)             │
├──────────────────────────┼────────────────┼──────────────────────────────────┤
│ Теория групп             │  ПРЕОБРАЗУЕТ   │ Что МОЖНО С НИМ СДЕЛАТЬ?         │
│                          │                │ (симметрии, действия)            │
└──────────────────────────┴────────────────┴──────────────────────────────────┘

СЛОВО "АЛГЕБРАИЧЕСКИЙ":

┌──────────────────────────┬────────────────────────────────────────────────────┐
│ АЛГЕБРАИЧЕСКАЯ ТОПОЛОГИЯ │ Пространство → Группа.  Алгебра как ИНСТРУМЕНТ.    │
│ АЛГЕБРАИЧЕСКАЯ ГЕОМЕТРИЯ │ Уравнения → Пространство. Алгебра как ИСТОЧНИК.    │
└──────────────────────────┴────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
                    КАРТА ЧАСТИ II: СТРУКТУРЫ НА ПРОСТРАНСТВАХ
═══════════════════════════════════════════════════════════════════════════════

Часть II — это сердце атласа. Здесь мы изучаем СТРУКТУРЫ, которые можно
надевать на пространства. Порядок разделов отражает логику построения:

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАРШРУТ ЧЕРЕЗ ЧАСТЬ II                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ▶ БЛОК 1: ТРИ БАЗОВЫХ ВЗГЛЯДА НА ПРОСТРАНСТВО                              │
│   A1 Группы      — ЧТО МОЖНО ДЕЛАТЬ? (симметрии, преобразования)           │
│   A2 Топология   — ЧТО РЯДОМ? (близость без расстояний)                    │
│   A3 Линалг      — КАК СКЛАДЫВАТЬ? (векторные операции)                    │
│                                                                             │
│ ▶ БЛОК 2: УГЛУБЛЕНИЕ ЛИНЕЙНОЙ СТРУКТУРЫ                                    │
│   A4 Произведения векторов — разные способы умножать                       │
│   A5 Двойственность — пространство и его "тень"                            │
│   A6 Тензоры — мультилинейные объекты                                      │
│                                                                             │
│ ▶ БЛОК 3: ДИФФЕРЕНЦИАЛЬНАЯ ГЕОМЕТРИЯ                                       │
│   A7 Многообразия — пространства, похожие на ℝⁿ локально                  │
│   A8 Формы — язык интегрирования на многообразиях                          │
│                                                                             │
│ ▶ БЛОК 4: ДИСКРЕТНЫЕ СТРУКТУРЫ                                             │
│   A9 Порядок — отношение "больше/меньше"                                   │
│   A10 Графы — связи между объектами                                        │
│                                                                             │
│ ▶ БЛОК 5: РАСШИРЕНИЯ И ОБОБЩЕНИЯ                                           │
│   A11 Комплексные числа — алгебра + геометрия                              │
│   A12 Категории — математика о математике                                  │
│                                                                             │
│ ▶ БЛОК 6: АНАЛИЗ И ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ                                   │
│   A13 Матанализ — пределы, производные, интегралы                          │
│   A14 Ряды — бесконечные суммы                                             │
│   A15 Функанализ — бесконечномерные пространства                           │
│   A16 Мера — правильное понятие "размера"                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Эти блоки не изолированы — между ними множество связей. Но такой порядок
позволяет строить понимание последовательно, не забегая вперёд.

═══════════════════════════════════════════════════════════════════════════════


═══════════════════════════════════════════════════════════════════════════════
A1. ГРУППА — СИММЕТРИИ ПРОСТРАНСТВА
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРУППА КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Группа — это множество ПРЕОБРАЗОВАНИЙ пространства, сохраняющих его         │
│ структуру. Разные группы "видят" в одном пространстве разные вещи:          │
│                                                                             │
│   • SO(3) видит в ℝ³ ВРАЩЕНИЯ (сохраняет расстояния и ориентацию)          │
│   • GL(n) видит ЛИНЕЙНОСТЬ (сохраняет прямые и начало координат)           │
│   • Симметрии кристалла видят ДИСКРЕТНУЮ РЕШЁТКУ                           │
│                                                                             │
│ "Группа — это то, что действует на пространство."                           │
│                                    — Феликс Клейн                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОТКУДА ВЗЯЛИСЬ ГРУППЫ — ИСТОРИЯ                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Уравнения 1, 2, 3, 4 степени — решаются формулами (Кардано, Феррари).       │
│ Уравнение 5 степени: x⁵ + ax⁴ + bx³ + cx² + dx + e = 0                      │
│                                                                             │
│   300 лет искали формулу. Галуа (в 20 лет!) доказал: её НЕ СУЩЕСТВУЕТ.     │
│                                                                             │
│ КАК? Он связал уравнение с ГРУППОЙ перестановок его корней:                 │
│   Если эта группа "разрешима" → формула существует.                         │
│   Группа перестановок 5 элементов — не разрешима → формулы нет!             │
│                                                                             │
│ Так родилась теория групп — из вопроса о решении уравнений.                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│ ФИЗИЧЕСКИЙ ВЗГЛЯД: СТЕПЕНИ СВОБОДЫ ТВЁРДОГО ТЕЛА                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Возьмём любой предмет — книгу, камень, молекулу.                           │
│ Какие движения с ним возможны, если нельзя деформировать?                  │
│                                                                             │
│ СДВИГИ: можно перенести в любую точку пространства.                        │
│         Три направления: вперёд-назад, влево-вправо, вверх-вниз → 3 числа. │
│                                                                             │
│ ПОВОРОТЫ: можно повернуть вокруг любой оси.                                │
│           Ось (2 параметра) + угол (1 параметр) → 3 числа.                 │
│                                                                             │
│ ИТОГО: 6 параметров. Положение твёрдого тела описывается 6 числами.        │
│        Не 5, не 7 — именно 6. Это факт о структуре пространства ℝ³.        │
│                                                                             │
│ Множество всех таких движений называется SE(3) — специальная евклидова     │
│ группа.                                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ЭТО ГРУППА — СВОЙСТВА ДВИЖЕНИЙ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Движения обладают определёнными свойствами:                                │
│                                                                             │
│ 1. ДВА ДВИЖЕНИЯ ПОДРЯД — ТОЖЕ ДВИЖЕНИЕ                                      │
│    Сначала сдвинуть, потом повернуть — получится какое-то движение.        │
│    Не выходим за пределы SE(3).                                            │
│                                                                             │
│ 2. ПОРЯДОК ГРУППИРОВКИ НЕ ВАЖЕН                                             │
│    (A потом B) потом C = A потом (B потом C)                               │
│    Это свойство композиции любых отображений.                              │
│                                                                             │
│ 3. ЕСТЬ "НИЧЕГО НЕ ДЕЛАТЬ"                                                  │
│    Тождественное движение — оставить всё на месте.                         │
│                                                                             │
│ 4. ЛЮБОЕ ДВИЖЕНИЕ МОЖНО ОТМЕНИТЬ                                            │
│    Сдвинули на 3 метра вправо → сдвигаем на 3 метра влево.                 │
│    Повернули на 30° → поворачиваем на −30°.                                │
│                                                                             │
│ Эти четыре свойства — АКСИОМЫ ГРУППЫ.                                      │
│ Они не придуманы, а СЛЕДУЮТ из природы понятия "движение".                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РАЗНЫЕ ОГРАНИЧЕНИЯ — РАЗНЫЕ ГРУППЫ                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Какие движения "разрешены" зависит от того, что нужно сохранить:           │
│                                                                             │
│ ┌──────────────────────┬───────────────┬────────────────────────────────┐   │
│ │ ЧТО СОХРАНЯЕМ        │ ГРУППА        │ ГДЕ ВСТРЕЧАЕТСЯ                │   │
│ ├──────────────────────┼───────────────┼────────────────────────────────┤   │
│ │ Расстояния и углы    │ E(3)          │ Твёрдое тело (с отражениями)   │   │
│ │ + ориентацию         │ SE(3)         │ Твёрдое тело (без отражений)   │   │
│ │ Только углы          │ Конформная    │ Картография, комплексный анализ│   │
│ │ Параллельность       │ Aff(3)        │ Тени при солнечном свете       │   │
│ │ Только прямизну      │ PGL(3)        │ Перспектива в живописи         │   │
│ │ Объём                │ SL(3)         │ Несжимаемая жидкость           │   │
│ │ Линейность           │ GL(3)         │ Любая линейная деформация      │   │
│ └──────────────────────┴───────────────┴────────────────────────────────┘   │
│                                                                             │
│ Меньше ограничений → больше группа: SE(3) ⊂ E(3) ⊂ SL(3) ⊂ GL(3) ⊂ Aff(3)  │
│                                                                             │
│ Это КЛАССИФИКАЦИЯ: группа описывает, какие преобразования возможны.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТОЛЬКО ПОВОРОТЫ — ГРУППА SO(3)                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если объект закреплён в одной точке (волчок, гироскоп, спутник),           │
│ остаются только повороты. Это группа SO(3).                                │
│                                                                             │
│   SO(3) = { повороты ℝ³ вокруг начала координат }                          │
│         = { ортогональные матрицы 3×3 с det = +1 }                         │
│                                                                             │
│ Размерность: 3 (три угла Эйлера, или ось + угол).                          │
│                                                                             │
│ ВАЖНЫЙ ФАКТ: SO(3) — НЕАБЕЛЕВА группа.                                      │
│                                                                             │
│   Повернуть по X, потом по Y  ≠  повернуть по Y, потом по X                │
│                                                                             │
│   Можете проверить с книгой:                                                │
│   1) положите книгу, поверните на 90° вокруг вертикали, потом              │
│      на 90° вокруг горизонтальной оси "от себя"                            │
│   2) сделайте в обратном порядке                                           │
│   Результаты разные!                                                        │
│                                                                             │
│ Это не абстракция — управление спутником должно это учитывать.             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДИСКРЕТНЫЕ СИММЕТРИИ — КОНЕЧНЫЕ ГРУППЫ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Не все объекты допускают любые повороты.                                   │
│ Кристалл соли (куб) выглядит одинаково только при определённых поворотах.  │
│                                                                             │
│ СИММЕТРИИ КВАДРАТА — группа D₄:                                             │
│                                                                             │
│    1───2     Исходный         2───1    Поворот на 90°                      │
│    │   │     квадрат          │   │                                        │
│    │   │                      │   │                                        │
│    4───3                      3───4                                        │
│                                                                             │
│ Возможные преобразования:                                                   │
│   • 4 поворота: на 0°, 90°, 180°, 270°                                     │
│   • 4 отражения: относительно горизонтали, вертикали, двух диагоналей      │
│                                                                             │
│ Всего 8 элементов. Не 7, не 9 — ровно 8.                                   │
│ Это ПОЛНЫЙ ответ на вопрос "какие симметрии у квадрата".                   │
│                                                                             │
│ СИММЕТРИИ ПРАВИЛЬНЫХ МНОГОГРАННИКОВ:                                        │
│                                                                             │
│ ┌────────────────────┬──────────────┬───────────────────────────────────┐   │
│ │ МНОГОГРАННИК       │ ГРУППА       │ ЧИСЛО СИММЕТРИЙ                   │   │
│ ├────────────────────┼──────────────┼───────────────────────────────────┤   │
│ │ Тетраэдр           │ Td           │ 24                                │   │
│ │ Куб / Октаэдр      │ Oh           │ 48 (они двойственны!)             │   │
│ │ Додекаэдр / Икосаэдр│ Ih          │ 120                               │   │
│ └────────────────────┴──────────────┴───────────────────────────────────┘   │
│                                                                             │
│ Куб и октаэдр имеют ОДИНАКОВУЮ группу симметрий — они "геометрически       │
│ эквивалентны" в смысле симметрий (двойственные многогранники).             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.1  ГРУППА — МОТИВАЦИЯ И ПРИМЕРЫ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ: СИММЕТРИИ КВАДРАТА                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│    1───2     Исходный         2───1    Поворот 90°      4───3   Поворот 180°│
│    │   │     квадрат          │   │    против часовой   │   │              │
│    │   │                      │   │                     │   │              │
│    4───3                      3───4                     1───2              │
│                                                                             │
│    1───4     Отражение        2───3    Отражение        Всего 8 симметрий: │
│    │   │     (верт. ось)      │   │    (гориз. ось)     • 4 поворота       │
│    │   │                      │   │                     • 4 отражения       │
│    2───3                      1───4                                         │
│                                                                             │
│   Любые ДВЕ симметрии можно скомбинировать → получится симметрия.          │
│   У каждой симметрии есть ОБРАТНАЯ (вернуть назад).                        │
│   Есть ТОЖДЕСТВЕННАЯ симметрия (ничего не делать).                          │
│                                                                             │
│   Это и есть ГРУППА D₄ — группа диэдра (симметрий квадрата).               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРУППА КАК МНОЖЕСТВО ПРЕОБРАЗОВАНИЙ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Группа формализует понятие "множество обратимых преобразований".            │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ АКСИОМА           │ СМЫСЛ В ТЕРМИНАХ ПРЕОБРАЗОВАНИЙ                   │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Замкнутость       │ Композиция двух преобразований — преобразование   │   │
│ │ Ассоциативность   │ (f∘g)∘h = f∘(g∘h)                                │   │
│ │ Нейтральный эл.   │ Тождественное преобразование id                   │   │
│ │ Обратный элемент  │ Каждое преобразование обратимо                    │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ: Группа симметрий объекта X — множество всех биекций X → X,    │
│              сохраняющих структуру X.                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕОБХОДИМОСТЬ АКСИОМ                                                        │
├─────────────────────┬───────────────────────────────────────────────────────┤
│ АКСИОМА             │ ПОЧЕМУ НЕОБХОДИМА                                     │
├─────────────────────┼───────────────────────────────────────────────────────┤
│ Композиция          │ Последовательное применение симметрий — симметрия    │
│ Нейтральный         │ Тождественное отображение сохраняет структуру        │
│ Обратный            │ Обратное к симметрии — симметрия                     │
│ Ассоциативность     │ Следует из ассоциативности композиции функций        │
└─────────────────────┴───────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.2  ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ ГРУППЫ                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Группа (G, ·) — множество G с бинарной операцией · : G × G → G,            │
│ удовлетворяющей аксиомам:                                                   │
│                                                                             │
│ ПРИМЕЧАНИЕ О НОТАЦИИ: Запись (G, ·) — это КОРТЕЖ (упорядоченная пара),     │
│ где первый элемент — множество-носитель, второй — операция (сигнатура).    │
│ Это НЕ то же самое, что пара {{G}, {G, ·}} из теории множеств (раздел 3). │
│ Здесь скобки означают "структура = носитель + операции".                    │
│                                                                             │
│   ┌──────────────────┬───────────────────────┬──────────────────────────┐   │
│   │ АКСИОМА          │ ФОРМУЛА               │ СМЫСЛ                    │   │
│   ├──────────────────┼───────────────────────┼──────────────────────────┤   │
│   │                  │                       │                          │   │
│   │ G1. Замкнутость  │ ∀a,b ∈ G: a·b ∈ G     │ Результат — элемент G    │   │
│   │                  │                       │                          │   │
│   │ G2. Ассоциатив-  │ ∀a,b,c ∈ G:           │ Скобки не важны          │   │
│   │     ность        │ (a·b)·c = a·(b·c)     │                          │   │
│   │                  │                       │                          │   │
│   │ G3. Нейтральный  │ ∃e ∈ G: ∀a ∈ G:       │ "Ничего не делать"       │   │
│   │     элемент      │ e·a = a·e = a         │                          │   │
│   │                  │                       │                          │   │
│   │ G4. Обратный     │ ∀a ∈ G ∃a⁻¹ ∈ G:      │ Всё можно отменить       │   │
│   │     элемент      │ a·a⁻¹ = a⁻¹·a = e     │                          │   │
│   │                  │                       │                          │   │
│   └──────────────────┴───────────────────────┴──────────────────────────┘   │
│                                                                             │
│ ПРИМЕЧАНИЯ:                                                                 │
│   • Нейтральный элемент ЕДИНСТВЕННЫЙ (докажите!)                            │
│   • Обратный элемент для каждого a ЕДИНСТВЕННЫЙ                             │
│   • (a⁻¹)⁻¹ = a                                                            │
│   • (a·b)⁻¹ = b⁻¹·a⁻¹  (порядок меняется!)                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АБЕЛЕВЫ vs НЕАБЕЛЕВЫ ГРУППЫ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Абелева группа: ∀a,b: a·b = b·a (коммутативность)                           │
│                                                                             │
├──────────────────────────────┬──────────────────────────────────────────────┤
│ АБЕЛЕВЫ (порядок НЕ важен)   │ НЕАБЕЛЕВЫ (порядок ВАЖЕН)                    │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                              │                                              │
│ (ℤ, +): 2+3 = 3+2            │ D₄: поворот∘отражение ≠ отражение∘поворот   │
│ (ℝ, +): π+e = e+π            │ Sₙ (n≥3): перестановки                       │
│ (ℝ*, ×): 2×3 = 3×2           │ GL(n): матрицы AB ≠ BA                       │
│ (ℤ/n, +): циклические        │ SO(3): вращения в 3D                         │
│                              │                                              │
└──────────────────────────────┴──────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.3  ПРИМЕРЫ ГРУПП — ПОДРОБНО
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР 1: ЦЕЛЫЕ ЧИСЛА (ℤ, +)                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множество: ℤ = {..., -2, -1, 0, 1, 2, 3, ...}                               │
│ Операция:  сложение +                                                       │
│                                                                             │
│ ПРОВЕРКА АКСИОМ:                                                            │
│                                                                             │
│   G1. Замкнутость:   a + b ∈ ℤ для любых a, b ∈ ℤ               ✓          │
│                      (сумма целых — целое)                                  │
│                                                                             │
│   G2. Ассоциативность: (a+b)+c = a+(b+c)                         ✓          │
│                        (2+3)+4 = 5+4 = 9                                    │
│                        2+(3+4) = 2+7 = 9                                    │
│                                                                             │
│   G3. Нейтральный:   e = 0,  потому что a + 0 = 0 + a = a       ✓          │
│                                                                             │
│   G4. Обратный:      a⁻¹ = −a,  потому что a + (−a) = 0         ✓          │
│                                                                             │
│ Дополнительно: a + b = b + a  →  АБЕЛЕВА группа                             │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ: Сдвиги по числовой прямой                                     │
│                                                                             │
│     ←──────────●──────────→                                                 │
│     ... -2  -1  0  1  2  3 ...                                              │
│                                                                             │
│     +3 = "сдвинуться вправо на 3"                                           │
│     −2 = "сдвинуться влево на 2"                                            │
│      0 = "остаться на месте"                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР 2: ЦИКЛИЧЕСКАЯ ГРУППА ℤ/n (или ℤₙ)                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множество: ℤ/n = {0, 1, 2, ..., n−1}                                        │
│ Операция:  сложение по модулю n                                             │
│                                                                             │
│ ПРИМЕР: ℤ/4 = {0, 1, 2, 3} — "арифметика часов" с 4 делениями              │
│                                                                             │
│     ТАБЛИЦА КЭЛИ (таблица умножения группы):                                │
│                                                                             │
│       +  │  0    1    2    3                                                │
│     ─────┼────────────────────                                              │
│       0  │  0    1    2    3       0 — нейтральный элемент                  │
│       1  │  1    2    3    0       (строка и столбец для 0                  │
│       2  │  2    3    0    1        совпадают с заголовками)                │
│       3  │  3    0    1    2                                                │
│                                                                             │
│   Проверка: 2 + 3 = 5 mod 4 = 1  ✓ (см. таблицу)                            │
│             3 + 3 = 6 mod 4 = 2  ✓                                          │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                   Нейтральный: e = 0                          │
│                                 Обратные:                                   │
│        0                          0⁻¹ = 0  (0+0=0)                          │
│     3     1                       1⁻¹ = 3  (1+3=4≡0)                        │
│        2                          2⁻¹ = 2  (2+2=4≡0)                        │
│                                   3⁻¹ = 1  (3+1=4≡0)                        │
│   Сдвиги по кругу из 4 точек                                                │
│                                                                             │
│ ГЕНЕРАТОР: Элемент g, степени которого дают всю группу.                     │
│            В ℤ/4: g = 1, потому что 1, 1+1=2, 1+1+1=3, 1+1+1+1=0           │
│            Также g = 3 подходит: 3, 3+3=2, 3+3+3=1, 3+3+3+3=0              │
│            Но g = 2 не подходит: 2, 2+2=0, 2+2+2=2, ... (не все элементы)  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР 3: СИММЕТРИИ РАВНОСТОРОННЕГО ТРЕУГОЛЬНИКА D₃                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Симметрии треугольника — все способы положить его "тем же образом":         │
│                                                                             │
│         1                                                                   │
│        /\              Повороты:   e  = не вращать                          │
│       /  \                         r  = на 120° против часовой              │
│      /    \                        r² = на 240° (= r∘r)                     │
│     /______\                                                                │
│    3        2          Отражения:  s₁ = относительно высоты из 1            │
│                                    s₂ = относительно высоты из 2            │
│                                    s₃ = относительно высоты из 3            │
│                                                                             │
│ Всего 6 элементов: D₃ = {e, r, r², s₁, s₂, s₃}                             │
│                                                                             │
│     ТАБЛИЦА КЭЛИ (композиция: сначала столбец, потом строка):               │
│                                                                             │
│       ∘   │  e    r    r²   s₁   s₂   s₃                                    │
│     ──────┼──────────────────────────────                                   │
│       e   │  e    r    r²   s₁   s₂   s₃                                    │
│       r   │  r    r²   e    s₃   s₁   s₂                                    │
│       r²  │  r²   e    r    s₂   s₃   s₁                                    │
│       s₁  │  s₁   s₂   s₃   e    r    r²                                    │
│       s₂  │  s₂   s₃   s₁   r²   e    r                                     │
│       s₃  │  s₃   s₁   s₂   r    r²   e                                     │
│                                                                             │
│ НАБЛЮДЕНИЯ:                                                                 │
│   • r ∘ s₁ = s₂,  но  s₁ ∘ r = s₃  →  НЕАБЕЛЕВА!                           │
│   • Подгруппа поворотов {e, r, r²} ≅ ℤ/3 — абелева                         │
│   • Каждое отражение: sᵢ² = e (применить дважды = ничего)                  │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ: D₃ описывает симметрию молекулы с треугольной структурой  │
│                   (например, BF₃ — трифторид бора)                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР 4: ГРУППЫ ПЕРЕСТАНОВОК Sₙ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Sₙ = все перестановки n элементов                                           │
│ |Sₙ| = n! элементов                                                         │
│                                                                             │
│ ПРИМЕР: S₃ — все перестановки {1, 2, 3}                                     │
│                                                                             │
│   Обозначение:  σ = (σ(1), σ(2), σ(3))                                      │
│                                                                             │
│     e   = (1, 2, 3)  — тождественная перестановка                           │
│     σ₁  = (1, 3, 2)  — меняет местами 2 и 3                                 │
│     σ₂  = (3, 2, 1)  — меняет местами 1 и 3                                 │
│     σ₃  = (2, 1, 3)  — меняет местами 1 и 2                                 │
│     σ₄  = (2, 3, 1)  — циклический сдвиг 1→2→3→1                            │
│     σ₅  = (3, 1, 2)  — циклический сдвиг 1→3→2→1                            │
│                                                                             │
│ Композиция: (σ ∘ τ)(x) = σ(τ(x))  — сначала τ, потом σ                     │
│                                                                             │
│ ЦИКЛОВАЯ ЗАПИСЬ (более компактная):                                         │
│   σ₃ = (1 2) — транспозиция (меняет 1↔2, остальные на месте)               │
│   σ₄ = (1 2 3) — 3-цикл (1→2, 2→3, 3→1)                                    │
│                                                                             │
│ ФАКТ: S₃ ≅ D₃ (группа перестановок 3 элементов изоморфна симметриям △)     │
│                                                                             │
│ КРИТИЧЕСКИ ВАЖНО:                                                           │
│   S₅ — "неразрешимая" группа (не имеет определённой структуры),            │
│   поэтому уравнение 5-й степени не решается в радикалах!                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР 5: НЕНУЛЕВЫЕ ДЕЙСТВИТЕЛЬНЫЕ ЧИСЛА (ℝ*, ×)                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множество: ℝ* = ℝ \ {0} = все действительные, кроме нуля                    │
│ Операция:  умножение ×                                                      │
│                                                                             │
│ ПРОВЕРКА АКСИОМ:                                                            │
│                                                                             │
│   G1. Замкнутость:   a × b ∈ ℝ* для a, b ≠ 0                    ✓          │
│                      (произведение ненулевых ненулевое)                     │
│                                                                             │
│   G2. Ассоциативность: (a×b)×c = a×(b×c)                         ✓          │
│                                                                             │
│   G3. Нейтральный:   e = 1,  потому что a × 1 = 1 × a = a       ✓          │
│                                                                             │
│   G4. Обратный:      a⁻¹ = 1/a,  потому что a × (1/a) = 1       ✓          │
│                      (вот почему 0 исключён — у него нет обратного!)        │
│                                                                             │
│ ПОЧЕМУ (ℝ, ×) НЕ ГРУППА:                                                    │
│   0 × (что угодно) = 0,  но 0 × ? = 1 не имеет решения.                     │
│   У нуля нет обратного элемента!                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО НЕ ЯВЛЯЕТСЯ ГРУППОЙ — КОНТРПРИМЕРЫ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├────────────────────────┬──────────────────────────┬─────────────────────────┤
│ СТРУКТУРА              │ ПОЧЕМУ НЕ ГРУППА         │ КАК ИСПРАВИТЬ           │
├────────────────────────┼──────────────────────────┼─────────────────────────┤
│                        │                          │                         │
│ (ℕ, +)                 │ Нет обратных:            │ → (ℤ, +) добавить       │
│ натуральные            │ 3 + ? = 0 не решается    │   отрицательные         │
│                        │                          │                         │
├────────────────────────┼──────────────────────────┼─────────────────────────┤
│                        │                          │                         │
│ (ℤ, ×)                 │ Обратные не целые:       │ → (ℚ*, ×) перейти       │
│ целые                  │ 2⁻¹ = ½ ∉ ℤ             │   к рациональным        │
│                        │                          │                         │
├────────────────────────┼──────────────────────────┼─────────────────────────┤
│                        │                          │                         │
│ (ℝ, ×)                 │ 0 не имеет обратного     │ → (ℝ*, ×) убрать 0      │
│ действительные         │ 0 × ? = 1 не решается    │                         │
│                        │                          │                         │
├────────────────────────┼──────────────────────────┼─────────────────────────┤
│                        │                          │                         │
│ Матрицы n×n с ×        │ det=0 → нет обратной     │ → GL(n) только          │
│                        │                          │   обратимые (det≠0)     │
│                        │                          │                         │
└────────────────────────┴──────────────────────────┴─────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.4  ПОДГРУППЫ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ                                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ H ≤ G называется ПОДГРУППОЙ G (обозначение ≤, а не ⊆!), если H — группа    │
│ относительно той же операции (наследованной от G).                          │
│                                                                             │
│ ⚠️ Обозначение H ≤ G стандартно для подгрупп, H ⊆ G — для подмножеств.     │
│                                                                             │
│ КРИТЕРИЙ ПОДГРУППЫ (удобный для проверки):                                  │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │  H ≤ G  ⟺  H ≠ ∅  И  ∀a,b ∈ H: a·b⁻¹ ∈ H                           │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ (Одно условие вместо четырёх аксиом!)                                       │
│                                                                             │
│ ПОЧЕМУ РАБОТАЕТ:                                                            │
│   • H ≠ ∅ ⇒ ∃a ∈ H ⇒ a·a⁻¹ = e ∈ H  (нейтральный есть)                    │
│   • e ∈ H ⇒ e·b⁻¹ = b⁻¹ ∈ H  (обратные есть)                               │
│   • a, b⁻¹ ∈ H ⇒ a·(b⁻¹)⁻¹ = a·b ∈ H  (замкнутость)                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ПОДГРУПП                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ГРУППА              ПОДГРУППА            ОБОЗНАЧЕНИЕ                      │
│   ─────────────────────────────────────────────────────                     │
│   (ℤ, +)              Чётные числа 2ℤ      2ℤ < ℤ                          │
│                       Кратные 3: 3ℤ        3ℤ < ℤ                          │
│                       Кратные n: nℤ        nℤ < ℤ                          │
│                                                                             │
│   (ℝ*, ×)             Положительные ℝ⁺     ℝ⁺ < ℝ*                         │
│                       {1, −1}              {±1} < ℝ*                        │
│                                                                             │
│   D₄ (симметрии □)    Повороты {e, r, r², r³}     ≅ ℤ/4                    │
│                       {e, r²}                      ≅ ℤ/2                    │
│                       {e, s} для любого отражения  ≅ ℤ/2                    │
│                                                                             │
│   GL(n) (обратимые    SL(n) = {A : det A = 1}     специальная лин. группа  │
│   матрицы)            O(n) = {A : AᵀA = I}        ортогональная группа     │
│                       SO(n) = O(n) ∩ SL(n)         спец. ортогональная     │
│                                                                             │
│ ТРИВИАЛЬНЫЕ ПОДГРУППЫ:                                                      │
│   {e} — тривиальная подгруппа (есть в любой группе)                         │
│   G — сама группа (несобственная подгруппа)                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА ЛАГРАНЖА                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │  Если G — конечная группа и H — подгруппа G, то:                    │   │
│   │                                                                     │   │
│   │              |H| делит |G|                                          │   │
│   │                                                                     │   │
│   │  Более того: |G| = |H| × [G : H], где [G : H] — индекс подгруппы   │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ СЛЕДСТВИЯ:                                                                  │
│                                                                             │
│   • Порядок элемента делит порядок группы                                   │
│     (порядок элемента a = наименьшее n: aⁿ = e)                             │
│                                                                             │
│   • Группа простого порядка p — циклическая                                 │
│     (других подгрупп, кроме {e} и G, нет!)                                  │
│                                                                             │
│   • В S₄ (24 элемента) подгруппы могут иметь порядок                        │
│     1, 2, 3, 4, 6, 8, 12, 24 (делители 24)                                  │
│     Подгруппы порядка 5 или 7 НЕВОЗМОЖНЫ                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.5  ГОМОМОРФИЗМЫ И ИЗОМОРФИЗМЫ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГОМОМОРФИЗМ — ОТОБРАЖЕНИЕ, СОХРАНЯЮЩЕЕ СТРУКТУРУ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Отображение φ: G → H называется ГОМОМОРФИЗМОМ групп, если:                  │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │  ∀a, b ∈ G:   φ(a · b) = φ(a) ∗ φ(b)                                │   │
│   │                                                                     │   │
│   │  "Образ произведения = произведение образов"                        │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ СВОЙСТВА (следуют автоматически):                                           │
│   • φ(eG) = eH            (образ нейтрального — нейтральный)                │
│   • φ(a⁻¹) = φ(a)⁻¹       (образ обратного — обратный)                     │
│                                                                             │
│ ПРИМЕРЫ ГОМОМОРФИЗМОВ:                                                      │
│                                                                             │
│ ┌───────────────────────────┬──────────────────────────────────────────────┐│
│ │ ГОМОМОРФИЗМ               │ ПРОВЕРКА: φ(a·b) = φ(a)*φ(b)                 ││
│ ├───────────────────────────┼──────────────────────────────────────────────┤│
│ │ exp: (ℝ,+) → (ℝ⁺,×)       │ exp(a+b) = exp(a)×exp(b) ✓                  ││
│ │ det: (GL(n),×) → (ℝ*,×)   │ det(AB) = det(A)×det(B) ✓                   ││
│ │ sign: (Sₙ,∘) → ({±1},×)   │ sign(σ∘τ) = sign(σ)×sign(τ) ✓              ││
│ │ mod n: (ℤ,+) → (ℤ/n,+)    │ (a+b) mod n = (a mod n)+(b mod n) ✓        ││
│ └───────────────────────────┴──────────────────────────────────────────────┘│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЯДРО И ОБРАЗ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для гомоморфизма φ: G → H:                                                  │
│                                                                             │
│ ┌───────────────────┬──────────────────────────┬──────────────────────────┐ │
│ │ ПОНЯТИЕ           │ ОПРЕДЕЛЕНИЕ              │ СВОЙСТВА                 │ │
│ ├───────────────────┼──────────────────────────┼──────────────────────────┤ │
│ │ Ker(φ)            │ {a ∈ G : φ(a) = eH}      │ Нормальная подгруппа G   │ │
│ │ (ядро)            │ Что переходит в нейтр.   │ φ инъект. ⟺ Ker={e}     │ │
│ ├───────────────────┼──────────────────────────┼──────────────────────────┤ │
│ │ Im(φ)             │ {φ(a) : a ∈ G} ⊆ H       │ Подгруппа H              │ │
│ │ (образ)           │ Куда попадает G          │ φ сюръект. ⟺ Im=H       │ │
│ └───────────────────┴──────────────────────────┴──────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: φ: ℤ → ℤ/6,  φ(k) = k mod 6                                         │
│   Ker(φ) = 6ℤ = {..., −12, −6, 0, 6, 12, ...}                              │
│   Im(φ)  = ℤ/6 = {0, 1, 2, 3, 4, 5}                                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ★ ПЕРВАЯ ТЕОРЕМА ОБ ИЗОМОРФИЗМЕ — ФУНДАМЕНТАЛЬНЫЙ РЕЗУЛЬТАТ                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМА: Для любого гомоморфизма φ: G → H выполняется:                     │
│                                                                             │
│                        G / Ker(φ)  ≅  Im(φ)                                 │
│                                                                             │
│ ГЕОМЕТРИЧЕСКАЯ ИНТУИЦИЯ:                                                    │
│                                                                             │
│        G                           H                                        │
│   ┌─────────────┐             ┌─────────────┐                               │
│   │  ○ ○ ○ ○    │     φ       │             │                               │
│   │  │ │ │ │    │ ─────────▶  │   ●   ●     │   Im(φ) — куда попали        │
│   │  ○ ○ ○ ○    │             │   │   │     │                               │
│   │  │ │ │ │    │             │   ●   ●     │                               │
│   │  ○ ○ ○ ○    │             │             │                               │
│   └─────────────┘             └─────────────┘                               │
│       ↓                                                                     │
│   Склеиваем элементы                                                        │
│   с одинаковым образом                                                      │
│       ↓                                                                     │
│   ┌─────────┐                                                               │
│   │  ◉   ◉  │  G/Ker(φ)  — классы смежности                                │
│   │  ◉   ◉  │  (элементы, переходящие в одну точку, склеены)               │
│   └─────────┘                                                               │
│                                                                             │
│ СМЫСЛ: "Факторизация по ядру убирает всё лишнее и оставляет только образ"  │
│                                                                             │
│ СВЯЗЬ С РАЗДЕЛОМ 3: Факторгруппа G/H — это фактор-множество G/∼, где       │
│ отношение эквивалентности ∼ определено как g₁ ∼ g₂ ⟺ g₁g₂⁻¹ ∈ H.           │
│ Ключевое условие: чтобы на G/∼ КОРРЕКТНО определить групповую операцию,    │
│ подгруппа H должна быть НОРМАЛЬНОЙ (gHg⁻¹ = H для всех g ∈ G).             │
│                                                                             │
│ ПРИМЕР: φ: ℤ → ℤ/6,  k ↦ k mod 6                                           │
│                                                                             │
│   Ker(φ) = 6ℤ = {..., -6, 0, 6, 12, ...}                                   │
│   Im(φ)  = ℤ/6                                                             │
│                                                                             │
│   Теорема: ℤ / 6ℤ ≅ ℤ/6  ✓                                                │
│            (факторгруппа по ядру изоморфна образу)                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЗОМОРФИЗМ — КОГДА ГРУППЫ "ОДИНАКОВЫЕ"                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Изоморфизм φ: G → H — гомоморфизм + БИЕКЦИЯ. Пишем G ≅ H.                   │
│ "G и H — одна группа, различаются только именами элементов"                 │
│                                                                             │
│ ┌─────────────────────────┬─────────────────────┬─────────────────────────┐ │
│ │ ИЗОМОРФИЗМ              │ ОТОБРАЖЕНИЕ         │ ПОЧЕМУ РАБОТАЕТ         │ │
│ ├─────────────────────────┼─────────────────────┼─────────────────────────┤ │
│ │ (ℤ, +) ≅ (2ℤ, +)        │ φ(n) = 2n           │ Чётные ↔ все целые     │ │
│ │ (ℝ, +) ≅ (ℝ⁺, ×)        │ φ = exp, φ⁻¹ = ln   │ Сложение ↔ умножение  │ │
│ │ ℤ/6 ≅ ℤ/2 × ℤ/3        │ k ↦ (k mod2, mod3)  │ Китайская т. об остатках│ │
│ │ S¹ ≅ U(1) ≅ SO(2)       │ eiθ ↔ поворот на θ  │ Окружность ≅ вращения  │ │
│ └─────────────────────────┴─────────────────────┴─────────────────────────┘ │
│                                                                             │
│   ℤ/2 ≅ {±1}                         (два элемента, одна структура)        │
│        φ(0) = 1,  φ(1) = −1                                                 │
│                                                                             │
│   S₃ ≅ D₃                            (6 элементов, симметрии △)            │
│                                                                             │
│ НЕИЗОМОРФНЫЕ:                                                               │
│                                                                             │
│   ℤ/4 ≇ ℤ/2 × ℤ/2                   (разная структура!)                    │
│        В ℤ/4 есть элемент порядка 4 (генератор).                           │
│        В ℤ/2 × ℤ/2 все элементы порядка ≤ 2.                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.6  ГРУППЫ В ФИЗИКЕ И ЖИЗНИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕНЕНИЯ ГРУПП                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├──────────────────────┬───────────────────┬──────────────────────────────────┤
│ ОБЛАСТЬ              │ ГРУППА            │ ЧТО ОПИСЫВАЕТ                    │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Кристаллография      │ 230 простр. групп │ Все симметрии кристаллов         │
│                      │                   │ NaCl: куб. симм. → оптика        │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Стандартная модель   │ U(1)              │ Электромагнетизм (фаза)          │
│ физики частиц        │ SU(2)             │ Слабое взаимодействие            │
│                      │ SU(3)             │ Сильное взаимодействие (кварки)  │
│                      │ U(1)×SU(2)×SU(3)  │ ВСЯ Стандартная модель!          │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Теория относит.      │ SO(3,1)           │ Лоренц: сохраняет скорость света │
│                      │                   │ 3 простр. + 1 время              │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Квант. механика      │ SU(2)             │ Спин частицы                     │
│                      │                   │ e⁻: спин ½ → поворот 720°!       │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Музыка               │ ℤ/12              │ 12 полутонов, транспонирование   │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Криптография         │ (ℤ/n)*            │ RSA: мультипл. группа            │
│                      │ Эллипт. кривые    │ Группы точек на кривых           │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ ТЕПЛОФИЗИКА          │ Группа подобия    │ РАЗМЕРНЫЙ АНАЛИЗ = ГРУППЫ ЛИ!    │
│ (пример для инженера)│ (масштабирование) │                                  │
│                      │                   │ Поиск формулы Nu = f(Re, Pr)     │
│                      │                   │ = выбор орбиты группы Ли по      │
│                      │                   │ значениям инвариантов (Re, Pr)   │
│                      │                   │                                  │
│                      │                   │ Физ.величины (α, λ, v, L) —      │
│                      │                   │ координаты на многообразии,      │
│                      │                   │ симметричном относительно        │
│                      │                   │ действия группы масштабирования  │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Комбинаторика        │ Любая G           │ Подсчёт "с точностью до симм."   │
│                      │                   │ Лемма Бёрнсайда                  │
│                      │                   │                                  │
└──────────────────────┴───────────────────┴──────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМЫ СИЛОВА — СТРУКТУРА КОНЕЧНЫХ ГРУПП                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть |G| = pⁿ·m, где p простое и gcd(p, m) = 1.                           │
│                                                                             │
│ СИЛОВ-ПОДГРУППА: подгруппа порядка pⁿ (максимальная p-степень)             │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА 1: Силов-подгруппа СУЩЕСТВУЕТ                                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│   Для любого простого p, делящего |G|, существует подгруппа порядка pⁿ.    │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА 2: ВСЕ Силов-подгруппы СОПРЯЖЕНЫ                                    │
│ ═══════════════════════════════════════════════════════════════════════════ │
│   Любые две p-силов-подгруппы P и Q связаны: Q = gPg⁻¹ для некоторого g.  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА 3: ЧИСЛО Силов-подгрупп nₚ удовлетворяет                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│   • nₚ ≡ 1 (mod p)                                                         │
│   • nₚ делит m = |G|/pⁿ                                                    │
│                                                                             │
│ ПРИМЕНЕНИЕ — КЛАССИФИКАЦИЯ МАЛЫХ ГРУПП:                                     │
│                                                                             │
│   |G| = 15 = 3·5:  n₃ | 5 и n₃ ≡ 1 (mod 3) ⇒ n₃ = 1                       │
│                    n₅ | 3 и n₅ ≡ 1 (mod 5) ⇒ n₅ = 1                       │
│                    Единственные силов-подгруппы ⇒ нормальны ⇒ G ≅ ℤ₁₅     │
│                                                                             │
│   Теоремы Силова — мощный инструмент: из размера группы можно вывести      │
│   её структуру!                                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КУДА ВЕДЁТ — СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├──────────────────────┬───────────────────┬──────────────────────────────────┤
│ НАПРАВЛЕНИЕ          │ СВЯЗЬ             │ ИДЕЯ                             │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Группы Ли            │ → A7 (многообр.)  │ Группа + гладкая структура       │
│                      │                   │ SO(3), SU(2), GL(n)              │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Теория представлений │ → A3 (лин.алг.)   │ g ↦ матрица ρ(g)                │
│                      │                   │ Группа через лин. алгебру        │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Теорема Нётер        │ → П7 (Часть V)           │ Симметрия → закон сохранения     │
│                      │                   │ Сдвиг t → энергия                │
│                      │                   │ Поворот → момент импульса        │
│                      │                   │                                  │
├──────────────────────┼───────────────────┼──────────────────────────────────┤
│                      │                   │                                  │
│ Фунд. группа π₁      │ → A2 (топология)  │ Петли образуют группу            │
│                      │                   │ Классификация пространств        │
│                      │                   │                                  │
└──────────────────────┴───────────────────┴──────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.7  РЕЗЮМЕ: ИЕРАРХИЯ АЛГЕБРАИЧЕСКИХ СТРУКТУР
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОТ ПРОСТОГО К СЛОЖНОМУ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   МНОЖЕСТВО                                                                 │
│       │                                                                     │
│       │ + одна операция + аксиомы группы                                    │
│       ↓                                                                     │
│   ГРУППА (G, ·)                                                             │
│       │                                                                     │
│       │ + коммутативность                                                   │
│       ↓                                                                     │
│   АБЕЛЕВА ГРУППА                                                            │
│       │                                                                     │
│       │ + вторая операция с дистрибутивностью                               │
│       ↓                                                                     │
│   КОЛЬЦО (R, +, ×)                                                          │
│       │                                                                     │
│       │ + обратные для ×                                                    │
│       ↓                                                                     │
│   ПОЛЕ (F, +, ×)  ← умножение КОММУТАТИВНО!                                 │
│       │                                                                     │
│       │   ВАЖНО: Поле = коммутативное умножение (ab = ba).                  │
│       │   Если убрать коммутативность ⇒ ТЕЛО (Division Ring).              │
│       │   Пример тела: Кватернионы ℍ (ij ≠ ji).                            │
│       │                                                                     │
│       │ + структура модуля                                                  │
│       ↓                                                                     │
│   ВЕКТОРНОЕ ПРОСТРАНСТВО                                                    │
│       │                                                                     │
│       │ + норма / скалярное произведение                                    │
│       ↓                                                                     │
│   ГИЛЬБЕРТОВО ПРОСТРАНСТВО                                                  │
│                                                                             │
│ Каждый уровень НАСЛЕДУЕТ структуру от предыдущего + добавляет новое.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ МЫСЛЬ                                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Группа = минимальная структура для описания СИММЕТРИЙ.                    │
│                                                                             │
│   Если можешь:                                                              │
│     • Комбинировать преобразования (композиция)                             │
│     • Ничего не делать (нейтральный)                                        │
│     • Отменять действия (обратный)                                          │
│                                                                             │
│   — у нас группа.                                                           │
│                                                                             │
│   Симметрии объекта определяют его свойства.                                │
│   Группа симметрий — это "ДНК" объекта.                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: БАЛАНСИРОВКА РОТОРА ТУРБИНЫ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Ротор турбины с 6 лопатками. При вращении возникает вибрация.       │
│ Нужно понять, какие дефекты лопаток вызывают какие частоты вибрации.        │
│                                                                             │
│                     ●                                                       │
│                    /│\        Группа симметрий ротора:                      │
│                  ╱  │  ╲      C₆ = {e, r, r², r³, r⁴, r⁵}                  │
│                ●    │    ●    где r = поворот на 60°                        │
│                │    ○    │                                                  │
│                ●    │    ●    Это ЦИКЛИЧЕСКАЯ ГРУППА порядка 6              │
│                  ╲  │  ╱                                                    │
│                    \│/                                                      │
│                     ●                                                       │
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ: Вибрация ротора раскладывается по ПРЕДСТАВЛЕНИЯМ группы C₆   │
│                                                                             │
│ ┌────────────────┬─────────────────────┬────────────────────────────────────┐│
│ │ ПРЕДСТАВЛЕНИЕ  │ ФИЗИЧЕСКИЙ СМЫСЛ    │ ЧАСТОТА ВИБРАЦИИ                   ││
│ ├────────────────┼─────────────────────┼────────────────────────────────────┤│
│ │ Тривиальное    │ Все лопатки одинак. │ Нет вибрации (идеальный баланс)    ││
│ │ (симметричное) │ отклонены           │                                    ││
│ ├────────────────┼─────────────────────┼────────────────────────────────────┤│
│ │ Знакопеременное│ Чередование ±       │ f = 3 × об/с (3-кратная)           ││
│ │                │ "через одну"        │                                    ││
│ ├────────────────┼─────────────────────┼────────────────────────────────────┤│
│ │ 2-мерные       │ Дисбаланс "волной"  │ f = n × об/с (1×, 2×)              ││
│ │ представления  │ по окружности       │                                    ││
│ └────────────────┴─────────────────────┴────────────────────────────────────┘│
│                                                                             │
│ ПРАКТИЧЕСКОЕ ПРИМЕНЕНИЕ:                                                    │
│   • Если вибрация на частоте 1× об/с → статический дисбаланс (одна лопатка) │
│   • Если вибрация на частоте 2× об/с → пара противоположных лопаток         │
│   • Если вибрация на частоте 3× об/с → каждая вторая лопатка               │
│                                                                             │
│ Теория групп позволяет КЛАССИФИЦИРОВАТЬ типы дисбаланса до измерений!       │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ЕЩЁ ПРИМЕР: ТРЁХФАЗНАЯ ЭЛЕКТРИЧЕСКАЯ СЕТЬ                                   │
│                                                                             │
│ Три фазы: A, B, C со сдвигом 120°                                           │
│                                                                             │
│ Группа симметрий: C₃ = {e, r, r²} где r = сдвиг фаз на 120°                │
│                                                                             │
│   • Симметричная нагрузка (все фазы одинаковы) → ток в нейтрали = 0        │
│   • Нарушение симметрии → ток в нейтрали ≠ 0                               │
│                                                                             │
│ Метод симметричных составляющих (Фортескью): разложение несимметричной      │
│ системы на симметричные компоненты — это разложение по представлениям C₃!   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П4. ИЕРАРХИЯ АЛГЕБРАИЧЕСКИХ СТРУКТУР
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖНЫ РАЗНЫЕ СТРУКТУРЫ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Каждая структура — ответ на вопрос: "Что мы хотим УМЕТЬ делать?"            │
│                                                                             │
│   Хотим складывать                    → Полугруппа                          │
│   + есть "ноль"                       → Моноид                              │
│   + можно вычитать                    → Группа                              │
│   + порядок не важен                  → Абелева группа                      │
│   + можно умножать                    → Кольцо                              │
│   + можно делить (кроме на 0)         → Поле                                │
│                                                                             │
│ Чем больше операций — тем больше можем, но тем меньше примеров!             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ: ЧТО ДОБАВЛЯЕТСЯ НА КАЖДОМ ШАГЕ                                    │
└─────────────────────────────────────────────────────────────────────────────┘

  ПОЛУГРУППА ──────→ МОНОИД ──────→ ГРУППА ──────→ АБЕЛЕВА ГРУППА
       │                │              │                  │
   ассоциативность  + единица    + обратные      + коммутативность
   a(bc)=(ab)c        a·e=a       a·a⁻¹=e           ab=ba
       │                │              │                  │
   Пример:          Пример:       Пример:           Пример:
   (ℕ⁺, ·)          (ℕ, +, 0)     (ℤ, +, 0)         (ℤ, +)


  АБЕЛЕВА ГРУППА ──────→ КОЛЬЦО ──────→ ПОЛЕ
         │                   │             │
     (одна операция)   + умножение    + деление
                       дистрибут.      (кроме 0)
                       a(b+c)=ab+ac    a≠0 ⇒ ∃a⁻¹
         │                   │             │
     Пример:             Пример:       Пример:
     (ℤ, +)              (ℤ, +, ×)     (ℚ, +, ×)

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГДЕ ВСТРЕЧАЮТСЯ В ЖИЗНИ                                                     │
├───────────────────┬─────────────────────────────────────────────────────────┤
│ СТРУКТУРА         │ ПРИМЕРЫ                                                 │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Полугруппа        │ Конкатенация строк "abc"+"def"="abcdef"                 │
│                   │ (на самом деле моноид — есть пустая строка "")          │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Моноид            │ (ℕ, +, 0) — натуральные с нулём. Вычитать нельзя!       │
│                   │ Функции с композицией ∘ и единицей id                   │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Группа            │ Симметрии (всё можно отменить)                          │
│                   │ Криптография: эллиптические кривые, RSA                 │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Кольцо            │ Многочлены ℤ[x] — можно +,−,×, но не ÷                  │
│                   │ Матрицы n×n — не всякая обратима                        │
│                   │ Целые ℤ — 5÷2 не целое!                                 │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Поле              │ ℚ, ℝ, ℂ — всё можно: +,−,×,÷                            │
│                   │ Конечные поля 𝔽ₚ — криптография, коды                   │
│                   │                                                         │
└───────────────────┴─────────────────────────────────────────────────────────┘

СВОДНАЯ ТАБЛИЦА:

┌─────────────────┬───────┬────────┬─────────┬───────────┬───────┬───────────┐
│ СТРУКТУРА       │ АССОЦ.│ ЕДИНИЦА│ ОБРАТНЫЕ│ КОММУТАТ. │   ×   │ ДЕЛЕНИЕ   │
├─────────────────┼───────┼────────┼─────────┼───────────┼───────┼───────────┤
│ Полугруппа      │   ✓   │        │         │           │       │           │
│ Моноид          │   ✓   │   ✓    │         │           │       │           │
│ Группа          │   ✓   │   ✓    │    ✓    │           │       │           │
│ Абелева группа  │   ✓   │   ✓    │    ✓    │     ✓     │       │           │
│ Кольцо          │   ✓   │   ✓    │    ✓    │    (+)    │   ✓   │           │
│ Поле            │   ✓   │   ✓    │    ✓    │    ✓✓     │   ✓   │     ✓     │
└─────────────────┴───────┴────────┴─────────┴───────────┴───────┴───────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ЭТО ВАЖНО                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Когда видишь новый объект, спроси: "Какая это структура?"                   │
│                                                                             │
│   • Матрицы — кольцо (умножать можно, делить не всегда)                     │
│   • Функции [0,1]→ℝ — векторное пространство (над полем ℝ)                  │
│   • Перестановки — группа (всё обратимо)                                    │
│   • Многочлены — кольцо (или даже алгебра над полем)                        │
│                                                                             │
│ Зная структуру — знаешь, какие теоремы применимы!                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A1.8  КОЛЬЦА И ПОЛЯ — АРИФМЕТИКА + АЛГЕБРА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТО ИНЖЕНЕРУ?                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Кольца и поля — это НЕ абстракция ради абстракции. Это основа:              │
│                                                                             │
│   • КРИПТОГРАФИЯ: RSA работает в кольце ℤₙ (остатки от деления)            │
│   • КОДЫ ОШИБОК: QR-коды, CD, интернет — поля Галуа GF(2⁸)                 │
│   • ДИСКРЕТНАЯ МАТЕМАТИКА: хеш-функции, контрольные суммы                   │
│   • СИГНАЛЫ: Z-преобразование — это кольцо формальных рядов                │
│                                                                             │
│ Главная идея: иногда нужна арифметика, где числа "заворачиваются"          │
│ (как часы: после 12 идёт 1), или где деление работает иначе.               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Группа — это ОДНА операция. Но в арифметике есть ДВЕ: сложение и умножение.
Как их совместить?

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОЛЬЦО = ДВЕ СВЯЗАННЫЕ ОПЕРАЦИИ                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: Кольцо — это "арифметика", где можно складывать, вычитать,       │
│ умножать, но НЕ ОБЯЗАТЕЛЬНО делить.                                         │
│                                                                             │
│ ФОРМАЛЬНО: Кольцо (R, +, ·) — это множество R с двумя операциями:          │
│                                                                             │
│   • (R, +) — абелева группа (сложение работает как обычно)                 │
│   • (R, ·) — моноид (умножение есть, но обратных может не быть!)           │
│   • a·(b + c) = a·b + a·c  (дистрибутивность — скобки раскрываются)        │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│                                                                             │
│   ┌─────────────────┬──────────────────────────────────────────────────────┐│
│   │ КОЛЬЦО          │ ПОЧЕМУ КОЛЬЦО, А НЕ ПОЛЕ                             ││
│   ├─────────────────┼──────────────────────────────────────────────────────┤│
│   │ ℤ (целые)       │ 2 не обратим: 1/2 ∉ ℤ                              ││
│   │ ℤₙ (остатки)    │ Если n не простое, есть делители нуля               ││
│   │ ℤ[x] (многочл.) │ x не обратим: 1/x — не многочлен                    ││
│   │ Mₙ(ℝ) (матрицы) │ Вырожденные матрицы не обратимы                     ││
│   └─────────────────┴──────────────────────────────────────────────────────┘│
│                                                                             │
│ ДЕЛИТЕЛИ НУЛЯ — странность колец:                                           │
│   В ℤ₆:  2 · 3 = 6 = 0 (mod 6)                                            │
│   Оба множителя ненулевые, но произведение = 0!                            │
│   Это НЕ бывает в обычных числах — признак "дефекта" структуры.            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЛЕ = КОЛЬЦО, ГДЕ МОЖНО ДЕЛИТЬ                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: Поле — это "полноценная арифметика" с делением.                  │
│ Всё, чему нас учили в школе про числа — это свойства полей.                 │
│                                                                             │
│ ФОРМАЛЬНО: Поле — кольцо, где каждый a ≠ 0 имеет обратный a⁻¹.            │
│                                                                             │
│ ПРИМЕРЫ ПОЛЕЙ:                                                              │
│   • ℚ (рациональные) — минимальное поле, содержащее ℤ                     │
│   • ℝ (вещественные) — пополнение ℚ                                        │
│   • ℂ (комплексные) — алгебраически замкнуто                               │
│   • ℤₚ при простом p — КОНЕЧНОЕ поле! (важно для криптографии)            │
│                                                                             │
│ ПОЧЕМУ ℤₚ — ПОЛЕ ПРИ ПРОСТОМ p?                                            │
│                                                                             │
│   В ℤ₅: элементы {0, 1, 2, 3, 4}                                          │
│                                                                             │
│   Обратные: 1⁻¹ = 1,  2⁻¹ = 3 (потому что 2·3 = 6 = 1 mod 5)              │
│             3⁻¹ = 2,  4⁻¹ = 4 (потому что 4·4 = 16 = 1 mod 5)              │
│                                                                             │
│   Каждый ненулевой элемент обратим! Это поле.                              │
│                                                                             │
│ ПОЧЕМУ ℤ₆ — НЕ ПОЛЕ?                                                       │
│                                                                             │
│   В ℤ₆: 2 · 3 = 0, значит 2 и 3 — делители нуля.                          │
│   Делитель нуля не может быть обратим (иначе 0 = 2⁻¹·0 = 2⁻¹·2·3 = 3 ≠ 0).│
│                                                                             │
│ ТЕОРЕМА: ℤₙ — поле ⟺ n простое.                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИДЕАЛЫ — "ДЕЛИМОСТЬ" В АБСТРАКТНОМ КОЛЬЦЕ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: Идеал — это обобщение понятия "все числа, делящиеся на n".       │
│                                                                             │
│ В ℤ: множество всех чисел, делящихся на 3 — это {…, -6, -3, 0, 3, 6, …}   │
│      Обозначение: 3ℤ или (3)                                                │
│                                                                             │
│ Ключевое свойство: если a делится на 3, то и a·k делится на 3.             │
│ "Делимость впитывает умножение" — это и есть определение идеала!           │
│                                                                             │
│ ФОРМАЛЬНО: Идеал I ⊂ R — это подмножество, такое что:                      │
│   • I — подгруппа по сложению                                               │
│   • a ∈ I, r ∈ R  ⇒  r·a ∈ I  (умножение на ЛЮБОЙ элемент оставляет в I)  │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│                                                                             │
│   ┌──────────────────┬──────────────────────────────────────────────────┐  │
│   │ КОЛЬЦО           │ ПРИМЕРЫ ИДЕАЛОВ                                  │  │
│   ├──────────────────┼──────────────────────────────────────────────────┤  │
│   │ ℤ                │ nℤ = {nk : k ∈ ℤ} — ВСЕ идеалы такие!           │  │
│   │ ℝ[x]             │ (x² + 1) = все кратные (x² + 1)                 │  │
│   │ C(X) (функции)   │ {f : f(x₀) = 0} — функции с нулём в x₀         │  │
│   └──────────────────┴──────────────────────────────────────────────────┘  │
│                                                                             │
│ ЗАЧЕМ ИДЕАЛЫ?                                                               │
│   Идеалы позволяют "склеивать" элементы кольца — как нормальные подгруппы  │
│   позволяют склеивать элементы группы. Результат — фактор-кольцо.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФАКТОР-КОЛЬЦО — "АРИФМЕТИКА ОСТАТКОВ"                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: Фактор-кольцо R/I — это "склеивание" элементов, отличающихся    │
│ на элемент из I. Как будто всё из I стало нулём.                           │
│                                                                             │
│ ГЛАВНЫЙ ПРИМЕР:                                                             │
│                                                                             │
│   ℤ/3ℤ = {0̄, 1̄, 2̄} — остатки от деления на 3                              │
│                                                                             │
│   Здесь 0̄ = {..., -6, -3, 0, 3, 6, ...} (все кратные 3 "склеились" в 0)   │
│         1̄ = {..., -5, -2, 1, 4, 7, ...}                                    │
│         2̄ = {..., -4, -1, 2, 5, 8, ...}                                    │
│                                                                             │
│   Арифметика: 2̄ + 2̄ = 4̄ = 1̄,   2̄ · 2̄ = 4̄ = 1̄                           │
│                                                                             │
│ БОЛЕЕ ГЛУБОКИЙ ПРИМЕР — КАК ПОСТРОИТЬ ℂ:                                   │
│                                                                             │
│   Проблема: в ℝ нет корня из -1.                                           │
│   Решение: ℂ = ℝ[x]/(x² + 1)                                              │
│                                                                             │
│   Берём многочлены от x с коэффициентами из ℝ.                             │
│   "Склеиваем" все кратные (x² + 1), то есть полагаем x² + 1 = 0.          │
│   Тогда x² = -1, и x играет роль i!                                        │
│                                                                             │
│   Элементы: a + bx (старшие степени редуцируются: x² → -1)                │
│   Это в точности комплексные числа a + bi.                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНЕЧНЫЕ ПОЛЯ — КРИПТОГРАФИЯ И КОДЫ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМА: Конечное поле существует тогда и только тогда, когда число        │
│ элементов = pⁿ (степень простого). Обозначение: GF(pⁿ) или 𝔽_{pⁿ}.        │
│                                                                             │
│   • GF(2) = {0, 1} — двоичная арифметика (XOR = сложение)                  │
│   • GF(2⁸) = 256 элементов — используется в AES, QR-кодах                  │
│   • GF(p) = ℤₚ — простейшие конечные поля                                  │
│                                                                             │
│ ПРИМЕР: GF(4) — поле из 4 элементов                                        │
│                                                                             │
│   Нельзя просто взять ℤ₄ — там 2·2 = 0, делители нуля!                    │
│                                                                             │
│   Правильная конструкция: GF(4) = GF(2)[x]/(x² + x + 1)                    │
│   Элементы: {0, 1, x, x+1} с арифметикой mod 2 и mod (x² + x + 1)         │
│                                                                             │
│   Таблица умножения:                                                        │
│   ┌───┬───────┬───────┬───────┬───────┐                                     │
│   │ · │   0   │   1   │   x   │  x+1  │                                     │
│   ├───┼───────┼───────┼───────┼───────┤                                     │
│   │ 0 │   0   │   0   │   0   │   0   │                                     │
│   │ 1 │   0   │   1   │   x   │  x+1  │                                     │
│   │ x │   0   │   x   │  x+1  │   1   │   ← x² = x+1 (из x²+x+1=0)         │
│   │x+1│   0   │  x+1  │   1   │   x   │                                     │
│   └───┴───────┴───────┴───────┴───────┘                                     │
│                                                                             │
│ ПРИМЕНЕНИЕ: Reed-Solomon коды (CD, DVD, QR) работают над GF(2⁸).           │
│ Это позволяет исправлять ошибки математически точно.                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ: ОТ МНОЖЕСТВА К ПОЛЮ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│         МНОЖЕСТВО (просто элементы)                                         │
│              │                                                              │
│              ▼ + одна операция                                              │
│         ПОЛУГРУППА (ассоциативность)                                        │
│              │                                                              │
│              ▼ + нейтральный элемент                                        │
│          МОНОИД                                                             │
│              │                                                              │
│              ▼ + обратные элементы                                          │
│          ГРУППА                                                             │
│              │                                                              │
│              ▼ + коммутативность                                            │
│       АБЕЛЕВА ГРУППА                                                        │
│              │                                                              │
│              ▼ + вторая операция (умножение) + дистрибутивность             │
│          КОЛЬЦО (ℤ, ℤ[x], матрицы)                                         │
│              │                                                              │
│              ▼ + нет делителей нуля                                         │
│     ОБЛАСТЬ ЦЕЛОСТНОСТИ (ℤ)                                                │
│              │                                                              │
│              ▼ + каждый ненулевой обратим                                   │
│           ПОЛЕ (ℚ, ℝ, ℂ, ℤₚ)                                              │
│                                                                             │
│ На каждом шаге добавляется свойство → структура становится "лучше".        │
│ Поле — самая "хорошая" арифметическая структура.                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────

A1.9  ТЕОРИЯ ЧИСЕЛ — АРИФМЕТИКА КАК СТРУКТУРА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРИЯ ЧИСЕЛ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Числа — это не просто объекты для вычислений. Числа ОБРАЗУЮТ ПРОСТРАНСТВА   │
│ с богатой структурой.                                                       │
│                                                                             │
│ ┌───────────────────┬────────────────────────┬────────────────────────────┐ │
│ │ ПРОСТРАНСТВО      │ СТРУКТУРА              │ ЧТО ИЗУЧАЕМ                │ │
│ ├───────────────────┼────────────────────────┼────────────────────────────┤ │
│ │ ℤ                 │ Кольцо (+ и ×)         │ Делимость, простые числа   │ │
│ │                   │ + порядок              │                            │ │
│ ├───────────────────┼────────────────────────┼────────────────────────────┤ │
│ │ ℤₙ = ℤ/nℤ         │ Конечное кольцо        │ Модулярная арифметика      │ │
│ │ (остатки mod n)   │ При n=p — поле!        │ Криптография               │ │
│ ├───────────────────┼────────────────────────┼────────────────────────────┤ │
│ │ ℚₚ (p-адические)  │ Поле с ультраметрикой  │ Локальный анализ           │ │
│ │                   │ |x+y|ₚ ≤ max(|x|ₚ,|y|ₚ)│ Диофантовы уравнения       │ │
│ ├───────────────────┼────────────────────────┼────────────────────────────┤ │
│ │ ℤ[i] (Гауссовы)   │ Кольцо в ℂ             │ Суммы двух квадратов       │ │
│ │                   │ Евклидово!             │                            │ │
│ └───────────────────┴────────────────────────┴────────────────────────────┘ │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ: Одно и то же число можно рассматривать в РАЗНЫХ пространствах│
│                                                                             │
│   Число 7:                                                                  │
│     • В ℤ: простое, неразложимо                                            │
│     • В ℤ₇: нуль (7 ≡ 0 mod 7)                                             │
│     • В ℤ[i]: всё ещё простое (норма 49 = 7²)                              │
│     • В ℤ[√-5]: раскладывается! 7 = (1+√-5)(1-√-5)/... (сложнее)          │
│                                                                             │
│ Теория чисел изучает, как АРИФМЕТИЧЕСКИЕ свойства зависят от               │
│ АЛГЕБРАИЧЕСКОЙ СТРУКТУРЫ пространства.                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Теория чисел изучает свойства целых чисел. Это одна из древнейших областей
математики, но она связана с самыми современными: криптографией, алгебраической
геометрией, теорией представлений.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДЕЛИМОСТЬ — БАЗОВЫЕ ПОНЯТИЯ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ a | b  означает  "a делит b"  ⟺  ∃k ∈ ℤ: b = a·k                          │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ ПОНЯТИЕ           │ ОПРЕДЕЛЕНИЕ                                       │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ НОД(a,b) = gcd    │ Наибольший общий делитель                         │   │
│ │                   │ max{d : d|a и d|b}                                │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ НОК(a,b) = lcm    │ Наименьшее общее кратное                          │   │
│ │                   │ min{m > 0 : a|m и b|m}                            │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Взаимно простые   │ gcd(a,b) = 1                                      │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Простое число p   │ p > 1, делители только 1 и p                      │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ КЛЮЧЕВОЕ СООТНОШЕНИЕ:  gcd(a,b) · lcm(a,b) = a · b                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОСНОВНАЯ ТЕОРЕМА АРИФМЕТИКИ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Каждое натуральное число n > 1 ЕДИНСТВЕННЫМ образом (с точностью до        │
│ порядка) раскладывается в произведение простых:                             │
│                                                                             │
│   n = p₁^{a₁} · p₂^{a₂} · ... · pₖ^{aₖ}                                    │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ПРИМЕРЫ:                                                                │ │
│ │   60 = 2² · 3 · 5                                                       │ │
│ │   100 = 2² · 5²                                                         │ │
│ │   2024 = 2³ · 11 · 23                                                   │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СЛЕДСТВИЯ:                                                                  │
│                                                                             │
│ ┌────────────────────┬──────────────────────────────────────────────────┐   │
│ │ ОПЕРАЦИЯ           │ ЧЕРЕЗ РАЗЛОЖЕНИЕ                                 │   │
│ ├────────────────────┼──────────────────────────────────────────────────┤   │
│ │ gcd(a,b)           │ Произведение p^{min(aₚ, bₚ)} по всем p          │   │
│ │ lcm(a,b)           │ Произведение p^{max(aₚ, bₚ)} по всем p          │   │
│ │ a | b              │ aₚ ≤ bₚ для всех p                              │   │
│ │ Число делителей    │ (a₁+1)(a₂+1)...(aₖ+1)                           │   │
│ └────────────────────┴──────────────────────────────────────────────────┘   │
│                                                                             │
│ АНАЛОГИЯ С ВЕКТОРАМИ:                                                       │
│   Число n ↔ вектор (a₁, a₂, a₃, ...) — показатели степеней простых        │
│   Умножение ↔ сложение векторов                                            │
│   gcd ↔ покомпонентный min                                                 │
│   lcm ↔ покомпонентный max                                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СРАВНЕНИЯ ПО МОДУЛЮ — АРИФМЕТИКА ОСТАТКОВ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ a ≡ b (mod n)  означает  n | (a − b)  ⟺  a и b дают одинаковый остаток   │
│                                                                             │
│ ┌──────────────────────────────────────────────────────────────────────┐    │
│ │ СВОЙСТВА (сравнения можно складывать, умножать, возводить в степень) │    │
│ ├──────────────────────────────────────────────────────────────────────┤    │
│ │ a ≡ b, c ≡ d  ⇒  a + c ≡ b + d (mod n)                              │    │
│ │ a ≡ b, c ≡ d  ⇒  a · c ≡ b · d (mod n)                              │    │
│ │ a ≡ b         ⇒  aᵏ ≡ bᵏ (mod n)                                    │    │
│ └──────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│ КОЛЬЦО ℤₙ = {0, 1, 2, ..., n−1} с операциями mod n                         │
│                                                                             │
│ ┌─────────────┬──────────────────────────────────────────────────────────┐  │
│ │ n           │ СТРУКТУРА ℤₙ                                            │  │
│ ├─────────────┼──────────────────────────────────────────────────────────┤  │
│ │ n = p       │ ПОЛЕ! Каждый ненулевой элемент обратим.                 │  │
│ │ (простое)   │ Пример: ℤ₅, где 2·3 = 6 ≡ 1, так что 2⁻¹ = 3           │  │
│ ├─────────────┼──────────────────────────────────────────────────────────┤  │
│ │ n = pᵏ      │ Локальное кольцо (единственный максимальный идеал)      │  │
│ ├─────────────┼──────────────────────────────────────────────────────────┤  │
│ │ n = p·q     │ Есть делители нуля! В ℤ₆: 2·3 = 0                      │  │
│ │ (составное) │ Но по КТО: ℤₙ ≅ ℤₚ × ℤ_q если gcd(p,q)=1              │  │
│ └─────────────┴──────────────────────────────────────────────────────────┘  │
│                                                                             │
│ КТО = Китайская теорема об остатках:                                        │
│   Если gcd(m,n) = 1, то ℤₘₙ ≅ ℤₘ × ℤₙ                                     │
│   Практически: система x ≡ a (mod m), x ≡ b (mod n) имеет единств. решение │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАЛАЯ ТЕОРЕМА ФЕРМА И ФУНКЦИЯ ЭЙЛЕРА                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ φ(n) = функция Эйлера = количество чисел от 1 до n, взаимно простых с n    │
│                                                                             │
│ ┌─────────────┬────────────────┬────────────────────────────────────────┐   │
│ │ n           │ φ(n)           │ ФОРМУЛА                                │   │
│ ├─────────────┼────────────────┼────────────────────────────────────────┤   │
│ │ p (простое) │ p − 1          │ Все кроме 0 взаимно просты с p         │   │
│ │ pᵏ          │ pᵏ − pᵏ⁻¹      │ = pᵏ(1 − 1/p)                         │   │
│ │ m·n         │ φ(m)·φ(n)      │ если gcd(m,n) = 1 (мультипликативна)   │   │
│ │ общий вид   │ n∏(1 − 1/p)    │ произведение по всем простым p | n     │   │
│ └─────────────┴────────────────┴────────────────────────────────────────┘   │
│                                                                             │
│ ТЕОРЕМЫ:                                                                    │
│ ┌───────────────────────┬───────────────────────────────────────────────┐   │
│ │ Малая теорема Ферма   │ aᵖ ≡ a (mod p) для любого a                  │   │
│ │ (p простое)           │ Если gcd(a,p)=1: aᵖ⁻¹ ≡ 1 (mod p)            │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Теорема Эйлера        │ a^{φ(n)} ≡ 1 (mod n) если gcd(a,n)=1         │   │
│ │ (обобщение)           │ Это обобщение Ферма на составные n            │   │
│ └───────────────────────┴───────────────────────────────────────────────┘   │
│                                                                             │
│ ПРИМЕНЕНИЕ — RSA КРИПТОГРАФИЯ:                                              │
│   Выбираем большие простые p, q. Пусть n = p·q, φ(n) = (p−1)(q−1).        │
│   Выбираем e взаимно простое с φ(n), находим d: e·d ≡ 1 (mod φ(n)).       │
│   Шифруем: c = mᵉ mod n. Расшифровываем: m = cᵈ mod n.                    │
│   Работает по теореме Эйлера: m^{ed} = m^{1 + kφ(n)} ≡ m (mod n).         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ p-АДИЧЕСКИЕ ЧИСЛА — АЛЬТЕРНАТИВНОЕ ПОПОЛНЕНИЕ ℚ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ℝ — это пополнение ℚ по обычной метрике |x − y|.                           │
│ Но есть ДРУГИЕ метрики на ℚ!                                               │
│                                                                             │
│ p-АДИЧЕСКАЯ НОРМА:                                                          │
│   |x|ₚ = p^{−vₚ(x)}, где vₚ(x) = степень p в разложении x                  │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ПРИМЕРЫ (p = 5):                                                        │ │
│ │   |25|₅ = 5⁻² = 1/25    (25 = 5², много пятёрок → малая норма)         │ │
│ │   |1/5|₅ = 5¹ = 5       (мало пятёрок в числителе)                      │ │
│ │   |7|₅ = 5⁰ = 1         (нет пятёрок вообще)                            │ │
│ │   |0|₅ = 0                                                               │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌────────────────────┬────────────────────┬─────────────────────────────┐   │
│ │ СВОЙСТВО           │ ОБЫЧНАЯ НОРМА |·|  │ p-АДИЧЕСКАЯ |·|ₚ           │   │
│ ├────────────────────┼────────────────────┼─────────────────────────────┤   │
│ │ Большие числа      │ Далеко от 0        │ Могут быть близко к 0!      │   │
│ │ Треугольник        │ |x+y| ≤ |x|+|y|    │ |x+y|ₚ ≤ max(|x|ₚ,|y|ₚ)    │   │
│ │                    │                    │ (УЛЬТРАМЕТРИКА — сильнее!)  │   │
│ │ Пополнение         │ ℝ                  │ ℚₚ (p-адические числа)      │   │
│ │ Алг. замыкание     │ ℂ (dim 2 над ℝ)   │ ℂₚ (бесконечномерно!)       │   │
│ └────────────────────┴────────────────────┴─────────────────────────────┘   │
│                                                                             │
│ ЗАЧЕМ ЭТО НУЖНО:                                                            │
│   • Локально-глобальный принцип: уравнение имеет решение в ℚ ⟺            │
│     имеет решение в ℝ И во всех ℚₚ (с оговорками)                          │
│   • Современная алгебраическая геометрия работает над всеми этими полями   │
│   • Теория чисел: многие задачи проще решать "локально" в ℚₚ              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────────┬────────────────────────────────────────────────┐   │
│ │ РАЗДЕЛ               │ СВЯЗЬ С ТЕОРИЕЙ ЧИСЕЛ                          │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Группы (A1)          │ (ℤ/nℤ)* — группа обратимых элементов          │   │
│ │                      │ Порядок = φ(n), теорема Лагранжа → Эйлер      │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Кольца (A1.8)        │ ℤ — главное кольцо идеалов                    │   │
│ │                      │ Идеал (n) = nℤ, факторкольцо = ℤₙ            │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Поля (A1.8)          │ ℤₚ — конечное поле, расширения → код. теория  │   │
│ │                      │ ℚₚ — локальное поле для арифм. геометрии      │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Топология (A2)       │ ℤₚ = lim ℤ/pⁿℤ — проективный предел          │   │
│ │                      │ Топология на ℤₚ: база = классы mod pⁿ        │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Комплексный анализ   │ ζ(s) = Σ n⁻ˢ — дзета-функция Римана          │   │
│ │ (A11.6)              │ Связывает простые числа и комплексный анализ   │   │
│ └──────────────────────┴────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П2. ТАБЛИЦА ГРУПП — СИСТЕМАТИКА СИММЕТРИЙ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ Группа = симметрии объекта (см. A1)                                         │
│ Задача: классифицировать группы и их связи                                 │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ГРУПП                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                     ВСЕ ГРУППЫ                                              │
│                    /          \                                             │
│           КОНЕЧНЫЕ              БЕСКОНЕЧНЫЕ                                 │
│          /        \            /           \                                │
│     Абелевы    Неабелевы   Дискретные    Непрерывные                        │
│        │           │           │         (группы Ли)                        │
│     ℤ/n, ...   Sₙ, Dₙ, ...   ℤ, Fₙ, ...    │                               │
│                                         Компактные / Некомпактные           │
│                                             │              │                │
│                                        SO(n), SU(n)    ℝⁿ, GL(n)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

КОНЕЧНЫЕ ГРУППЫ — полная классификация существует!

┌────────────────┬────────┬──────────────────────────────────────────────────┐
│ ГРУППА         │ПОРЯДОК │ ЧТО ЭТО ГЕОМЕТРИЧЕСКИ / СВЯЗИ                    │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ {e}            │   1    │ Тривиальная: "ничего не делать"                  │
│                │        │                                                  │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ ℤ/n            │   n    │ Циклическая: вращения n-угольника                │
│                │        │ ≅ корни из 1: {1, ω, ω², ...}, ω = e^(2πi/n)    │
│                │        │ Абелева. ℤ/p (p простое) — простейшие "атомы"   │
│                │        │                                                  │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ ℤ/2 × ℤ/2      │   4    │ Группа Клейна: симметрии прямоугольника          │
│ (четвёрка      │        │ НЕ циклическая! (нет элемента порядка 4)         │
│  Клейна)       │        │                                                  │
│                │        │                                                  │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ Dₙ             │   2n   │ Диэдральная: вращения + отражения n-угольника    │
│                │        │ D₃ ≅ S₃ (единственный случай!)                   │
│                │        │ Неабелева при n ≥ 3                              │
│                │        │                                                  │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ Sₙ             │   n!   │ Симметрическая: ВСЕ перестановки n элементов     │
│                │        │ Любая конечная группа ⊂ Sₙ (теорема Кэли)        │
│                │        │                                                  │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ Aₙ             │  n!/2  │ Знакопеременная: ЧЁТНЫЕ перестановки             │
│                │        │ A₅ — простейшая неабелева ПРОСТАЯ группа         │
│                │        │ A₅ ≅ симметрии икосаэдра                         │
│                │        │                                                  │
├────────────────┼────────┼──────────────────────────────────────────────────┤
│                │        │                                                  │
│ Q₈             │   8    │ Кватернионная: {±1, ±i, ±j, ±k}                  │
│                │        │ Неабелева, но все подгруппы нормальны            │
│                │        │ Связь с вращениями в 3D (см. кватернионы)        │
│                │        │                                                  │
└────────────────┴────────┴──────────────────────────────────────────────────┘

БЕСКОНЕЧНЫЕ ДИСКРЕТНЫЕ:

┌────────────────┬────────────────────────────────────────────────────────────┐
│ ГРУППА         │ ЧТО ЭТО / СВЯЗИ                                            │
├────────────────┼────────────────────────────────────────────────────────────┤
│                │                                                            │
│ (ℤ, +)         │ Целые числа: сдвиги на целое вдоль прямой                  │
│                │ π₁(S¹) = ℤ — фундаментальная группа окружности!            │
│                │ Единственная бесконечная циклическая группа                │
│                │                                                            │
├────────────────┼────────────────────────────────────────────────────────────┤
│                │                                                            │
│ ℤⁿ             │ Решётка: вершины целочисленной решётки в ℝⁿ                │
│                │ π₁(Tⁿ) = ℤⁿ — фундаментальная группа n-тора               │
│                │                                                            │
├────────────────┼────────────────────────────────────────────────────────────┤
│                │                                                            │
│ Fₙ             │ Свободная на n генераторах: все слова из n букв            │
│                │ π₁(∨ⁿS¹) = Fₙ — букет n окружностей                       │
│                │ "Универсальная": любая группа — её фактор                  │
│                │                                                            │
└────────────────┴────────────────────────────────────────────────────────────┘

ГРУППЫ ЛИ (непрерывные) — симметрии физики:

┌────────────────┬────┬───────────────────────────────────────────────────────┐
│ ГРУППА         │dim │ ЧТО ЭТО / ГДЕ ВСТРЕЧАЕТСЯ                             │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ U(1) ≅ S¹      │  1 │ Комплексные числа |z|=1, вращения плоскости           │
│                │    │ Фаза в квантовой механике, электромагнетизм           │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ SO(2)          │  1 │ Вращения плоскости (≅ U(1) как группы Ли)             │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ SO(3)          │  3 │ Вращения в ℝ³: ориентация твёрдого тела               │
│                │    │ НЕ односвязна! π₁(SO(3)) = ℤ/2                        │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ SU(2)          │  3 │ Унитарные 2×2 с det=1, ДВОЙНОЕ накрытие SO(3)         │
│                │    │ Спин в квантовой механике!                            │
│                │    │ SU(2) ≅ S³ (3-сфера) — односвязна                     │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ SU(3)          │  8 │ Симметрия сильного взаимодействия (кварки)            │
│                │    │ Стандартная модель: SU(3)×SU(2)×U(1)                  │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ SO(3,1)        │  6 │ Группа Лоренца: симметрии пространства-времени        │
│                │    │ Специальная теория относительности                    │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ GL(n,ℝ)        │ n² │ Все обратимые n×n матрицы (det ≠ 0)                   │
│                │    │ "Общая линейная группа"                               │
│                │    │                                                       │
├────────────────┼────┼───────────────────────────────────────────────────────┤
│                │    │                                                       │
│ SL(n,ℝ)        │n²−1│ Матрицы с det = 1 (сохраняют объём)                   │
│                │    │                                                       │
└────────────────┴────┴───────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВЫЕ СВЯЗИ                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ФУНДАМЕНТАЛЬНЫЕ ГРУППЫ (топология → алгебра):                            │
│    π₁(S¹) = ℤ,  π₁(T²) = ℤ²,  π₁(∨ₙS¹) = Fₙ                                │
│                                                                             │
│ 2. НАКРЫТИЯ (связь между группами):                                         │
│    SU(2) →²:¹ SO(3),   ℝ → S¹ (exp),   SL(2,ℂ) →²:¹ SO(3,1)                │
│                                                                             │
│ 3. КЛАССИФИКАЦИЯ КОНЕЧНЫХ ПРОСТЫХ ГРУПП (завершена ~1980):                  │
│    Циклические ℤ/p + Знакопеременные Aₙ (n≥5) +                             │
│    Группы лиева типа + 26 спорадических (включая "Монстра")                 │
│                                                                             │
│ 4. ТЕОРЕМА О КЛАССИФИКАЦИИ КОНЕЧНЫХ АБЕЛЕВЫХ ГРУПП:                         │
│    Любая ≅ ℤ/n₁ × ℤ/n₂ × ... × ℤ/nₖ  (уникальное разложение)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Группы описывают СИММЕТРИИ — что можно делать с пространством. Но чтобы
говорить о непрерывности преобразований, нам нужно понятие БЛИЗОСТИ.
Что значит "точки рядом"? Что значит "преобразование не рвёт пространство"?

Этим занимается топология — следующий фундаментальный взгляд на пространство.
───────────────────────────────────────────────────────────────────────────────

═══════════════════════════════════════════════════════════════════════════════
A2. ТОПОЛОГИЯ — УЧЕНИЕ О БЛИЗОСТИ БЕЗ РАССТОЯНИЙ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТОПОЛОГИЯ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Вспомним из введения: каждый раздел математики — это способ смотреть на    │
│ пространство. Топология видит в пространстве только БЛИЗОСТЬ точек, но     │
│ НЕ расстояния между ними.                                                   │
│                                                                             │
│   МНОЖЕСТВО     →    ТОПОЛОГИЧЕСКОЕ ПРОСТРАНСТВО    →    МЕТРИЧЕСКОЕ       │
│   (точки)            (близость)                          (расстояния)       │
│                                                                             │
│ Топология — это "середина": больше структуры, чем у голого множества,       │
│ но меньше, чем у метрического пространства.                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЙ ПРИМЕР: БУБЛИК = КРУЖКА                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│       БУБЛИК (тор)                    КРУЖКА                                │
│                                                                             │
│          ╭────────╮                    ╭─╮                                  │
│        ╭─╯  ╭──╮  ╰─╮               ╭──╯ ╰──╮                               │
│       │    │  │    │              │ ╭─╮    │                               │
│       │    │  │    │              │ │ │    │                               │
│        ╰─╮  ╰──╯  ╭─╯              │ ╰─╯    │                               │
│          ╰────────╯                │        │                               │
│                                    ╰────────╯                               │
│                                                                             │
│   Одна дырка!                      Одна дырка (ручка)!                      │
│                                                                             │
│   Топологически ОДИНАКОВЫ. Можно непрерывно деформировать одно в другое.   │
│   Но бублик в кружку без ручки превратить НЕЛЬЗЯ — дырка исчезнет.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖНА ТОПОЛОГИЯ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Мы хотим говорить о "близости" и "непрерывности", но:             │
│                                                                             │
│   • Не всегда есть расстояние (как измерить расстояние между функциями?)    │
│   • Иногда расстояние избыточно (нам важна форма, а не размеры)             │
│   • Разные расстояния могут давать одинаковую "близость"                    │
│                                                                             │
│ РЕШЕНИЕ: Определить "близость" напрямую, без расстояния.                    │
│          Вместо d(x,y) < ε говорим: "y в окрестности x"                     │
│                                                                             │
│ АНАЛОГИЯ: Карта метро vs карта города                                       │
│           • Карта города: точные расстояния, масштаб                        │
│           • Карта метро: только связи между станциями                       │
│           Для навигации в метро расстояния НЕ НУЖНЫ!                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ИЗУЧАЕТ ТОПОЛОГИЯ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Геометрия: углы, длины, расстояния — метрические инварианты                 │
│ Топология: связность, дырки, число компонент — топологические инварианты    │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Топология изучает свойства, инвариантные относительно непрерывных       │ │
│ │ деформаций (гомеоморфизмов). Допустимы: растяжение, сжатие, изгиб.     │ │
│ │ Недопустимы: разрыв, склеивание.                                        │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ГОМЕОМОРФНЫЕ ОБЪЕКТЫ:                                                       │
│ ┌──────────────────────────┬────────────────────────────────────────────┐   │
│ │ ОБЪЕКТЫ                  │ ТОПОЛОГИЧЕСКИЙ ИНВАРИАНТ                   │   │
│ ├──────────────────────────┼────────────────────────────────────────────┤   │
│ │ ○ ≅ □ ≅ △               │ Нет дырок, π₁ = 0                          │   │
│ │ Кружка ≅ Тор             │ Одна дырка, π₁ = ℤ                         │   │
│ │ O ≅ D, B ≅ 8, A ≅ R     │ Классификация по числу дырок               │   │
│ └──────────────────────────┴────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФИЗИЧЕСКИЙ ВЗГЛЯД: ЗАСТЫВШИЙ ОБЪЕКТ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Топология смотрит на пространство как на ЗАСТЫВШИЙ объект.                 │
│ Группа смотрит как на ДИНАМИЧЕСКУЮ систему.                                │
│                                                                             │
│ ЧЕТЫРЕ ВОПРОСА ТОПОЛОГИИ:                                                   │
│                                                                             │
│   1. Сколько в объекте ДЫРОК?                                              │
│      Бублик — одна. Кружка с ручкой — тоже одна. Они "одинаковы".          │
│      Шар — ни одной. Его нельзя деформировать в бублик.                    │
│                                                                             │
│   2. Есть ли у объекта ГРАНИЦА?                                            │
│      У диска есть (окружность). У сферы нет. У ленты Мёбиуса — один край!  │
│                                                                             │
│   3. Можно ли его РАЗРЕЗАТЬ, не разбив на части?                           │
│      Разрежьте тор поперёк — останется трубка (одна часть).                │
│      Разрежьте сферу — распадётся на две шапки (две части).                │
│                                                                             │
│   4. Можно ли на нём различить "левое" и "правое"?                         │
│      На ленте Мёбиуса — нельзя. Она неориентируема.                        │
│                                                                             │
│ Это всё ИНВАРИАНТЫ — свойства, которые не меняются при деформации.         │
│                                                                             │
│ ───────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│ КОНТРАСТ С ГРУППАМИ:                                                        │
│                                                                             │
│   ГРУППА спрашивает:    Какие ДВИЖЕНИЯ возможны с этим объектом?           │
│   ТОПОЛОГИЯ спрашивает: Какова ФОРМА этого объекта?                        │
│                                                                             │
│   Группа: динамика движения → SE(3), SO(3), D₄                             │
│   Топология: статика формы → дырки (π₁), связность (π₀), Эйлер (χ)         │
│                                                                             │
│   Оба дают КЛАССИФИКАЦИЮ — устанавливают, что возможно, а что нет.         │
│   Оба отвечают на вопрос "какого типа этот объект".                        │
│                                                                             │
│ ПРИМЕР СВЯЗИ: Фундаментальная группа π₁(X) — это группа,                   │
│ которая классифицирует петли в топологическом пространстве X.               │
│ Топология и алгебра встречаются.                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ БУКВЫ АЛФАВИТА: КЛАССИФИКАЦИЯ ПО ДЫРКАМ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   БЕЗ ДЫРОК (все одинаковы):    C, G, I, J, L, M, N, S, U, V, W, Z         │
│                                                                             │
│   ОДНА ДЫРКА (все одинаковы):   A, D, O, P, Q, R                            │
│                                                                             │
│   ДВЕ ДЫРКИ (все одинаковы):    B, 8                                        │
│                                                                             │
│ Это ПОЛНАЯ классификация букв с топологической точки зрения.               │
│ Буква "O" и буква "D" — один и тот же объект (можно деформировать).        │
│ Буква "O" и буква "C" — РАЗНЫЕ объекты (у C нет дырки).                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.1  ОТКРЫТЫЕ МНОЖЕСТВА — БАЗОВОЕ ПОНЯТИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ ОТКРЫТОГО МНОЖЕСТВА                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множество U ⊂ X называется открытым, если для каждой точки x ∈ U           │
│ существует окрестность x, целиком содержащаяся в U.                         │
│                                                                             │
│ ЭКВИВАЛЕНТНАЯ ФОРМУЛИРОВКА (для метрического пространства):                 │
│ ∀x ∈ U  ∃ε > 0:  B(x, ε) ⊂ U                                               │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ x ∈ U  ⟺  x — внутренняя точка  ⟺  ∃ε > 0: B(x,ε) ⊂ U                │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ Граничные точки: ∀ε > 0 шар B(x,ε) содержит точки как из U, так и из X\U  │
│ Открытое множество не содержит своих граничных точек.                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ НА ЧИСЛОВОЙ ПРЯМОЙ ℝ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────┬──────────────────────────┬────────────────────────────────┐│
│ │ ТИП ИНТЕРВАЛА │ ВИЗУАЛИЗАЦИЯ             │ СВОЙСТВО                       ││
│ ├───────────────┼──────────────────────────┼────────────────────────────────┤│
│ │               │                          │                                ││
│ │ ОТКРЫТЫЙ      │ ──○━━━━━━━━━━━━━━○──     │ ОТКРЫТОЕ: у каждой точки       ││
│ │ (0, 1)        │   0 не вход.   1 не вх.  │ есть "запас" внутри            ││
│ │               │                          │                                ││
│ ├───────────────┼──────────────────────────┼────────────────────────────────┤│
│ │               │                          │                                ││
│ │ ЗАКРЫТЫЙ      │ ──●━━━━━━━━━━━━━━●──     │ ЗАКРЫТОЕ: содержит границу     ││
│ │ [0, 1]        │   0 входит     1 входит  │ Нет "запаса" у краёв           ││
│ │               │                          │                                ││
│ ├───────────────┼──────────────────────────┼────────────────────────────────┤│
│ │               │                          │                                ││
│ │ ПОЛУОТКРЫТЫЙ  │ ──●━━━━━━━━━━━━━━○──     │ НИ открытое, НИ закрытое!      ││
│ │ [0, 1)        │   0 входит    1 не вх.   │ Такое бывает                   ││
│ │               │                          │                                ││
│ └───────────────┴──────────────────────────┴────────────────────────────────┘│
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚠️  ОТКРЫТОСТЬ ЗАВИСИТ ОТ ОБЪЕМЛЮЩЕГО ПРОСТРАНСТВА!                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Одно и то же множество может быть открытым в одном пространстве             │
│ и не открытым в другом.                                                     │
│                                                                             │
│ ПРИМЕР 1: Множество [0, 1)                                                  │
│   • В ℝ: НЕ открытое (точка 0 граничная)                                   │
│   • В [0, ∞): ОТКРЫТОЕ! (нет точек левее 0, так что 0 — внутренняя)        │
│                                                                             │
│ ПРИМЕР 2: Множество [0, ½)                                                  │
│   В пространстве X = [0, 1] с индуцированной топологией из ℝ:              │
│   • [0, ½) ОТКРЫТО в X (потому что [0, ½) = X ∩ (−1, ½))                   │
│   • Но точка 0 интуитивно кажется "краем" — это ловушка!                   │
│                                                                             │
│ МОРАЛЬ: Говоря "открытое", всегда уточняйте — В КАКОМ пространстве!        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ МЕТРИКИ                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Метрика на множестве X — это функция d: X × X → [0, +∞), такая что:        │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │ (M1)  d(x,y) = 0  ⟺  x = y       (тождество неразличимых)          │   │
│   │ (M2)  d(x,y) = d(y,x)             (симметрия)                       │   │
│   │ (M3)  d(x,z) ≤ d(x,y) + d(y,z)   (неравенство треугольника)        │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ Пара (X, d) называется МЕТРИЧЕСКИМ ПРОСТРАНСТВОМ.                          │
│                                                                             │
│ ПРИМЕРЫ МЕТРИК:                                                             │
│                                                                             │
│   ┌─────────────────────┬───────────────────────────────────────────────┐   │
│   │ ПРОСТРАНСТВО        │ МЕТРИКА                                       │   │
│   ├─────────────────────┼───────────────────────────────────────────────┤   │
│   │ ℝ                   │ d(x,y) = |x − y|                              │   │
│   │ ℝⁿ (евклидова)      │ d(x,y) = √(Σᵢ(xᵢ−yᵢ)²)                       │   │
│   │ ℝⁿ (манхэттенская)  │ d(x,y) = Σᵢ|xᵢ−yᵢ|                           │   │
│   │ ℝⁿ (sup-метрика)    │ d(x,y) = maxᵢ|xᵢ−yᵢ|                         │   │
│   │ C[a,b] (функции)    │ d(f,g) = max_{x∈[a,b]}|f(x)−g(x)|            │   │
│   │ Дискретная          │ d(x,y) = 0 если x=y, иначе 1                  │   │
│   └─────────────────────┴───────────────────────────────────────────────┘   │
│                                                                             │
│ ЗАЧЕМ МЕТРИКА:                                                              │
│   • Определяет понятие "близости" количественно                             │
│   • Порождает топологию (открытые множества через шары)                    │
│   • Позволяет говорить о сходимости: xₙ → x ⟺ d(xₙ,x) → 0               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ ОТКРЫТОГО МНОЖЕСТВА (через метрику)                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть (X, d) — метрическое пространство.                     │
│                                                                             │
│ Открытый шар: B(x, ε) = {y : d(x,y) < ε}                                    │
│               (все точки ближе ε к центру x)                                │
│                                                                             │
│ Множество U называется ОТКРЫТЫМ, если:                                      │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │  ∀x ∈ U  ∃ε > 0:  B(x, ε) ⊆ U                                       │   │
│   │                                                                     │   │
│   │  "Для каждой точки x из U существует шар с центром в x,             │   │
│   │   целиком лежащий в U"                                              │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ВИЗУАЛЬНО:                                                                  │
│                                                                             │
│        U — открытое                      V — НЕ открытое                    │
│     ╭─────────────────╮               ╭─────────────────╮                   │
│     │    ╭───╮        │               │            ●────┤ ← точка на       │
│     │    │ ● │ шар    │               │           нет   │   границе,       │
│     │    ╰───╯ внутри │               │           шара  │   шар не         │
│     │                 │               │                 │   поместится     │
│     ╰─────────────────╯               ╰─────────────────╯                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАКРЫТЫЕ МНОЖЕСТВА                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Закрытое множество = дополнение открытого                                   │
│                                                                             │
│   F закрыто  ⟺  X \ F открыто                                              │
│                                                                             │
│ ЭКВИВАЛЕНТНО: F содержит все свои предельные точки.                         │
│               (Если последовательность из F сходится, предел тоже в F)      │
│                                                                             │
│ ПРИМЕРЫ на ℝ:                                                               │
│                                                                             │
│   [0, 1]     закрытое    (ℝ \ [0,1] = (−∞,0) ∪ (1,+∞) — открытое)          │
│   {0}        закрытое    (одна точка — вырожденный случай)                  │
│   [0, +∞)    закрытое    (полупрямая с включённым концом)                   │
│   ℚ          НЕ закрытое (√2 — предельная точка, но √2 ∉ ℚ)                │
│                                                                             │
│ ВНИМАНИЕ: "Не открытое" ≠ "Закрытое"!                                       │
│                                                                             │
│   [0, 1)  — не открытое И не закрытое                                       │
│   ∅       — и открытое, И закрытое (единственные такие: ∅ и всё X)         │
│   ℝ       — и открытое, И закрытое                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАНИЦА, ВНУТРЕННОСТЬ, ЗАМЫКАНИЕ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для любого множества A ⊆ X:                                                 │
│                                                                             │
│   Int(A) = внутренность = наибольшее открытое подмножество A                │
│          = {x ∈ A : ∃ε > 0, B(x,ε) ⊆ A}                                    │
│                                                                             │
│   Cl(A)  = замыкание = наименьшее закрытое надмножество A                   │
│          = A ∪ {все предельные точки A}                                     │
│                                                                             │
│   ∂A     = граница = Cl(A) \ Int(A)                                         │
│          = точки, в любой окрестности которых есть и A, и не-A              │
│                                                                             │
│ ПРИМЕР: A = (0, 1]                                                          │
│                                                                             │
│     ───────○━━━━━━━━━━━━━━━━━━━━━━━━━●───────                               │
│            0                          1                                     │
│                                                                             │
│   Int(A) = (0, 1)     — убрали точку 1 (она на границе)                     │
│   Cl(A)  = [0, 1]     — добавили точку 0 (предельная)                       │
│   ∂A     = {0, 1}     — две граничные точки                                 │
│                                                                             │
│ СВЯЗЬ:                                                                      │
│   A открыто  ⟺  A = Int(A)  ⟺  A не содержит своей границы                 │
│   A закрыто  ⟺  A = Cl(A)   ⟺  A содержит свою границу                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.2  ТОПОЛОГИЧЕСКОЕ ПРОСТРАНСТВО — АБСТРАКЦИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИДЕЯ: ЗАБЫТЬ ПРО МЕТРИКУ, ОСТАВИТЬ ТОЛЬКО "ОТКРЫТЫЕ МНОЖЕСТВА"              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Наблюдение: Все свойства непрерывности можно выразить через открытые        │
│             множества, НЕ упоминая расстояние!                              │
│                                                                             │
│ Идея: Что если НАПРЯМУЮ задать, какие множества считать "открытыми"?        │
│       Не выводить из метрики, а просто объявить!                            │
│                                                                             │
│ Нужны правила, чтобы "открытые" множества вели себя разумно.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ ТОПОЛОГИИ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Топология на множестве X — это семейство τ ⊆ P(X) подмножеств X,           │
│ удовлетворяющее трём аксиомам:                                              │
│                                                                             │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │ (T1)  ∅ ∈ τ  и  X ∈ τ                                              │    │
│   │       Пустое и всё пространство — открыты                          │    │
│   │                                                                    │    │
│   │ (T2)  U₁, U₂ ∈ τ  ⇒  U₁ ∩ U₂ ∈ τ                                  │    │
│   │       Пересечение ДВУХ открытых — открыто                          │    │
│   │       (по индукции: КОНЕЧНОЕ пересечение открытых — открыто)       │    │
│   │                                                                    │    │
│   │ (T3)  {Uᵢ}ᵢ∈I ⊆ τ  ⇒  ⋃ᵢ∈I Uᵢ ∈ τ                                 │    │
│   │       Объединение ЛЮБОГО семейства открытых — открыто              │    │
│   │       (даже бесконечного, даже несчётного!)                        │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│ Пара (X, τ) называется ТОПОЛОГИЧЕСКИМ ПРОСТРАНСТВОМ.                        │
│ Элементы τ называются ОТКРЫТЫМИ МНОЖЕСТВАМИ.                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ТАКИЕ АКСИОМЫ                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Эти аксиомы выведены из свойств открытых множеств в метрическом простр-ве:  │
│                                                                             │
│ (T1) Очевидно: везде есть "запас", нигде нет "запаса"                       │
│                                                                             │
│ (T2) Если в U₁ есть шар радиуса ε₁, а в U₂ — радиуса ε₂,                   │
│      то в пересечении есть шар радиуса min(ε₁, ε₂)                         │
│                                                                             │
│      ПОЧЕМУ ТОЛЬКО КОНЕЧНЫЕ? При бесконечном пересечении min может быть 0!  │
│                                                                             │
│      Пример: ⋂ₙ (−1/n, 1/n) = {0} — одна точка, НЕ открытое множество!     │
│                                                                             │
│ (T3) Если точка в каком-то Uᵢ, у неё есть шар в этом Uᵢ,                   │
│      значит и в объединении есть шар. Работает для любого семейства.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ТОПОЛОГИЙ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть X = {a, b, c} — три точки. Сравним топологии:                         │
│                                                                             │
│ ┌────────────────┬────────────────────────────┬───────────────────────────┐ │
│ │ ТОПОЛОГИЯ      │ ОТКРЫТЫЕ МНОЖЕСТВА         │ СМЫСЛ                     │ │
│ ├────────────────┼────────────────────────────┼───────────────────────────┤ │
│ │                │                            │                           │ │
│ │ Дискретная     │ ВСЕ подмножества:          │ Точки "далеко"            │ │
│ │ (максимальная) │ ∅,{a},{b},{c},{a,b},       │ друг от друга,            │ │
│ │                │ {a,c},{b,c},{a,b,c}        │ каждая изолирована        │ │
│ │                │                            │                           │ │
│ ├────────────────┼────────────────────────────┼───────────────────────────┤ │
│ │                │                            │                           │ │
│ │ Антидискретная │ Только ∅ и X:              │ Точки "слиплись",         │ │
│ │ (минимальная)  │ {∅, {a,b,c}}               │ неразличимы               │ │
│ │                │                            │                           │ │
│ ├────────────────┼────────────────────────────┼───────────────────────────┤ │
│ │                │                            │                           │ │
│ │ Промежуточная  │ {∅, {a}, {a,b}, {a,b,c}}   │ a "открыта",              │ │
│ │ (пример)       │                            │ c "закрыта"               │ │
│ │                │                            │                           │ │
│ └────────────────┴────────────────────────────┴───────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СТАНДАРТНАЯ ТОПОЛОГИЯ НА ℝ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ τ = {U ⊆ ℝ : ∀x ∈ U ∃ε > 0: (x−ε, x+ε) ⊆ U}                                │
│                                                                             │
│ Открытые множества = те, где каждая точка окружена интервалом.              │
│                                                                             │
│ БАЗА ТОПОЛОГИИ:                                                             │
│                                                                             │
│   Не нужно описывать ВСЕ открытые множества.                                │
│   Достаточно задать БАЗУ — набор "кирпичиков", из которых                   │
│   объединениями получаются все остальные открытые.                          │
│                                                                             │
│   Для ℝ: база = все открытые интервалы (a, b)                               │
│   Для ℝⁿ: база = все открытые шары B(x, ε)                                  │
│                                                                             │
│ ВАЖНО: Стандартная топология на ℝ порождается метрикой d(x,y) = |x−y|       │
│        Но можно задать ДРУГИЕ топологии на том же ℝ!                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТРИКА → ТОПОЛОГИЯ (но не наоборот!)                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Любая метрика d на X порождает топологию:                                   │
│   τ_d = {U : ∀x ∈ U ∃ε > 0: B_d(x,ε) ⊆ U}                                  │
│                                                                             │
│ Но НЕ любая топология порождается какой-то метрикой!                        │
│ (Такие топологии называются "метризуемыми")                                 │
│                                                                             │
│ ПРИМЕР неметризуемой топологии:                                             │
│   Антидискретная на X с |X| > 1: нельзя отделить точки шарами.              │
│                                                                             │
│ РАЗНЫЕ МЕТРИКИ могут давать ОДНУ топологию:                                 │
│                                                                             │
│   На ℝ²:  d₁(x,y) = |x₁−y₁| + |x₂−y₂|        (манхэттенская)               │
│           d₂(x,y) = √((x₁−y₁)² + (x₂−y₂)²)  (евклидова)                    │
│           d∞(x,y) = max(|x₁−y₁|, |x₂−y₂|)   (чебышёвская)                  │
│                                                                             │
│   Шары разной формы:  ◇ (d₁)    ○ (d₂)    □ (d∞)                           │
│   Но топология ОДНА! Одни и те же множества открыты.                        │
│                                                                             │
│      ◇           ○           □                                              │
│     ╱ ╲         ╱ ╲         ┌─┐                                             │
│    ╱   ╲       │   │        │ │                                             │
│    ╲   ╱       │   │        │ │                                             │
│     ╲ ╱         ╲ ╱         └─┘                                             │
│                                                                             │
│   Топологически эквивалентны (гомеоморфны как шары)                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АКСИОМЫ ОТДЕЛИМОСТИ — НАСКОЛЬКО "ХОРОШО" ПРОСТРАНСТВО                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Не все топологические пространства "хорошие".                     │
│ В антидискретной топологии две разные точки неразличимы!                    │
│                                                                             │
│ АКСИОМЫ ОТДЕЛИМОСТИ задают иерархию "хороших" пространств:                  │
│                                                                             │
│ ┌─────────┬───────────────────────────────────────────────────────────────┐ │
│ │ АКСИОМА │ УСЛОВИЕ                                                       │ │
│ ├─────────┼───────────────────────────────────────────────────────────────┤ │
│ │         │                                                               │ │
│ │ T₀      │ Для любых x ≠ y найдётся окрестность ОДНОЙ из точек,         │ │
│ │(Колмог.)│ не содержащая другую.                                         │ │
│ │         │ (Хоть как-то можно различить)                                 │ │
│ │         │                                                               │ │
│ ├─────────┼───────────────────────────────────────────────────────────────┤ │
│ │         │                                                               │ │
│ │ T₁      │ Для любых x ≠ y найдётся окрестность x, не содержащая y,     │ │
│ │(Фреше)  │ И окрестность y, не содержащая x.                             │ │
│ │         │ Эквивалентно: все одноточечные множества {x} замкнуты.        │ │
│ │         │                                                               │ │
│ ├─────────┼───────────────────────────────────────────────────────────────┤ │
│ │         │                                                               │ │
│ │ T₂      │ Для любых x ≠ y найдутся НЕПЕРЕСЕКАЮЩИЕСЯ окрестности:       │ │
│ │(Хаусд.) │ U ∋ x, V ∋ y, U ∩ V = ∅                                      │ │
│ │         │                                                               │ │
│ │         │     x           y                                             │ │
│ │         │    (U)         (V)        ← U и V не пересекаются            │ │
│ │         │   ╭───╮       ╭───╮                                           │ │
│ │         │   │ ● │       │ ● │                                           │ │
│ │         │   ╰───╯       ╰───╯                                           │ │
│ │         │                                                               │ │
│ ├─────────┼───────────────────────────────────────────────────────────────┤ │
│ │         │                                                               │ │
│ │ T₃      │ T₁ + для точки x и замкнутого F ∌ x найдутся                 │ │
│ │(регул.) │ непересекающиеся окрестности x и F.                           │ │
│ │         │                                                               │ │
│ ├─────────┼───────────────────────────────────────────────────────────────┤ │
│ │         │                                                               │ │
│ │ T₄      │ T₁ + для любых непересекающихся замкнутых F, G                │ │
│ │(норм.)  │ найдутся непересекающиеся окрестности.                        │ │
│ │         │                                                               │ │
│ └─────────┴───────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ИЕРАРХИЯ:                                                                   │
│                                                                             │
│   T₄ (нормальное) ⊂ T₃ (регулярное) ⊂ T₂ (хаусдорфово) ⊂ T₁ ⊂ T₀          │
│                                                                             │
│ ПОЧЕМУ T₂ (ХАУСДОРФОВОСТЬ) ВАЖНА:                                           │
│                                                                             │
│   1. ЕДИНСТВЕННОСТЬ ПРЕДЕЛОВ:                                               │
│      В хаусдорфовом пространстве последовательность имеет                   │
│      не более одного предела. (Без T₂ предел может быть неединственным!)   │
│                                                                             │
│   2. КОМПАКТЫ ЗАМКНУТЫ:                                                     │
│      В хаусдорфовом пространстве компактное подмножество замкнуто.          │
│                                                                             │
│   3. ПРАКТИКА:                                                              │
│      Почти все пространства в анализе и геометрии — хаусдорфовы.            │
│      ℝⁿ, многообразия, метрические пространства — все T₂.                  │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│                                                                             │
│   ✓ ℝⁿ с обычной топологией — T₄ (нормальное)                              │
│   ✓ Любое метрическое пространство — T₄                                    │
│   ✗ Антидискретная топология (|X| > 1) — даже не T₀                        │
│   ✗ Прямая с удвоенной точкой — T₁, но не T₂                               │
│                                                                             │
│ ЛЕММА УРЫСОНА (следствие T₄):                                               │
│   В нормальном пространстве для любых непересекающихся замкнутых            │
│   F и G существует непрерывная f: X → [0,1] с f|_F = 0 и f|_G = 1.         │
│   (Можно "гладко" разделить множества функцией!)                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.3  НЕПРЕРЫВНЫЕ ОТОБРАЖЕНИЯ — СОХРАНЕНИЕ БЛИЗОСТИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ НЕПРЕРЫВНОСТИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть (X, τ_X) и (Y, τ_Y) — топологические пространства.                    │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: f: X → Y непрерывно ⟺ ∀V ∈ τ_Y: f⁻¹(V) ∈ τ_X            │ │
│ │              (прообраз открытого множества открыт)                      │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ Здесь f⁻¹(V) = {x ∈ X : f(x) ∈ V} — прообраз (не обратная функция).        │
│                                                                             │
│           Прообраз определён всегда, даже если f не обратима.               │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│      X                           Y                                          │
│   ┌───────────┐    f        ┌───────────┐                                   │
│   │ ╭─────╮   │   ───→      │   ╭───╮   │                                   │
│   │ │f⁻¹(V)│  │             │   │ V │   │   V открыто в Y                   │
│   │ ╰─────╯   │             │   ╰───╯   │                                   │
│   └───────────┘             └───────────┘                                   │
│     открыто?                  открыто ✓                                     │
│                                                                             │
│   f непрерывно ⟺ для любого открытого V, его прообраз f⁻¹(V) открыт        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ε-δ ОПРЕДЕЛЕНИЕМ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ДВА ОПРЕДЕЛЕНИЯ — ОДНА ИДЕЯ (для метрических пространств эквивалентны):     │
│                                                                             │
│ ┌─────────────────┬─────────────────────────────────────────────────────┐   │
│ │ ОПРЕДЕЛЕНИЕ     │ ФОРМУЛИРОВКА                                        │   │
│ ├─────────────────┼─────────────────────────────────────────────────────┤   │
│ │ ε-δ (анализ)    │ ∀ε>0 ∃δ>0: d(x,x₀)<δ ⇒ d(f(x),f(x₀))<ε            │   │
│ │                 │ "образ сколь угодно близок при близком аргументе"   │   │
│ ├─────────────────┼─────────────────────────────────────────────────────┤   │
│ │ Топологическое  │ Прообраз открытого множества открыт                 │   │
│ │                 │ "окрестность образа ← окрестность аргумента"        │   │
│ └─────────────────┴─────────────────────────────────────────────────────┘   │
│                                                                             │
│ ЗАЧЕМ ТОПОЛОГИЧЕСКОЕ? Работает БЕЗ метрики!                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ И КОНТРПРИМЕРЫ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────┬───────────────────────┬─────────────────────────┐   │
│ │ ФУНКЦИЯ             │ НЕПРЕРЫВНА?           │ ПОЧЕМУ                  │   │
│ ├─────────────────────┼───────────────────────┼─────────────────────────┤   │
│ │ f(x) = x²           │ ДА                    │ Прообраз (a,b) открыт   │   │
│ │ f(x) = sin(x)       │ ДА                    │ Гладкая → непрерывная   │   │
│ │ f(x) = |x|          │ ДА                    │ В каждой точке непр.    │   │
│ │ f(x) = ⌊x⌋          │ НЕТ                   │ Прообраз не открыт      │   │
│ │ f(x) = θ(x) (Хеви.) │ НЕТ                   │ Разрыв в x=0            │   │
│ └─────────────────────┴───────────────────────┴─────────────────────────┘   │
│                                                                             │
│   Проблема в точке 0: скачок.                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.4  ГОМЕОМОРФИЗМ — ТОПОЛОГИЧЕСКАЯ ЭКВИВАЛЕНТНОСТЬ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ                                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Гомеоморфизм f: X → Y — это биекция, непрерывная в обе стороны:             │
│                                                                             │
│   1. f — биекция (взаимно однозначное соответствие)                         │
│   2. f — непрерывна                                                         │
│   3. f⁻¹ — тоже непрерывна                                                  │
│                                                                             │
│ Если существует гомеоморфизм X → Y, пишем X ≅ Y ("X гомеоморфно Y")         │
│                                                                             │
│ СМЫСЛ: X и Y имеют ОДИНАКОВУЮ топологическую структуру.                     │
│        Различаются только "именами" точек.                                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ФИЗИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ: ОЧЕНЬ ВЯЗКОЕ ТЕЧЕНИЕ                              │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Представьте объект из очень вязкой жидкости (тесто, пластилин, смола).      │
│ Гомеоморфизм — это МЕДЛЕННАЯ деформация, при которой:                       │
│                                                                             │
│   • Материал течёт, меняет форму                                           │
│   • Но НЕ рвётся (нельзя создать дырку)                                    │
│   • И НЕ склеивается (нельзя заделать дырку)                               │
│                                                                             │
│ Бублик → кружка: тесто "перетекает", дырка сохраняется                     │
│ Бублик → шар: НЕВОЗМОЖНО без разрыва (дырка должна исчезнуть)              │
│                                                                             │
│ Эта интуиция связывает топологию с ГИДРОДИНАМИКОЙ:                          │
│   • Гомеоморфизм = итог бесконечно медленного несжимаемого течения          │
│   • Топологические инварианты = то, что сохраняется при любом течении       │
│   • Диффеоморфизм = гладкое течение (без "складок")                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖНА НЕПРЕРЫВНОСТЬ f⁻¹?                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Непрерывная биекция НЕ обязана быть гомеоморфизмом!                         │
│                                                                             │
│ КОНТРПРИМЕР:                                                                │
│                                                                             │
│   X = [0, 2π)  с обычной топологией (полуинтервал)                          │
│   Y = S¹      окружность                                                    │
│   f(t) = (cos t, sin t)                                                     │
│                                                                             │
│      [0────────────2π)         f          ╭──────╮                          │
│       ●                       ───→       ╱   ●    ╲                         │
│       │                                 │    ↑     │                        │
│       └─→ растягивается на окружность   │  начало  │                        │
│                                          ╲        ╱                         │
│                                           ╰──────╯                          │
│                                                                             │
│   f — биекция ✓                                                             │
│   f — непрерывна ✓                                                          │
│   f⁻¹ — НЕ непрерывна! ✗                                                    │
│                                                                             │
│   Почему? При обходе окружности, приближаясь к начальной точке,             │
│   f⁻¹ делает скачок: ...→ 2π−ε → 0 (разрыв!)                               │
│                                                                             │
│   [0, 2π) и S¹ НЕ гомеоморфны, хотя есть непрерывная биекция.               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ГОМЕОМОРФИЗМОВ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ (0, 1) ≅ ℝ        через f(x) = tan(π(x − 1/2))                             │
│                   Открытый интервал ↔ вся прямая!                           │
│                                                                             │
│ (0, 1) ≅ (0, ∞)   через f(x) = x/(1−x)                                     │
│                                                                             │
│ Круг ≅ Квадрат    "Надуваем" квадрат до круга                               │
│                                                                             │
│ ℝ² \ {0} ≅ S¹×ℝ   Плоскость без начала ↔ Цилиндр                           │
│                   (полярные координаты: (r,θ) ↦ (θ, ln r))                  │
│                                                                             │
│ НЕ гомеоморфны:                                                             │
│                                                                             │
│ [0,1] ≇ (0,1)     Замкнутый интервал ≠ открытый (разное число концов)       │
│ S¹ ≇ [0,1]        Окружность ≠ отрезок (у отрезка есть концы)               │
│ S² ≇ T²           Сфера ≠ тор (разное число дырок)                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ЭКВИВАЛЕНТНОСТЕЙ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Изометрия ⊂ Диффеоморфизм ⊂ Гомеоморфизм ⊂ Гомотопическая эквивалентность  │
│                                                                             │
├─────────────────────┬───────────────────────┬───────────────────────────────┤
│ ЭКВИВАЛЕНТНОСТЬ     │ ЧТО СОХРАНЯЕТ         │ КВАДРАТ...                    │
├─────────────────────┼───────────────────────┼───────────────────────────────┤
│                     │                       │                               │
│ Изометрия           │ Расстояния            │ ≅ только себе/повороту        │
│ (самое строгое)     │                       │                               │
│                     │                       │                               │
├─────────────────────┼───────────────────────┼───────────────────────────────┤
│                     │                       │                               │
│ Диффеоморфизм       │ Гладкую структуру     │ ≅ кругу (гладко деформ.)      │
│                     │                       │                               │
├─────────────────────┼───────────────────────┼───────────────────────────────┤
│                     │                       │                               │
│ Гомеоморфизм        │ Топологию             │ ≅ кругу (непрерывно деформ.)  │
│                     │                       │                               │
├─────────────────────┼───────────────────────┼───────────────────────────────┤
│                     │                       │                               │
│ Гомотоп. эквив.     │ "Форму дырок"         │ ≃ точке (можно стянуть!)      │
│ (самое слабое)      │                       │                               │
│                     │                       │                               │
└─────────────────────┴───────────────────────┴───────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.5  СВЯЗНОСТЬ — "ОДНИМ КУСКОМ"
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗНОСТЬ — НЕФОРМАЛЬНОЕ ОПИСАНИЕ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Связное пространство: не представимо как объединение двух непересекающихся  │
│                       непустых открытых множеств                            │
│                                                                             │
│   СВЯЗНОЕ:                    НЕ СВЯЗНОЕ:                                   │
│   ╭───────────╮               ╭───────╮   ╭───────╮                         │
│   │           │               │       │   │       │                         │
│   │     ●     │               │   ●   │   │   ●   │                         │
│   │           │               │       │   │       │                         │
│   ╰───────────╯               ╰───────╯   ╰───────╯                         │
│   один кусок                  два отдельных куска                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Топологическое пространство X называется СВЯЗНЫМ, если                      │
│ НЕ существует разбиения X = U ∪ V, где:                                     │
│                                                                             │
│   • U, V ≠ ∅           (оба непусты)                                        │
│   • U ∩ V = ∅          (не пересекаются)                                    │
│   • U, V ∈ τ           (оба открыты)                                        │
│                                                                             │
│ Эквивалентно: единственные множества, которые одновременно                  │
│               открыты И закрыты — это ∅ и X.                                │
│                                                                             │
│ СМЫСЛ: Нельзя "разрезать" X на два открытых куска.                          │
│        Между любыми двумя точками есть "топологический путь".               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ                                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СВЯЗНЫЕ:                                                                    │
│                                                                             │
│   [0, 1]      Любое разбиение на открытые невозможно                        │
│   (0, 1)      Тоже связно                                                   │
│   ℝ           Связно                                                        │
│   ℝⁿ          Связно для любого n                                           │
│   S¹, S², Sⁿ  Все сферы связны                                              │
│   Диск, шар   Связны                                                        │
│                                                                             │
│ НЕ СВЯЗНЫЕ:                                                                 │
│                                                                             │
│   (0,1) ∪ (2,3)   Два интервала = два куска                                 │
│                   U = (0,1), V = (2,3) — разбиение!                         │
│                                                                             │
│   ℚ               Рациональные числа НЕ связны!                             │
│                   Разбиение: {q < √2} и {q > √2}                            │
│                   (оба открыты в индуцированной топологии)                  │
│                                                                             │
│   ℝ \ {0}         Прямая без нуля = два луча                                │
│                   U = (−∞, 0), V = (0, +∞)                                  │
│                                                                             │
│   {0, 1}          Два изолированных точки (дискретная топология)            │
│   (дискретная)    U = {0}, V = {1} — оба открыты                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЛИНЕЙНАЯ СВЯЗНОСТЬ (сильнее)                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ X линейно связно, если любые две точки можно соединить ПУТЁМ:               │
│                                                                             │
│   ∀x, y ∈ X  ∃γ: [0,1] → X непрерывная,  γ(0) = x,  γ(1) = y               │
│                                                                             │
│ СВЯЗЬ:                                                                      │
│   Линейно связное ⇒ Связное (всегда)                                        │
│   Связное ⇒ Линейно связное (для "хороших" пространств, но не всегда!)     │
│                                                                             │
│ КОНТРПРИМЕР (топологическая синусоида):                                     │
│                                                                             │
│   A = {(x, sin(1/x)) : x > 0} ∪ {(0, y) : −1 ≤ y ≤ 1}                      │
│                                                                             │
│       │╭╮   ╭╮   ╭╮                                                         │
│   ────┼╯╰───╯╰───╯╰───  ← бесконечно осциллирует                            │
│       │                   при x → 0                                         │
│       │                                                                     │
│     вертикальный                                                            │
│     отрезок                                                                 │
│                                                                             │
│   Это связно (в топологическом смысле)                                      │
│   Но НЕ линейно связно: нет непрерывного пути от синусоиды к отрезку        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОМПОНЕНТЫ СВЯЗНОСТИ                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Компонента связности точки x — максимальное связное подмножество,           │
│ содержащее x.                                                               │
│                                                                             │
│ Свойства:                                                                   │
│   • X разбивается на непересекающиеся компоненты связности                  │
│   • Компонент может быть конечное число, счётное или несчётное              │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   ℝ \ {0}       — две компоненты: (−∞, 0) и (0, +∞)                         │
│   ℤ (дискр.)   — счётно много компонент: каждая точка отдельно              │
│   Канторово мн. — несчётно много компонент (каждая точка — компонента!)     │
│                                                                             │
│ H₀ в гомологиях считает компоненты связности:                               │
│   H₀(X) = ℤᵏ, где k = число компонент                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.6  КОМПАКТНОСТЬ — КОНЕЧНОСТЬ В БЕСКОНЕЧНОСТИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖНА КОМПАКТНОСТЬ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: На бесконечном или незамкнутом множестве многие теоремы ломаются. │
│                                                                             │
│   • f(x) = x на (0, +∞): нет максимума и минимума                           │
│   • f(x) = 1/x на (0, 1): непрерывна, но неограничена                       │
│   • Последовательность в ℝ может "убежать" на бесконечность                 │
│                                                                             │
│ РЕШЕНИЕ: Компактность — свойство, гарантирующее "конечно-подобное"          │
│          поведение на бесконечных множествах.                               │
│                                                                             │
│ АНАЛОГИЯ С ТЕПЛОТЕХНИКОЙ:                                                   │
│   Компактное пространство — как ограниченная система без "утечек".          │
│   Энергия не может "убежать на бесконечность".                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ КОМПАКТНОСТИ (через покрытия)                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Покрытие множества X — семейство множеств {Uᵢ}ᵢ∈I такое, что X ⊆ ⋃ᵢ Uᵢ    │
│ Открытое покрытие — покрытие открытыми множествами.                         │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │  X компактно, если из любого открытого покрытия можно выбрать       │   │
│   │  КОНЕЧНОЕ подпокрытие.                                              │   │
│   │                                                                     │   │
│   │  ∀{Uᵢ}ᵢ∈I открытое покрытие X                                       │   │
│   │  ∃ конечное J ⊂ I:  X ⊆ ⋃ⱼ∈J Uⱼ                                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ Компактность: любое открытое покрытие имеет конечное подпокрытие           │
│           Как бы мелко мы его ни покрывали, достаточно конечного числа.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: ПОЧЕМУ [0,1] КОМПАКТЕН, А (0,1) НЕТ                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ (0, 1) НЕ КОМПАКТЕН:                                                        │
│                                                                             │
│   Покрытие: Uₙ = (1/n, 1) для n = 2, 3, 4, ...                              │
│                                                                             │
│     U₂ = (1/2, 1)     ├━━━━━━━━━━━━━┤                                       │
│     U₃ = (1/3, 1)   ├━━━━━━━━━━━━━━━━┤                                      │
│     U₄ = (1/4, 1)  ├━━━━━━━━━━━━━━━━━━┤                                     │
│     ...            ...                                                      │
│                                                                             │
│   ⋃ₙ Uₙ = (0, 1) — покрытие ✓                                               │
│                                                                             │
│   Но любое КОНЕЧНОЕ подпокрытие U_{n₁}, ..., U_{nₖ}                         │
│   покрывает только (1/N, 1), где N = max(n₁,...,nₖ).                        │
│   Точки (0, 1/N) НЕ покрыты! ✗                                              │
│                                                                             │
│ [0, 1] КОМПАКТЕН:                                                           │
│                                                                             │
│   То же покрытие {(1/n, 1)} НЕ покрывает [0,1] — не содержит 0.             │
│   Любое покрытие [0,1] должно содержать окрестность 0 и окрестность 1.      │
│   Это "замыкает" конструкцию, позволяя выбрать конечное подпокрытие.        │
│                                                                             │
│   (Формальное доказательство: теорема Гейне-Бореля, см. ниже)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА ГЕЙНЕ-БОРЕЛЯ (для ℝⁿ)                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │  В ℝⁿ: X компактно  ⟺  X замкнуто И ограничено                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ВНИМАНИЕ: Это верно ТОЛЬКО для ℝⁿ! В общем топологическом пространстве     │
│           замкнутость + ограниченность НЕ гарантирует компактность.         │
│                                                                             │
│ ⚠️  КОНТРПРИМЕР (КРИТИЧНО ДЛЯ ФУНКЦИОНАЛЬНОГО АНАЛИЗА):                    │
│   Единичный шар B = {f ∈ L²: ‖f‖ ≤ 1} в бесконечномерном L²:               │
│     • Замкнут? ДА                                                           │
│     • Ограничен? ДА                                                         │
│     • Компактен? НЕТ!                                                       │
│   Последовательность eₙ(x) = sin(nπx) ограничена, но не имеет              │
│   сходящейся подпоследовательности в L².                                    │
│                                                                             │
│   Это ЛОМАЕТ интуицию из ℝⁿ. В бесконечномерных пространствах             │
│   нужна СЛАБАЯ компактность или дополнительные условия.                    │
│                                                                             │
│ ПРИМЕРЫ в ℝⁿ:                                                               │
│                                                                             │
│   ┌────────────────────┬────────────┬─────────────┬────────────────────┐    │
│   │ МНОЖЕСТВО          │ ЗАМКНУТО?  │ ОГРАНИЧЕНО? │ КОМПАКТНО?         │    │
│   ├────────────────────┼────────────┼─────────────┼────────────────────┤    │
│   │ [0, 1]             │ Да         │ Да          │ Да                 │    │
│   │ (0, 1)             │ Нет        │ Да          │ Нет                │    │
│   │ [0, +∞)            │ Да         │ Нет         │ Нет                │    │
│   │ ℕ = {1, 2, 3, ...} │ Да         │ Нет         │ Нет                │    │
│   │ Единичный шар D²   │ Да         │ Да          │ Да                 │    │
│   │ Сфера S²           │ Да         │ Да          │ Да                 │    │
│   │ ℝⁿ                 │ Да         │ Нет         │ Нет                │    │
│   │ {1/n : n ∈ ℕ}      │ Нет        │ Да          │ Нет                │    │
│   │ {0}∪{1/n : n ∈ ℕ}  │ Да         │ Да          │ Да (добавили 0!)   │    │
│   └────────────────────┴────────────┴─────────────┴────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВОЙСТВА КОМПАКТНЫХ ПРОСТРАНСТВ                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ СВОЙСТВО                 │ ФОРМУЛИРОВКА                                     │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Образ компакта           │ f: X → Y непрерывна, X компактно                 │
│                          │ ⇒ f(X) компактно                                 │
│                          │                                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Теорема Вейерштрасса     │ f: X → ℝ непрерывна, X компактно                 │
│ (КЛЮЧ К ОПТИМИЗАЦИИ!)    │ ⇒ f достигает max и min                          │
│                          │                                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Замкнутое ⊂ компакта     │ X компактно, F ⊆ X замкнуто                      │
│                          │ ⇒ F компактно                                    │
│                          │                                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Компакт в хаусдорфовом   │ Y хаусдорфово, X ⊆ Y компактно                   │
│                          │ ⇒ X замкнуто в Y                                 │
│                          │                                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Теорема Тихонова         │ X, Y компактны ⇒ X × Y компактно                 │
│                          │ (работает для любого произведения!)              │
│                          │                                                  │
├──────────────────────────┴──────────────────────────────────────────────────┤
│                                                                             │
│ ПРИМЕНЕНИЯ КОМПАКТНОСТИ                                                     │
│                                                                             │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ ОБЛАСТЬ                  │ КАК ИСПОЛЬЗУЕТСЯ                                 │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Оптимизация              │ На компакте экстремум СУЩЕСТВУЕТ (Вейерштрасс)   │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Численные методы         │ Сходимость через подпоследовательности           │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Физика                   │ Компактное фазовое пр-во = замкнутая система     │
└──────────────────────────┴──────────────────────────────────────────────────┘
│ ТЕРМОДИНАМИКА:                                                              │
│   Конечный резервуар (компактная область) vs бесконечная среда.             │
│   Свойства решений уравнения теплопроводности существенно зависят           │
│   от компактности области.                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.7  ТОПОЛОГИЧЕСКИЕ ИНВАРИАНТЫ — КАК РАЗЛИЧАТЬ ПРОСТРАНСТВА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОБЛЕМА: КАК ДОКАЗАТЬ, ЧТО ПРОСТРАНСТВА РАЗНЫЕ?                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Гомеоморфизм показывает, что пространства ОДИНАКОВЫ.                        │
│ Но как доказать, что гомеоморфизма НЕ существует?                           │
│                                                                             │
│ ИДЕЯ: Сопоставить пространству ЧИСЛО или ГРУППУ (инвариант).                │
│       Если инварианты разные — пространства точно разные!                   │
│                                                                             │
│ Инвариант = свойство, сохраняющееся при гомеоморфизмах.                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОСТЫЕ ИНВАРИАНТЫ                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├─────────────────────────┬───────────────────────────────────────────────────┤
│ ИНВАРИАНТ               │ ПРИМЕНЕНИЕ                                        │
├─────────────────────────┼───────────────────────────────────────────────────┤
│                         │                                                   │
│ Число точек │X│         │ │X│ ≠ │Y│ ⇒ X ≇ Y (для конечных)                 │
│                         │                                                   │
├─────────────────────────┼───────────────────────────────────────────────────┤
│                         │                                                   │
│ Связность               │ X связно, Y нет ⇒ X ≇ Y                          │
│                         │ Пример: (0,1) ≇ (0,1)∪(2,3)                      │
│                         │                                                   │
├─────────────────────────┼───────────────────────────────────────────────────┤
│                         │                                                   │
│ Компактность            │ X компактно, Y нет ⇒ X ≇ Y                       │
│                         │ Пример: [0,1] ≇ (0,1)                            │
│                         │                                                   │
├─────────────────────────┼───────────────────────────────────────────────────┤
│                         │                                                   │
│ Число компонент π₀      │ π₀(X) ≠ π₀(Y) ⇒ X ≇ Y                           │
│                         │                                                   │
├─────────────────────────┴───────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Эти инварианты слишком грубые.                                    │
│ S¹ и S² — обе связны и компактны, но разные! Нужны более тонкие инварианты. │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЕ (ТОНКИЕ) ИНВАРИАНТЫ                                                 │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ИНВАРИАНТ                 │ ЧТО ИЗМЕРЯЕТ                                    │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ π₁ (фунд. группа)         │ "Группа петель" — различает S¹ от S²           │
│ χ (Эйлерова хар-ка)       │ V − E + F — число "сетки"                      │
│ Hₙ (гомологии)            │ "Дырки" разных размерностей                    │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФУНДАМЕНТАЛЬНАЯ ГРУППА π₁ — ПОДРОБНОЕ ОБЪЯСНЕНИЕ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: Представьте, что вы привязали верёвку к точке и пошли гулять      │
│ по пространству. Вернулись в начало. Можно ли стянуть верёвку в точку,      │
│ не разрывая и не выходя из пространства?                                    │
│                                                                             │
│   НА ПЛОСКОСТИ:              НА ПЛОСКОСТИ С ДЫРКОЙ:                         │
│                                                                             │
│      ╭─────╮                      ╭─────╮                                   │
│     ╱       ╲                    ╱   ●   ╲   ← дырка                        │
│    │    ●    │                  │  ╱   ╲  │                                 │
│    │   start │                  │ │     │ │                                 │
│     ╲       ╱                    ╲ ╲   ╱ ╱                                  │
│      ╰─────╯                      ╰─────╯                                   │
│                                                                             │
│   Можно стянуть → петля        Нельзя стянуть → петля                       │
│   "тривиальная"                "нетривиальная"                              │
│                                                                             │
│ ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ:                                                     │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ Петля в X с базовой точкой x₀ — это непрерывное отображение                │
│   γ: [0,1] → X,  где γ(0) = γ(1) = x₀                                      │
│                                                                             │
│ Две петли γ и δ называются ГОМОТОПНЫМИ (γ ≃ δ), если одну можно            │
│ непрерывно деформировать в другую, не разрывая и не отпуская x₀.           │
│                                                                             │
│ Гомотопия = семейство петель H(s,t), где:                                   │
│   • H(0,t) = γ(t)  — начинаем с γ                                          │
│   • H(1,t) = δ(t)  — заканчиваем на δ                                      │
│   • H(s,0) = H(s,1) = x₀  — базовая точка зафиксирована                    │
│                                                                             │
│ ФУНДАМЕНТАЛЬНАЯ ГРУППА:                                                     │
│                                                                             │
│   π₁(X, x₀) = {петли в X из x₀} / {гомотопия}                              │
│             = множество классов гомотопных петель                           │
│                                                                             │
│ ГРУППОВАЯ ОПЕРАЦИЯ:                                                         │
│                                                                             │
│   [γ] · [δ] = [γ * δ]                                                      │
│                                                                             │
│   где γ * δ = "сначала пройти γ, потом δ":                                 │
│                                                                             │
│         ⎧ γ(2t)      если 0 ≤ t ≤ ½                                        │
│   (γ*δ)(t) = ⎨                                                              │
│         ⎩ δ(2t−1)    если ½ ≤ t ≤ 1                                        │
│                                                                             │
│   • Нейтральный элемент: константная петля [x₀]                             │
│   • Обратный элемент: [γ]⁻¹ = [γ⁻¹], где γ⁻¹(t) = γ(1−t)                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ФУНДАМЕНТАЛЬНЫХ ГРУПП                                               │
├─────────────────────┬───────────────────┬───────────────────────────────────┤
│ ПРОСТРАНСТВО        │ π₁                │ ОБЪЯСНЕНИЕ                        │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ ℝⁿ (любое n)        │ {e} (тривиальная) │ Любую петлю можно стянуть в точку │
│                     │                   │                                   │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ Sⁿ при n ≥ 2        │ {e} (тривиальная) │ На сфере (n≥2) любая петля        │
│ (сфера)             │                   │ стягивается (нет "дырок")         │
│                     │                   │                                   │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ S¹ (окружность)     │ ℤ                 │ Петли классифицируются числом     │
│                     │                   │ оборотов: ..., −2, −1, 0, 1, 2,...│
│                     │                   │ n>0: против часовой               │
│                     │                   │ n<0: по часовой                   │
│                     │                   │                                   │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ T² (тор = бублик)   │ ℤ × ℤ             │ Две независимых петли:            │
│                     │                   │ "вокруг дырки" и "сквозь дырку"   │
│                     │                   │                                   │
│                     │                   │   ╭──────────╮                    │
│                     │                   │  ╱  ╭────╮   ╲                   │
│                     │                   │ │  │ ●→→→│   │  ← петля a        │
│                     │                   │ │   ╰────╯   │                    │
│                     │                   │  ╲    ↑     ╱   ← петля b        │
│                     │                   │   ╰──────────╯                    │
│                     │                   │                                   │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ ℝ² \ {0}            │ ℤ                 │ Плоскость без точки ≃ окружность  │
│ (плоскость без 0)   │                   │ Петли = обороты вокруг дырки      │
│                     │                   │                                   │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ "Восьмёрка"         │ F₂                │ Свободная группа от 2 образующих  │
│ S¹ ∨ S¹             │ (свободная)       │ Некоммутативна: ab ≠ ba!         │
│                     │                   │                                   │
├─────────────────────┼───────────────────┼───────────────────────────────────┤
│                     │                   │                                   │
│ ℝP² (проективная    │ ℤ/2               │ Есть петля, не стягиваемая,       │
│ плоскость)          │                   │ но дважды пройденная — стягивается│
│                     │                   │                                   │
└─────────────────────┴───────────────────┴───────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ π₁(S¹) = ℤ — ПОДРОБНОЕ ОБЪЯСНЕНИЕ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Окружность S¹ = {e^{iθ} : θ ∈ [0, 2π)} ⊂ ℂ                                 │
│ Базовая точка: x₀ = 1 (при θ = 0)                                          │
│                                                                             │
│ Петля с n оборотами: γₙ(t) = e^{2πint}, t ∈ [0,1]                          │
│                                                                             │
│   n = 0:  γ₀(t) = 1 (стоим на месте)                                       │
│   n = 1:  γ₁(t) = e^{2πit} (один оборот против часовой)                    │
│   n = −1: γ₋₁(t) = e^{−2πit} (один оборот по часовой)                     │
│   n = 2:  γ₂(t) = e^{4πit} (два оборота против часовой)                   │
│                                                                             │
│ ТЕОРЕМА: γₙ ≃ γₘ ⟺ n = m                                                  │
│                                                                             │
│ Интуитивно: нельзя "размотать" оборот, не разрывая петлю.                  │
│                                                                             │
│ Групповая операция: [γₙ] · [γₘ] = [γₙ₊ₘ]                                   │
│                                                                             │
│ Это в точности группа (ℤ, +)!                                              │
│                                                                             │
│ СЛЕДСТВИЕ: S¹ ≇ S² (сфера)                                                 │
│   π₁(S¹) = ℤ ≠ {e} = π₁(S²)                                               │
│   Разные группы ⇒ пространства не гомеоморфны.                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕНЕНИЯ ФУНДАМЕНТАЛЬНОЙ ГРУППЫ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ТОПОЛОГИЯ: Различение пространств                                        │
│    π₁(X) ≠ π₁(Y) ⇒ X ≇ Y                                                  │
│                                                                             │
│ 2. ТЕОРЕМА БОРСУКА-УЛАМА:                                                   │
│    На поверхности Земли есть две антиподальные точки с одинаковыми         │
│    температурой и давлением. (Следует из π₁(ℝP²) = ℤ/2)                   │
│                                                                             │
│ 3. ТЕОРИЯ УЗЛОВ:                                                            │
│    π₁(ℝ³ \ узел) различает узлы (какие узлы можно развязать?)             │
│                                                                             │
│ 4. ФИЗИКА:                                                                  │
│    • Дефекты в кристаллах классифицируются π₁                              │
│    • Вихри в сверхтекучем гелии: π₁(пр-во параметров) = ℤ                 │
│    • Магнитные монополи: π₂(пр-во параметров)                              │
│                                                                             │
│ 5. ПОКРЫТИЯ:                                                                │
│    Накрывающие пространства ↔ подгруппы π₁                                 │
│    Универсальное накрытие ↔ π₁ = {e}                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВЫСШИЕ ГОМОТОПИЧЕСКИЕ ГРУППЫ πₙ                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ π₁ измеряет "дырки для петель". А что если использовать сферы?             │
│                                                                             │
│   π₁(X) — классы отображений S¹ → X   (петли)                              │
│   π₂(X) — классы отображений S² → X   (сферы)                              │
│   πₙ(X) — классы отображений Sⁿ → X   (n-сферы)                            │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│ ┌─────────────────┬──────────────────────────────────────────────────────┐  │
│ │ ГРУППА          │ ЗНАЧЕНИЕ                                             │  │
│ ├─────────────────┼──────────────────────────────────────────────────────┤  │
│ │ π₁(S¹) = ℤ      │ Петля может обойти окружность n раз                  │  │
│ │ π₁(S²) = 0      │ На сфере любая петля стягивается                     │  │
│ │ π₂(S²) = ℤ      │ S² может "обернуть" S² целое число раз              │  │
│ │ π₃(S²) = ℤ      │ Расслоение Хопфа! (неожиданно ≠ 0)                  │  │
│ │ πₙ(Sⁿ) = ℤ      │ Тождественное отображение генерирует                │  │
│ └─────────────────┴──────────────────────────────────────────────────────┘  │
│                                                                             │
│ ГЛУБОКИЙ ФАКТ: π₃(S²) = ℤ ≠ 0                                              │
│                                                                             │
│   Это значит, что 3-сферу можно нетривиально отобразить на 2-сферу!        │
│   Это отображение называется РАССЛОЕНИЕ ХОПФА: S³ → S² со слоем S¹.       │
│   Каждая точка S² — окружность в S³.                                       │
│                                                                             │
│ В ФИЗИКЕ:                                                                   │
│   • π₂ — классификация магнитных монополей                                 │
│   • π₃ — классификация инстантонов                                         │
│   • Расслоение Хопфа — связано со спином электрона                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГОМОЛОГИИ — АЛГЕБРА "ДЫРОК" В ПРОСТРАНСТВЕ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: Гомологии отвечают на вопрос "какие дырки есть в пространстве?"  │
│                                                                             │
│   H₀ считает КОМПОНЕНТЫ СВЯЗНОСТИ (сколько отдельных кусков)               │
│   H₁ считает ТОННЕЛИ (дырки, через которые можно продеть верёвку)          │
│   H₂ считает ПОЛОСТИ (замкнутые пустоты, как внутри мяча)                  │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ: ЦИКЛ vs ГРАНИЦА                                              │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ЦИКЛ = замкнутый контур (начало совпадает с концом)                        │
│ ГРАНИЦА = контур, который ограничивает какую-то область                    │
│                                                                             │
│ ПРИМЕР НА ПЛОСКОСТИ С ДЫРКОЙ:                                               │
│                                                                             │
│        ┌─────────────────┐          ┌─────────────────┐                     │
│        │    ╭───╮        │          │                 │                     │
│        │   ╱     ╲   γ   │          │    ╭───╮        │                     │
│        │  │   ●   │←─────│          │   ╱     ╲   δ   │                     │
│        │   ╲     ╱       │          │  │       │←─────│                     │
│        │    ╰───╯        │          │   ╲     ╱       │                     │
│        └─────────────────┘          │    ╰───╯        │                     │
│        γ обходит дырку ●            └─────────────────┘                     │
│                                     δ НЕ обходит дырку                      │
│                                                                             │
│   γ — ЦИКЛ, но НЕ ГРАНИЦА        δ — ЦИКЛ и ГРАНИЦА                        │
│   (нельзя "заполнить" — там дырка)  (можно заполнить диском)               │
│                                                                             │
│   H₁ = {циклы} / {границы} = "циклы, которые нельзя заполнить"             │
│                                                                             │
│   Для плоскости с дыркой: H₁ = ℤ (один генератор — обход дырки)            │
│   Для обычной плоскости: H₁ = 0 (все циклы можно заполнить)                │
│                                                                             │
│ ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ:                                                     │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Разбиваем пространство на "кирпичики" (симплексы):                         │
│   • 0-симплекс = точка        ●                                            │
│   • 1-симплекс = отрезок      ●───●                                        │
│   • 2-симплекс = треугольник  △                                            │
│   • 3-симплекс = тетраэдр     ▲                                            │
│                                                                             │
│ ГРАНИЧНЫЙ ОПЕРАТОР ∂ — "берёт границу":                                     │
│                                                                             │
│   ∂(отрезок AB) = B − A  (концы со знаками)                                │
│                                                                             │
│   ∂(треугольник ABC) = BC − AC + AB = BC + CA + AB                         │
│        (три стороны — замкнутый контур!)                                   │
│                                                                             │
│           A                                                                 │
│          ╱ ╲           ∂△ = AB + BC + CA                                   │
│         ╱   ╲          (обход по границе)                                  │
│        B─────C                                                              │
│                                                                             │
│ МАГИЧЕСКОЕ СВОЙСТВО: ∂∂ = 0 ("граница границы пуста")                      │
│                                                                             │
│   ∂(∂ треугольника) = ∂(AB + BC + CA)                                      │
│                     = (B−A) + (C−B) + (A−C)                                │
│                     = 0  ✓                                                 │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ ГОМОЛОГИЙ:                                                      │
│                                                                             │
│   Zₖ = ker(∂ₖ) = {k-цепи с нулевой границей} = "ЦИКЛЫ"                     │
│   Bₖ = Im(∂ₖ₊₁) = {k-цепи, являющиеся границами} = "ГРАНИЦЫ"               │
│                                                                             │
│   Hₖ = Zₖ / Bₖ = "циклы, не являющиеся границами"                          │
│                                                                             │
│ ПОЧЕМУ ЭТО ГРУППА? (операция на циклах)                                     │
│                                                                             │
│   Цепи образуют АБЕЛЕВУ ГРУППУ относительно формального сложения:           │
│   • Сумма цепей: (AB + BC) + (CD) = AB + BC + CD                           │
│   • Нулевая цепь: 0                                                        │
│   • Обратная цепь: −(AB) = BA (обратная ориентация)                        │
│                                                                             │
│   Zₖ ⊆ Cₖ — подгруппа (сумма циклов — цикл)                                │
│   Bₖ ⊆ Zₖ — подгруппа (сумма границ — граница)                             │
│   Hₖ = Zₖ/Bₖ — факторгруппа!                                               │
│                                                                             │
│   Операция в Hₖ: [γ] + [δ] = [γ + δ]  (сумма классов = класс суммы)        │
│                                                                             │
│   Пример: H₁(T²) = ℤ ⊕ ℤ                                                   │
│   Два независимых генератора: [меридиан] и [параллель].                    │
│   Любой цикл на торе = n·[меридиан] + m·[параллель] для целых n, m.        │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│ ┌─────────────────┬───────────┬───────────┬───────────┬─────────────────┐   │
│ │ ПРОСТРАНСТВО    │    H₀     │    H₁     │    H₂     │ ИНТЕРПРЕТАЦИЯ   │   │
│ ├─────────────────┼───────────┼───────────┼───────────┼─────────────────┤   │
│ │ Точка           │    ℤ      │    0      │    0      │ 1 кусок, нет дыр│   │
│ │ Окружность S¹   │    ℤ      │    ℤ      │    0      │ 1 тоннель       │   │
│ │ Сфера S²        │    ℤ      │    0      │    ℤ      │ 1 полость       │   │
│ │ Тор T²          │    ℤ      │   ℤ⊕ℤ     │    ℤ      │ 2 тоннеля,1 пол.│   │
│ │ Бублик (полный) │    ℤ      │    ℤ      │    0      │ 1 тоннель       │   │
│ └─────────────────┴───────────┴───────────┴───────────┴─────────────────┘   │
│                                                                             │
│ СВЯЗЬ С ЭЙЛЕРОВОЙ ХАРАКТЕРИСТИКОЙ:                                          │
│                                                                             │
│   χ = rank(H₀) − rank(H₁) + rank(H₂) − ...                                 │
│                                                                             │
│   Для сферы: χ = 1 − 0 + 1 = 2  ✓                                          │
│   Для тора:  χ = 1 − 2 + 1 = 0  ✓                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОГОМОЛОГИИ — ДВОЙСТВЕННЫЙ ВЗГЛЯД ЧЕРЕЗ ИНТЕГРИРОВАНИЕ                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Гомологии: "какие замкнутые поверхности есть в пространстве?"              │
│ Когомологии: "какие формы можно интегрировать по этим поверхностям?"       │
│                                                                             │
│ ИНТУИЦИЯ:                                                                   │
│                                                                             │
│   Пусть есть 1-форма ω (как df = "градиент").                              │
│   Интеграл ∫_γ ω зависит только от класса γ в H₁!                          │
│                                                                             │
│   Если γ₁ ≃ γ₂ (гомологичны), то ∫_γ₁ ω = ∫_γ₂ ω.                         │
│                                                                             │
│ ЗАМКНУТАЯ vs ТОЧНАЯ ФОРМА:                                                  │
│                                                                             │
│   Замкнутая форма: dω = 0                                                  │
│   Точная форма: ω = df для какой-то функции f                              │
│                                                                             │
│   Точная ⟹ замкнутая (потому что d² = 0)                                   │
│   Но НЕ наоборот! На пространствах с дырками есть замкнутые,              │
│   но не точные формы.                                                       │
│                                                                             │
│ ПРИМЕР — dθ НА ОКРУЖНОСТИ:                                                  │
│                                                                             │
│   Форма dθ на S¹ — замкнутая (d(dθ) = 0).                                  │
│   Но ∫_{S¹} dθ = 2π ≠ 0.                                                   │
│                                                                             │
│   Если бы dθ = df, то ∫_{S¹} dθ = f(конец) − f(начало) = 0.                │
│   Противоречие! Значит dθ НЕ точная на S¹.                                  │
│                                                                             │
│ КОГОМОЛОГИИ ДЕ РАМА:                                                        │
│                                                                             │
│   Hᵏ_dR(M) = {замкнутые k-формы} / {точные k-формы}                        │
│            = "формы, которые нельзя представить как df"                    │
│                                                                             │
│ СПАРИВАНИЕ (теорема де Рама):                                               │
│                                                                             │
│   ⟨ω, γ⟩ = ∫_γ ω  — интеграл формы по циклу                               │
│                                                                             │
│   Это задаёт изоморфизм: Hᵏ_dR(M) ≅ Hₖ(M; ℝ)*                              │
│                                                                             │
│   Когомологии = "линейные функционалы на гомологиях"                       │
│   (двойственность в действии!)                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ CW-КОМПЛЕКСЫ — КОНСТРУКТОР ДЛЯ ПРОСТРАНСТВ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Строить пространства из простых кусков — КЛЕТОК (дисков).            │
│       Как LEGO: начинаем с точек, приклеиваем отрезки, потом диски, и т.д. │
│                                                                             │
│ КЛЕТКИ:                                                                     │
│   0-клетка = точка                ●                                        │
│   1-клетка = открытый интервал    ●───────●  (концы — 0-клетки)            │
│   2-клетка = открытый диск        ◯  (граница — 1-клетки)                  │
│   n-клетка = открытый n-диск      (граница — (n−1)-клетки)                 │
│                                                                             │
│ "ПРИКЛЕИВАНИЕ" — ЧТО ЭТО ЗНАЧИТ:                                            │
│                                                                             │
│   Берём n-диск Dⁿ и отображаем его границу ∂Dⁿ = Sⁿ⁻¹                      │
│   на уже построенный скелет X^(n-1).                                        │
│                                                                             │
│   Новое пространство = X^(n-1) ∪_f Dⁿ  (склейка по f: Sⁿ⁻¹ → X^(n-1))      │
│                                                                             │
│ ПРИМЕР: КАК ПОСТРОИТЬ СФЕРУ S²                                              │
│                                                                             │
│   Способ 1 (минимальный):                                                   │
│                                                                             │
│     Шаг 0: Одна 0-клетка (точка) ●                                         │
│     Шаг 2: Приклеиваем 2-клетку, вся граница идёт в эту точку              │
│                                                                             │
│             ●  ──────────►   ◯                                             │
│          (точка)         (вся граница    (результат = S²)                  │
│                           схлопнута                                         │
│                           в точку)                                          │
│                                                                             │
│     S² = 1 нульмерная клетка + 1 двумерная клетка                          │
│                                                                             │
│   Способ 2 (как глобус):                                                    │
│                                                                             │
│     2 полюса (0-клетки) + 1 меридиан (1-клетка) +                          │
│     2 полусферы (2-клетки)                                                  │
│                                                                             │
│ ПРИМЕР: КАК ПОСТРОИТЬ ТОР T²                                                │
│                                                                             │
│     Тор = квадрат со склеенными противоположными сторонами:                │
│                                                                             │
│        a ────────► a              После склейки:                           │
│        │           │                    ╭─────╮                             │
│      b │           │ b               ╱─────────╲                            │
│        │           │               │  ╭─────╮    │                          │
│        ▼           ▼               │ │       │   │                          │
│        a ────────► a                ╲─────────╱                             │
│                                       ╰─────╯                               │
│                                                                             │
│     T² = 1 точка + 2 петли (a и b) + 1 квадрат                             │
│        = 1·(0-кл) + 2·(1-кл) + 1·(2-кл)                                     │
│                                                                             │
│ ЗАЧЕМ CW-КОМПЛЕКСЫ:                                                         │
│                                                                             │
│   1. Легко считать гомологии: H_n зависит только от n-клеток и (n±1)-клеток│
│   2. Эйлерова характеристика: χ = (число 0-кл) − (число 1-кл) + (число 2-кл)│
│   3. Многие пространства имеют простую клеточную структуру                 │
│                                                                             │
│   Для S²: χ = 1 − 0 + 1 = 2  ✓                                             │
│   Для T²: χ = 1 − 2 + 1 = 0  ✓                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРУППЫ ГОМОТОПИЙ СФЕР — ПОЧЕМУ ЭТО СЛОЖНО И ИНТЕРЕСНО                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ВОПРОС: Сколькими существенно разными способами можно отобразить           │
│         одну сферу на другую?                                               │
│                                                                             │
│ πₙ(Sᵐ) = классы отображений Sⁿ → Sᵐ (с точностью до деформации)            │
│                                                                             │
│ ПРОСТЫЕ СЛУЧАИ (интуиция работает):                                         │
│                                                                             │
│   π₁(S¹) = ℤ:  Петлю на окружности можно обмотать 0, 1, 2, ... раз.        │
│               Число оборотов — целое число.                                 │
│                                                                             │
│   π₁(S²) = 0:  Любую петлю на сфере можно стянуть в точку                  │
│               (нет "дырки", за которую зацепиться).                         │
│                                                                             │
│   πₙ(Sⁿ) = ℤ:  Сферу на себя можно "обернуть" целое число раз.             │
│               (Степень отображения)                                         │
│                                                                             │
│ СЮРПРИЗ: π₃(S²) = ℤ ≠ 0                                                    │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Казалось бы: 3-мерная сфера "больше" 2-мерной. Любое отображение          │
│   S³ → S² должно сжимать лишнее измерение, всё должно стягиваться.         │
│                                                                             │
│   НО НЕТ! Существует нетривиальное отображение — РАССЛОЕНИЕ ХОПФА:         │
│                                                                             │
│     h: S³ → S²,  где прообраз каждой точки — окружность S¹                 │
│                                                                             │
│   Представьте: S³ "разлинована" непересекающимися окружностями,            │
│   и каждая окружность соответствует точке на S².                            │
│                                                                             │
│     S³ = ⋃ (окружностей),  индексированных точками S²                      │
│                                                                             │
│   Эти окружности ЗАЦЕПЛЕНЫ друг с другом! Каждые две — как звенья цепи.    │
│   Поэтому отображение нельзя "распутать" в константу.                       │
│                                                                             │
│   ФИЗИКА: Расслоение Хопфа описывает топологию спина электрона.            │
│                                                                             │
│ ТАБЛИЦА ГРУПП πₙ₊ₖ(Sⁿ):                                                     │
│ ┌─────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐         │
│ │ k\n │    1    │    2    │    3    │    4    │    5    │   ∞     │         │
│ ├─────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤         │
│ │  0  │    ℤ    │    ℤ    │    ℤ    │    ℤ    │    ℤ    │    ℤ    │         │
│ │  1  │    0    │    ℤ    │   ℤ₂    │   ℤ₂    │   ℤ₂    │   ℤ₂    │         │
│ │  2  │    0    │   ℤ₂    │   ℤ₂    │   ℤ₂    │   ℤ₂    │   ℤ₂    │         │
│ │  3  │    0    │   ℤ₂    │  ℤ₁₂    │   ℤ×ℤ₂  │   ℤ₂₄   │   ℤ₂₄   │         │
│ └─────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘         │
│                                                                             │
│   Столбец ∞ — СТАБИЛЬНЫЕ группы: при n ≥ k+2 ответ не меняется.            │
│                                                                             │
│ ПОЧЕМУ ТАКИЕ СТРАННЫЕ ЧИСЛА (ℤ₁₂, ℤ₂₄)?                                     │
│                                                                             │
│   Это глубокий результат. Откуда 24? Связь с:                               │
│   • 24 = размерность решётки Лича (теория кодов)                           │
│   • 24 делителей модулярных форм (теория чисел)                            │
│   • 24 в формуле Римана для ζ(−1) = −1/12 (через 2·12 = 24)                │
│                                                                             │
│   Группы гомотопий сфер — окно в глубокие связи разных областей математики.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СТАБИЛИЗАЦИЯ И НАДСТРОЙКА — ПОЧЕМУ ТАБЛИЦА "УСПОКАИВАЕТСЯ"                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ НАДСТРОЙКА Σ: берём пространство X и "подвешиваем" его:                    │
│                                                                             │
│   ΣX = (X × [0,1]) / (X×{0} ~ точка, X×{1} ~ точка)                        │
│       = "два конуса, склеенных по X"                                        │
│                                                                             │
│   Пример: ΣS⁰ = S¹  (два конуса над двумя точками = окружность)            │
│          ΣS¹ = S²  (два конуса над окружностью = сфера)                    │
│          ΣSⁿ = Sⁿ⁺¹                                                         │
│                                                                             │
│ ТЕОРЕМА ФРЕЙДЕНТАЛЯ:                                                        │
│                                                                             │
│   Надстройка индуцирует гомоморфизм: Σ: πₖ(Sⁿ) → πₖ₊₁(Sⁿ⁺¹)                │
│                                                                             │
│   При n ≥ k+2 этот гомоморфизм — ИЗОМОРФИЗМ!                               │
│                                                                             │
│   Поэтому в таблице: π₃(S²) → π₄(S³) → π₅(S⁴) → ...                        │
│   начиная с π₅(S⁴) группа стабилизируется = ℤ₂.                            │
│                                                                             │
│ СТАБИЛЬНЫЕ ГРУППЫ πₖˢ:                                                      │
│                                                                             │
│   πₖˢ = lim πₙ₊ₖ(Sⁿ)  при n → ∞                                            │
│                                                                             │
│   Это "настоящие" инварианты, очищенные от размерных эффектов.             │
│   Вычисление πₖˢ — одна из главных задач алгебраической топологии.         │
│                                                                             │
│ ИНСТРУМЕНТЫ ВЫЧИСЛЕНИЯ:                                                     │
│                                                                             │
│   • Теорема Гуревича: связывает πₙ и Hₙ для "хороших" пространств          │
│   • Точные последовательности: связывают π для расслоений F → E → B       │
│   • Спектральные последовательности: систематический метод вычисления      │
│   • Пространства K(G,n) Эйленберга-Маклейна: стандартные блоки             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЭЙЛЕРОВА ХАРАКТЕРИСТИКА — ЧИСЛО, ОПРЕДЕЛЯЮЩЕЕ ФОРМУ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ (для полиэдров):                                                │
│                                                                             │
│   χ = V − E + F                                                             │
│                                                                             │
│   V = число вершин (vertices)                                               │
│   E = число рёбер (edges)                                                   │
│   F = число граней (faces)                                                  │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│                                                                             │
│ ┌─────────────────┬─────┬─────┬─────┬───────┐                               │
│ │ ФИГУРА          │  V  │  E  │  F  │  χ    │                               │
│ ├─────────────────┼─────┼─────┼─────┼───────┤                               │
│ │ Тетраэдр        │  4  │  6  │  4  │  2    │                               │
│ │ Куб             │  8  │ 12  │  6  │  2    │                               │
│ │ Октаэдр         │  6  │ 12  │  8  │  2    │                               │
│ │ Додекаэдр       │ 20  │ 30  │ 12  │  2    │                               │
│ │ Икосаэдр        │ 12  │ 30  │ 20  │  2    │                               │
│ └─────────────────┴─────┴─────┴─────┴───────┘                               │
│                                                                             │
│ ТЕОРЕМА ЭЙЛЕРА: Для ЛЮБОГО выпуклого полиэдра χ = 2.                        │
│                                                                             │
│ Более того: χ — топологический инвариант! Зависит только от "формы"         │
│ поверхности, а не от разбиения на грани.                                    │
│                                                                             │
│ ЭЙЛЕРОВА ХАРАКТЕРИСТИКА ПОВЕРХНОСТЕЙ:                                       │
│                                                                             │
│ ┌───────────────────────┬───────┬───────────────────────────────────────┐   │
│ │ ПОВЕРХНОСТЬ           │  χ    │ ПОЯСНЕНИЕ                             │   │
│ ├───────────────────────┼───────┼───────────────────────────────────────┤   │
│ │ Сфера S²              │  2    │ "Шар": нет дырок                      │   │
│ ├───────────────────────┼───────┼───────────────────────────────────────┤   │
│ │ Тор T² (бублик)       │  0    │ Одна "дырка"                          │   │
│ ├───────────────────────┼───────┼───────────────────────────────────────┤   │
│ │ Двойной тор           │ −2    │ Две "дырки"                           │   │
│ │                       │       │                                       │   │
│ │   ╭───────────────╮   │       │                                       │   │
│ │  ╱  ╭───╮   ╭───╮  ╲  │       │                                       │   │
│ │ │  │     │ │     │  │ │       │                                       │   │
│ │  ╲  ╰───╯   ╰───╯  ╱  │       │                                       │   │
│ │   ╰───────────────╯   │       │                                       │   │
│ │                       │       │                                       │   │
│ ├───────────────────────┼───────┼───────────────────────────────────────┤   │
│ │ g-тор (род g)         │ 2−2g  │ g "дырок"                             │   │
│ ├───────────────────────┼───────┼───────────────────────────────────────┤   │
│ │ Проективная плоскость │  1    │ Неориентируемая                       │   │
│ │ ℝP²                   │       │                                       │   │
│ ├───────────────────────┼───────┼───────────────────────────────────────┤   │
│ │ Бутылка Клейна        │  0    │ Неориентируемая, χ = 0 как у тора,   │   │
│ │                       │       │ но π₁ другая!                        │   │
│ └───────────────────────┴───────┴───────────────────────────────────────┘   │
│                                                                             │
│ ФОРМУЛА: χ = 2 − 2g (для ориентируемых поверхностей рода g)                 │
│                                                                             │
│ ЧТО ТАКОЕ РОД g?                                                            │
│   Род = "число дырок" в поверхности.                                        │
│   Сфера: g=0 (нет дырок). Тор: g=1 (одна дырка, как в бублике).             │
│   g-тор получается из сферы "прикреплением g ручек".                        │
│   Формально: g = (2 − χ)/2 для ориентируемых замкнутых поверхностей.        │
│                                                                             │
│ СВЯЗЬ С ДРУГИМИ ИНВАРИАНТАМИ:                                               │
│                                                                             │
│   χ = Σ (−1)ⁿ · rank(Hₙ)     (через группы гомологий)                      │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│                                                                             │
│   • Теорема о причёсывании: на S² (χ=2) нельзя причесать ёжика              │
│     (векторное поле обязательно имеет нули)                                 │
│   • На торе (χ=0) причесать можно!                                          │
│   • Формула Гаусса-Бонне: ∫∫ K dA = 2πχ (связь кривизны и топологии)       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССИФИКАЦИЯ КОМПАКТНЫХ ПОВЕРХНОСТЕЙ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СВЯЗНАЯ СУММА M # N (операция над поверхностями):                           │
│   1. Вырезать из M и N по маленькому диску                                  │
│   2. Склеить M и N по границам этих дисков                                  │
│   Результат: новая поверхность. Пример: тор = S² # (ручка).                 │
│                                                                             │
│ ТЕОРЕМА (классификация):                                                    │
│ Каждая связная компактная поверхность гомеоморфна ровно одной из:           │
│                                                                             │
│   ОРИЕНТИРУЕМЫЕ:                                                            │
│   • Сфера S² (род 0)                                                        │
│   • Тор T² (род 1)                                                          │
│   • Двойной тор (род 2)                                                     │
│   • ... g-кратный тор (род g)                                               │
│                                                                             │
│   НЕОРИЕНТИРУЕМЫЕ:                                                          │
│   • Проективная плоскость ℝP²                                               │
│   • Бутылка Клейна                                                          │
│   • ... (связные суммы с ℝP²)                                               │
│                                                                             │
│ ОРИЕНТИРУЕМОСТЬ — можно ли определить "правое" и "левое"?                   │
│                                                                             │
│   На сфере или торе: ДА — обойдя вокруг, правое останется правым.           │
│                                                                             │
│   На ленте Мёбиуса: НЕТ — обойдя вокруг, правое станет левым!               │
│                                                                             │
│       ЛЕНТА МЁБИУСА:                                                        │
│                                                                             │
│       Возьмите полоску бумаги,    ╭─────────────────╮                       │
│       перекрутите на 180° и       │   →  →  →  →    │ ← одна сторона       │
│       склейте концы.              ╰─────────────────╯                       │
│                                         ↓ склеить с перекрутом              │
│       Результат: поверхность      ╭─────────────────╮                       │
│       с ОДНОЙ стороной!           │   ←  →  →  ←    │ ← та же сторона!     │
│                                   ╰─────────────────╯                       │
│                                                                             │
│   Бутылка Клейна = лента Мёбиуса, "заклеенная" в трубку                     │
│   (нельзя вложить в ℝ³ без самопересечения)                                │
│                                                                             │
│ ИНВАРИАНТЫ, РАЗЛИЧАЮЩИЕ ПОВЕРХНОСТИ:                                        │
│                                                                             │
│ ┌───────────────────────┬───────┬───────┬───────────────────────────────┐   │
│ │ ПОВЕРХНОСТЬ           │  χ    │  π₁   │  ОРИЕНТИРУЕМА?                │   │
│ ├───────────────────────┼───────┼───────┼───────────────────────────────┤   │
│ │ Сфера S²              │  2    │ {e}   │ Да                            │   │
│ │ Тор T²                │  0    │ ℤ×ℤ   │ Да                            │   │
│ │ Бутылка Клейна        │  0    │ другая│ Нет                           │   │
│ │ ℝP²                   │  1    │ ℤ/2   │ Нет                           │   │
│ └───────────────────────┴───────┴───────┴───────────────────────────────┘   │
│                                                                             │
│ ВАЖНО: χ и π₁ вместе полностью классифицируют компактные поверхности!       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П5. ТАБЛИЦА ИНВАРИАНТОВ — ЧЕМ РАЗЛИЧАТЬ ПРОСТРАНСТВА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИДЕЯ ИНВАРИАНТА                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проблема: как ДОКАЗАТЬ, что два пространства разные?                        │
│   Бублик ≠ сфера — это "видно", но нужен строгий аргумент.                  │
│                                                                             │
│ Решение: сопоставить пространству ЧИСЛО или ГРУППУ.                         │
│   Если числа разные → пространства точно разные!                            │
│                                                                             │
│ Инвариант = то, что не меняется при деформации (без разрывов и склеек).     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЕ ИНВАРИАНТЫ С ОБЪЯСНЕНИЯМИ                                           │
├───────────────────┬─────────────────────────────────────────────────────────┤
│ ИНВАРИАНТ         │ ЧТО ОЗНАЧАЕТ ПРОСТЫМИ СЛОВАМИ                           │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ π₀ (связность)    │ Сколько КУСКОВ? Если объект распадается на части.       │
│                   │ π₀(● ●) = 2 (две точки), π₀(○) = 1 (один круг)          │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ π₁ (фунд. группа) │ Какие ПЕТЛИ нельзя стянуть в точку?                     │
│                   │ На плоскости — все петли стягиваются: π₁ = 0            │
│                   │ На окружности — петля вокруг не стянется: π₁ = ℤ        │
│                   │ На бублике — две независимые петли: π₁ = ℤ×ℤ            │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ χ (Эйлер)         │ Формула V − E + F для разбиения на многоугольники.      │
│                   │ Сфера: χ = 2 (любое разбиение!)                         │
│                   │ Бублик: χ = 0                                           │
│                   │ Поверхность с g дырками: χ = 2 − 2g                     │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Ориентируемость   │ Есть ли "две стороны"?                                  │
│                   │ Сфера, бублик — ДА (можно покрасить в два цвета)        │
│                   │ Лента Мёбиуса, бутылка Клейна — НЕТ (одна сторона!)     │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Размерность       │ Сколько чисел нужно, чтобы задать точку?                │
│                   │ Прямая: dim = 1, плоскость: dim = 2, пространство: dim=3│
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ Компактность      │ Ограничено и замкнуто?                                  │
│                   │ Сфера — компактна (конечная), ℝ — нет (бесконечна)      │
│                   │                                                         │
└───────────────────┴─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАК ИСПОЛЬЗОВАТЬ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Инвариант различается  →  пространства ТОЧНО разные.                        │
│   χ(сфера) = 2 ≠ 0 = χ(бублик)  →  сфера ≇ бублик ✓                        │
│                                                                             │
│ Инварианты совпадают   →  ещё не факт, что одинаковые!                      │
│   Нужно проверять другие инварианты или искать явный изоморфизм.            │
│                                                                             │
│ ПРИМЕР: Как доказать, что кружка = бублик?                                  │
│   χ = 0 у обоих, π₁ = ℤ у обоих, ориентируемы оба.                         │
│   Но это не доказательство! Нужно ПОСТРОИТЬ деформацию.                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A2.8  РЕЗЮМЕ: ЦЕНТРАЛЬНЫЕ ПОНЯТИЯ ТОПОЛОГИИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ПОНЯТИЙ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   МНОЖЕСТВО X                                                               │
│       │                                                                     │
│       │ + топология τ (семейство "открытых" множеств)                       │
│       ↓                                                                     │
│   ТОПОЛОГИЧЕСКОЕ ПРОСТРАНСТВО (X, τ)                                        │
│       │                                                                     │
│       ├──→ Открытые/закрытые множества                                      │
│       │    Граница, внутренность, замыкание                                 │
│       │                                                                     │
│       ├──→ Непрерывные отображения f: X → Y                                 │
│       │    (прообраз открытого открыт)                                      │
│       │                                                                     │
│       ├──→ Гомеоморфизм (топологическая эквивалентность)                    │
│       │    (непрерывная биекция с непрерывным обратным)                     │
│       │                                                                     │
│       ├──→ Связность (нельзя разбить на два открытых)                       │
│       │                                                                     │
│       ├──→ Компактность (конечные подпокрытия)                              │
│       │                                                                     │
│       └──→ Инварианты (π₁, Hₙ, χ, ...)                                      │
│            для различения пространств                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ СТРУКТУРАМИ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                    ТОПОЛОГИЯ (близость)                                     │
│                         │                                                   │
│            + метрика    │                                                   │
│            (расстояние) │                                                   │
│                         ↓                                                   │
│                МЕТРИЧЕСКОЕ ПРОСТРАНСТВО                                     │
│                         │                                                   │
│            + линейность │                                                   │
│            (сложение,   │                                                   │
│             умножение   │                                                   │
│             на скаляр)  ↓                                                   │
│              НОРМИРОВАННОЕ ПРОСТРАНСТВО                                     │
│                         │                                                   │
│            + скалярное  │                                                   │
│              произв.    │                                                   │
│                         ↓                                                   │
│               ГИЛЬБЕРТОВО ПРОСТРАНСТВО                                      │
│                                                                             │
│ Каждый уровень НАСЛЕДУЕТ топологию от предыдущего,                          │
│ но добавляет дополнительную структуру.                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРАКТИЧЕСКИЕ СЛЕДСТВИЯ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ДЛЯ ИНЖЕНЕРА / ПРИКЛАДНИКА:                                                 │
│                                                                             │
│ • Непрерывность функций — ключ к численным методам                          │
│   (близкие входы дают близкие выходы = устойчивость)                        │
│                                                                             │
│ • Компактность — гарантия существования решений                             │
│   (экстремумы существуют, последовательности сходятся)                      │
│                                                                             │
│ • Связность — "целостность" системы                                         │
│   (можно ли перейти из одного состояния в другое?)                          │
│                                                                             │
│ • Топологические инварианты — "форма" пространства параметров               │
│   (сколько "дырок" в допустимой области?)                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЛНАЯ СХЕМА ВЛОЖЕННОСТИ ПРОСТРАНСТВ                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Каждый уровень добавляет структуру и ограничивает класс пространств:        │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   МНОЖЕСТВО                                                             │ │
│ │       │                                                                 │ │
│ │       │ + топология τ                                                   │ │
│ │       ↓                                                                 │ │
│ │   ТОПОЛОГИЧЕСКОЕ ПРОСТРАНСТВО                                           │ │
│ │       │                                                                 │ │
│ │       │ + аксиома T₂ (хаусдорфовость)                                   │ │
│ │       ↓                                                                 │ │
│ │   ХАУСДОРФОВО ПРОСТРАНСТВО (единственность пределов)                    │ │
│ │       │                                                                 │ │
│ │       │ + метризуемость (топология порождается метрикой)                │ │
│ │       ↓                                                                 │ │
│ │   МЕТРИЧЕСКОЕ ПРОСТРАНСТВО (понятие расстояния)                         │ │
│ │       │                                                                 │ │
│ │       │ + полнота (все посл-ти Коши сходятся)                           │ │
│ │       ↓                                                                 │ │
│ │   ПОЛНОЕ МЕТРИЧЕСКОЕ ПРОСТРАНСТВО                                       │ │
│ │       │                                                                 │ │
│ │       │ + линейная структура + норма                                    │ │
│ │       ↓                                                                 │ │
│ │   БАНАХОВО ПРОСТРАНСТВО (полное нормированное)                          │ │
│ │       │                                                                 │ │
│ │       │ + норма из скалярного произведения                              │ │
│ │       ↓                                                                 │ │
│ │   ГИЛЬБЕРТОВО ПРОСТРАНСТВО (полное со скал. произв.)                    │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕРЫ НА КАЖДОМ УРОВНЕ:                                                   │
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ УРОВЕНЬ             │ ПРИМЕРЫ                                         │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Топологическое      │ ℝⁿ, любое множество с любой топологией         │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Хаусдорфово         │ ℝⁿ, многообразия, но НЕ антидискретное         │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Метрическое         │ ℝⁿ, C[0,1], ℓ^p, любое с метрикой              │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Полное метрическое  │ ℝⁿ, C[0,1], ℓ^p, но НЕ ℚ, НЕ (0,1)            │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Банахово            │ ℝⁿ, C[0,1], ℓ^p (p≥1), Lᵖ                     │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Гильбертово         │ ℝⁿ, L², ℓ², но НЕ C[0,1], НЕ ℓ¹                │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
│ ПРИМЕЧАНИЕ: Lᵖ — пространство функций с конечным ∫|f|ᵖ. Определение        │
│ требует интеграла Лебега (см. A16). В ℝⁿ можно использовать Римана.         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ЧТО ТАКОЕ НОРМА (краткое определение, подробно — A15.3)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Норма ‖·‖ на векторном пространстве V — это "длина вектора":               │
│                                                                             │
│   • ‖x‖ ≥ 0,  причём ‖x‖ = 0 ⟺ x = 0                                      │
│   • ‖αx‖ = |α|·‖x‖           (масштабирование)                             │
│   • ‖x + y‖ ≤ ‖x‖ + ‖y‖      (неравенство треугольника)                    │
│                                                                             │
│ Норма порождает метрику: d(x,y) = ‖x − y‖                                  │
│ Примеры: ‖x‖₂ = √(Σxᵢ²) в ℝⁿ,  ‖f‖₂ = √(∫|f|²) в L²                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТРИЗУЕМОСТЬ — КАК ДОКАЗЫВАТЬ, ЧТО ПРОСТРАНСТВО (НЕ) МЕТРИЗУЕМО           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   Топологическое пространство (X, τ) называется МЕТРИЗУЕМЫМ, если          │
│   существует метрика d на X, порождающая топологию τ.                       │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ НЕОБХОДИМЫЕ УСЛОВИЯ МЕТРИЗУЕМОСТИ (если нарушены — НЕ метризуемо)          │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ 1. ХАУСДОРФОВОСТЬ (T₂):                                                     │
│    Метрическое пространство всегда T₂.                                      │
│    ⇒ Если пространство НЕ хаусдорфово — оно НЕ метризуемо.                 │
│                                                                             │
│    Пример: Антидискретная топология на {a,b} — точки неразделимы.          │
│                                                                             │
│ 2. ПЕРВАЯ АКСИОМА СЧЁТНОСТИ:                                                │
│    В метрическом пространстве каждая точка имеет счётную базу               │
│    окрестностей (шары радиуса 1/n).                                         │
│    ⇒ Если нет счётной базы окрестностей — НЕ метризуемо.                   │
│                                                                             │
│ 3. СЕКВЕНЦИАЛЬНОСТЬ:                                                        │
│    В метрическом пространстве замкнутость эквивалентна                      │
│    секвенциальной замкнутости (содержит пределы своих последовательностей). │
│    ⇒ Если есть секвенциально замкнутое, но не замкнутое — НЕ метризуемо.   │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ДОСТАТОЧНЫЕ УСЛОВИЯ (ТЕОРЕМЫ О МЕТРИЗУЕМОСТИ)                               │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ⚠️  РАЗЛИЧАЙ ДВЕ АКСИОМЫ СЧЁТНОСТИ:                                         │
│                                                                             │
│   • ПЕРВАЯ (A₁): каждая ТОЧКА имеет счётную базу окрестностей              │
│     (шары радиуса 1/n в метрическом пространстве)                          │
│                                                                             │
│   • ВТОРАЯ (A₂): вся ТОПОЛОГИЯ имеет счётную базу                          │
│     (любое открытое = объединение элементов счётного семейства)            │
│                                                                             │
│   A₂ ⇒ A₁, но не наоборот! Пример: несчётное дискретное пространство      │
│   удовлетворяет A₁ (база точки = сама точка), но не A₂.                    │
│                                                                             │
│ ТЕОРЕМА УРЫСОНА:                                                            │
│   Регулярное (T₃) + ВТОРАЯ аксиома счётности ⇒ метризуемо.                 │
│   (Нужна счётная база ВСЕЙ топологии, не только окрестностей точек!)       │
│                                                                             │
│ ТЕОРЕМА НАГАТЫ-СМИРНОВА:                                                    │
│   T₃ + σ-локально конечная база ⇒ метризуемо.                              │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СТРАТЕГИИ ДОКАЗАТЕЛЬСТВА НЕМЕТРИЗУЕМОСТИ                                    │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ СТРАТЕГИЯ 1: Нарушение T₂                                                   │
│   Показать, что две точки нельзя разделить непересекающимися окрестностями. │
│   Пример: X с антидискретной топологией (τ = {∅, X}).                      │
│                                                                             │
│ СТРАТЕГИЯ 2: Нет счётной базы окрестностей                                  │
│   Найти точку, у которой любая счётная система окрестностей                 │
│   не является базой.                                                        │
│   Пример: Несчётное произведение ∏ᵢℝ с топологией произведения.            │
│                                                                             │
│ СТРАТЕГИЯ 3: Секвенциальный аргумент                                        │
│   Найти множество A, которое секвенциально замкнуто,                        │
│   но не замкнуто топологически.                                             │
│                                                                             │
│ СТРАТЕГИЯ 4: Компактность + несчётность                                     │
│   В компактном метрическом пространстве каждое открытое покрытие            │
│   имеет счётное подпокрытие (свойство Линделёфа).                           │
│   ⇒ Если компактно, но нет счётного подпокрытия — НЕ метризуемо.           │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ КЛАССИЧЕСКИЕ ПРИМЕРЫ                                                        │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ┌──────────────────────────┬────────────┬─────────────────────────────────┐ │
│ │ ПРОСТРАНСТВО             │ МЕТРИЗУЕМО?│ ПОЧЕМУ                          │ │
│ ├──────────────────────────┼────────────┼─────────────────────────────────┤ │
│ │ ℝⁿ (станд. топология)    │ ДА         │ Евклидова метрика               │ │
│ ├──────────────────────────┼────────────┼─────────────────────────────────┤ │
│ │ ℝ (топология Зарисского) │ НЕТ        │ Не T₂: замкнутые = конечные    │ │
│ ├──────────────────────────┼────────────┼─────────────────────────────────┤ │
│ │ ℝ (стрелка, топология    │ НЕТ        │ Не T₂: точки неразделимы       │ │
│ │ Зоргенфрея)              │            │ (более сложный аргумент)        │ │
│ ├──────────────────────────┼────────────┼─────────────────────────────────┤ │
│ │ [0,1]^[0,1] (куб Тихон.) │ НЕТ        │ Нет счётной базы окрестностей   │ │
│ ├──────────────────────────┼────────────┼─────────────────────────────────┤ │
│ │ βℕ (Стоуна-Чеха)         │ НЕТ        │ Несчётное дискретное подпр-во   │ │
│ │                          │            │ в компакте                      │ │
│ ├──────────────────────────┼────────────┼─────────────────────────────────┤ │
│ │ ω₁ (первый несчётный     │ НЕТ        │ Секвенциально компактно,        │ │
│ │ ординал)                 │            │ но не компактно                 │ │
│ └──────────────────────────┴────────────┴─────────────────────────────────┘ │
│                                                                             │
│ ПОШАГОВЫЙ ПРИМЕР: Доказать, что [0,1]^ℝ не метризуемо                       │
│                                                                             │
│   1. Это несчётное произведение компактов ⇒ компактно (Тихонов).           │
│   2. Предположим, что метризуемо.                                           │
│   3. Тогда имеет счётную базу окрестностей в каждой точке.                  │
│   4. Рассмотрим точку x = (0, 0, 0, ...) — нуль во всех координатах.       │
│   5. Базисная окрестность зависит от конечного числа координат.             │
│   6. Счётная база ⇒ затрагивает счётное множество координат.               │
│   7. Но координат несчётно много ⇒ противоречие.                           │
│                                                                             │
│ ИТОГ: [0,1]^ℝ не метризуемо, т.к. нет счётной базы окрестностей.           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: СВЯЗНОСТЬ ТРУБОПРОВОДНОЙ СЕТИ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Тепловая сеть города. Нужно понять, что произойдёт при аварии.      │
│                                                                             │
│            Котельная                                                        │
│               ●═══════════●═══════════● Район А                            │
│               ║           ║           ║                                     │
│               ║           ║           ║                                     │
│               ●═══════════●═══════════● Район Б                            │
│               ║           ║           ║                                     │
│               ║           ║           ║                                     │
│               ●═══════════●═══════════● Район В                            │
│                                                                             │
│ ТОПОЛОГИЧЕСКИЙ ВЗГЛЯД:                                                      │
│                                                                             │
│ 1. СВЯЗНОСТЬ:                                                               │
│    Сеть связна = из любой точки можно добраться до любой другой.            │
│    Если авария разрезает сеть на две части → сеть становится НЕсвязной.     │
│                                                                             │
│ 2. ЧИСЛО НЕЗАВИСИМЫХ ЦИКЛОВ = первое число Бетти β₁:                        │
│                                                                             │
│    β₁ = E − V + 1     (для связного графа)                                 │
│    E = число рёбер (трубопроводов)                                          │
│    V = число вершин (узлов)                                                 │
│                                                                             │
│    Для нашей сети: V = 9, E = 12  ⇒  β₁ = 12 − 9 + 1 = 4                   │
│                                                                             │
│    СМЫСЛ: Можно отключить 4 трубы БЕЗ потери связности!                     │
│    (при правильном выборе)                                                  │
│                                                                             │
│ 3. ПРАКТИЧЕСКИЙ ВЫВОД:                                                      │
│                                                                             │
│    • β₁ = 0: древовидная сеть, любая авария отключает часть потребителей   │
│    • β₁ > 0: кольцевая сеть, есть резервные пути                           │
│    • Чем больше β₁, тем надёжнее сеть (но дороже строительство)            │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ТОПОЛОГИЧЕСКАЯ ЭКВИВАЛЕНТНОСТЬ В ТЕПЛООБМЕННИКАХ:                           │
│                                                                             │
│ Два теплообменника с одинаковой топологией течения — одинаково работают!    │
│                                                                             │
│   Труба в трубе:     ═══════════════     Противоток: эффективность ~100%    │
│                      ───────────────                                        │
│                                                                             │
│   Пластинчатый:      ╔═══╗ ╔═══╗        Противоток с перемешиванием         │
│                      ║   ║ ║   ║                                            │
│                      ╚═══╝ ╚═══╝        эффективность ~95%                  │
│                                                                             │
│   Смесительный:      жидкости            Прямоток (топологически           │
│                      смешиваются         другой) — эффективность ~50%       │
│                                                                             │
│ Топология течения (противоток/прямоток/перекрёстный) определяет             │
│ теоретический предел эффективности теплообмена!                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Топология даёт понятие близости, но не говорит, как ИЗМЕРЯТЬ и ВЫЧИСЛЯТЬ.
Чтобы работать с пространством количественно — складывать векторы, решать
уравнения, находить проекции — нужна дополнительная структура.

Линейная алгебра добавляет к пространству операции сложения и умножения
на число. Это делает возможными вычисления — и это язык почти всей физики.
───────────────────────────────────────────────────────────────────────────────

═══════════════════════════════════════════════════════════════════════════════
A3. ЛИНЕЙНАЯ АЛГЕБРА — ЯЗЫК ЛИНЕЙНЫХ ПРЕОБРАЗОВАНИЙ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЛИНЕЙНАЯ АЛГЕБРА КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Линейная алгебра видит в пространстве две операции:                         │
│   • СЛОЖЕНИЕ векторов (можно складывать точки)                              │
│   • УМНОЖЕНИЕ на число (можно растягивать/сжимать)                          │
│                                                                             │
│ Это больше структуры, чем у топологии (только близость),                    │
│ но меньше, чем у метрики (конкретные расстояния).                           │
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ: Почти все пространства в физике и инженерии — векторные!    │
│   • Силы можно складывать                                                   │
│   • Скорости можно складывать                                               │
│   • Состояния в квантовой механике можно складывать                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Линейная алгебра — вторая по важности структура после множеств. Она описывает
всё, что можно "складывать" и "растягивать": векторы, функции, матрицы.

ПОЧЕМУ ЭТО ЦЕНТРАЛЬНАЯ ТЕМА:
  • Квантовая механика живёт в векторных пространствах
  • Нелинейные задачи линеаризуются (производная!)
  • Данные — это векторы в ℝⁿ
  • Линейные системы решаются явно

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.1  МЕСТО В ОБЩЕЙ КАРТИНЕ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Линейная алгебра — это изучение ВЕКТОРНЫХ ПРОСТРАНСТВ и                     │
│ ЛИНЕЙНЫХ ОТОБРАЖЕНИЙ между ними.                                            │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   • Это ПРОСТЕЙШАЯ структура, где можно складывать и растягивать            │
│   • Линейные задачи РЕШАЕМЫ (в отличие от нелинейных)                       │
│   • Нелинейные задачи ПРИБЛИЖАЮТСЯ линейными (производная!)                 │
│   • Квантовая механика ЖИВЁТ в векторных пространствах                      │
│                                                                             │
│   ┌───────────────────────────────────────────────────────────────────┐     │
│   │ ИЕРАРХИЯ ПРЕОБРАЗОВАНИЙ                                           │     │
│   ├───────────────────────────────────────────────────────────────────┤     │
│   │                                                                   │     │
│   │ Произвольные отображения                                          │     │
│   │      ↓ сохраняют непрерывность                                    │     │
│   │ Непрерывные (топология)                                           │     │
│   │      ↓ сохраняют гладкость                                        │     │
│   │ Гладкие (анализ, многообразия)                                    │     │
│   │      ↓ сохраняют линейную структуру                               │     │
│   │ ЛИНЕЙНЫЕ  ← мы здесь                                              │     │
│   │      ↓ сохраняют углы и длины                                     │     │
│   │ Ортогональные (группа O(n))                                       │     │
│   │      ↓ сохраняют ориентацию                                       │     │
│   │ Вращения (группа SO(n))                                           │     │
│   │                                                                   │     │
│   └───────────────────────────────────────────────────────────────────┘     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.2  ВЕКТОРНОЕ ПРОСТРАНСТВО — ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ВЕКТОРНОЕ ПРОСТРАНСТВО                                     │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Векторное пространство над полем F — это множество V с двумя            │ │
│ │ операциями: сложением (+) и умножением на скаляр (·), такими что:       │ │
│ │                                                                         │ │
│ │ АКСИОМЫ СЛОЖЕНИЯ (V — абелева группа по +):                             │ │
│ │   (V1) u + v = v + u                    (коммутативность)               │ │
│ │   (V2) (u + v) + w = u + (v + w)        (ассоциативность)               │ │
│ │   (V3) ∃ 0 ∈ V: v + 0 = v              (нейтральный элемент)            │ │
│ │   (V4) ∀v ∃(−v): v + (−v) = 0          (обратный элемент)               │ │
│ │                                                                         │ │
│ │ АКСИОМЫ УМНОЖЕНИЯ НА СКАЛЯР:                                            │ │
│ │   (V5) α(βv) = (αβ)v                   (ассоциативность)                │ │
│ │   (V6) 1·v = v                         (единица поля)                   │ │
│ │                                                                         │ │
│ │ АКСИОМЫ ДИСТРИБУТИВНОСТИ:                                               │ │
│ │   (V7) α(u + v) = αu + αv              (по векторам)                    │ │
│ │   (V8) (α + β)v = αv + βv              (по скалярам)                    │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ХАРАКТЕРИСТИЧЕСКОЕ СВОЙСТВО: Векторное пространство допускает:             │
│   • Складывать объекты (параллелограмм)                                     │
│   • Растягивать/сжимать объекты (умножение на число)                        │
│   • И эти операции ведут себя "хорошо" (согласованно)                       │
│                                                                             │
│ ПОЧЕМУ ИМЕННО ЭТИ АКСИОМЫ:                                                  │
│   Это МИНИМАЛЬНЫЙ набор правил, при которых работает интуиция               │
│   "стрелок, которые можно складывать и растягивать".                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.3  ПРИМЕРЫ ВЕКТОРНЫХ ПРОСТРАНСТВ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРИМЕРЫ ВЕКТОРНЫХ ПРОСТРАНСТВ                                               │
│                                                                             │
├─────────────────┬─────────────────────────────┬───────────────┬─────────────┤
│ ПРОСТРАНСТВО    │ ЭЛЕМЕНТЫ                    │ РАЗМЕРНОСТЬ   │ КОММЕНТАРИЙ │
├─────────────────┼─────────────────────────────┼───────────────┼─────────────┤
│                 │                             │               │             │
│ ℝⁿ              │ (x₁, x₂, ..., xₙ), xᵢ ∈ ℝ  │ n             │ Стандартный │
│                 │                             │               │ пример      │
│                 │                             │               │             │
├─────────────────┼─────────────────────────────┼───────────────┼─────────────┤
│                 │                             │               │             │
│ C([a,b])        │ Непрерывные функции f: ℝ→ℝ │ ∞             │ Функции —   │
│                 │ (f+g)(x) = f(x)+g(x)        │               │ тоже векторы│
│                 │                             │               │             │
├─────────────────┼─────────────────────────────┼───────────────┼─────────────┤
│                 │                             │               │             │
│ ℝ[x]≤n          │ Многочлены степени ≤ n      │ n + 1         │ Базис:      │
│                 │ a₀ + a₁x + ... + aₙxⁿ       │               │ 1, x, x²,...│
│                 │                             │               │             │
├─────────────────┼─────────────────────────────┼───────────────┼─────────────┤
│                 │                             │               │             │
│ M_{m×n}(ℝ)      │ Матрицы размера m×n         │ m·n           │ Базис: Eᵢⱼ  │
│                 │                             │               │             │
├─────────────────┼─────────────────────────────┼───────────────┼─────────────┤
│                 │                             │               │             │
│ ℂⁿ              │ (z₁, ..., zₙ), zᵢ ∈ ℂ      │ n (над ℂ)     │ Или 2n над ℝ│
│                 │                             │               │             │
├─────────────────┴─────────────────────────────┴───────────────┴─────────────┤
│                                                                             │
│ КОНТРПРИМЕР: Что НЕ является векторным пространством                        │
│                                                                             │
│ ┌───────────────────────┬───────────────────────────────────────────────┐   │
│ │ {(x,y) ∈ ℝ² : x ≥ 0}  │ (1,0) ∈ V, но (−1)·(1,0) = (−1,0) ∉ V        │   │
│ │ (первый квадрант)     │ Нет замкнутости относительно ×скаляр!         │   │
│ └───────────────────────┴───────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.4  ЛИНЕЙНАЯ НЕЗАВИСИМОСТЬ И БАЗИС                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ЛИНЕЙНАЯ КОМБИНАЦИЯ                                        │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Линейная комбинация векторов v₁, ..., vₖ — это выражение                │ │
│ │                                                                         │ │
│ │   α₁v₁ + α₂v₂ + ... + αₖvₖ,  где αᵢ ∈ F (скаляры)                       │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ЛИНЕЙНАЯ НЕЗАВИСИМОСТЬ                                     │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Векторы v₁, ..., vₖ линейно независимы, если из равенства               │ │
│ │                                                                         │ │
│ │   α₁v₁ + α₂v₂ + ... + αₖvₖ = 0                                          │ │
│ │                                                                         │ │
│ │ следует, что α₁ = α₂ = ... = αₖ = 0.                                    │ │
│ │                                                                         │ │
│ │ Иначе говоря: единственный способ получить 0 — взять все αᵢ = 0.        │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ И ПРИМЕРЫ:                                             │
│ ┌───────────────────────────┬───────────────────────────────────────────┐   │
│ │ УТВЕРЖДЕНИЕ               │ ПОЧЕМУ                                    │   │
│ ├───────────────────────────┼───────────────────────────────────────────┤   │
│ │ 2 вектора ЛНЗ             │ ⟺ не на одной прямой                      │   │
│ │ 3 вектора ЛНЗ             │ ⟺ не в одной плоскости                    │   │
│ │ ЛЗ = "избыточные"         │ Один выражается через другие              │   │
│ └───────────────────────────┴───────────────────────────────────────────┘   │
│                                                                             │
│ ┌───────────────────────────────────┬───────────────────────────────────┐   │
│ │ ПРИМЕР В ℝ³                       │ ЛНЗ ИЛИ ЛЗ?                       │   │
│ ├───────────────────────────────────┼───────────────────────────────────┤   │
│ │ e₁=(1,0,0), e₂=(0,1,0), e₃=(0,0,1)│ ЛНЗ: α₁e₁+α₂e₂+α₃e₃=0 ⇒ все αᵢ=0 │   │
│ │ v₁=(1,0,0), v₂=(0,1,0), v₃=(1,1,0)│ ЛЗ: v₁+v₂−v₃=0 (нашли ненулевые!) │   │
│ └───────────────────────────────────┴───────────────────────────────────┘   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: БАЗИС                                                      │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Базис пространства V — это набор векторов {e₁, ..., eₙ}, который:       │ │
│ │                                                                         │ │
│ │   (1) Линейно независим                                                 │ │
│ │   (2) Порождает V (любой v ∈ V выражается как v = Σ αᵢeᵢ)               │ │
│ │                                                                         │ │
│ │ Эквивалентно: базис — это МИНИМАЛЬНАЯ порождающая система,              │ │
│ │              или МАКСИМАЛЬНАЯ линейно независимая система.              │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ТЕОРЕМА О РАЗМЕРНОСТИ                                                   │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Все базисы одного пространства содержат ОДИНАКОВОЕ число векторов.      │ │
│ │ Это число называется РАЗМЕРНОСТЬЮ пространства: dim(V).                 │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕРЫ РАЗМЕРНОСТЕЙ:                                                       │
│   • dim(ℝⁿ) = n                                                             │
│   • dim(M_{m×n}) = m·n                                                      │
│   • dim(ℝ[x]≤n) = n + 1                                                     │
│   • dim({непрерывные функции}) = ∞                                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚠️  ДВА ТИПА БАЗИСОВ В БЕСКОНЕЧНОМЕРНЫХ ПРОСТРАНСТВАХ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────┬─────────────────────────────┬─────────────────────────┐   │
│ │ ТИП           │ ОПРЕДЕЛЕНИЕ                 │ ПРИМЕР                  │   │
│ ├───────────────┼─────────────────────────────┼─────────────────────────┤   │
│ │               │                             │                         │   │
│ │ БАЗИС ГАМЕЛЯ  │ v = Σ αᵢeᵢ (КОНЕЧНАЯ сумма)│ Для C[0,1] такой базис  │   │
│ │ (алгебраич.)  │ Каждый вектор — конечная    │ несчётен! Не можем      │   │
│ │               │ линейная комбинация         │ явно построить.         │   │
│ │               │                             │                         │   │
│ ├───────────────┼─────────────────────────────┼─────────────────────────┤   │
│ │               │                             │                         │   │
│ │ БАЗИС ШАУДЕРА │ v = Σ αᵢeᵢ (БЕСКОНЕЧНЫЙ    │ {1, x, x², ...} для     │   │
│ │ (топологич.)  │ СХОДЯЩИЙСЯ ряд)             │ аналитических функций   │   │
│ │               │ Требуется топология!        │ {sin nx, cos nx} — L²   │   │
│ │               │                             │                         │   │
│ └───────────────┴─────────────────────────────┴─────────────────────────┘   │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   • В алгебре (A3) по умолчанию базис Гамеля                               │
│   • В рядах Фурье (A14) и функ. анализе (A15) — базис Шаудера               │
│   • dim_Гамель(L²) = несчётна, dim_Шаудер(L²) = счётна (если сепарабельно) │
│                                                                             │
│ Одно и то же пространство имеет РАЗНЫЕ "размерности" в зависимости от того,│
│ какой тип базиса используется!                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.5  ЛИНЕЙНОЕ ОТОБРАЖЕНИЕ — СОХРАНЯЮЩЕЕ СТРУКТУРУ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ЛИНЕЙНОЕ ОТОБРАЖЕНИЕ                                       │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Отображение T: V → W называется линейным, если:                         │ │
│ │                                                                         │ │
│ │   (L1) T(u + v) = T(u) + T(v)      (сохраняет сложение)                  │ │
│ │   (L2) T(αv) = αT(v)               (сохраняет умножение на скаляр)      │ │
│ │                                                                         │ │
│ │ Эквивалентно (в одной формуле):                                         │ │
│ │                                                                         │ │
│ │   T(αu + βv) = αT(u) + βT(v)       (сохраняет линейные комбинации)      │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СЛЕДСТВИЯ ИЗ ОПРЕДЕЛЕНИЯ:                                                   │
│ ┌─────────────────────────────────────┬─────────────────────────────────┐   │
│ │ СВОЙСТВО                            │ ПОЧЕМУ                          │   │
│ ├─────────────────────────────────────┼─────────────────────────────────┤   │
│ │ T(0) = 0                            │ T(0·v) = 0·T(v) = 0             │   │
│ │ T(−v) = −T(v)                       │ T((−1)·v) = (−1)·T(v)           │   │
│ │ T(Σαᵢvᵢ) = ΣαᵢT(vᵢ)                │ Многократное применение L1+L2   │   │
│ └─────────────────────────────────────┴─────────────────────────────────┘   │
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ: T ПОЛНОСТЬЮ определяется значениями на базисе!              │
│   Если знаем T(e₁),...,T(eₙ), то T(v) = T(Σαᵢeᵢ) = ΣαᵢT(eᵢ)               │
│                                                                             │
│ ПРИМЕРЫ ЛИНЕЙНЫХ ОТОБРАЖЕНИЙ:                                               │
│ ┌───────────────────┬────────────────────────────┬──────────────────────┐   │
│ │ ОТОБРАЖЕНИЕ       │ ФОРМУЛА                    │ ГДЕ ИСПОЛЬЗУЕТСЯ     │   │
│ ├───────────────────┼────────────────────────────┼──────────────────────┤   │
│ │ Поворот на θ      │ (x,y) ↦ (xcosθ−ysinθ,...)  │ Геометрия, физика    │   │
│ │ Проекция на ось x │ (x,y) ↦ (x, 0)             │ Тень, компоненты     │   │
│ │ Дифференцирование │ p ↦ p' для p ∈ ℝ[x]        │ Анализ               │   │
│ │ Интегрирование    │ p ↦ ∫p                     │ Анализ               │   │
│ │ Умножение на A    │ v ↦ Av                     │ Системы уравнений    │   │
│ └───────────────────┴────────────────────────────┴──────────────────────┘   │
│                                                                             │
│ КОНТРПРИМЕР: T(x,y)=(x+1, y) — НЕ линейное! T(0,0)=(1,0)≠(0,0)              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.6  МАТРИЦА — ЛИНЕЙНОЕ ОТОБРАЖЕНИЕ В КООРДИНАТАХ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ╔═════════════════════════════════════════════════════════════════════════╗ │
│ ║  ⛔  ГЛАВНАЯ ОШИБКА ИНЖЕНЕРОВ: МАТРИЦА — ЭТО НЕ ТЕНЗОР!                 ║ │
│ ╠═════════════════════════════════════════════════════════════════════════╣ │
│ ║                                                                         ║ │
│ ║  Матрица — это ТАБЛИЦА ЧИСЕЛ, запись координат чего-то в базисе.       ║ │
│ ║  Одна и та же матрица 3×3 может представлять:                          ║ │
│ ║                                                                         ║ │
│ ║    • Линейный оператор T: V → V    (тензор типа (1,1))                 ║ │
│ ║    • Билинейную форму B: V×V → ℝ  (тензор типа (0,2))                 ║ │
│ ║    • Квадратичную форму Q(v)       (тензор типа (0,2))                 ║ │
│ ║    • Просто набор коэффициентов    (НЕ тензор вообще!)                 ║ │
│ ║                                                                         ║ │
│ ║  БЕЗ УКАЗАНИЯ, ЧТО ЭТО — матрица бессмысленна при смене базиса!        ║ │
│ ║  Разные объекты преобразуются по РАЗНЫМ законам:                       ║ │
│ ║                                                                         ║ │
│ ║    A' = P⁻¹AP    (оператор)     vs     A' = PᵀAP    (форма)           ║ │
│ ║                                                                         ║ │
│ ║  Путаница здесь — источник ПОЛОВИНЫ ошибок в механике и физике!        ║ │
│ ╚═════════════════════════════════════════════════════════════════════════╝ │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ: Матрица = ЗАПИСЬ T в выбранных базисах                       │
│                Сменил базис → сменилась матрица, но T то же!                │
│                                                                             │
│ ПОСТРОЕНИЕ: T: V → W, базис {eⱼ} в V, базис {fᵢ} в W                        │
│   T(eⱼ) = Σᵢ aᵢⱼfᵢ  →  j-й столбец A = координаты T(eⱼ) в {fᵢ}            │
│                                                                             │
│ ПРИМЕР: Поворот на 90° в ℝ²                                                 │
│ ┌─────────────────────┬─────────────────────┬───────────────────────────┐   │
│ │ БАЗИСНЫЙ ВЕКТОР     │ ОБРАЗ               │ СТОЛБЕЦ МАТРИЦЫ           │   │
│ ├─────────────────────┼─────────────────────┼───────────────────────────┤   │
│ │ e₁ = (1,0)          │ T(e₁) = (0,1)       │ (0, 1)ᵀ — 1-й столбец    │   │
│ │ e₂ = (0,1)          │ T(e₂) = (−1,0)      │ (−1, 0)ᵀ — 2-й столбец   │   │
│ └─────────────────────┴─────────────────────┴───────────────────────────┘   │
│                                                                             │
│   Матрица: A = │ 0  −1│   Проверка: A│1│ = │0│ = T(1,0) ✓                  │
│                │ 1   0│              │0│   │1│                              │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ТЕОРЕМА: T ↔ A, S ↔ B  ⟹  S∘T ↔ BA  (порядок обратный!)               │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ИЗОМОРФИЗМ: Выбор базисов даёт биекцию                                      │
│   Hom(V, W) ≅ M_{m×n}(F)                                                   │
│ где Hom(V, W) — пространство линейных отображений V → W,                   │
│     M_{m×n}(F) — пространство матриц m×n над полем F,                      │
│     m = dim(W), n = dim(V).                                                 │
│                                                                             │
│ ВАЖНО: Изоморфизм ЗАВИСИТ от выбора базисов! Разные базисы → разные        │
│ матрицы для ОДНОГО оператора. Связь: A' = P⁻¹AP (смена базиса).            │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚠️  КРИТИЧЕСКОЕ ПРЕДУПРЕЖДЕНИЕ (ЧАСТАЯ ОШИБКА!)                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Закон A' = P⁻¹AP верен для ЛИНЕЙНОГО ОПЕРАТОРА (тензор типа (1,1)).       │
│                                                                             │
│ Для КВАДРАТИЧНОЙ/БИЛИНЕЙНОЙ ФОРМЫ (тензор типа (0,2)) закон ДРУГОЙ:        │
│                                                                             │
│   A' = PᵀAP   (не P⁻¹, а Pᵀ!)                                              │
│                                                                             │
│ ┌─────────────────────────┬─────────────────────────────────────────────┐   │
│ │ ОБЪЕКТ                  │ ЗАКОН ТРАНСФОРМАЦИИ                         │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Линейный оператор       │ A' = P⁻¹AP                                  │   │
│ │ T: V → V                │ (подобие матриц)                            │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Билинейная форма        │ A' = PᵀAP                                   │   │
│ │ B: V × V → ℝ            │ (конгруэнтность матриц)                     │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Метрика gᵢⱼ             │ g'ᵢⱼ = (∂xᵏ/∂x'ⁱ)(∂xˡ/∂x'ʲ)gₖₗ            │   │
│ │ (тензор (0,2))          │ (два нижних индекса!)                       │   │
│ └─────────────────────────┴─────────────────────────────────────────────┘   │
│                                                                             │
│ ГДЕ ЭТО КРИТИЧНО: При вычислении собственных значений квадратичной формы   │
│ (момент инерции, тензор напряжений) используйте PᵀAP, не P⁻¹AP!            │
│                                                                             │
│ Подробнее о типах тензоров — см. раздел A6.                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.6a  ФИЗИЧЕСКИЙ СМЫСЛ: МАТРИЦА СВЯЗЫВАЕТ РАЗНЫЕ ВЕЛИЧИНЫ                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Умножение матрицы на вектор w = Av имеет ДВА принципиально разных смысла:  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СМЫСЛ 1: АКТИВНОЕ ПРЕОБРАЗОВАНИЕ — вектор РЕАЛЬНО меняется                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Был вектор v, стал ДРУГОЙ вектор w = Av                                  │
│   Физически: повернули, растянули, деформировали сам объект                │
│                                                                             │
│   Примеры:                                                                  │
│   • Повернули стержень на 30° (матрица поворота)                           │
│   • Растянули пружину (матрица деформации)                                 │
│   • Изменили скорость при столкновении                                     │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СМЫСЛ 2: ПАССИВНОЕ ПРЕОБРАЗОВАНИЕ — вектор ТОТ ЖЕ, меняются координаты     │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Был вектор v с координатами (3, 4) в старом базисе                       │
│   Тот же вектор имеет координаты (1.5, 4) в новом базисе                   │
│   Физически: НИЧЕГО не изменилось, просто пересчитали числа                │
│                                                                             │
│   Примеры:                                                                  │
│   • Измерили длину в метрах, потом в футах                                 │
│   • Перешли от декартовых координат к полярным                             │
│   • Сменили систему отсчёта (СО вагона → СО земли)                         │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СМЫСЛ 3: МАТРИЦА КАК ФИЗИЧЕСКИЙ ЗАКОН — связь между РАЗНЫМИ величинами     │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Это ГЛАВНОЕ применение в физике и инженерии!                               │
│ Матрица описывает, как одна векторная величина порождает другую.           │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ МАТРИЦА ТЕПЛОПРОВОДНОСТИ  q = −λ·∇T                                  │   │
│ ├───────────────────────────────────────────────────────────────────────┤   │
│ │                                                                       │   │
│ │   ∇T — градиент температуры (вектор, К/м): "куда и как быстро        │   │
│ │         растёт температура"                                           │   │
│ │   q  — тепловой поток (вектор, Вт/м²): "куда и сколько течёт тепло"  │   │
│ │   λ  — матрица теплопроводности                                      │   │
│ │        (в A6 узнаем, что это "тензор 2-го ранга")                    │   │
│ │                                                                       │   │
│ │   В ИЗОТРОПНОМ материале (металл, вода):                              │   │
│ │     λᵢⱼ = λ·δᵢⱼ  (скаляр × единичная матрица)                        │   │
│ │     Тепло течёт ВДОЛЬ градиента (в направлении убывания T)           │   │
│ │                                                                       │   │
│ │   В АНИЗОТРОПНОМ материале (дерево, кристалл, слоистая изоляция):    │   │
│ │             ⎛λₓₓ  λₓᵧ  λₓᵤ⎞                                          │   │
│ │         λ = ⎜λᵧₓ  λᵧᵧ  λᵧᵤ⎟                                          │   │
│ │             ⎝λᵤₓ  λᵤᵧ  λᵤᵤ⎠                                          │   │
│ │                                                                       │   │
│ │     Тепло может течь НЕ вдоль градиента!                             │   │
│ │     Греешь с одной стороны — тепло уходит вбок.                      │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ МАТРИЦА НАПРЯЖЕНИЙ  σ                                                │   │
│ ├───────────────────────────────────────────────────────────────────────┤   │
│ │                                                                       │   │
│ │   n — нормаль к площадке (вектор, направление)                       │   │
│ │   F = σ·n — сила на единицу площади (вектор, Н/м²)                   │   │
│ │   σ — матрица напряжений 3×3                                         │   │
│ │       (в A5: "тензор напряжений")                                    │   │
│ │                                                                       │   │
│ │   σ говорит: "если площадка направлена так (n),                      │   │
│ │              то сила на неё будет такая (F)"                         │   │
│ │                                                                       │   │
│ │   Это НЕ одна сила — это ПРАВИЛО для всех возможных площадок!        │   │
│ │   σ содержит полную информацию о напряжённом состоянии в точке.      │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ МАТРИЦА ИНЕРЦИИ  I                                                   │   │
│ ├───────────────────────────────────────────────────────────────────────┤   │
│ │                                                                       │   │
│ │   ω — угловая скорость (вектор): "вокруг какой оси и как быстро"     │   │
│ │   L = I·ω — момент импульса (вектор)                                 │   │
│ │   I — матрица инерции 3×3                                            │   │
│ │       (в A5: "тензор инерции")                                       │   │
│ │                                                                       │   │
│ │   Для СИММЕТРИЧНОГО тела (шар, куб):                                 │   │
│ │     L ∥ ω  (момент параллелен угловой скорости)                      │   │
│ │                                                                       │   │
│ │   Для НЕСИММЕТРИЧНОГО тела (гантеля под углом):                      │   │
│ │     L и ω НЕ параллельны!                                            │   │
│ │     Крутишь вокруг одной оси — момент направлен в другую сторону.    │   │
│ │     (Поэтому колёса балансируют — убирают недиагональные элементы I) │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐   │
│ │ ПРО ВЕКТОРНОЕ ПОЛЕ                                                    │   │
│ ├───────────────────────────────────────────────────────────────────────┤   │
│ │                                                                       │   │
│ │ Если есть поле векторов v(x,y,z) (например, скорость ветра):         │   │
│ │                                                                       │   │
│ │ • ОДНА матрица A для всех точек: глобальное преобразование           │   │
│ │   A = поворот → всё поле повернулось                                 │   │
│ │   A = растяжение → всё поле растянулось                              │   │
│ │   Физически: сменили систему координат                               │   │
│ │                                                                       │   │
│ │ • РАЗНАЯ матрица A(x,y,z) в каждой точке: локальная деформация       │   │
│ │   Это ПОЛЕ МАТРИЦ (в A6 узнаем: "тензорное поле")                    │   │
│ │   Пример: тензор деформации в материале под нагрузкой                │   │
│ │   В каждой точке своё растяжение/сдвиг                               │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ИТОГ: Матрица — это не просто "таблица чисел", а:                          │
│   • Либо ПРЕОБРАЗОВАНИЕ (активное или пассивное)                           │
│   • Либо ФИЗИЧЕСКИЙ ЗАКОН, связывающий причину и следствие                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.7  ЯДРО И ОБРАЗ — ГЛАВНЫЕ ПОДПРОСТРАНСТВА                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЯ                                                             │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Для линейного T: V → W:                                                 │ │
│ │                                                                         │ │
│ │ ЯДРО:    ker(T) = {v ∈ V : T(v) = 0}  (что переходит в ноль)            │ │
│ │ ОБРАЗ:   Im(T) = {T(v) : v ∈ V}       (куда попадаем)                   │ │
│ │                                                                         │ │
│ │ Оба являются ПОДПРОСТРАНСТВАМИ (замкнуты относительно + и ·).           │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ТЕОРЕМА О РАЗМЕРНОСТИ (Rank-Nullity)                                    │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │   dim(V) = dim(ker T) + dim(Im T)                                       │ │
│ │              ↑              ↑                                           │ │
│ │          nullity         rank                                           │ │
│ │        (дефект)         (ранг)                                          │ │
│ │                                                                         │ │
│ │ "Размерность области = потери + результат"                              │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: Проекция T: ℝ³ → ℝ³, T(x,y,z) = (x,y,0)                             │
│                                                                             │
│   ker(T) = {(0,0,z) : z ∈ ℝ} = ось z         dim(ker T) = 1                 │
│   Im(T) = {(x,y,0) : x,y ∈ ℝ} = плоскость xy  dim(Im T) = 2                 │
│                                                                             │
│   Проверка: 3 = 1 + 2 ✓                                                     │
│                                                                             │
│ ГЕОМЕТРИЧЕСКАЯ ИНТУИЦИЯ:                                                    │
│                                                                             │
│   V (3-мерное)                    W (целевое пр-во)                         │
│   ┌───────────────────┐                                                     │
│   │      ╱╲           │                                                     │
│   │     ╱  ╲ ker(T)   │                                                     │
│   │    ╱    ╲ = ось z │           ┌─────────────────┐                       │
│   │   ╱      ╲        │    T      │                 │                       │
│   │  ╱ плоск. ╲       │ ────────▶ │    Im(T)        │                       │
│   │ ╱   xy     ╲      │           │  = плоскость    │                       │
│   │╱────────────╲     │           │                 │                       │
│   └───────────────────┘           └─────────────────┘                       │
│                                                                             │
│   dim(V) = 3                                                                │
│   dim(ker T) = 1  (что "схлопывается" в 0)                                  │
│   dim(Im T) = 2   (что "выживает")                                          │
│                                                                             │
│   Теорема: 3 = 1 + 2  ✓                                                     │
│                                                                             │
│   СМЫСЛ: Пространство V "расщепляется" на две части:                        │
│          - ker T (что теряется)                                             │
│          - дополнение (что переходит в образ 1-1)                           │
│                                                                             │
│ СВЯЗЬ С СИСТЕМАМИ УРАВНЕНИЙ:                                                │
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ ПОНЯТИЕ             │ ЧТО ОЗНАЧАЕТ                                    │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ ker(A)              │ Решения Ax = 0 (однородная система)             │   │
│ │ Im(A)               │ Линейная оболочка столбцов A                    │   │
│ │ rank(A)             │ Число ненулевых строк в ступенчатой форме       │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ СВОЙСТВО T          │ УСЛОВИЕ                                         │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Инъективно (1-1)    │ ker(T) = {0}                                    │   │
│ │ Сюръективно (на)    │ Im(T) = W                                       │   │
│ │ Биективно (изоморф.)│ ker={0} и Im=W ⟺ dim V = dim W, det ≠ 0        │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A.T.1  ЯДРО И ОБРАЗ — УНИВЕРСАЛЬНАЯ СТРУКТУРА                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Структура (ker, Im) присутствует для любого морфизма между структурами:     │
│                                                                             │
├───────────────────┬─────────────────┬─────────────────┬─────────────────────┤
│ РАЗДЕЛ            │ ОПЕРАТОР        │ KER             │ IM                  │
├───────────────────┼─────────────────┼─────────────────┼─────────────────────┤
│ A3 Лин. алгебра   │ T: V → W        │ ker T ⊂ V       │ Im T ⊂ W            │
│ A1 Теория групп   │ φ: G → H        │ ker φ ⊲ G       │ Im φ ≤ H            │
│ A8 Дифф. формы    │ d: Ωᵏ → Ωᵏ⁺¹   │ ker d (замкн.)  │ Im d (точные)       │
│ XXI Дифф. ур-я    │ L: C∞ → C∞      │ ker L (решения) │ Im L (достижимые)   │
│ КМ (физика)       │ Ĥ−E             │ ker(Ĥ−E)=сост.  │ спектр={E: ker≠0}   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА О РАЗМЕРНОСТИ: dim(V) = dim(ker T) + dim(Im T)                      │
├─────────────────────────────────────────────────────────────────────────────┤
│ КОГОМОЛОГИИ: Hᵏ = ker(dₖ) / Im(dₖ₋₁)                                       │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.8  СОБСТВЕННЫЕ ЗНАЧЕНИЯ И СОБСТВЕННЫЕ ВЕКТОРЫ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ                                                             │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Ненулевой вектор v называется СОБСТВЕННЫМ для T (или A), если           │ │
│ │                                                                         │ │
│ │   T(v) = λv   (или Av = λv)                                             │ │
│ │                                                                         │ │
│ │ Число λ называется СОБСТВЕННЫМ ЗНАЧЕНИЕМ.                               │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ СОБСТВЕННЫХ ЗНАЧЕНИЙ:                                  │
│                                                                             │
│ ┌──────────────┬──────────────────────┬────────────────────────────────┐    │
│ │ ЗНАЧЕНИЕ λ   │ ГЕОМ. ДЕЙСТВИЕ       │ ПРИМЕР                         │    │
│ ├──────────────┼──────────────────────┼────────────────────────────────┤    │
│ │ λ > 1        │ Растяжение           │ λ=2: удлинение вдвое           │    │
│ │ 0 < λ < 1    │ Сжатие               │ λ=0.5: сжатие вдвое            │    │
│ │ λ = 1        │ Без изменений        │ Направление сохранено          │    │
│ │ λ = 0        │ Коллапс (в 0)        │ Проекция уничтожает это напр.  │    │
│ │ λ < 0        │ Отражение + масштаб  │ λ=-1: чистое отражение         │    │
│ │ │λ│ = 1      │ Изометрия/отражение  │ Сохраняет длину                │    │
│ └──────────────┴──────────────────────┴────────────────────────────────┘    │
│                                                                             │
│ КАК НАЙТИ:                                                                  │
│                                                                             │
│   Av = λv  ⟺  (A − λI)v = 0  ⟺  v ∈ ker(A − λI)                            │
│                                                                             │
│   Чтобы ker ≠ {0}, нужно det(A − λI) = 0.                                   │
│                                                                             │
│   ХАРАКТЕРИСТИЧЕСКИЙ МНОГОЧЛЕН: p(λ) = det(A − λI)                          │
│   Собственные значения = корни p(λ).                                        │
│                                                                             │
│ ПРИМЕР: A = │3  1│                                                          │
│             │0  2│                                                          │
│                                                                             │
│   det(A − λI) = det│3−λ   1 │ = (3−λ)(2−λ) − 0 = λ² − 5λ + 6               │
│                    │ 0   2−λ│                                               │
│                                                                             │
│   Корни: λ₁ = 3, λ₂ = 2                                                     │
│                                                                             │
│   Для λ₁ = 3:  (A−3I)v = 0 → │0  1││v₁│ = 0 → v₂ = 0 → v₁ = (1,0)          │
│                              │0 −1││v₂│                                     │
│                                                                             │
│   Для λ₂ = 2:  (A−2I)v = 0 → │1  1││v₁│ = 0 → v₁ = −v₂ → v₂ = (−1,1)       │
│                              │0  0││v₂│                                     │
│                                                                             │
│ ИНВАРИАНТЫ (не зависят от базиса!):                                         │
│                                                                             │
│   det(A) = λ₁ · λ₂ · ... · λₙ  (произведение собственных значений)          │
│   tr(A) = λ₁ + λ₂ + ... + λₙ   (сумма собственных значений)                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.9  ДИАГОНАЛИЗАЦИЯ — ВЫБОР "ПРАВИЛЬНОГО" БАЗИСА                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ:                                                                       │
│   В базисе из собственных векторов матрица становится ДИАГОНАЛЬНОЙ!         │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ТЕОРЕМА О ДИАГОНАЛИЗАЦИИ                                                │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Матрица A диагонализуема ⟺ существует базис из собственных векторов.    │ │
│ │                                                                         │ │
│ │ Тогда A = PDP⁻¹, где:                                                   │ │
│ │   P = [v₁ | v₂ | ... | vₙ] — матрица из собственных векторов            │ │
│ │   D = diag(λ₁, λ₂, ..., λₙ) — диагональная из собственных значений      │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЗАЧЕМ ЭТО НУЖНО:                                                            │
│                                                                             │
│ ┌──────────────────────────┬────────────────────────────────────────────┐   │
│ │ ЗАДАЧА                   │ КАК ПОМОГАЕТ                               │   │
│ ├──────────────────────────┼────────────────────────────────────────────┤   │
│ │ Степени матрицы Aⁿ       │ PD^nP⁻¹, где Dⁿ = diag(λ₁ⁿ,...,λₙⁿ)       │   │
│ │ Дифференц. уравнения     │ eᴬᵗ вычисляется через диагональ           │   │
│ │ Анализ устойчивости      │ Поведение при t→∞ зависит от |λᵢ|         │   │
│ └──────────────────────────┴────────────────────────────────────────────┘   │
│                                                                             │
│ УСЛОВИЯ ДИАГОНАЛИЗУЕМОСТИ:                                                  │
│                                                                             │
│ ┌──────────────────────────┬────────────────────────────────────────────┐   │
│ │ СИТУАЦИЯ                 │ ДИАГОНАЛИЗУЕМА?                            │   │
│ ├──────────────────────────┼────────────────────────────────────────────┤   │
│ │ Все λᵢ различны          │ ДА (достаточно, не необходимо)             │   │
│ │ Кратные λ, но хватает    │ ДА (пример: I, где λ=1 кратности n)        │   │
│ │   собственных векторов   │                                            │   │
│ │ Не хватает с.в.          │ НЕТ → Жорданова форма                      │   │
│ │ Пример: A = [0 1; 0 0]   │ НЕТ (λ=0 кратности 2, только 1 вектор)     │   │
│ └──────────────────────────┴────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.10  СВЯЗЬ С ГРУППАМИ                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Обратимые матрицы образуют ГРУППУ GL(n) — общая линейная группа             │
│                                                                             │
│   ┌─────────────────┬─────────────────┬─────────────────────────────────┐   │
│   │ ПОДГРУППА       │ УСЛОВИЕ         │ ЧТО СОХРАНЯЕТ                   │   │
│   ├─────────────────┼─────────────────┼─────────────────────────────────┤   │
│   │ GL(n)           │ det(A) ≠ 0      │ Линейную структуру              │   │
│   │ SL(n)           │ det(A) = 1      │ + объём                         │   │
│   │ O(n)            │ AᵀA = I         │ + длины и углы                  │   │
│   │ SO(n)           │ AᵀA = I, det=1  │ + ориентацию                    │   │
│   │ U(n)            │ A*A = I (компл.)│ Эрмитово скалярное произведение │   │
│   │ SU(n)           │ A*A = I, det=1  │ + объём (квант. механика!)      │   │
│   └─────────────────┴─────────────────┴─────────────────────────────────┘   │
│                                                                             │
│ det: GL(n) → ℝ* — это ГОМОМОРФИЗМ групп!                                    │
│ ker(det) = SL(n) — ядро гомоморфизма                                        │
│                                                                             │
│ СВЯЗЬ С ГРУППАМИ ЛИ (A1):                                                   │
│   GL(n), O(n), SO(n), U(n), SU(n) — это всё ГРУППЫ ЛИ                       │
│   (одновременно группы И многообразия)                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.10a  ЭКСПОНЕНТА МАТРИЦЫ — КЛЮЧ К СИСТЕМАМ ДУ                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   e^A = I + A + A²/2! + A³/3! + ... = Σ Aⁿ/n!                          │ │
│ │                                                                         │ │
│ │   (ряд всегда сходится для любой матрицы A)                            │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЗАЧЕМ НУЖНО:                                                                │
│   Система линейных ДУ  ẋ = Ax  имеет решение  x(t) = e^{At}·x(0)           │
│                                                                             │
│ ВЫЧИСЛЕНИЕ (если A диагонализуема):                                         │
│                                                                             │
│   A = PDP⁻¹,  где D = diag(λ₁, λ₂, ..., λₙ)                               │
│                                                                             │
│   e^A = P · diag(e^{λ₁}, e^{λ₂}, ..., e^{λₙ}) · P⁻¹                       │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   • e^0 = I                                                                 │
│   • e^{A+B} = e^A·e^B  только если AB = BA!                                │
│   • (e^A)⁻¹ = e^{−A}                                                       │
│   • d/dt e^{At} = A·e^{At}                                                 │
│   • det(e^A) = e^{tr(A)}                                                   │
│                                                                             │
│ ПРИМЕР ДЛЯ ТЕПЛОФИЗИКИ:                                                     │
│                                                                             │
│   Система из n комнат с температурами T₁, T₂, ..., Tₙ:                     │
│   Ṫ = A·T, где A — матрица теплопроводностей                               │
│                                                                             │
│   Решение: T(t) = e^{At}·T(0)                                              │
│                                                                             │
│   Собственные значения A (все отрицательные) → скорости затухания          │
│   Собственные векторы A → "моды" системы (какие комнаты греются вместе)   │
│                                                                             │
│ СВЯЗЬ С ГРУППАМИ ЛИ:                                                        │
│   e^A отображает алгебру Ли gl(n) в группу Ли GL(n)                        │
│   Это ЭКСПОНЕНЦИАЛЬНОЕ ОТОБРАЖЕНИЕ — фундамент теории групп Ли             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.11  ОДИН ОБЪЕКТ — ТРИ ВЗГЛЯДА                                            │
├─────────────────────────────┬───────────────────────┬───────────────────────┤
│ АЛГЕБРА                     │ ГЕОМЕТРИЯ             │ АНАЛИЗ                │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│                             │                       │                       │
│ Матрица A                   │ Преобразование        │ Система линейных      │
│ (таблица чисел)             │ пространства          │ уравнений Ax = b      │
│                             │                       │                       │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│                             │                       │                       │
│ det(A)                      │ Коэффициент           │ Условие               │
│ (число)                     │ изменения объёма      │ разрешимости          │
│                             │ + знак ориентации     │ (det≠0 ⟺ ∃! решение) │
│                             │                       │                       │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│                             │                       │                       │
│ Собственный вектор v        │ Инвариантное          │ Решение               │
│ Av = λv                     │ направление           │ (A−λI)v = 0           │
│                             │ (не поворачивается)   │                       │
│                             │                       │                       │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│                             │                       │                       │
│ Собственное значение λ      │ Коэффициент           │ Корень характ.        │
│                             │ растяжения вдоль v    │ многочлена det(A−λI)=0│
│                             │                       │                       │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│                             │                       │                       │
│ Диагонализация              │ Выбор "правильного"   │ Разделение            │
│ A = PDP⁻¹                   │ базиса (из собств.    │ переменных            │
│                             │ векторов)             │                       │
│                             │                       │                       │
└─────────────────────────────┴───────────────────────┴───────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.12  ФОРМУЛЫ ДЛЯ ВЫЧИСЛЕНИЙ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛИТЕЛЬ 2×2:   det│a  b│ = ad − bc                                     │
│                        │c  d│                                               │
│                                                                             │
│ ОПРЕДЕЛИТЕЛЬ 3×3:   Разложение по первой строке:                            │
│                                                                             │
│   det│a  b  c│ = a·det│e  f│ − b·det│d  f│ + c·det│d  e│                   │
│      │d  e  f│        │h  i│        │g  i│        │g  h│                   │
│      │g  h  i│                                                              │
│                                                                             │
│ ОБРАТНАЯ 2×2:       │a  b│⁻¹ =   1   │ d  −b│                               │
│                     │c  d│    ────── │−c   a│                               │
│                              ad−bc                                          │
│                                                                             │
│ МЕТОД ГАУССА:       Приведение к ступенчатому виду элементарными            │
│                     преобразованиями строк                                  │
│                                                                             │
│ СОБСТВЕННЫЕ ЗНАЧЕНИЯ: решить det(A − λI) = 0                                │
│                                                                             │
│ СОБСТВЕННЫЕ ВЕКТОРЫ: для каждого λ решить (A − λI)v = 0                     │
│                                                                             │
│ ДИАГОНАЛИЗАЦИЯ: A = PDP⁻¹, где P = [v₁|v₂|...|vₙ] из собств. векторов      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.10  SVD — СИНГУЛЯРНОЕ РАЗЛОЖЕНИЕ (КОРОЛЬ РАЗЛОЖЕНИЙ)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Диагонализация A = PDP⁻¹ работает только для квадратных матриц,  │
│           и то не для всех (нужен полный набор собственных векторов).       │
│                                                                             │
│ РЕШЕНИЕ: SVD работает для ЛЮБОЙ матрицы m×n!                                │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ТЕОРЕМА (SVD): Любая матрица A ∈ ℝᵐˣⁿ раскладывается как               │ │
│ │                                                                         │ │
│ │   A = UΣVᵀ                                                              │ │
│ │                                                                         │ │
│ │ где:                                                                    │ │
│ │   • U ∈ ℝᵐˣᵐ — ортогональная (UᵀU = I), столбцы = левые синг. векторы │ │
│ │   • Σ ∈ ℝᵐˣⁿ — диагональная, σ₁ ≥ σ₂ ≥ ... ≥ 0 (сингулярные числа)    │ │
│ │   • V ∈ ℝⁿˣⁿ — ортогональная (VᵀV = I), столбцы = правые синг. векторы│ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ:                                                       │
│   Любое линейное преобразование = поворот U × растяжение Σ × поворот Vᵀ    │
│                                                                             │
│      ┌───┐   Vᵀ    ┌───┐    Σ     ╱╲      U     ◇                          │
│      │   │  ───→   │   │  ───→   ╱  ╲   ───→   ╱ ╲                         │
│      └───┘ поворот └───┘ растяж. ╲  ╱ поворот ╲ ╱                          │
│      квадрат       квадрат       ╲╱            ◇                            │
│                                 эллипс       эллипс (повёрнутый)            │
│                                                                             │
│ СВЯЗЬ С СОБСТВЕННЫМИ ЗНАЧЕНИЯМИ:                                            │
│   • σᵢ² = собственные значения AᵀA (или AAᵀ)                               │
│   • Столбцы V = собственные векторы AᵀA                                    │
│   • Столбцы U = собственные векторы AAᵀ                                    │
│                                                                             │
│ ПРИЛОЖЕНИЯ (почему SVD — "король"):                                         │
│ ┌──────────────────┬────────────────────────────────────────────────────┐   │
│ │ ЗАДАЧА           │ КАК ИСПОЛЬЗОВАТЬ SVD                               │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Сжатие данных    │ A ≈ Σᵣ σᵢuᵢvᵢᵀ (оставить первые r членов)         │   │
│ │ (изображения)    │ Ошибка = σᵣ₊₁ (теорема Эккарта-Янга)              │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ PCA              │ Главные компоненты = правые синг. векторы V        │   │
│ │ (анализ данных)  │ (для центрированных данных)                        │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Псевдообращение  │ A⁺ = VΣ⁺Uᵀ, где Σ⁺ᵢᵢ = 1/σᵢ (для σᵢ ≠ 0)         │   │
│ │ (МНК)            │ Решение Ax≈b: x = A⁺b                              │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Ранг матрицы     │ rank(A) = число ненулевых σᵢ                       │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Норма матрицы    │ ‖A‖₂ = σ₁ (максимальное сингулярное число)        │   │
│ │                  │ ‖A‖_F = √(Σσᵢ²) (норма Фробениуса)                │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │ Число обусл-ти   │ cond(A) = σ₁/σₙ (чувствительность к ошибкам)      │   │
│ └──────────────────┴────────────────────────────────────────────────────┘   │
│                                                                             │
│ СРАВНЕНИЕ С ДИАГОНАЛИЗАЦИЕЙ:                                                │
│   • Диагонализация: A = PDP⁻¹ (только квадратные, не всегда существует)    │
│   • SVD: A = UΣVᵀ (любые матрицы, всегда существует)                       │
│                                                                             │
│ ⚠️  ЧАСТНЫЙ СЛУЧАЙ: СИММЕТРИЧНЫЕ ПОЛОЖИТЕЛЬНО ОПРЕДЕЛЁННЫЕ                 │
│   Для A = Aᵀ > 0:  SVD СОВПАДАЕТ с диагонализацией!                        │
│   • U = V = P (матрица собственных векторов)                               │
│   • σᵢ = λᵢ (сингулярные числа = собственные значения)                     │
│   • A = PΛPᵀ = UΣVᵀ — это одно и то же!                                   │
│                                                                             │
│   Для симметричных (не обязательно полож. опр.): σᵢ = |λᵢ|                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.13  ПРИЛОЖЕНИЯ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├───────────────────────┬─────────────────────────────────────────────────────┤
│ ОБЛАСТЬ               │ КАК ИСПОЛЬЗУЕТСЯ ЛИНЕЙНАЯ АЛГЕБРА                   │
├───────────────────────┼─────────────────────────────────────────────────────┤
│                       │                                                     │
│ ДИФФ. УРАВНЕНИЯ       │ y' = Ay → решение y(t) = eᴬᵗy₀                     │
│ (устойчивость)        │ Re(λ)>0: рост, Re(λ)<0: затухание, Re(λ)=0: колеб. │
│                       │                                                     │
├───────────────────────┼─────────────────────────────────────────────────────┤
│                       │                                                     │
│ КВАНТОВАЯ МЕХАНИКА    │ Наблюдаемые = эрмитовы операторы (A = A*)           │
│                       │ Собств. значения = результаты измерений             │
│                       │ Собств. векторы = состояния                         │
│                       │                                                     │
├───────────────────────┼─────────────────────────────────────────────────────┤
│                       │                                                     │
│ АНАЛИЗ ДАННЫХ (PCA)   │ Ковариационная матрица C = (1/n)XᵀX                 │
│                       │ Собств. векторы = главные компоненты                │
│                       │ Собств. значения = дисперсия по направлениям        │
│                       │                                                     │
├───────────────────────┼─────────────────────────────────────────────────────┤
│                       │                                                     │
│ ГРАФЫ И СЕТИ          │ PageRank = главный собств. вектор                   │
│                       │ Спектральная кластеризация = с.в. лапласиана        │
│                       │                                                     │
├───────────────────────┼─────────────────────────────────────────────────────┤
│                       │                                                     │
│ МЕХАНИКА              │ Собств. частоты колебаний = √λ                      │
│                       │ Моды колебаний = собственные векторы                │
│                       │                                                     │
└───────────────────────┴─────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.13-bis  ДВОЙСТВЕННОЕ ПРОСТРАНСТВО V* (краткое введение)                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   V* = {φ: V → ℝ | φ линейна} — множество всех линейных функций на V       │
│                                                                             │
│ ПРИМЕР: V = ℝ³                                                              │
│   φ(x, y, z) = 2x + 3y − z  — элемент V* (линейная функция)                │
│   Действие: φ(1, 0, 2) = 2·1 + 3·0 − 1·2 = 0                               │
│                                                                             │
│ ФАКТЫ (для конечномерного V):                                               │
│   • dim(V*) = dim(V)  ⚠️ Только для конечномерных!                          │
│   • Базис V*: функции eⁱ(eⱼ) = δⁱⱼ (1 если i=j, иначе 0)                   │
│   • Элемент V* называется ковектором или линейным функционалом             │
│                                                                             │
│ ⚠️ ДЛЯ БЕСКОНЕЧНОМЕРНЫХ: dim(V*) может быть БОЛЬШЕ dim(V)!                 │
│    Пример: V = ℓ¹ (сходящиеся ряды), V* = ℓ∞ (ограниченные посл-ти)        │
│                                                                             │
│ ЗАЧЕМ:                                                                      │
│   • Тензоры (A6) живут на V* × ... × V* × V × ... × V                       │
│   • Дифференциал df — элемент кокасательного пространства T*ₚM              │
│   • Подробно — см. раздел A5 (Двойственность)                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A3.14  СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГРУППЫ (A1):                                                                │
│   GL(n), O(n), SO(n) — группы матриц                                        │
│   Теория представлений: группа → матрицы                                    │
│                                                                             │
│ МНОГООБРАЗИЯ (A7):                                                          │
│   TₚM — касательное пространство = векторное пространство                   │
│   Локально линейная алгебра работает!                                       │
│                                                                             │
│ ДВОЙСТВЕННОСТЬ (A5):                                                        │
│   V* — двойственное пространство (линейные функционалы на V)                │
│   Строки матрицы ↔ столбцы транспонированной                                │
│                                                                             │
│ ТЕНЗОРЫ (A6):                                                               │
│   Тензор ранга 2 = линейное отображение = матрица (в базисе)                │
│                                                                             │
│ РЯДЫ (A14):                                                                  │
│   Функции = векторы бесконечномерного пространства                          │
│   Коэффициенты Фурье = координаты в ортонормированном базисе                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ТЕПЛОВОЙ БАЛАНС СИСТЕМЫ ОТОПЛЕНИЯ                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Здание с 4 комнатами. Известны теплопотери и теплопередача между    │
│ комнатами. Найти температуры в стационарном режиме.                         │
│                                                                             │
│         T₁ ══════╗          Теплопотери наружу: αᵢ·(Tᵢ − Tнар)             │
│         ║        ║          Теплообмен между: kᵢⱼ·(Tᵢ − Tⱼ)                │
│    Qотопл₁  T₂ ══╬══ T₃                                                     │
│         ║        ║          Тепло от отопления: Qᵢ                          │
│         T₄ ══════╝                                                          │
│                                                                             │
│ УРАВНЕНИЯ БАЛАНСА (для каждой комнаты):                                     │
│                                                                             │
│   Qᵢ = αᵢ(Tᵢ − Tнар) + Σⱼ kᵢⱼ(Tᵢ − Tⱼ)                                    │
│   "Подвод = потери наружу + теплообмен с соседями"                          │
│                                                                             │
│ ЭТО ЛИНЕЙНАЯ СИСТЕМА!  Запишем в матричной форме:                           │
│                                                                             │
│   ┌                        ┐   ┌    ┐     ┌                ┐                │
│   │ α₁+k₁₂+k₁₄   −k₁₂   0   −k₁₄ │   │ T₁ │     │ Q₁ + α₁·Tнар │                │
│   │ −k₁₂   α₂+k₁₂+k₂₃  −k₂₃   0  │ · │ T₂ │  =  │ Q₂ + α₂·Tнар │                │
│   │   0    −k₂₃  α₃+k₂₃+k₃₄  −k₃₄│   │ T₃ │     │ Q₃ + α₃·Tнар │                │
│   │ −k₁₄    0    −k₃₄  α₄+k₁₄+k₃₄│   │ T₄ │     │ Q₄ + α₄·Tнар │                │
│   └                        ┘   └    ┘     └                ┘                │
│                                                                             │
│                    K · T = Q                                                │
│                                                                             │
│ ЧИСЛЕННЫЙ ПРИМЕР:                                                           │
│   α₁ = α₂ = α₃ = α₄ = 100 Вт/К (теплопотери)                               │
│   k₁₂ = k₂₃ = k₃₄ = k₁₄ = 50 Вт/К (теплообмен между комнатами)             │
│   Tнар = 0°C, Q₁ = 3000 Вт (отопление только в комнате 1)                  │
│                                                                             │
│   Матрица K:                                                                │
│   ┌                     ┐                                                   │
│   │ 200  −50    0   −50 │                                                   │
│   │ −50  200  −50    0  │                                                   │
│   │   0  −50  200  −50  │                                                   │
│   │ −50    0  −50  200  │                                                   │
│   └                     ┘                                                   │
│                                                                             │
│   Решение: T = K⁻¹ · Q                                                      │
│   T₁ = 20°C, T₂ = 10°C, T₃ = 5°C, T₄ = 10°C                                │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ СОБСТВЕННЫЕ ЗНАЧЕНИЯ — МОДЫ РЕЛАКСАЦИИ                                      │
│                                                                             │
│ Если отключить отопление, температуры будут падать.                         │
│ Как именно? Решение: T(t) = Σ cᵢ · vᵢ · e^(−λᵢt)                           │
│                                                                             │
│   λᵢ = собственные значения K  (скорости релаксации)                       │
│   vᵢ = собственные векторы K   (моды — как "форма" остывания)              │
│                                                                             │
│   • Наименьшее λ₁ → самая медленная мода (всё здание вместе)               │
│   • Наибольшее λₙ → самая быстрая мода (выравнивание между комнатами)      │
│                                                                             │
│ МОРАЛЬ: Линейная алгебра — это язык тепловых расчётов.                      │
│ Матрица теплопроводности + собственные значения = полное понимание системы. │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Мы научились складывать векторы и умножать их на числа. Но как УМНОЖАТЬ
векторы друг на друга? Оказывается, единственного ответа нет — разные
задачи требуют разных произведений. Это ключ к пониманию тензоров.
───────────────────────────────────────────────────────────────────────────────

A4. ПРОИЗВЕДЕНИЯ ВЕКТОРОВ — РАЗНЫЕ ВОПРОСЫ, РАЗНЫЕ ОТВЕТЫ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.1  ПОЧЕМУ СТОЛЬКО ВИДОВ УМНОЖЕНИЯ                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Числа: 2 × 3 = 6. Один способ умножения.                                    │
│                                                                             │
│ Векторы: Что мы хотим УЗНАТЬ о двух векторах?                               │
│                                                                             │
│   • Насколько сонаправлены?          → Скалярное ·    → ЧИСЛО               │
│   • Что перпендикулярно обоим?       → Векторное ×   → ВЕКТОР              │
│   • Все комбинации компонент?        → Тензорное ⊗   → МАТРИЦА             │
│   • Какую площадь охватывают?        → Внешнее ∧     → БИВЕКТОР            │
│                                                                             │
│ Разные ВОПРОСЫ требуют разных ОПЕРАЦИЙ!                                     │
│                                                                             │
├─────────────────┬───────────┬───────────────────────────────────────────────┤
│ ПРОИЗВЕДЕНИЕ    │ РЕЗУЛЬТАТ │ ВОПРОС / ГЕОМЕТРИЧЕСКИЙ СМЫСЛ                 │
├─────────────────┼───────────┼───────────────────────────────────────────────┤
│ u · v           │ число     │ "Насколько u и v сонаправлены?" = |u||v|cos θ │
│ u × v           │ вектор    │ "Что ⊥ обоим?" (только в ℝ³ и ℝ⁷!)            │
│ u ⊗ v           │ матрица   │ "Все комбинации компонент?" (u⊗v)ᵢⱼ = uᵢvⱼ   │
│ u ∧ v           │ бивектор  │ "Какую площадь охватывают?" (любая размерн.)  │
└─────────────────┴───────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНОЕ РАЗЛИЧИЕ: ВНУТРЕННЕЕ vs ВНЕШНЕЕ ПРОИЗВЕДЕНИЕ                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────┬───────────────────────────┬───────────────────────────┐ │
│ │                 │ ВНУТРЕННЕЕ (·, свёртка)   │ ВНЕШНЕЕ (⊗, ∧)            │ │
│ ├─────────────────┼───────────────────────────┼───────────────────────────┤ │
│ │ Изменение ранга │ УМЕНЬШАЕТ                 │ УВЕЛИЧИВАЕТ               │ │
│ │                 │ вектор×вектор → скаляр    │ вектор×вектор → матрица   │ │
│ ├─────────────────┼───────────────────────────┼───────────────────────────┤ │
│ │ Смысл           │ СОНАПРАВЛЕННОСТЬ          │ НОВЫЙ ОБЪЕКТ              │ │
│ │                 │ "насколько параллельны"   │ в пространстве большей    │ │
│ │                 │                           │ размерности               │ │
│ ├─────────────────┼───────────────────────────┼───────────────────────────┤ │
│ │ Формула         │ aᵢbⁱ (свёртка по индексу) │ (a⊗b)ᵢⱼ = aᵢbⱼ           │ │
│ └─────────────────┴───────────────────────────┴───────────────────────────┘ │
│                                                                             │
│ ЗАПОМНИТЬ: Внутреннее — "сжимает", внешнее — "расширяет".                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ВЕКТОРНОЕ ПРОИЗВЕДЕНИЕ СУЩЕСТВУЕТ ТОЛЬКО В ℝ³ И ℝ⁷?                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Это глубокий результат, связанный с АЛГЕБРАМИ С ДЕЛЕНИЕМ над ℝ:            │
│                                                                             │
│   dim 1:  ℝ (вещественные числа)                                            │
│   dim 2:  ℂ (комплексные числа)                                             │
│   dim 4:  ℍ (кватернионы) — некоммутативны                                  │
│   dim 8:  𝕆 (октонионы) — неассоциативны                                    │
│                                                                             │
│ И ВСЁ! Других алгебр с делением над ℝ не существует (теорема Гурвица).     │
│                                                                             │
│ А ЧТО ДАЛЬШЕ? (удвоение Кэли-Диксона)                                       │
│                                                                             │
│   dim 16: 𝕊 (седенионы) — ЕСТЬ ДЕЛИТЕЛИ НУЛЯ!                              │
│           ab = 0, но a ≠ 0 и b ≠ 0                                         │
│           Также теряется альтернативность                                   │
│                                                                             │
│   Можно продолжать удвоение бесконечно (dim 32, 64, ...), но каждый раз    │
│   теряется всё больше свойств. Алгебры с делением кончаются на 𝕆.          │
│                                                                             │
│ ИЕРАРХИЯ ПОТЕРЬ:                                                            │
│   ℝ → ℂ:   потеряли упорядоченность                                        │
│   ℂ → ℍ:   потеряли коммутативность (ab ≠ ba)                              │
│   ℍ → 𝕆:   потеряли ассоциативность ((ab)c ≠ a(bc))                        │
│   𝕆 → 𝕊:   потеряли отсутствие делителей нуля (ab = 0, a,b ≠ 0)            │
│                                                                             │
│ СВЯЗЬ С ВЕКТОРНЫМ ПРОИЗВЕДЕНИЕМ:                                            │
│                                                                             │
│   В ℝ³:  u × v связано с кватернионами ℍ                                   │
│          (умножение мнимых частей кватернионов)                             │
│                                                                             │
│   В ℝ⁷:  u × v связано с октонионами 𝕆                                     │
│          (умножение мнимых частей октонионов)                               │
│                                                                             │
│ ОТЛИЧИЕ: В ℝ⁷ векторное произведение НЕ удовлетворяет тождеству Якоби:     │
│   u × (v × w) + v × (w × u) + w × (u × v) ≠ 0                              │
│                                                                             │
│   Следствие: (ℝ⁷, ×) НЕ является алгеброй Ли, в отличие от (ℝ³, ×) = so(3)│
│                                                                             │
│ Это подчёркивает УНИКАЛЬНОСТЬ размерностей 1, 2, 3, 4, 7, 8.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.2  СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ — ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ                                     │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Скалярное произведение на векторном пространстве V (над ℝ) — это        │ │
│ │ функция ⟨·,·⟩: V × V → ℝ, удовлетворяющая:                              │ │
│ │                                                                         │ │
│ │ (S1) ⟨u, v⟩ = ⟨v, u⟩                         (симметричность)           │ │
│ │                                                                         │ │
│ │ (S2) ⟨αu + βv, w⟩ = α⟨u, w⟩ + β⟨v, w⟩        (линейность по 1-му арг.) │ │
│ │                                                                         │ │
│ │ (S3) ⟨v, v⟩ ≥ 0, причём ⟨v, v⟩ = 0 ⟺ v = 0  (положит. определённость)  │ │
│ │                                                                         │ │
│ │ Пространство V со скалярным произведением называется ЕВКЛИДОВЫМ         │ │
│ │ (или пред-гильбертовым).                                                │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЗАЧЕМ НУЖНЫ ИМЕННО ЭТИ АКСИОМЫ:                                             │
│ ┌──────────────┬──────────────────────────────────────────────────────────┐ │
│ │ АКСИОМА      │ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ                                     │ │
│ ├──────────────┼──────────────────────────────────────────────────────────┤ │
│ │ S1 симметрия │ Угол между u и v = угол между v и u                      │ │
│ │ S2 линейность│ Проекция суммы = сумма проекций                          │ │
│ │ S3 положит.  │ Длина ≥ 0, и = 0 только для нулевого вектора             │ │
│ └──────────────┴──────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕРЫ СКАЛЯРНЫХ ПРОИЗВЕДЕНИЙ:                                             │
│ ┌────────────────────────────────┬────────────────────────────────────────┐ │
│ │ ПРОСТРАНСТВО                   │ ФОРМУЛА ⟨u, v⟩                         │ │
│ ├────────────────────────────────┼────────────────────────────────────────┤ │
│ │ Стандартное ℝⁿ                 │ Σᵢ uᵢvᵢ = u₁v₁ + ... + uₙvₙ           │ │
│ │ С весами                       │ Σᵢ wᵢuᵢvᵢ, где wᵢ > 0                 │ │
│ │ Функции на [a,b]               │ ∫ₐᵇ f(x)g(x) dx                        │ │
│ └────────────────────────────────┴────────────────────────────────────────┘ │
│                                                                             │
│ КОНТРПРИМЕР: ⟨u,v⟩ = u₁v₁ − u₂v₂ — НЕ скалярное произведение!              │
│ Проверка: ⟨(0,1),(0,1)⟩ = −1 < 0 ✗ (это псевдоевклидова метрика из ОТО)    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.3  ЦЕПОЧКА: СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ → НОРМА → МЕТРИКА                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Скалярное произведение ПОРОЖДАЕТ всю геометрию:                             │
│                                                                             │
│   СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ ⟨u, v⟩                                             │
│            │                                                                │
│            │ ‖v‖ = √⟨v, v⟩                                                  │
│            ↓                                                                │
│         НОРМА ‖·‖  (длина вектора)                                          │
│            │                                                                │
│            │ d(u, v) = ‖u − v‖                                              │
│            ↓                                                                │
│        МЕТРИКА d(·,·)  (расстояние между точками)                           │
│            │                                                                │
│            ↓                                                                │
│       ТОПОЛОГИЯ  (понятие близости, открытые множества)                     │
│                                                                             │
│ ВАЖНО: Эта цепочка идёт только В ОДНУ СТОРОНУ!                              │
│                                                                             │
│   • Не всякая метрика порождается нормой (пр: дискретная метрика)           │
│   • Не всякая норма порождается скал. произв. (пр: ‖v‖ = max|vᵢ|)          │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ НЕРАВЕНСТВО КОШИ-БУНЯКОВСКОГО-ШВАРЦА                                    │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │   |⟨u, v⟩| ≤ ‖u‖ · ‖v‖                                                  │ │
│ │                                                                         │ │
│ │ Равенство ⟺ u и v пропорциональны (лежат на одной прямой).             │ │
│ │                                                                         │ │
│ │ СЛЕДСТВИЕ: |cos θ| = |⟨u,v⟩|/(‖u‖‖v‖) ≤ 1  — угол корректно определён! │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ НЕРАВЕНСТВО ТРЕУГОЛЬНИКА                                                │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │   ‖u + v‖ ≤ ‖u‖ + ‖v‖                                                   │ │
│ │                                                                         │ │
│ │ "Кратчайший путь — по прямой"                                           │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.4  ОРТОГОНАЛЬНОСТЬ — ГЕОМЕТРИЯ ИЗ АЛГЕБРЫ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ОРТОГОНАЛЬНОСТЬ                                            │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Векторы u и v ортогональны (перпендикулярны), если ⟨u, v⟩ = 0.          │ │
│ │ Обозначение: u ⊥ v                                                      │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ КЛЮЧЕВЫЕ ФАКТЫ:                                                             │
│ ┌────────────────────────────────────┬──────────────────────────────────┐   │
│ │ ПОНЯТИЕ                            │ ФОРМУЛА / СМЫСЛ                  │   │
│ ├────────────────────────────────────┼──────────────────────────────────┤   │
│ │ Ортогональность u ⊥ v              │ ⟨u,v⟩ = 0 ⟺ θ = 90°             │   │
│ │ Ортонормированный базис            │ ⟨eᵢ,eⱼ⟩ = δᵢⱼ (0 или 1)         │   │
│ │ Координата в ОНБ                   │ vᵢ = ⟨v,eᵢ⟩ (просто проекция!)  │   │
│ └────────────────────────────────────┴──────────────────────────────────┘   │
│                                                                             │
│ ПРОЦЕСС ГРАМА-ШМИДТА (любой базис → ортонормированный):                     │
│ ┌─────────┬─────────────────────────────────┬───────────────────────────┐   │
│ │ ШАГ     │ ОРТОГОНАЛИЗАЦИЯ                 │ НОРМИРОВКА                │   │
│ ├─────────┼─────────────────────────────────┼───────────────────────────┤   │
│ │ 1       │ u₁ = v₁                         │ e₁ = u₁/‖u₁‖              │   │
│ │ 2       │ u₂ = v₂ − ⟨v₂,e₁⟩e₁            │ e₂ = u₂/‖u₂‖              │   │
│ │ 3       │ u₃ = v₃ − ⟨v₃,e₁⟩e₁ − ⟨v₃,e₂⟩e₂│ e₃ = u₃/‖u₃‖              │   │
│ │ k       │ uₖ = vₖ − Σᵢ₌₁ᵏ⁻¹⟨vₖ,eᵢ⟩eᵢ     │ eₖ = uₖ/‖uₖ‖              │   │
│ └─────────┴─────────────────────────────────┴───────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.5  СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ — ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛА в ℝⁿ:  u · v = u₁v₁ + u₂v₂ + ... + uₙvₙ = Σᵢ uᵢvᵢ                  │
│                                                                             │
│ ГЕОМЕТРИЯ: u · v = |u| × (длина проекции v на u)                            │
│                                                                             │
│              v                                                              │
│             ╱│                                                              │
│            ╱ │                                                              │
│           ╱  │                                                              │
│          ╱   │         u·v = |u| × |v|cos θ                                │
│         ╱ θ  │                                                              │
│     ───●─────┼────→ u                                                       │
│        └─────┘                                                              │
│         проекция = |v|cos θ                                                 │
│                                                                             │
│ ФИЗИКА: Работа W = F · s (сила × перемещение в направлении силы)            │
│                                                                             │
│ СВЯЗЬ С МЕТРИКОЙ:                                                           │
│   Скалярное произведение определяет МЕТРИКУ — способ измерять!              │
│     |v|² = v · v  (длина)                                                   │
│     cos θ = (u·v)/(|u||v|)  (угол)                                          │
│                                                                             │
│ НА МНОГООБРАЗИИ:                                                            │
│   Метрический тензор gᵢⱼ — это скалярное произведение базисных векторов:    │
│   gᵢⱼ = ⟨∂/∂xⁱ, ∂/∂xʲ⟩                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.6  ВЕКТОРНОЕ ПРОИЗВЕДЕНИЕ u × v — ТОЛЬКО В ℝ³!                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛА:  u × v = (u₂v₃−u₃v₂, u₃v₁−u₁v₃, u₁v₂−u₂v₁)                        │
│                                                                             │
│ Мнемоника через определитель:                                               │
│                                                                             │
│         │ i   j   k  │                                                      │
│   u×v = │ u₁  u₂  u₃ │ = i(u₂v₃−u₃v₂) − j(u₁v₃−u₃v₁) + k(u₁v₂−u₂v₁)       │
│         │ v₁  v₂  v₃ │                                                      │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│                                                                             │
│ ┌─────────────────────────────┬─────────────────────────────────────────┐   │
│ │ СВОЙСТВО                    │ СЛЕДСТВИЕ                               │   │
│ ├─────────────────────────────┼─────────────────────────────────────────┤   │
│ │ u × v ⊥ u, u × v ⊥ v        │ Результат перпендикулярен обоим         │   │
│ │ │u × v│ = │u││v│sin θ       │ = площадь параллелограмма               │   │
│ │ u × v = −(v × u)            │ Антикоммутативно!                       │   │
│ │ u × u = 0                   │ Вектор × себя = 0                       │   │
│ │ (u×v)×w ≠ u×(v×w)           │ НЕ ассоциативно!                        │   │
│ └─────────────────────────────┴─────────────────────────────────────────┘   │
│                                                                             │
│ ПРИМЕНЕНИЯ В ФИЗИКЕ:                                                        │
│                                                                             │
│ ┌─────────────────────────────┬─────────────────────────────────────────┐   │
│ │ ВЕЛИЧИНА                    │ ФОРМУЛА                                 │   │
│ ├─────────────────────────────┼─────────────────────────────────────────┤   │
│ │ Момент силы                 │ τ = r × F                               │   │
│ │ Магнитная сила              │ F = qv × B                              │   │
│ │ Линейная скорость           │ v = ω × r                               │   │
│ └─────────────────────────────┴─────────────────────────────────────────┘   │
│                                                                             │
│ ПОЧЕМУ ТОЛЬКО В ℝ³:                                                         │
│   Результат должен быть вектором той же размерности.                        │
│   В ℝ² нет "перпендикулярного направления" (оно было бы в ℝ³)               │
│   В ℝⁿ (n>3) перпендикулярных направлений СЛИШКОМ МНОГО (n−2 измерений)     │
│                                                                             │
│   Математически: dim(∧²ℝⁿ) = n(n−1)/2 = n только при n = 3                  │
│                                                                             │
│ ОБОБЩЕНИЕ: Внешнее произведение ∧ работает в любой размерности!             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.7  ВНЕШНЕЕ ПРОИЗВЕДЕНИЕ u ∧ v — РАБОТАЕТ ВЕЗДЕ                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: u ∧ v = ориентированная площадь параллелограмма на u и v              │
│ РЕЗУЛЬТАТ: Бивектор ∈ ∧²V (НЕ вектор!)                                      │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│ ┌───────────────────────────────┬───────────────────────────────────────┐   │
│ │ СВОЙСТВО                      │ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ                  │   │
│ ├───────────────────────────────┼───────────────────────────────────────┤   │
│ │ u ∧ v = −v ∧ u                │ Смена ориентации при перестановке     │   │
│ │ u ∧ u = 0                     │ Вырожденный параллелограмм            │   │
│ │ (u+v) ∧ w = u∧w + v∧w         │ Линейность (как площадь)              │   │
│ │ (αu) ∧ v = α(u ∧ v)           │ Масштабирование площади               │   │
│ └───────────────────────────────┴───────────────────────────────────────┘   │
│                                                                             │
│ В КООРДИНАТАХ: u ∧ v = Σᵢ<ⱼ (uᵢvⱼ − uⱼvᵢ) eᵢ ∧ eⱼ                          │
│ Размерность: dim(∧²ℝⁿ) = C(n,2) = n(n−1)/2                                 │
│                                                                             │
│ СВЯЗЬ С × В ℝ³: Компоненты совпадают! Но u×v ∈ ℝ³, а u∧v ∈ ∧²ℝ³            │
│ Преобразование: *(u ∧ v) = u × v (звезда Ходжа)                             │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│ ┌─────────────────────────────────┬─────────────────────────────────────┐   │
│ │ ГДЕ                             │ КАК ИСПОЛЬЗУЕТСЯ                    │   │
│ ├─────────────────────────────────┼─────────────────────────────────────┤   │
│ │ Дифф. формы                     │ Интегрирование на многообразиях     │   │
│ │ Детерминант                     │ det = e₁∧e₂∧...∧eₙ (n-мерный объём) │   │
│ │ Уравнения Максвелла             │ Элегантная запись через формы       │   │
│ │ Любая размерность               │ Работает везде (в отличие от ×)     │   │
│ └─────────────────────────────────┴─────────────────────────────────────┘   │
│                                                                             │
│ ВЫСШИЕ СТЕПЕНИ: u∧v∧w ∈ ∧³V — ориентированный объём параллелепипеда        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.8  ТЕНЗОРНОЕ ПРОИЗВЕДЕНИЕ u ⊗ v — ВСЕ КОМБИНАЦИИ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Записать ВСЕ возможные произведения компонент uᵢvⱼ → матрица          │
│                                                                             │
│ ПРИМЕР: u=(u₁,u₂), v=(v₁,v₂) → u⊗v = │u₁v₁  u₁v₂│                          │
│                                       │u₂v₁  u₂v₂│                          │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│ ┌───────────────────────────────────┬───────────────────────────────────┐   │
│ │ СВОЙСТВО                          │ СЛЕДСТВИЕ                         │   │
│ ├───────────────────────────────────┼───────────────────────────────────┤   │
│ │ НЕ коммутативно: u⊗v ≠ v⊗u       │ u⊗v = (v⊗u)ᵀ (транспонирование)   │   │
│ │ Билинейно                         │ (αu+βw)⊗v = α(u⊗v)+β(w⊗v)        │   │
│ │ rank(u⊗v) = 1 (если u,v ≠ 0)      │ Любая rank-1 матрица = u⊗v       │   │
│ │ Матрица rank r = Σ uᵢ⊗vᵢ         │ Это SVD-разложение!               │   │
│ └───────────────────────────────────┴───────────────────────────────────┘   │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│ ┌─────────────────────────────────┬─────────────────────────────────────┐   │
│ │ ГДЕ                             │ КАК                                 │   │
│ ├─────────────────────────────────┼─────────────────────────────────────┤   │
│ │ Тензоры из векторов             │ Общий метод построения              │   │
│ │ Метрика на многообразии         │ g = gᵢⱼ dxⁱ⊗dxʲ                    │   │
│ │ Квантовая механика              │ |ψ⟩ = |ψ₁⟩⊗|ψ₂⟩ (2 частицы)        │   │
│ │ Запутанность                    │ НЕ всякое ψ = ψ₁⊗ψ₂ !              │   │
│ └─────────────────────────────────┴─────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.9  СВОДНАЯ ТАБЛИЦА ПРОИЗВЕДЕНИЙ                                          │
├─────────────────┬───────────┬───────────────┬───────────────────────────────┤
│ ПРОИЗВЕДЕНИЕ    │ РЕЗУЛЬТАТ │ РАЗМЕРНОСТЬ   │ ГЛАВНОЕ СВОЙСТВО              │
├─────────────────┼───────────┼───────────────┼───────────────────────────────┤
│                 │           │               │                               │
│ u · v           │ скаляр    │ 1             │ Симметрично: u·v = v·u        │
│ (скалярное)     │           │               │ Порождает метрику             │
│                 │           │               │                               │
├─────────────────┼───────────┼───────────────┼───────────────────────────────┤
│                 │           │               │                               │
│ u × v           │ вектор    │ 3 (только!)   │ Антисимм: u×v = −v×u          │
│ (векторное)     │           │               │ Перпендик. обоим              │
│                 │           │               │                               │
├─────────────────┼───────────┼───────────────┼───────────────────────────────┤
│                 │           │               │                               │
│ u ∧ v           │ бивектор  │ n(n−1)/2      │ Антисимм: u∧v = −v∧u          │
│ (внешнее)       │           │               │ Обобщение × на любое n        │
│                 │           │               │                               │
├─────────────────┼───────────┼───────────────┼───────────────────────────────┤
│                 │           │               │                               │
│ u ⊗ v           │ матрица   │ n²            │ НЕ коммутат: u⊗v = (v⊗u)ᵀ     │
│ (тензорное)     │           │               │ Все комбинации uᵢvⱼ          │
│                 │           │               │                               │
└─────────────────┴───────────┴───────────────┴───────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A4.10  СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├──────────────────────┬──────────────────────────────────────────────────────┤
│ РАЗДЕЛ               │ КАК ПРОИЗВЕДЕНИЯ ТАМ РАБОТАЮТ                        │
├──────────────────────┼──────────────────────────────────────────────────────┤
│                      │                                                      │
│ A7 Многообразия      │ ⟨·,·⟩ → метрика gᵢⱼ = ⟨∂/∂xⁱ, ∂/∂xʲ⟩              │
│   (метрика)          │ Как измерять расстояния на кривых поверхностях       │
│                      │                                                      │
├──────────────────────┼──────────────────────────────────────────────────────┤
│                      │                                                      │
│ A7 Многообразия      │ ∧ → дифф. формы на многообразии                      │
│   (интегрирование)   │ dx∧dy = площадь, dx∧dy∧dz = объём                   │
│                      │                                                      │
├──────────────────────┼──────────────────────────────────────────────────────┤
│                      │                                                      │
│ A6 Тензоры                 │ ⊗ → построение тензоров из векторов                  │
│                      │ g = gᵢⱼ dxⁱ⊗dxʲ, тензор энергии-импульса           │
│                      │                                                      │
├──────────────────────┼──────────────────────────────────────────────────────┤
│                      │                                                      │
│ A3 Лин. алгебра      │ ⟨·,·⟩ → ортогональность, Грам-Шмидт                  │
│                      │ Ортонормированный базис упрощает вычисления          │
│                      │                                                      │
├──────────────────────┼──────────────────────────────────────────────────────┤
│                      │                                                      │
│ A14 Ряды Фурье        │ ⟨f,g⟩ = ∫f(x)g(x)dx — скал. произв. функций         │
│                      │ Коэфф. Фурье = проекции на ортонорм. базис           │
│                      │                                                      │
└──────────────────────┴──────────────────────────────────────────────────────┘
│                                                                             │
│ ИЕРАРХИЯ ПРОСТРАНСТВ:                                                       │
│   Векторное пр-во → [+⟨,⟩] → Евклидово → [+полнота] → Гильбертово          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ТРИ ЗАДАЧИ — ТРИ ПРОИЗВЕДЕНИЯ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА 1: РАБОТА НАСОСА (скалярное произведение)                            │
│ ────────────────────────────────────────────────────────────────────────────│
│                                                                             │
│   Насос создаёт силу F⃗ = (0, 0, −1000) Н (вниз)                            │
│   Вода перемещается на d⃗ = (0, 0, 5) м (вверх)                             │
│                                                                             │
│   Работа = F⃗ · d⃗ = 0·0 + 0·0 + (−1000)·5 = −5000 Дж                       │
│                                                                             │
│   Минус означает: сила направлена ПРОТИВ движения (насос совершает работу). │
│   Скалярное произведение отвечает на вопрос: "Сколько энергии?"             │
│                                                                             │
│ ЗАДАЧА 2: МОМЕНТ НА ВАЛУ (векторное произведение)                           │
│ ────────────────────────────────────────────────────────────────────────────│
│                                                                             │
│   Рукоятка ключа: r⃗ = (0.3, 0, 0) м (от оси)                               │
│   Приложенная сила: F⃗ = (0, 100, 0) Н (перпендикулярно)                    │
│                                                                             │
│   Момент = r⃗ × F⃗ = (0·0 − 0·100,  0·0 − 0.3·0,  0.3·100 − 0·0)            │
│                   = (0, 0, 30) Н·м                                          │
│                                                                             │
│   Момент направлен вдоль оси вращения (ось z).                              │
│   Векторное произведение отвечает на вопрос: "Куда и как сильно крутит?"    │
│                                                                             │
│ ЗАДАЧА 3: РАСХОД ЧЕРЕЗ СЕЧЕНИЕ (внешнее произведение / площадь)             │
│ ────────────────────────────────────────────────────────────────────────────│
│                                                                             │
│   Прямоугольное сечение трубы: грани a⃗ = (0.5, 0, 0) м, b⃗ = (0, 0.3, 0) м │
│                                                                             │
│   Площадь сечения = |a⃗ × b⃗| = |(0, 0, 0.15)| = 0.15 м²                    │
│                                                                             │
│   Или через внешнее произведение: a⃗ ∧ b⃗ = 0.15 · (dx∧dy)                  │
│   Это 2-форма — объект, который "ест" пару векторов и выдаёт площадь.       │
│                                                                             │
│   Если скорость потока v⃗ = (0, 0, 2) м/с:                                  │
│   Объёмный расход = v · S = 2 · 0.15 = 0.3 м³/с                            │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ СВОДКА: КАКОЕ ПРОИЗВЕДЕНИЕ ДЛЯ КАКОЙ ЗАДАЧИ                                 │
│                                                                             │
│   ┌─────────────────────┬───────────────┬──────────────────────────────────┐│
│   │ ВОПРОС              │ ПРОИЗВЕДЕНИЕ  │ ПРИМЕР ИЗ ТЕПЛОФИЗИКИ            ││
│   ├─────────────────────┼───────────────┼──────────────────────────────────┤│
│   │ Сколько энергии?    │ Скалярное ·   │ Работа насоса, мощность          ││
│   │ Куда крутит?        │ Векторное ×   │ Момент на валу, вихрь потока     ││
│   │ Какая площадь?      │ Внешнее ∧     │ Сечение трубы, поверхность Т/О   ││
│   │ Все комбинации?     │ Тензорное ⊗   │ Тензор напряжений, проводимости  ││
│   └─────────────────────┴───────────────┴──────────────────────────────────┘│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Мы видели разные произведения: скалярное даёт число, тензорное даёт матрицу.
Но откуда берётся эта асимметрия — число vs объект? Ответ: скалярное
произведение — это спаривание ВЕКТОРА и КОВЕКТОРА. Что такое ковектор?

Это ведёт к фундаментальной идее двойственности: каждое пространство
имеет "тень" — пространство линейных функций на нём.
───────────────────────────────────────────────────────────────────────────────

═══════════════════════════════════════════════════════════════════════════════
A5. ДВОЙСТВЕННОСТЬ — ФУНДАМЕНТАЛЬНАЯ СИММЕТРИЯ МАТЕМАТИКИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВОЙСТВЕННОСТЬ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Каждое пространство V порождает ДВОЙСТВЕННОЕ пространство V* — пространство │
│ линейных функций на V. Это как "тень" исходного пространства.               │
│                                                                             │
│   V  = пространство векторов (направления, смещения)                        │
│   V* = пространство ковекторов (градиенты, "цены за единицу")               │
│                                                                             │
│ Два пространства — но связаны глубокой симметрией.                          │
│ Эта симметрия проявляется повсюду: в физике, геометрии, алгебре.            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Двойственность — одна из самых глубоких идей математики. Прежде чем давать
формальные определения, начнём с физической интуиции.

───────────────────────────────────────────────────────────────────────────────
A5.1  ФИЗИЧЕСКАЯ ИНТУИЦИЯ: КОВЕКТОРЫ КАК "ЦЕНЫ"
───────────────────────────────────────────────────────────────────────────────

Ключ к пониманию — аналогия с ФИЗИЧЕСКИМИ РАЗМЕРНОСТЯМИ.

│ БАЗИСНЫЙ ВЕКТОР = ЕДИНИЦА ИЗМЕРЕНИЯ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Что такое базис? Это набор "эталонов", единиц измерения.                    │
│                                                                             │
│   e₁ = "1 метр в направлении x"                                             │
│   e₂ = "1 секунда"                                                          │
│   e₃ = "1 килограмм"                                                        │
│                                                                             │
│ Вектор — это величина, измеренная в этих единицах:                          │
│                                                                             │
│   v = 5e₁ + 3e₂ = "5 метров и 3 секунды"                                    │
│                                                                             │
│ Числа (5, 3) — это КОМПОНЕНТЫ вектора. Сам вектор v — это физическая        │
│ величина, которая существует независимо от выбора единиц.                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОВЕКТОР = "ЦЕНА ЗА ЕДИНИЦУ" (ПЛОТНОСТЬ)                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Ковектор ω — это НЕ число и НЕ вектор.                                      │
│ Ковектор — это ФУНКЦИЯ, которая берёт вектор и выдаёт число.                │
│                                                                             │
│ Физическая аналогия: ЦЕНА ЗА ЕДИНИЦУ.                                       │
│                                                                             │
│   ω = "10 рублей за метр"                                                   │
│                                                                             │
│ Это не число 10 — это правило: "возьми длину в метрах, умножь на 10".       │
│                                                                             │
│ Как ковектор действует на вектор:                                           │
│                                                                             │
│   v = 5 метров                                                              │
│   ω(v) = (10 руб/м) × (5 м) = 50 рублей  ← это уже число!                   │
│                                                                             │
│ Формально:                                                                  │
│   ω: V → ℝ,   ω(v) = ωᵢvⁱ = ω₁v¹ + ω₂v² + ...                              │
│                                                                             │
│ ДРУГИЕ ПРИМЕРЫ "ЦЕН":                                                       │
│   • Давление = "сила на единицу площади" [Н/м²]                             │
│   • Плотность = "масса на единицу объёма" [кг/м³]                           │
│   • Градиент температуры = "изменение T на единицу длины" [К/м]             │
│                                                                             │
│ Все эти величины — ковекторы: они "едят" экстенсивную величину              │
│ (площадь, объём, смещение) и выдают число.                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ КОМПОНЕНТЫ ПРЕОБРАЗУЮТСЯ ПРОТИВОПОЛОЖНО                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Перейдём от метров к сантиметрам: новая единица e'₁ = e₁/100.               │
│                                                                             │
│ ВЕКТОР "5 метров":                                                          │
│   Старые единицы: v = 5 м = 5 e₁                                            │
│   Новые единицы:  v = 500 см = 500 e'₁                                      │
│                                                                             │
│   Компонента УВЕЛИЧИЛАСЬ в 100 раз.                                         │
│   (Единица стала мельче → нужно больше единиц)                              │
│                                                                             │
│ КОВЕКТОР "10 рублей за метр":                                               │
│   Старые единицы: ω = 10 руб/м                                              │
│   Новые единицы:  ω = 0.1 руб/см                                            │
│                                                                             │
│   Компонента УМЕНЬШИЛАСЬ в 100 раз.                                         │
│   (Единица стала мельче → цена за единицу тоже меньше)                      │
│                                                                             │
│ ПРОВЕРКА — РЕЗУЛЬТАТ НЕ ЗАВИСИТ ОТ ЕДИНИЦ:                                  │
│   ω(v) = 10 руб/м × 5 м = 50 руб                                            │
│   ω(v) = 0.1 руб/см × 500 см = 50 руб  ✓                                    │
│                                                                             │
│ ЭТО И ЕСТЬ КЛЮЧЕВОЕ СВОЙСТВО:                                               │
│   ω(v) — инвариант, не зависит от выбора единиц (базиса).                   │
│   Чтобы это работало, компоненты ω и v должны меняться ПРОТИВОПОЛОЖНО.      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАСАТЕЛЬНОЕ ПРОСТРАНСТВО — ПРАВИЛЬНАЯ КАРТИНКА                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Рассмотрим параболоид z = f(x,y) = x² + y².                                 │
│                                                                             │
│         z │                                                                 │
│           │      ╱╲                                                         │
│           │     ╱  ╲                                                        │
│           │    ╱ ∙p ╲  ← поверхность параболоида                            │
│           │   ╱══════╲  ← касательная плоскость TₚM                         │
│           │  ╱        ╲                                                     │
│           │ ╱          ╲                                                    │
│           └─────────────── x                                                │
│          ╱                                                                  │
│         y                                                                   │
│                                                                             │
│ В точке p = (1, 0, 1) касательная плоскость TₚM — это БУКВАЛЬНО             │
│ плоскость, которая касается поверхности в этой точке.                       │
│                                                                             │
│ Уравнение касательной плоскости:                                            │
│   z = f(1,0) + fₓ(1,0)·(x-1) + fᵧ(1,0)·(y-0)                               │
│   z = 1 + 2·(x-1) + 0·(y-0) = 2x - 1                                        │
│                                                                             │
│ ВЕКТОР в TₚM — это стрелка, ЛЕЖАЩАЯ В касательной плоскости.                │
│ Градиент ∇f — одна из таких стрелок (направление наибольшего роста).        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОКАСАТЕЛЬНОЕ ПРОСТРАНСТВО — ЧТО ЭТО?                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ T*ₚM — это пространство всех "цен за единицу смещения" в точке p.           │
│                                                                             │
│ Если TₚM отвечает на вопрос "КУДА можно пойти?" (направления),              │
│ то T*ₚM отвечает на вопрос "СКОЛЬКО СТОИТ пойти?" (линейные функции).       │
│                                                                             │
│ КОНКРЕТНО ДЛЯ ПАРАБОЛОИДА в точке p = (1, 0, 1):                            │
│                                                                             │
│ Дифференциал df — это ковектор, который говорит:                            │
│ "Если сместишься на вектор v, функция f изменится на df(v)".                │
│                                                                             │
│   df = fₓ dx + fᵧ dy = 2dx + 0dy = 2dx                                      │
│                                                                             │
│ Возьмём вектор v = (3, 4) в касательной плоскости.                          │
│   df(v) = 2·3 + 0·4 = 6                                                     │
│                                                                             │
│ Это значит: при смещении на v функция f возрастёт примерно на 6.            │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИ: df — это "линии уровня с разметкой".                         │
│ df(v) = сколько линий уровня пересекает вектор v.                           │
│                                                                             │
│     ══════════════  линии уровня f = const                                  │
│     ══════════════                                                          │
│        →v          вектор пересекает несколько линий                        │
│     ══════════════                                                          │
│     ══════════════                                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАДИЕНТ vs ДИФФЕРЕНЦИАЛ — СТРЕЛКА vs РАЗМЕТКА                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ∇f (ГРАДИЕНТ) — ВЕКТОР:                                                     │
│   • Живёт в касательном пространстве TₚM                                    │
│   • Это СТРЕЛКА, указывающая направление наибольшего роста f                │
│   • Компоненты: (∇f)ⁱ = gⁱʲ ∂f/∂xʲ  (нужна метрика!)                       │
│   • Размерность: [единицы f / единицы длины]... но это ВЕКТОР               │
│                                                                             │
│ df (ДИФФЕРЕНЦИАЛ) — КОВЕКТОР:                                               │
│   • Живёт в кокасательном пространстве T*ₚM                                 │
│   • Это ФУНКЦИЯ: "насколько изменится f при смещении на v"                  │
│   • Компоненты: (df)ᵢ = ∂f/∂xⁱ  (метрика не нужна!)                        │
│   • Размерность: [единицы f / единицы длины]... но это КОВЕКТОР             │
│                                                                             │
│ СВЯЗЬ:                                                                      │
│   df(v) = ⟨∇f, v⟩ = g(∇f, v)                                               │
│   ∇f = "поднятый" df с помощью метрики: (∇f)ⁱ = gⁱʲ(df)ⱼ                   │
│                                                                             │
│ ПОЧЕМУ ПУТАЮТ:                                                              │
│   В евклидовом пространстве с ортонормированным базисом gⁱʲ = δⁱʲ,         │
│   поэтому компоненты ∇f и df численно СОВПАДАЮТ.                            │
│   Но концептуально это РАЗНЫЕ объекты!                                      │
│                                                                             │
│   ∇f — стрелка (направление)                                                │
│   df — разметка (функция на направлениях)                                   │
│                                                                             │
│ ⚠️  КЛЮЧЕВОЕ: df существует ВСЕГДА (для дифференцируемой f).                │
│   ∇f существует ТОЛЬКО если задана метрика g!                               │
│   Без метрики можно говорить о df, но не о ∇f.                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВОЙСТВЕННЫЙ БАЗИС = ЦЕНЫ ЗА БАЗИСНЫЕ ЕДИНИЦЫ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если {e₁, e₂, ..., eₙ} — базис V (единицы измерения),                       │
│ то двойственный базис {ε¹, ε², ..., εⁿ} — это "цены":                      │
│                                                                             │
│   ε¹ = "1 рубль за единицу e₁, 0 за остальные"                             │
│   ε² = "1 рубль за единицу e₂, 0 за остальные"                             │
│                                                                             │
│ Формально:                                                                  │
│   εⁱ(eⱼ) = δⁱⱼ = { 1, если i = j                                           │
│                  { 0, если i ≠ j                                           │
│                                                                             │
│ Тогда εⁱ "выбирает" i-ю компоненту вектора:                                │
│   v = v¹e₁ + v²e₂ + ... + vⁿeₙ                                             │
│   ε²(v) = v²  ← вторая компонента                                          │
│                                                                             │
│ ПРИМЕР:                                                                     │
│   Базис: e₁ = "1 метр", e₂ = "1 секунда"                                    │
│   Двойственный базис: ε¹ = "выбрать метры", ε² = "выбрать секунды"         │
│   Вектор: v = (5 м, 3 с) = 5e₁ + 3e₂                                        │
│   ε¹(v) = 5,  ε²(v) = 3                                                    │
│                                                                             │
│ НА МНОГООБРАЗИИ:                                                            │
│   Базис TₚM: {∂/∂x, ∂/∂y, ...} — направления координатных линий            │
│   Двойственный базис T*ₚM: {dx, dy, ...} — дифференциалы координат         │
│   dx(∂/∂y) = 0,  dx(∂/∂x) = 1                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИТОГОВАЯ ТАБЛИЦА: ВЕКТОР vs КОВЕКТОР                                        │
├───────────────────────┬─────────────────────────┬───────────────────────────┤
│                       │ ВЕКТОР v                │ КОВЕКТОР ω                │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Физ. аналогия         │ Количество              │ Цена за единицу           │
│                       │ (5 метров)              │ (10 руб/метр)             │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Размерность           │ [м], [с], [кг]          │ [1/м], [1/с], [1/кг]      │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Где живёт             │ Касательное TₚM         │ Кокасательное T*ₚM        │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Геом. образ           │ Стрелка                 │ Разметка (линии уровня)   │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ При измельчении       │ Компоненты растут       │ Компоненты падают         │
│ единиц измерения      │ (м→см: ×100)            │ (м→см: ÷100)              │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Примеры               │ Скорость, смещение,     │ Дифференциал df,          │
│                       │ градиент ∇f             │ импульс p, давление       │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Индекс                │ Верхний: vⁱ             │ Нижний: ωᵢ                │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Базис                 │ {∂/∂x¹, ∂/∂x², ...}     │ {dx¹, dx², ...}           │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Произведение          │       ω(v) = ωᵢvⁱ = ЧИСЛО (инвариант)              │
└───────────────────────┴─────────────────────────┴───────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ КОВЕКТОРОВ В ФИЗИКЕ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ДИФФЕРЕНЦИАЛ ФУНКЦИИ df                                                  │
│    "Изменение f на единицу смещения"                                        │
│    df(v) = насколько f изменится при смещении на v                          │
│                                                                             │
│ 2. ИМПУЛЬС p В МЕХАНИКЕ                                                     │
│    p = ∂L/∂q̇ — это ковектор, не вектор!                                    │
│    Работа = p·v = pᵢvⁱ — должна быть скаляром (числом)                     │
│    Поэтому если v — вектор, то p — ковектор                                 │
│                                                                             │
│ 3. ВОЛНОВОЙ КОВЕКТОР k                                                      │
│    Фаза волны φ = k·x = kᵢxⁱ — должна быть скаляром                        │
│    k задаёт "направление" через поверхности равной фазы                     │
│                                                                             │
│ 4. ДАВЛЕНИЕ, НАПРЯЖЕНИЕ                                                     │
│    "Сила на единицу площади" — цена за площадь                              │
│                                                                             │
│ ОБЩИЙ ПРИНЦИП:                                                              │
│    Если величина A·B должна быть инвариантом (числом),                      │
│    и A — вектор, то B — ковектор.                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

───────────────────────────────────────────────────────────────────────────────
A5.2  ДВОЙСТВЕННОСТЬ — ЧТО ЭТО ТАКОЕ
───────────────────────────────────────────────────────────────────────────────

│ ДВОЙСТВЕННОСТЬ — ОПРЕДЕЛЕНИЕ И ПРИМЕНЕНИЯ                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Два способа описать одно и то же:                                           │
│                                                                             │
│   ТОЧКИ ПРОСТРАНСТВА              ФУНКЦИИ НА ПРОСТРАНСТВЕ                   │
│   ─────────────────               ───────────────────────                   │
│   "Где это находится?"            "Что можно измерить?"                     │
│                                                                             │
│ ПРИМЕР 1: Карта местности                                                   │
│   • Точки на карте (места)                                                  │
│   • Изолинии высот (функции высоты)                                         │
│   Одна и та же гора описывается и точками вершины, и линиями уровня!        │
│                                                                             │
│ ПРИМЕР 2: Вектор vs линейная функция                                        │
│   • Вектор v = (3, 4) — "стрелка" в пространстве                           │
│   • Функция φ(x,y) = 3x + 4y — "измеритель", даёт число для любой точки    │
│                                                                             │
│   ВАЖНО: Отождествление v ↔ φ требует СКАЛЯРНОГО ПРОИЗВЕДЕНИЯ (метрики)!   │
│   Формула: φ(u) = ⟨v, u⟩. Без метрики вектор и ковектор — разные объекты.  │
│   Изоморфизм V ≅ V* (теорема Рисса-Фреше) существует только в Гильбертовых  │
│   пространствах. В общем случае V* ≠ V как структуры.                       │
│                                                                             │
│ ПРИМЕР 3: Время и частота                                                   │
│   • Сигнал во времени: f(t)                                                 │
│   • Спектр (частоты): f̂(ω)                                                  │
│   Преобразование Фурье — переход между двойственными описаниями             │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ:                                                              │
│   Изучать пространство = изучать функции на нём                             │
│   Эти два подхода ЭКВИВАЛЕНТНЫ и дополняют друг друга                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ТАКОЕ ДВОЙСТВЕННОСТЬ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Двойственность — это соответствие между двумя математическими структурами,  │
│ при котором:                                                                │
│                                                                             │
│   • Каждому объекту A соответствует "двойственный" объект A*                │
│   • Каждой операции соответствует "двойственная" операция                   │
│   • (A*)* ≅ A (двойственное к двойственному = исходное)                    │
│                                                                             │
│ ГЛУБОКИЙ СМЫСЛ:                                                             │
│   Пространство и функции на нём — это РАВНОПРАВНЫЕ описания.                │
│   Можно изучать точки, а можно изучать "тесты" (что можно измерить).        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════

A5.3  ДВОЙСТВЕННОЕ ВЕКТОРНОЕ ПРОСТРАНСТВО
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ДВОЙСТВЕННОЕ ПРОСТРАНСТВО                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть V — векторное пространство над полем F.                               │
│                                                                             │
│ Двойственное пространство V* = Hom(V, F) — это множество всех               │
│ линейных функционалов на V:                                                 │
│                                                                             │
│   V* = {φ: V → F | φ линейна}                                              │
│                                                                             │
│ СТРУКТУРА:                                                                  │
│   • (φ + ψ)(v) = φ(v) + ψ(v)                                               │
│   • (αφ)(v) = α·φ(v)                                                       │
│                                                                             │
│ V* само является векторным пространством!                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВОЙСТВЕННЫЙ БАЗИС                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть {e₁, ..., eₙ} — базис V.                                             │
│                                                                             │
│ Двойственный базис {e¹, ..., eⁿ} пространства V* определяется:             │
│                                                                             │
│   eⁱ(eⱼ) = δⁱⱼ = { 1, если i = j                                           │
│                   { 0, если i ≠ j                                           │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   • dim(V*) = dim(V)  ⚠️ ТОЛЬКО ДЛЯ КОНЕЧНОМЕРНЫХ! (см. A15 для контрпримера)│
│   • Любой φ ∈ V* раскладывается: φ = φ(eᵢ)·eⁱ = φᵢeⁱ                       │
│   • Действие на вектор: φ(v) = φᵢvⁱ (свёртка!)                             │
│                                                                             │
│ ПРИМЕР: V = ℝ³ с базисом e₁ = (1,0,0), e₂ = (0,1,0), e₃ = (0,0,1)         │
│                                                                             │
│   e¹(x,y,z) = x       (проекция на первую координату)                       │
│   e²(x,y,z) = y       (проекция на вторую координату)                       │
│   e³(x,y,z) = z       (проекция на третью координату)                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАНОНИЧЕСКИЙ ИЗОМОРФИЗМ V ≅ V**                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для конечномерных пространств существует канонический изоморфизм:           │
│                                                                             │
│   ι: V → V**                                                                │
│   ι(v)(φ) = φ(v)                                                           │
│                                                                             │
│ "Вектор v — это функционал на функционалах, который вычисляет их на v"     │
│                                                                             │
│ ВАЖНО:                                                                      │
│   • V ≅ V* требует ВЫБОРА базиса (или скалярного произведения)             │
│   • V ≅ V** КАНОНИЧЕН (не требует выбора)                                  │
│                                                                             │
│ В бесконечномерном случае:                                                  │
│   • Для банаховых пространств: V ↪ V** (вложение, не изоморфизм)           │
│   • V = V** называется рефлексивным пространством                           │
│   • L^p рефлексивно при 1 < p < ∞, но L¹ и L^∞ — нет                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A5.4  ДВОЙСТВЕННОСТЬ В РАЗНЫХ ОБЛАСТЯХ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРЕДВАРИТЕЛЬНЫЕ ПОЯСНЕНИЯ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В таблице ниже встречаются термины, которые стоит пояснить:                 │
│                                                                             │
│ Hₖ(X) — ГОМОЛОГИИ — алгебраические инварианты, считающие "дырки" в простр. │
│   H₀ считает компоненты связности (сколько "кусков")                        │
│   H₁ считает "тоннели" (можно ли обойти и вернуться нетривиально)          │
│   H₂ считает "полости" (замкнутые пустоты внутри)                           │
│   Формально: Hₖ = ker(∂ₖ)/Im(∂ₖ₊₁) — "циклы, не являющиеся границами"      │
│                                                                             │
│ Hᵏ(X) — КОГОМОЛОГИИ — двойственные к гомологиям (функции на циклах)        │
│   Когомологии де Рама: классы замкнутых форм ω (dω=0) по модулю точных     │
│                                                                             │
│ Спаривание Кронекера: ⟨·,·⟩: Hᵏ(X) × Hₖ(X) → ℝ                            │
│   Интуитивно: когомология "измеряет" гомологию — интеграл формы по циклу   │
│                                                                             │
│ S¹ = {z ∈ ℂ : |z| = 1} — единичная окружность в комплексной плоскости      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА ДВОЙСТВЕННОСТЕЙ                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ⚠️  ВАЖНО: Это РАЗНЫЕ ВИДЫ двойственности, объединённые общим паттерном!   │
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ ТИП ДВОЙСТВЕННОСТИ  │ ПРИМЕРЫ ИЗ ТАБЛИЦЫ НИЖЕ                         │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Алгебраическая      │ V ↔ V*, строки ↔ столбцы                       │   │
│ │ (лин. алгебра)      │                                                 │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Понтрягина          │ G ↔ Ĝ (группа ↔ группа характеров)             │   │
│ │ (топ. группы)       │                                                 │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Пуанкаре            │ Hₖ ↔ Hⁿ⁻ᵏ (гомологии ↔ когомологии)            │   │
│ │ (топология)         │                                                 │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Категорная          │ F ↔ Fᵒᵖ (ковариант ↔ контравариант)            │   │
│ │ (теория категорий)  │                                                 │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
│ Общее: всюду есть СПАРИВАНИЕ ⟨·,·⟩ → число. Но детали существенно разные. │
│                                                                             │
├─────────────────────┬─────────────────────┬─────────────────────────────────┤
│ ОБЪЕКТ              │ ДВОЙСТВЕННЫЙ        │ СВЯЗУЮЩЕЕ ОТОБРАЖЕНИЕ           │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Вектор v ∈ V        │ Ковектор φ ∈ V*     │ φ(v) ∈ F (спаривание)          │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Строка матрицы      │ Столбец матрицы     │ Транспонирование Aᵀ            │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Точка x ∈ X         │ Функция f: X → ℝ    │ f(x) (значение в точке)        │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Абелева группа G    │ Группа характеров   │ χ: G → S¹ (гомоморфизм         │
│                     │ Ĝ = Hom(G, S¹)      │ в единичную окружность)        │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Время t             │ Частота ω           │ Фурье: e^{iωt}                 │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Положение q         │ Импульс p           │ Гамильтонова механика          │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ TₚM (касательное)   │ T*ₚM (кокасат.)     │ df(v) = v(f)                   │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Hₖ(X) (гомологии)   │ Hᵏ(X) (когомологии) │ ⟨ω, c⟩ = ∫_c ω (интеграл)     │
│ "циклы"             │ "формы"             │                                 │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ ∪ (объединение)     │ ∩ (пересечение)     │ Законы де Моргана:             │
│ ∨ (или)             │ ∧ (и)               │ ¬(A∪B) = ¬A ∩ ¬B               │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Точка (в проект.    │ Гиперплоскость      │ Точка ↔ мн-во прямых через неё │
│ геометрии)          │                     │                                 │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Функтор F: C → D    │ Контравар. функтор  │ F(f: A→B) даёт F(f): F(B)→F(A) │
│ (ковариантный)      │ F: Cᵒᵖ → D          │ (стрелка разворачивается)       │
│                     │                     │                                 │
└─────────────────────┴─────────────────────┴─────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ ИДЕЯ ДВОЙСТВЕННОСТИ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Во всех примерах выше один объект "измеряет" другой через спаривание:       │
│                                                                             │
│   ⟨двойственный, исходный⟩ → число                                         │
│                                                                             │
│ Это как термометр и температура, линейка и длина, весы и масса.             │
│ Двойственный объект — это "измерительный прибор" для исходного.             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A5.5  ДВОЙСТВЕННОСТЬ ПОНТРЯГИНА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЯСНЕНИЕ: ЧТО ТАКОЕ "ЛОКАЛЬНО КОМПАКТНАЯ" ГРУППА                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Локально компактная группа — это топологическая группа (группа +            │
│ топология, согласованные друг с другом), в которой каждая точка имеет       │
│ компактную окрестность.                                                     │
│                                                                             │
│ КОМПАКТНОСТЬ — ограниченность + замкнутость (в ℝⁿ). Интуитивно: можно      │
│ "покрыть конечным числом маленьких шаров".                                  │
│                                                                             │
│ ПРИМЕРЫ ЛОКАЛЬНО КОМПАКТНЫХ ГРУПП:                                          │
│   • ℝ, ℝⁿ — да (любая точка имеет замкнутый шар вокруг)                    │
│   • ℤ — да (дискретная топология, каждая точка — сама компакт)              │
│   • S¹ — да (компактна целиком)                                             │
│   • GL(n,ℝ) — да (открытое подмножество ℝⁿ²)                               │
│                                                                             │
│ ПРИМЕРЫ НЕлокально компактных:                                              │
│   • Бесконечномерные банаховы пространства (единичный шар не компактен)     │
│                                                                             │
│ ЗАЧЕМ ЭТО НУЖНО:                                                            │
│   На локально компактных группах существует мера Хаара (инвариантная        │
│   мера), что позволяет интегрировать и определять преобразование Фурье.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ДВОЙСТВЕННАЯ ГРУППА                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для локально компактной абелевой группы G её двойственная группа:           │
│                                                                             │
│   Ĝ = Hom(G, S¹) = {χ: G → S¹ | χ непрерывный гомоморфизм}                 │
│                                                                             │
│ Элементы Ĝ называются ХАРАКТЕРАМИ группы G.                                 │
│                                                                             │
│ ТЕОРЕМА ПОНТРЯГИНА:                                                         │
│   Для локально компактной абелевой группы G: Ĝ̂ ≅ G                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ДВОЙСТВЕННОСТИ ПОНТРЯГИНА                                           │
├─────────────────────┬─────────────────────┬─────────────────────────────────┤
│ ГРУППА G            │ ДВОЙСТВЕННАЯ Ĝ      │ ХАРАКТЕРЫ                       │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ ℤ                   │ S¹ ≅ ℝ/ℤ            │ χₜ(n) = e^{2πint}, t ∈ [0,1)   │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ S¹ ≅ ℝ/ℤ            │ ℤ                   │ χₙ(t) = e^{2πint}, n ∈ ℤ       │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ ℝ                   │ ℝ                   │ χ_ξ(x) = e^{2πiξx}, ξ ∈ ℝ      │
│                     │                     │ (самодвойственная!)             │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ ℤ/nℤ                │ ℤ/nℤ                │ χₖ(m) = e^{2πikm/n}            │
│                     │                     │ (самодвойственная!)             │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ ℝⁿ                  │ ℝⁿ                  │ χ_ξ(x) = e^{2πi⟨ξ,x⟩}          │
│                     │                     │                                 │
└─────────────────────┴─────────────────────┴─────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ПРЕОБРАЗОВАНИЕМ ФУРЬЕ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Преобразование Фурье — это разложение функции по характерам:                │
│                                                                             │
│   f̂(ξ) = ∫_G f(x) χ_ξ(x)⁻¹ dx                                              │
│                                                                             │
│ ТАБЛИЦА СООТВЕТСТВИЙ:                                                       │
│                                                                             │
│   ┌─────────────────────┬─────────────────────┬───────────────────────┐     │
│   │ ГРУППА              │ ФУРЬЕ               │ ПРИМЕНЕНИЕ            │     │
│   ├─────────────────────┼─────────────────────┼───────────────────────┤     │
│   │ ℝ                   │ Обычное Фурье       │ Обработка сигналов    │     │
│   │ S¹                  │ Ряды Фурье          │ Периодические функции │     │
│   │ ℤ                   │ DTFT                │ Дискретные сигналы    │     │
│   │ ℤ/nℤ                │ DFT (БПФ)           │ Цифровая обработка    │     │
│   │ Конечная группа     │ Теория представлен. │ Химия, физика         │     │
│   └─────────────────────┴─────────────────────┴───────────────────────┘     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A5.6  ТЕОРЕМА ГЕЛЬФАНДА-НАЙМАРКА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОСТРАНСТВО ↔ АЛГЕБРА ФУНКЦИЙ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМА (Гельфанд-Наймарк):                                                 │
│                                                                             │
│   Компактное хаусдорфово пространство X полностью определяется              │
│   алгеброй непрерывных функций C(X).                                        │
│                                                                             │
│   X ↔ C(X)    (эквивалентность категорий)                                  │
│                                                                             │
│ СЛЕДСТВИЕ:                                                                  │
│   Можно изучать пространство X, изучая функции на нём!                      │
│   Это основа некоммутативной геометрии.                                     │
│                                                                             │
│ ОБОБЩЕНИЕ (некоммутативная геометрия):                                      │
│   Некоммутативные C*-алгебры = "функции на некоммутативных пространствах"   │
│   Квантовая механика = некоммутативная геометрия фазового пространства      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A5.7  ФИЗИЧЕСКИЙ СМЫСЛ ДВОЙСТВЕННОСТИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЛОЖЕНИЕ ↔ ИМПУЛЬС                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├────────────────────┬────────────────────────┬───────────────────────────────┤
│                    │ ПОЛОЖЕНИЕ q            │ ИМПУЛЬС p                     │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│ Смысл              │ "Где?"                 │ "Куда движется?"              │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│ Математически      │ q ∈ Q (конфигурация)   │ p ∈ T*_qQ (кокасательное)    │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│ Квант. механика    │ ψ(q) — волн. функция   │ ψ̃(p) = F[ψ(q)] — Фурье       │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│ Неопределённость   │          Δq · Δp ≥ ℏ/2                                 │
├────────────────────┴────────────────────────┴───────────────────────────────┤
│                                                                             │
│ Аналогично: ВРЕМЯ ↔ ЭНЕРГИЯ (ΔE·Δt ≥ ℏ/2)                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕЗЮМЕ: ДВА СПОСОБА СМОТРЕТЬ НА ПРОСТРАНСТВО                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                                                                     │   │
│   │    ПРОСТРАНСТВО                      ФУНКЦИИ НА НЁМ                 │   │
│   │    (точки, объекты)                  (измерения, тесты)             │   │
│   │                                                                     │   │
│   │         X            ◄══════════►           C(X)                    │   │
│   │                                                                     │   │
│   │    • Точки x ∈ X                    • Функции f: X → ℝ              │   │
│   │    • Подмножества                   • Идеалы                        │   │
│   │    • Отображения X → Y              • Гомоморфизмы C(Y) → C(X)      │   │
│   │                                       (направление обратное!)       │   │
│   │                                                                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ОБА ОПИСАНИЯ ЭКВИВАЛЕНТНЫ!                                                  │
│ Выбор зависит от задачи и удобства.                                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ДВОЙСТВЕННОСТЬ В ТЕРМОДИНАМИКЕ                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Термодинамика полна двойственных пар — это не совпадение!                   │
│                                                                             │
│   ┌─────────────────┬─────────────────┬─────────────────────────────────────┐│
│   │ ЭКСТЕНСИВНАЯ    │ ИНТЕНСИВНАЯ     │ СВЯЗЬ                               ││
│   │ (аддитивная)    │ (измеритель)    │                                     ││
│   ├─────────────────┼─────────────────┼─────────────────────────────────────┤│
│   │ Объём V         │ Давление p      │ δW = −p dV                          ││
│   │ Энтропия S      │ Температура T   │ δQ = T dS                           ││
│   │ Кол-во вещ-ва n │ Хим. потенциал μ│ δG = μ dn                           ││
│   │ Заряд q         │ Потенциал φ     │ δW = φ dq                           ││
│   └─────────────────┴─────────────────┴─────────────────────────────────────┘│
│                                                                             │
│ МАТЕМАТИЧЕСКИЙ СМЫСЛ:                                                       │
│                                                                             │
│   Экстенсивные величины = координаты пространства состояний                 │
│   Интенсивные величины = функции на этом пространстве (ковекторы!)          │
│                                                                             │
│   Работа/теплота = спаривание ⟨p, dV⟩, ⟨T, dS⟩                              │
│   Это в точности действие ковектора на вектор!                              │
│                                                                             │
│ ПРЕОБРАЗОВАНИЕ ЛЕЖАНДРА:                                                    │
│                                                                             │
│   Переход между описаниями: U(S,V) ↔ H(S,p) ↔ F(T,V) ↔ G(T,p)              │
│                                                                             │
│   Это СМЕНА БАЗИСА между двойственными переменными!                         │
│                                                                             │
│   • U(S,V) — внутренняя энергия (естественные: S, V)                       │
│   • H(S,p) = U + pV — энтальпия (заменили V на p)                          │
│   • F(T,V) = U − TS — свободная энергия (заменили S на T)                  │
│   • G(T,p) = U + pV − TS — потенциал Гиббса (заменили S→T, V→p)            │
│                                                                             │
│ ПРАКТИЧЕСКИЙ СМЫСЛ:                                                         │
│                                                                             │
│   • При p = const удобна энтальпия H (насосы, компрессоры)                  │
│   • При T = const удобна свободная энергия F (изотермические процессы)     │
│   • При T, p = const удобен потенциал Гиббса G (химические реакции)        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ВЫВОД: Двойственность — не абстракция, а РАБОЧИЙ ИНСТРУМЕНТ.                │
│ Термодинамические потенциалы — это выбор удобного описания                  │
│ для конкретной задачи (что фиксировано: T или S? p или V?)                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
A5.8  ДЕЛЬТА-ФУНКЦИЯ — ДВОЙСТВЕННОСТЬ В ДЕЙСТВИИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОБЛЕМА: Что такое "точечный заряд" или "мгновенный импульс"?              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Инженеры постоянно используют "дельта-функцию" δ(x):                        │
│   • Точечный заряд: ρ(x) = q·δ(x − x₀)                                     │
│   • Импульсная сила: F(t) = P·δ(t − t₀)                                    │
│   • Начальное условие: u(x,0) = δ(x)                                       │
│                                                                             │
│ Формально пишут:                                                            │
│   δ(x) = { 0, x ≠ 0                                                        │
│          { ∞, x = 0     и     ∫δ(x)dx = 1                                  │
│                                                                             │
│ НО ЭТО НЕ ФУНКЦИЯ! Нет функции со значением ∞ в точке и интегралом 1.      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕШЕНИЕ: δ — ЭТО ФУНКЦИОНАЛ (элемент двойственного пространства)            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Правильное определение:                                                     │
│                                                                             │
│   δ: C∞₀(ℝ) → ℝ,    δ[φ] = φ(0)                                            │
│                                                                             │
│ δ — это ЛИНЕЙНЫЙ ФУНКЦИОНАЛ, который берёт тестовую функцию φ              │
│ и возвращает её значение в нуле.                                            │
│                                                                             │
│ "Интеграл" ∫δ(x)φ(x)dx понимается как δ[φ] = φ(0).                         │
│                                                                             │
│ СВЯЗЬ С ДВОЙСТВЕННОСТЬЮ:                                                    │
│   • Пространство ПРОБНЫХ (тестовых) функций:                                │
│     𝒟(ℝ) = C∞₀(ℝ) = {φ: гладкие с компактным носителем}                    │
│     (φ обращается в 0 вне некоторого ограниченного интервала)              │
│   • Двойственное пространство: 𝒟'(ℝ) = {обобщённые функции/распределения} │
│   • δ ∈ 𝒟'(ℝ) — элемент двойственного пространства!                        │
│                                                                             │
│   Другой вариант: класс Шварца 𝒮(ℝ) — быстро убывающие функции.            │
│   Тогда 𝒮'(ℝ) — умеренные распределения (включая δ).                       │
│                                                                             │
│ ПРОИЗВОДНАЯ δ' ТОЖЕ ФУНКЦИОНАЛ:                                             │
│   δ'[φ] = −φ'(0)    (интегрирование по частям!)                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРАКТИЧЕСКИЕ СВОЙСТВА                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ∫ f(x)δ(x−a)dx = f(a)         "выбирает" значение f в точке a              │
│                                                                             │
│ ∫ f(x)δ'(x−a)dx = −f'(a)       "выбирает" производную в точке a            │
│                                                                             │
│ ⚠️  ВАЖНО: Эти формулы имеют смысл только для ГЛАДКИХ (пробных) функций f! │
│     Применять δ к произвольной функции из L² некорректно — у таких         │
│     функций "значение в точке" не определено (только класс эквивалентности).│
│                                                                             │
│ δ(ax) = (1/|a|)δ(x)           масштабирование аргумента                    │
│                                                                             │
│ xδ(x) = 0                     x·0 = 0 везде, включая x=0                   │
│                                                                             │
│ ФУРЬЕ-ОБРАЗ:                                                                │
│   F[δ(x)](ω) = 1               δ(x) ↔ const                                │
│   F[1](ω) = 2πδ(ω)             const ↔ δ(ω)                                │
│                                                                             │
│ СВЁРТКА:                                                                    │
│   f * δ = f                    δ — нейтральный элемент свёртки             │
│   f * δ' = f'                  дифференцирование через свёртку             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ЗАПРЕЩЁННЫЕ ОПЕРАЦИИ С δ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В теории обобщённых функций (распределений Шварца) НЕЛЬЗЯ:                  │
│                                                                             │
│   • δ(x)·δ(x) = δ²(x) — НЕ ОПРЕДЕЛЕНО!                                     │
│   • δ(x)·|x|⁻¹ — НЕ ОПРЕДЕЛЕНО!                                            │
│   • Любые нелинейные операции с δ                                          │
│                                                                             │
│ ПОЧЕМУ: Произведение двух распределений в общем случае не определено.      │
│ Распределения — это линейные функционалы, а произведение                    │
│ δ(x)·δ(x) потребовало бы "значение δ в точке", которого нет.               │
│                                                                             │
│ ГДЕ ЭТО ПРОБЛЕМА:                                                           │
│   • Квантовая теория поля: "расходимости" = попытки вычислить δ²           │
│   • Нелинейные уравнения с сингулярными данными                            │
│   • Возведение сигнала в квадрат (мощность сигнала с δ-импульсом)          │
│                                                                             │
│ ЧТО МОЖНО: Линейные операции (сложение, дифференцирование, свёртка с       │
│ гладкой функцией) — всё это корректно определено.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕНЕНИЯ В ИНЖЕНЕРИИ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИМПУЛЬСНАЯ ХАРАКТЕРИСТИКА:                                                  │
│   Линейная система L с входом u(t) и выходом y(t) = L[u]                   │
│   Импульсная характеристика: h(t) = L[δ(t)]                                │
│   Тогда: y(t) = (h * u)(t) = ∫ h(τ)u(t−τ)dτ                               │
│                                                                             │
│ ПЕРЕДАТОЧНАЯ ФУНКЦИЯ:                                                       │
│   H(s) = L[h(t)]  (преобразование Лапласа импульсной характеристики)       │
│   Если H(s) = 1/(s+a), то h(t) = e^{−at}                                   │
│                                                                             │
│ ФУНКЦИЯ ГРИНА:                                                              │
│   Решение уравнения LG(x,ξ) = δ(x−ξ) называется функцией Грина            │
│   Решение Lu = f: u(x) = ∫ G(x,ξ)f(ξ)dξ                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Мы познакомились с двойственностью: V и V*. Теперь можно строить объекты,
которые "едят" несколько векторов и ковекторов одновременно. Это тензоры —
мультилинейные функции на произведениях V и V*.

Тензоры — язык физики: напряжения, деформации, электромагнитное поле.
───────────────────────────────────────────────────────────────────────────────

═══════════════════════════════════════════════════════════════════════════════
A6. ТЕНЗОРЫ — МУЛЬТИЛИНЕЙНЫЕ ОБЪЕКТЫ НА ПРОСТРАНСТВАХ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕНЗОРЫ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Тензоры описывают, как СВОЙСТВА пространства меняются от точки к точке      │
│ и от направления к направлению.                                             │
│                                                                             │
│   • Скаляр (тензор ранга 0): температура T(x) — одно число в каждой точке  │
│   • Вектор (ранг 1): скорость v⃗(x) — направление в каждой точке            │
│   • Тензор (ранг 2): напряжения σᵢⱼ(x) — зависят от точки И от плоскости   │
│                                                                             │
│ Тензоры — язык описания АНИЗОТРОПИИ: когда пространство "разное" в разных  │
│ направлениях (теплопроводность кристалла, упругость композита).            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

Теперь, когда мы понимаем двойственность (A5), можем определить тензоры.

───────────────────────────────────────────────────────────────────────────────
A6.1  ЗАЧЕМ НУЖНЫ ТЕНЗОРЫ — МОТИВАЦИЯ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ВООБЩЕ МЕНЯТЬ СИСТЕМУ КООРДИНАТ? — МОТИВАЦИЯ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Прежде чем говорить о тензорах и преобразованиях, ответим на главный        │
│ вопрос: ЗАЧЕМ кому-то понадобилось менять координаты?                       │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИЧИНА 1: РАЗНЫЕ НАБЛЮДАТЕЛИ                                               │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Наблюдатель стоит на платформе. Мимо едет поезд. В поезде сидит пассажир. │
│                                                                             │
│   • Для наблюдателя: пассажир движется со скоростью 100 км/ч               │
│   • Для пассажира: он покоится, а наблюдатель движется со скоростью −100   │
│                                                                             │
│   Кто прав? ОБА. Скорость — это вектор, и его компоненты ЗАВИСЯТ от        │
│   системы отсчёта. Но сам пассажир — один и тот же физический объект.       │
│                                                                             │
│   ПРОБЛЕМА: Законы физики должны быть одинаковы для всех наблюдателей!      │
│             F = ma должно работать и на платформе, и в поезде.              │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИЧИНА 2: УДОБСТВО РЕШЕНИЯ ЗАДАЧИ                                          │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Задача: найти площадь эллипса x²/a² + y²/b² = 1                          │
│                                                                             │
│   В декартовых координатах — сложный интеграл.                              │
│   Сделаем замену: u = x/a, v = y/b                                          │
│   Эллипс превращается в круг u² + v² = 1, площадь = π.                     │
│   Площадь эллипса = πab (с учётом растяжения координат).                   │
│                                                                             │
│   ДРУГИЕ ПРИМЕРЫ:                                                           │
│   • Задача с вращением → полярные координаты                               │
│   • Задача со сферой → сферические координаты                              │
│   • Колебания → нормальные моды (собственные векторы)                      │
│                                                                             │
│   Правильный выбор координат превращает сложную задачу в простую!           │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИЧИНА 3: ИЗМЕРЕНИЯ В РАЗНЫХ ЕДИНИЦАХ                                      │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Американский инженер: труба длиной 10 футов, диаметр 6 дюймов            │
│   Российский инженер: та же труба — 3.048 м, диаметр 152.4 мм              │
│                                                                             │
│   Труба ОДНА И ТА ЖЕ. Числа РАЗНЫЕ.                                        │
│                                                                             │
│   Если формула расчёта потерь давления даёт разные ответы в футах и        │
│   в метрах — формула НЕПРАВИЛЬНАЯ. Физика не знает про футы и метры.       │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИЧИНА 4: КРИВОЛИНЕЙНЫЕ КООРДИНАТЫ НА ПОВЕРХНОСТЯХ                         │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   На поверхности Земли нет "естественных" декартовых координат.            │
│   Используем широту и долготу — но они ведут себя странно:                 │
│   • На полюсе долгота не определена                                         │
│   • "Метр на восток" имеет разную длину на экваторе и в Москве             │
│                                                                             │
│   В разных точках базисные векторы ∂/∂φ и ∂/∂θ имеют разную длину!        │
│   Это ВЫНУЖДАЕТ нас думать о преобразованиях координат.                     │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ВЫВОД: ЧТО ДОЛЖЕН УМЕТЬ "ПРАВИЛЬНЫЙ" МАТЕМАТИЧЕСКИЙ ОБЪЕКТ                  │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Физическая величина (скорость, сила, напряжение, метрика) должна:           │
│                                                                             │
│   1. СУЩЕСТВОВАТЬ независимо от выбора координат                            │
│   2. ИМЕТЬ КОМПОНЕНТЫ, которые меняются при смене координат                 │
│   3. МЕНЯТЬСЯ ПО ОПРЕДЕЛЁННОМУ ЗАКОНУ, чтобы величина оставалась той же    │
│                                                                             │
│ Объект, удовлетворяющий этим требованиям, называется ТЕНЗОР.                │
│                                                                             │
│ МАТРИЦА ПЕРЕХОДА A — это просто запись того, как новые базисные            │
│ векторы выражаются через старые. Она ВЫНУЖДЕНА быть именно такой,           │
│ потому что базисные векторы — это конкретные геометрические объекты.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: ТЕПЛОПРОВОДНОСТЬ В СЛОИСТОМ МАТЕРИАЛЕ                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Есть слоистая теплоизоляция: слои идут горизонтально.                       │
│                                                                             │
│   • Вдоль слоёв теплопроводность λ∥ = 0.5 Вт/(м·К)                         │
│   • Поперёк слоёв теплопроводность λ⊥ = 0.05 Вт/(м·К)                      │
│                                                                             │
│ Если оси координат совпадают со слоями:                                     │
│                                                                             │
│       λ = ⎛ 0.5   0  ⎞    Диагональная матрица — просто!                   │
│           ⎝  0   0.05⎠                                                      │
│                                                                             │
│ Теперь ПОВЕРНЁМ координаты на 45°. Слои остались теми же!                  │
│ Но матрица теплопроводности изменится:                                      │
│                                                                             │
│       λ' = R⁻¹ λ R = ⎛ 0.275  0.225 ⎞    Появились недиагональные         │
│                       ⎝ 0.225  0.275 ⎠    элементы!                         │
│                                                                             │
│ ЧТО ЭТО ЗНАЧИТ ФИЗИЧЕСКИ?                                                   │
│                                                                             │
│   В повёрнутых координатах: если градиент температуры направлен             │
│   по оси x', то тепловой поток будет НЕ по x', а под углом!                │
│   Потому что материал "хочет" проводить тепло вдоль слоёв.                  │
│                                                                             │
│   λ' ≠ λ  — компоненты РАЗНЫЕ                                              │
│   Но физический материал — ОДИН И ТОТ ЖЕ                                   │
│   λ и λ' описывают ОДИН объект в разных координатах                        │
│                                                                             │
│ ЗАКОН ПРЕОБРАЗОВАНИЯ λ' = R⁻¹λR — не произвольный выбор.                   │
│ Он ВЫНУЖДЕН быть таким, чтобы тепловой поток q = −λ∇T                      │
│ был одним и тем же физическим вектором в любых координатах.                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A6.1a ЗАЧЕМ НУЖНЫ ТЕНЗОРЫ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проблема 1: Физические величины не должны зависеть от координат!            │
│   • Температура — одна, как ни поверни оси                                  │
│   • Скорость — один вектор, но компоненты меняются                          │
│   • Напряжение в материале — как описать?                                   │
│                                                                             │
│ Проблема 2: Нужны объекты "сложнее" векторов                                │
│   • Скаляр принимает точку → даёт число                                     │
│   • Вектор... что он принимает? что даёт?                                   │
│   • Матрица действует на вектор → даёт вектор                               │
│   • Метрика принимает ДВА вектора → даёт число (длину/угол)                 │
│                                                                             │
│ Решение: Тензор = мультилинейное отображение с определённым законом         │
│          преобразования координат                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.2  МУЛЬТИЛИНЕЙНОСТЬ — КЛЮЧЕВАЯ ИДЕЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: МУЛЬТИЛИНЕЙНОЕ ОТОБРАЖЕНИЕ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Отображение T: V₁ × V₂ × ... × Vₖ → W называется мультилинейным             │
│ (или k-линейным), если оно линейно по КАЖДОМУ аргументу отдельно:           │
│                                                                             │
│   T(v₁, ..., αuᵢ + βwᵢ, ..., vₖ) = αT(v₁,...,uᵢ,...,vₖ) + βT(v₁,...,wᵢ,...,vₖ)   │
│                                                                             │
│ для всех i = 1, ..., k.                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЯСНЕНИЕ: ЧТО ЗНАЧИТ "ЛИНЕЙНО ПО КАЖДОМУ АРГУМЕНТУ"                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Представьте функцию f(x, y) двух переменных.                                │
│                                                                             │
│ "Линейно по x" означает:                                                    │
│   Если ЗАФИКСИРОВАТЬ y, то f ведёт себя как линейная функция от x:          │
│   f(αx₁ + βx₂, y) = α·f(x₁, y) + β·f(x₂, y)                                │
│                                                                             │
│ "Линейно по y" означает:                                                    │
│   Если ЗАФИКСИРОВАТЬ x, то f ведёт себя как линейная функция от y:          │
│   f(x, αy₁ + βy₂) = α·f(x, y₁) + β·f(x, y₂)                                │
│                                                                             │
│ "Билинейно" = линейно по x И линейно по y (одновременно).                   │
│                                                                             │
│ КОНКРЕТНЫЙ ЧИСЛОВОЙ ПРИМЕР: Скалярное произведение в ℝ²                     │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ Скалярное произведение: ⟨u, v⟩ = u₁v₁ + u₂v₂                               │
│                                                                             │
│ Возьмём конкретные векторы:                                                 │
│   u = (1, 2),  v = (3, 0),  w = (0, 1)                                      │
│                                                                             │
│ ПРОВЕРКА ЛИНЕЙНОСТИ ПО ПЕРВОМУ АРГУМЕНТУ:                                   │
│                                                                             │
│   Вычислим ⟨2u + 3w, v⟩ двумя способами:                                   │
│                                                                             │
│   Способ 1 (напрямую):                                                      │
│     2u + 3w = 2·(1,2) + 3·(0,1) = (2,4) + (0,3) = (2, 7)                   │
│     ⟨(2,7), (3,0)⟩ = 2·3 + 7·0 = 6                                         │
│                                                                             │
│   Способ 2 (через линейность):                                              │
│     2·⟨u, v⟩ + 3·⟨w, v⟩ = 2·⟨(1,2),(3,0)⟩ + 3·⟨(0,1),(3,0)⟩               │
│                         = 2·(1·3 + 2·0) + 3·(0·3 + 1·0)                     │
│                         = 2·3 + 3·0 = 6  ✓                                  │
│                                                                             │
│   Результаты совпали — линейность по первому аргументу работает!            │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   Мультилинейность позволяет "разбирать" сложные выражения на части.        │
│   Вместо вычисления T(сложная_комбинация) можно разложить на                │
│   простые слагаемые и сложить результаты.                                   │
│                                                                             │
│ КОНТРПРИМЕР — НОРМА НЕ ЛИНЕЙНА:                                             │
│   ‖2u‖ = ‖(2,4)‖ = √(4+16) = √20 ≈ 4.47                                   │
│   2·‖u‖ = 2·‖(1,2)‖ = 2·√5 ≈ 4.47  ✓ (тут совпало)                        │
│                                                                             │
│   НО: ‖(−1)·u‖ = ‖(−1,−2)‖ = √5 ≈ 2.24                                    │
│       (−1)·‖u‖ = −√5 ≈ −2.24  ✗ (не совпало!)                              │
│                                                                             │
│   Норма даёт ВСЕГДА положительное число, а (−1)·‖u‖ отрицательно.          │
│   Поэтому норма — не линейна, и следовательно — не тензор.                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ МУЛЬТИЛИНЕЙНЫХ ОТОБРАЖЕНИЙ                                          │
├────────────────────┬────────────────────────┬───────────────────────────────┤
│ ОТОБРАЖЕНИЕ        │ ТИП                    │ ПРОВЕРКА МУЛЬТИЛИНЕЙНОСТИ     │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│                    │                        │                               │
│ Скалярное произв.  │ V × V → ℝ              │ ⟨αu, v⟩ = α⟨u,v⟩ ✓           │
│ ⟨u, v⟩             │ билинейное (k=2)       │ ⟨u, αv⟩ = α⟨u,v⟩ ✓           │
│                    │                        │                               │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│                    │                        │                               │
│ Определитель       │ V × V × ... × V → ℝ    │ det(..., αv, ...) =           │
│ det(v₁,...,vₙ)     │ n-линейное             │   = α·det(..., v, ...) ✓      │
│                    │                        │                               │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│                    │                        │                               │
│ Векторное произв.  │ V × V → V              │ (αu) × v = α(u × v) ✓         │
│ u × v              │ билинейное             │ u × (αv) = α(u × v) ✓         │
│                    │                        │                               │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│                    │                        │                               │
│ Метрика            │ TₚM × TₚM → ℝ          │ g(αu, v) = αg(u,v) ✓          │
│ g(u, v)            │ билинейное             │ g(u, αv) = αg(u,v) ✓          │
│                    │                        │                               │
├────────────────────┼────────────────────────┼───────────────────────────────┤
│                    │                        │                               │
│ Кривизна Римана    │ TₚM × TₚM × TₚM → TₚM  │ R(αX,Y)Z = αR(X,Y)Z ✓         │
│ R(X,Y)Z            │ трилинейное            │ (линейно по всем трём)        │
│                    │                        │                               │
└────────────────────┴────────────────────────┴───────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНТРПРИМЕР: ЧТО НЕ ЯВЛЯЕТСЯ МУЛЬТИЛИНЕЙНЫМ                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Норма ‖v‖ = √⟨v,v⟩ — НЕ линейна!                                           │
│                                                                             │
│   ‖αv‖ = |α|·‖v‖ ≠ α·‖v‖  (для α < 0)                                      │
│                                                                             │
│ Норма — это НЕ тензор. Это функция, но не линейная.                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.3  ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ ТЕНЗОРА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ТЕНЗОР ТИПА (p, q)                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть V — векторное пространство над ℝ, V* — его двойственное.              │
│                                                                             │
│ Тензор типа (p, q) на V — это мультилинейное отображение:                   │
│                                                                             │
│   T: V* × ... × V* × V × ... × V → ℝ                                        │
│      └────p штук────┘ └───q штук───┘                                        │
│                                                                             │
│ p называется контравариантной валентностью (верхние индексы)                │
│ q называется ковариантной валентностью (нижние индексы)                     │
│                                                                             │
│ Общая валентность (ранг) тензора = p + q                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌────────────────┬────────┬─────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ ТЕНЗОРОВ                                                              │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│ ТИП            │ (p,q)  │ ЧТО ЭТО / СКОЛЬКО КОМПОНЕНТ                        │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Скаляр         │ (0,0)  │ T: {} → ℝ (просто число)                            │
│                │        │ 1 компонента: T                                     │
│                │        │                                                     │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Вектор         │ (1,0)  │ T: V* → ℝ (линейная функция на ковекторах)          │
│                │        │ n компонент: Tⁱ                                     │
│                │        │ Отождествляется с элементом V через V ≅ V**         │
│                │        │                                                     │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Ковектор       │ (0,1)  │ T: V → ℝ (линейная функция на векторах)             │
│ (1-форма)      │        │ n компонент: Tᵢ                                     │
│                │        │ Это элемент V*                                      │
│                │        │                                                     │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Билинейная     │ (0,2)  │ T: V × V → ℝ                                        │
│ форма          │        │ n² компонент: Tᵢⱼ                                   │
│                │        │ Пример: метрика gᵢⱼ, скалярное произведение         │
│                │        │                                                     │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Линейный       │ (1,1)  │ T: V* × V → ℝ  или  T: V → V                        │
│ оператор       │        │ n² компонент: Tⁱⱼ                                   │
│                │        │ Пример: матрица преобразования                      │
│                │        │                                                     │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Тензор (2,0)   │ (2,0)  │ T: V* × V* → ℝ                                      │
│                │        │ n² компонент: Tⁱʲ                                   │
│                │        │ Пример: обратная метрика gⁱʲ                        │
│                │        │                                                     │
├────────────────┼────────┼─────────────────────────────────────────────────────┤
│                │        │                                                     │
│ Тензор Римана  │ (1,3)  │ R: V* × V × V × V → ℝ                               │
│                │        │ n⁴ компонент: Rⁱⱼₖₗ                                 │
│                │        │ (с симметриями: 20 независимых в 4D)                │
│                │        │                                                     │
└────────────────┴────────┴─────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОМПОНЕНТЫ ТЕНЗОРА В БАЗИСЕ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть {e₁, ..., eₙ} — базис V, {e¹, ..., eⁿ} — двойственный базис V*.      │
│                                                                             │
│ Компоненты тензора T типа (p,q):                                            │
│                                                                             │
│   T^{i₁...iₚ}_{j₁...jq} = T(e^{i₁}, ..., e^{iₚ}, e_{j₁}, ..., e_{jq})       │
│                                                                             │
│ Сам тензор восстанавливается:                                               │
│                                                                             │
│   T = T^{i₁...iₚ}_{j₁...jq} · e_{i₁} ⊗ ... ⊗ e_{iₚ} ⊗ e^{j₁} ⊗ ... ⊗ e^{jq} │
│                                                                             │
│ (суммирование по повторяющимся индексам — соглашение Эйнштейна)             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВОЕ РАЗЛИЧИЕ: МАТРИЦА-ТАБЛИЦА vs МАТРИЦА-ТЕНЗОР                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Часто говорят "тензор — это многомерная таблица чисел". Это НЕПРАВИЛЬНО!    │
│ Таблица — это лишь ПРЕДСТАВЛЕНИЕ тензора в конкретном базисе.               │
│                                                                             │
│ МАТРИЦА КАК ТАБЛИЦА:                                                        │
│   Просто 4 числа в определённом порядке. Не меняются при смене базиса.      │
│   Пример: данные в Excel, пиксели изображения.                              │
│                                                                             │
│ МАТРИЦА КАК ТЕНЗОР:                                                         │
│   Числа + ТИП + ПРАВИЛО ПРЕОБРАЗОВАНИЯ.                                     │
│   При смене базиса числа меняются по определённому закону.                  │
│   Пример: метрика, линейный оператор, билинейная форма.                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: ОДНА МАТРИЦА — ТРИ РАЗНЫХ ТЕНЗОРА                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Возьмём единичную матрицу 2×2:                                              │
│                                                                             │
│       ⎛ 1  0 ⎞                                                              │
│   M = ⎜      ⎟                                                              │
│       ⎝ 0  1 ⎠                                                              │
│                                                                             │
│ Эта матрица может представлять ТРИ РАЗНЫХ тензора:                          │
│                                                                             │
│ ┌─────────────────────┬──────────┬───────────────────────────────────────┐  │
│ │ Тип тензора         │ Индексы  │ Что это                               │  │
│ ├─────────────────────┼──────────┼───────────────────────────────────────┤  │
│ │ (1,1) — оператор    │ Mⁱⱼ      │ Тождественное преобразование v ↦ v    │  │
│ │ (0,2) — билин.форма │ Mᵢⱼ      │ Стандартное скалярное произв. ⟨u,v⟩  │  │
│ │ (2,0) — бивектор    │ Mⁱʲ      │ Обратная метрика (поднимает индексы)  │  │
│ └─────────────────────┴──────────┴───────────────────────────────────────┘  │
│                                                                             │
│ Теперь применим смену базиса: растянем ось x в 2 раза.                      │
│                                                                             │
│ Матрица перехода: A = ⎛ 2  0 ⎞,  A⁻¹ = ⎛ 1/2  0 ⎞                          │
│                       ⎝ 0  1 ⎠         ⎝  0   1 ⎠                          │
│                                                                             │
│ РЕЗУЛЬТАТЫ ПРЕОБРАЗОВАНИЯ:                                                  │
│                                                                             │
│ ┌─────────────────┬────────────────────┬────────────────────┐               │
│ │ Тип             │ Формула            │ Результат          │               │
│ ├─────────────────┼────────────────────┼────────────────────┤               │
│ │ (1,1) оператор  │ M' = A⁻¹ M A       │ ⎛ 1  0 ⎞           │               │
│ │                 │                    │ ⎝ 0  1 ⎠           │               │
│ │                 │                    │ (не изменилась!)   │               │
│ ├─────────────────┼────────────────────┼────────────────────┤               │
│ │ (0,2) форма     │ M' = (A⁻¹)ᵀ M A⁻¹  │ ⎛ 1/4  0 ⎞         │               │
│ │                 │                    │ ⎝  0   1 ⎠         │               │
│ │                 │                    │ (сжалась по x)     │               │
│ ├─────────────────┼────────────────────┼────────────────────┤               │
│ │ (2,0) бивектор  │ M' = A M Aᵀ        │ ⎛ 4  0 ⎞           │               │
│ │                 │                    │ ⎝ 0  1 ⎠           │               │
│ │                 │                    │ (растянулась по x) │               │
│ └─────────────────┴────────────────────┴────────────────────┘               │
│                                                                             │
│ ВЫВОД:                                                                      │
│   Одна и та же таблица чисел ⎛1 0⎞ превратилась в ТРИ РАЗНЫЕ матрицы!      │
│                              ⎝0 1⎠                                         │
│   Тензор — это не числа, а числа + правило преобразования.                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧИСЛОВОЙ ПРИМЕР: КАК ВЫЧИСЛИТЬ ПРЕОБРАЗОВАНИЕ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проверим для типа (0,2) — билинейной формы:                                 │
│                                                                             │
│ M' = (A⁻¹)ᵀ M A⁻¹                                                           │
│                                                                             │
│     ⎛ 1/2  0 ⎞ᵀ   ⎛ 1  0 ⎞   ⎛ 1/2  0 ⎞                                    │
│   = ⎜        ⎟  · ⎜      ⎟ · ⎜        ⎟                                    │
│     ⎝  0   1 ⎠    ⎝ 0  1 ⎠   ⎝  0   1 ⎠                                    │
│                                                                             │
│     ⎛ 1/2  0 ⎞   ⎛ 1  0 ⎞   ⎛ 1/2  0 ⎞                                     │
│   = ⎜        ⎟ · ⎜      ⎟ · ⎜        ⎟                                     │
│     ⎝  0   1 ⎠   ⎝ 0  1 ⎠   ⎝  0   1 ⎠                                     │
│                                                                             │
│     ⎛ 1/2  0 ⎞   ⎛ 1/2  0 ⎞   ⎛ 1/4  0 ⎞                                   │
│   = ⎜        ⎟ · ⎜        ⎟ = ⎜        ⎟  ✓                                │
│     ⎝  0   1 ⎠   ⎝  0   1 ⎠   ⎝  0   1 ⎠                                   │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ:                                                           │
│   Если M описывает стандартное скалярное произведение ⟨u,v⟩ = u₁v₁ + u₂v₂, │
│   то при растяжении оси x "единичный вектор" становится длиннее,            │
│   и компоненты ⟨·,·⟩ должны уменьшиться, чтобы длины остались теми же.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРИТЕРИЙ: КАК ПОНЯТЬ, ТЕНЗОР ЭТО ИЛИ ПРОСТО ТАБЛИЦА?                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Задайте вопрос: "Должны ли эти числа меняться при смене системы координат,  │
│                  чтобы описывать тот же самый физический/геометрический     │
│                  объект?"                                                   │
│                                                                             │
│ ┌────────────────────────────────┬──────────────────────────────────────┐   │
│ │ ПРОСТО ТАБЛИЦА                 │ ТЕНЗОР                               │   │
│ ├────────────────────────────────┼──────────────────────────────────────┤   │
│ │ Пиксели изображения            │ Метрика пространства gᵢⱼ             │   │
│ │ Данные в базе данных           │ Тензор напряжений в материале        │   │
│ │ Коэффициенты уравнения         │ Тензор инерции тела                  │   │
│ │ (в фиксированных координатах)  │ Электромагнитный тензор Fᵢⱼ          │   │
│ ├────────────────────────────────┼──────────────────────────────────────┤   │
│ │ Смена координат: числа те же   │ Смена координат: числа меняются      │   │
│ │                                │ по определённому закону              │   │
│ └────────────────────────────────┴──────────────────────────────────────┘   │
│                                                                             │
│ ВЫВОД:                                                                      │
│   Тензор = абстрактный объект, НЕ ЗАВИСЯЩИЙ от координат.                   │
│   Компоненты тензора = числа, которые ЗАВИСЯТ от координат так,             │
│   чтобы сам тензор оставался тем же.                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.4  ТЕНЗОРНОЕ ПРОИЗВЕДЕНИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ УНИВЕРСАЛЬНОЕ СВОЙСТВО (каноническое определение)                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Тензорное произведение V ⊗ W — это пространство с билинейным отображением   │
│ ⊗: V × W → V ⊗ W, через которое ФАКТОРИЗУЕТСЯ любое билинейное отображение:│
│                                                                             │
│     V × W ──⊗──→ V ⊗ W                                                     │
│        ╲          ↓ ∃! линейное                                            │
│      B  ╲        ↙                                                         │
│     (билин.) ╲  ↙                                                          │
│              U                                                              │
│                                                                             │
│ Для любого билинейного B: V × W → U существует ЕДИНСТВЕННОЕ линейное        │
│ отображение B̃: V ⊗ W → U такое, что B = B̃ ∘ ⊗.                            │
│                                                                             │
│ СМЫСЛ: V ⊗ W — "самое общее" пространство, куда можно билинейно отобразить. │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНСТРУКЦИЯ (для конечномерных пространств)                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В конечномерном случае V ⊗ W можно отождествить с пространством             │
│ билинейных форм на V* × W*:                                                 │
│                                                                             │
│ Для v ∈ V и w ∈ W определяем v ⊗ w ∈ V ⊗ W:                                │
│                                                                             │
│   (v ⊗ w)(φ, ψ) = φ(v) · ψ(w)   для φ ∈ V*, ψ ∈ W*                         │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   • (αv) ⊗ w = v ⊗ (αw) = α(v ⊗ w)                                         │
│   • (v₁ + v₂) ⊗ w = v₁ ⊗ w + v₂ ⊗ w                                        │
│   • v ⊗ (w₁ + w₂) = v ⊗ w₁ + v ⊗ w₂                                        │
│   • dim(V ⊗ W) = dim(V) · dim(W)                                            │
│                                                                             │
│ БАЗИС:                                                                      │
│   Если {eᵢ} — базис V, {fⱼ} — базис W, то {eᵢ ⊗ fⱼ} — базис V ⊗ W.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОСТРАНСТВО ТЕНЗОРОВ КАК ТЕНЗОРНОЕ ПРОИЗВЕДЕНИЕ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пространство тензоров типа (p,q) на V:                                      │
│                                                                             │
│   T^p_q(V) = V ⊗ ... ⊗ V ⊗ V* ⊗ ... ⊗ V*                                   │
│              └───p штук───┘ └────q штук────┘                                │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • T⁰₀(V) = ℝ                     (скаляры)                                │
│   • T¹₀(V) = V                     (векторы)                                │
│   • T⁰₁(V) = V*                    (ковекторы)                              │
│   • T¹₁(V) = V ⊗ V* ≅ End(V)       (линейные операторы)                     │
│   • T⁰₂(V) = V* ⊗ V*              (билинейные формы)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: ТЕНЗОРНОЕ ПРОИЗВЕДЕНИЕ В КОМПОНЕНТАХ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть v = (v¹, v², v³), w = (w¹, w²) — векторы в ℝ³ и ℝ².                  │
│                                                                             │
│ Тогда v ⊗ w — матрица 3×2:                                                 │
│                                                                             │
│   (v ⊗ w)ⁱʲ = vⁱ wʲ                                                        │
│                                                                             │
│       ⎛ v¹w¹  v¹w² ⎞                                                       │
│   =   ⎜ v²w¹  v²w² ⎟                                                       │
│       ⎝ v³w¹  v³w² ⎠                                                       │
│                                                                             │
│ Это матрица РАНГА 1 (все строки пропорциональны).                           │
│ Не всякая матрица — тензорное произведение двух векторов!                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.5  ПРЕОБРАЗОВАНИЕ КООРДИНАТ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАТРИЦА ПЕРЕХОДА A — ЧТО ЭТО ТАКОЕ                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Матрица перехода A описывает, как НОВЫЕ базисные векторы выражаются        │
│ через СТАРЫЕ:                                                               │
│                                                                             │
│   e'₁ = A¹₁e₁ + A²₁e₂ + ...                                                │
│   e'₂ = A¹₂e₁ + A²₂e₂ + ...                                                │
│   ...                                                                       │
│                                                                             │
│ Или компактно: e'ⱼ = Aⁱⱼ eᵢ  (j-й новый = линейная комбинация старых)      │
│                                                                             │
│ ПРИМЕР: Растяжение оси x в 2 раза                                          │
│                                                                             │
│   Старый базис: e₁ = (1,0), e₂ = (0,1)                                     │
│   Новый базис:  e'₁ = (2,0) = 2e₁, e'₂ = (0,1) = e₂                        │
│                                                                             │
│   Матрица перехода: A = ⎛ 2  0 ⎞                                           │
│                         ⎝ 0  1 ⎠                                           │
│                                                                             │
│   Столбцы A — это координаты новых базисных векторов в старом базисе.      │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ:                                                           │
│   • A описывает, как изменились "единицы измерения"                        │
│   • A = поворот → повернули оси координат                                  │
│   • A = растяжение → укрупнили/измельчили шкалу                            │
│   • Это ПАССИВНОЕ преобразование: объекты те же, меняется только описание  │
│                                                                             │
│ ВАЖНО:                                                                      │
│   A⁻¹ — обратная матрица — переводит из новых координат в старые           │
│   det(A) ≠ 0 — базисы должны быть невырожденными                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАКОН ПРЕОБРАЗОВАНИЯ ТЕНЗОРОВ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ При замене базиса e'ᵢ = Aⱼᵢ eⱼ компоненты тензора преобразуются:           │
│                                                                             │
│ ВЕКТОР (контравариантный, верхний индекс):                                  │
│   v'ⁱ = (A⁻¹)ⁱⱼ vʲ    — преобразуется ПРОТИВОПОЛОЖНО базису                │
│                                                                             │
│ КОВЕКТОР (ковариантный, нижний индекс):                                     │
│   ω'ᵢ = Aʲᵢ ωⱼ        — преобразуется КАК базис                            │
│                                                                             │
│ ТЕНЗОР ТИПА (p,q):                                                          │
│   T'^{i₁...iₚ}_{j₁...jq} = (A⁻¹)^{i₁}_{k₁}...(A⁻¹)^{iₚ}_{kₚ} ·             │
│                            · A^{l₁}_{j₁}...A^{lq}_{jq} ·                    │
│                            · T^{k₁...kₚ}_{l₁...lq}                          │
│                                                                             │
│ КЛЮЧЕВОЕ:                                                                   │
│   Верхние индексы преобразуются через A⁻¹ (контравариантно)                 │
│   Нижние индексы преобразуются через A (ковариантно)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ "КОНТРА" И "КО" — НАГЛЯДНОЕ СРАВНЕНИЕ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Ситуация: удлинили базисный вектор вдвое (e' = 2e)                          │
│           Новая "единица измерения" = 2 старых                              │
│                                                                             │
├───────────────────────┬─────────────────────────┬───────────────────────────┤
│                       │ ВЕКТОР vⁱ               │ КОВЕКТОР ωᵢ               │
│                       │ (контравариантный)      │ (ковариантный)            │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Геом. смысл           │ "Куда двигаться"        │ "Цена за единицу"         │
│                       │ (стрелка)               │ (дифференциал df)         │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Пример                │ v = 3e₁ (смещение)      │ ω = 10ε¹ (цена)           │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ В старом базисе       │ v¹ = 3                  │ ω₁ = 10                   │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ В новом базисе        │ v'¹ = 1.5               │ ω'₁ = 20                  │
│ (e' = 2e)             │ (компоненты ÷2)         │ (компоненты ×2)           │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Направление           │ ПРОТИВ базиса           │ ВМЕСТЕ с базисом          │
│ преобразования        │ (базис ×2 → комп. ÷2)   │ (базис ×2 → комп. ×2)     │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Почему так            │ Вектор v ОДИН И ТОТ ЖЕ, │ Ковектор "цена за единицу"│
│                       │ просто меряем в других  │ Единица стала больше →    │
│                       │ единицах                │ цена за неё тоже больше   │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Формула               │ v'ⁱ = (A⁻¹)ⁱⱼ vʲ       │ ω'ᵢ = Aʲᵢ ωⱼ             │
│ преобразования        │                         │                           │
├───────────────────────┼─────────────────────────┼───────────────────────────┤
│ Индекс                │ ВЕРХНИЙ                 │ НИЖНИЙ                    │
├───────────────────────┴─────────────────────────┴───────────────────────────┤
│                                                                             │
│ ПРОВЕРКА ИНВАРИАНТА:                                                        │
│   Старый базис: v¹ω₁ = 3 × 10 = 30                                          │
│   Новый базис:  v'¹ω'₁ = 1.5 × 20 = 30  ✓                                   │
│                                                                             │
│ vⁱωᵢ — ИНВАРИАНТ (не зависит от базиса, потому что контра × ко)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ СВЁРТКИ (ИНВАРИАНТЫ)                                                │
├────────────────────────────┬────────────────────────────────────────────────┤
│ СВЁРТКА                    │ СМЫСЛ                                          │
├────────────────────────────┼────────────────────────────────────────────────┤
│ vⁱvᵢ = gᵢⱼvⁱvʲ            │ Квадрат длины вектора ‖v‖²                     │
├────────────────────────────┼────────────────────────────────────────────────┤
│ vⁱωᵢ                       │ Действие ковектора на вектор (число)           │
├────────────────────────────┼────────────────────────────────────────────────┤
│ Tⁱᵢ                        │ След матрицы Tr(T)                             │
├────────────────────────────┼────────────────────────────────────────────────┤
│ Rⁱⱼᵢⱼ = R                  │ Скалярная кривизна (из тензора Римана)         │
├────────────────────────────┼────────────────────────────────────────────────┤
│ FᵢⱼFⁱʲ                     │ Инвариант электромагнитного поля               │
└────────────────────────────┴────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.6  ОПЕРАЦИИ НАД ТЕНЗОРАМИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА ОПЕРАЦИЙ                                                            │
├─────────────────────┬─────────────────────┬─────────────────────────────────┤
│ ОПЕРАЦИЯ            │ ДЕЙСТВИЕ НА ТИПЫ    │ ПРИМЕР                          │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Сложение            │ (p,q) + (p,q) →     │ (Sⁱⱼ + Tⁱⱼ)                     │
│                     │ → (p,q)             │ Только одинаковые типы!         │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Тензорное           │ (p₁,q₁) ⊗ (p₂,q₂) →│ (vⁱ)(wʲ) = vⁱwʲ               │
│ произведение        │ → (p₁+p₂, q₁+q₂)   │ Ранг складывается               │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Свёртка             │ (p,q) → (p−1,q−1)   │ Tⁱⱼₖ → Tⁱⱼᵢ = Sⱼ              │
│ (trace)             │ Ранг уменьшается    │ Суммируем по повтор. индексу    │
│                     │ на 2                │                                 │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Поднятие            │ gⁱʲTⱼₖ = Tⁱₖ       │ Нижний → верхний                │
│ индекса             │ (0,2) ⊗ (1,1) →    │ С помощью обратной метрики      │
│                     │ → свёртка → (1,1)   │                                 │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Опускание           │ gᵢⱼTʲ = Tᵢ         │ Верхний → нижний                │
│ индекса             │                     │ С помощью метрики               │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Симметризация       │ T₍ᵢⱼ₎ = ½(Tᵢⱼ+Tⱼᵢ) │ Симметричная часть              │
│                     │                     │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│                     │                     │                                 │
│ Антисимметризация   │ T₍ᵢⱼ₎ = ½(Tᵢⱼ−Tⱼᵢ) │ Антисимметричная часть          │
│                     │                     │ → дифференциальные формы!       │
│                     │                     │                                 │
└─────────────────────┴─────────────────────┴─────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.7  ТЕНЗОРЫ В ФИЗИКЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЕ ФИЗИЧЕСКИЕ ТЕНЗОРЫ                                                  │
├───────────────────────┬──────┬──────────────────────────────────────────────┤
│ ТЕНЗОР                │ ТИП  │ ЧТО ОПИСЫВАЕТ                                │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Метрика gᵢⱼ           │(0,2) │ Как измерять расстояния                      │
│                       │      │ ds² = gᵢⱼ dxⁱdxʲ                             │
│                       │      │ Евклидово: gᵢⱼ = δᵢⱼ                         │
│                       │      │ Минковского: g = diag(−1,1,1,1)              │
│                       │      │                                              │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Тензор Римана         │(1,3) │ Кривизна пространства                        │
│ Rⁱⱼₖₗ                 │      │ Измеряет поворот вектора при обходе контура  │
│                       │      │ R = 0 ⟺ пространство плоское                │
│                       │      │                                              │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Тензор Риччи          │(0,2) │ "След" тензора Римана                        │
│ Rᵢⱼ = Rᵏᵢₖⱼ           │      │ Входит в уравнения Эйнштейна                 │
│                       │      │                                              │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Тензор энергии-       │(0,2) │ Распределение материи                        │
│ импульса Tᵢⱼ          │      │ T₀₀ = плотность энергии                      │
│                       │      │ T₀ᵢ = поток энергии = плотность импульса     │
│                       │      │ Tᵢⱼ = давление/напряжение                    │
│                       │      │                                              │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Электромагнитный      │(0,2) │ E и B поля как один объект                   │
│ тензор Fᵢⱼ            │      │ Антисимметричный: Fᵢⱼ = −Fⱼᵢ                 │
│                       │      │ → дифференциальная 2-форма!                  │
│                       │      │                                              │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Тензор инерции        │(0,2) │ Как тело сопротивляется вращению             │
│ Iᵢⱼ                   │      │ L = Iω (момент импульса = инерция × угл.ск.) │
│                       │      │                                              │
├───────────────────────┼──────┼──────────────────────────────────────────────┤
│                       │      │                                              │
│ Тензор напряжений     │(0,2) │ Силы внутри материала                        │
│ σᵢⱼ                   │      │ σᵢⱼ = сила в направлении j на площадке ⊥ i   │
│                       │      │                                              │
└───────────────────────┴──────┴──────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ УРАВНЕНИЯ ЭЙНШТЕЙНА — ТЕНЗОРЫ В ДЕЙСТВИИ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                    Rᵢⱼ − ½gᵢⱼR + Λgᵢⱼ = 8πG · Tᵢⱼ                          │
│                    \________________/         \____/                        │
│                         геометрия             материя                       │
│                    (кривизна пр-ва)                                         │
│                                                                             │
│ ЛЕВАЯ ЧАСТЬ:                                                                │
│   • Rᵢⱼ — тензор Риччи (кривизна)                                          │
│   • R = gⁱʲRᵢⱼ — скалярная кривизна                                        │
│   • Λ — космологическая постоянная                                          │
│   • gᵢⱼ — метрика пространства-времени                                      │
│                                                                             │
│ ПРАВАЯ ЧАСТЬ:                                                               │
│   • Tᵢⱼ — распределение энергии и импульса                                 │
│   • G — гравитационная постоянная                                           │
│                                                                             │
│ СМЫСЛ: Материя искривляет пространство. Кривизна определяет движение.       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A6.8  СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАФ СВЯЗЕЙ РАЗДЕЛА A6                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   A3 (Лин. алгебра)                                                         │
│        │                                                                    │
│        │ векторные пространства, V*                                         │
│        ▼                                                                    │
│   A4 (Произведения)                                                         │
│        │                                                                    │
│        │ скалярное ⊗ тензорное                                              │
│        ▼                                                                    │
│   A5 (Двойственность)                                                       │
│        │                                                                    │
│        │ V* — двойственное пространство                                      │
│        ▼                                                                    │
│   ▶ A6 (ТЕНЗОРЫ) ◀                                                          │
│        │                                                                    │
│        ├──────────────► A8 (Диф. формы) — антисимметричные тензоры          │
│        │                                                                    │
│        ├──────────────► A7 (Многообразия) — тензорные поля на M             │
│        │                                                                    │
│        └──────────────► Часть V (Физика) — ОТО, электромагнетизм              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕЗЮМЕ: ЧТО ТАКОЕ ТЕНЗОР                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТРИ ЭКВИВАЛЕНТНЫХ ОПРЕДЕЛЕНИЯ:                                              │
│                                                                             │
│ 1. АЛГЕБРАИЧЕСКОЕ:                                                          │
│    Тензор типа (p,q) — мультилинейное отображение                           │
│    T: V* × ... × V* × V × ... × V → ℝ                                       │
│                                                                             │
│ 2. ЧЕРЕЗ БАЗИС:                                                             │
│    Набор чисел T^{i₁...iₚ}_{j₁...jq} с определённым законом                 │
│    преобразования при замене базиса                                         │
│                                                                             │
│ 3. ГЕОМЕТРИЧЕСКОЕ:                                                          │
│    Тензор — это объект, который существует независимо от координат,         │
│    но может быть выражен в компонентах в любой системе координат            │
│                                                                             │
│ ВСЕ ТРИ ОПРЕДЕЛЕНИЯ ЭКВИВАЛЕНТНЫ!                                           │
│                                                                             │
│ ВАЖНО ПОМНИТЬ:                                                              │
│   • Тензор ≠ таблица чисел. Таблица — лишь представление в конкретном базисе│
│   • Одна и та же матрица может быть тензором РАЗНЫХ типов                   │
│   • Тип тензора определяет, КАК числа меняются при смене базиса             │
│   • Ковектор (элемент V*) — это линейная функция на векторах, не вектор     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ БОНУС: Π-ТЕОРЕМА И КРИТЕРИИ ПОДОБИЯ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Это не про тензоры напрямую, но про РАЗМЕРНОСТИ — фундамент физики.        │
│                                                                             │
│ ПРОБЛЕМА: Потери давления в трубе ΔP зависят от ρ, v, D, L, μ, ε.          │
│ Это 7 величин! Как найти зависимость?                                       │
│                                                                             │
│ Π-ТЕОРЕМА БАКИНГЕМА:                                                        │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Если n величин связаны физическим законом, и эти величины выражаются   │ │
│ │ через k базовых размерностей (M, L, T, ...), то закон можно записать   │ │
│ │ как связь (n − k) БЕЗРАЗМЕРНЫХ комбинаций.                              │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: Потери в трубе                                                      │
│   n = 7 (ΔP, ρ, v, D, L, μ, ε), k = 3 (M, L, T) → 4 безразмерных числа     │
│                                                                             │
│   Π₁ = ΔP/(ρv²)    — коэффициент давления (Эйлер)                          │
│   Π₂ = ρvD/μ       — число Рейнольдса Re                                   │
│   Π₃ = L/D         — относительная длина                                   │
│   Π₄ = ε/D         — относительная шероховатость                           │
│                                                                             │
│   Закон: Π₁ = f(Π₂, Π₃, Π₄), или:  ΔP/(ρv²) = f(Re, L/D, ε/D)             │
│                                                                             │
│   Это даёт формулу Дарси-Вейсбаха: ΔP = λ(Re, ε/D)·(L/D)·(ρv²/2)          │
│                                                                             │
│ ГЛАВНЫЕ БЕЗРАЗМЕРНЫЕ ЧИСЛА ТЕПЛОФИЗИКИ:                                     │
│ ┌──────────────┬─────────────────┬──────────────────────────────────────┐   │
│ │ ЧИСЛО        │ ФОРМУЛА         │ ФИЗИЧЕСКИЙ СМЫСЛ                     │   │
│ ├──────────────┼─────────────────┼──────────────────────────────────────┤   │
│ │ Рейнольдса   │ Re = ρvL/μ      │ Инерция / Вязкость                   │   │
│ │              │                 │ Re < 2300: ламинар, Re > 4000: турб. │   │
│ ├──────────────┼─────────────────┼──────────────────────────────────────┤   │
│ │ Прандтля     │ Pr = ν/a = μcₚ/λ│ Вязкая диффузия / Температурная      │   │
│ │              │                 │ Pr ≈ 0.7 газы, Pr ≈ 7 вода           │   │
│ ├──────────────┼─────────────────┼──────────────────────────────────────┤   │
│ │ Нуссельта    │ Nu = αL/λ       │ Конвекция / Теплопроводность         │   │
│ │              │                 │ Nu = 1: чистая кондукция             │   │
│ ├──────────────┼─────────────────┼──────────────────────────────────────┤   │
│ │ Грасгофа     │ Gr = gβΔTL³/ν²  │ Плавучесть / Вязкость                │   │
│ │              │                 │ Свободная конвекция                  │   │
│ ├──────────────┼─────────────────┼──────────────────────────────────────┤   │
│ │ Маха         │ Ma = v/c        │ Скорость / Скорость звука            │   │
│ │              │                 │ Ma > 1: сверхзвук, скачки уплотнения │   │
│ └──────────────┴─────────────────┴──────────────────────────────────────┘   │
│                                                                             │
│ ЗАЧЕМ ЭТО НУЖНО:                                                            │
│   • Моделирование: если Re модели = Re оригинала → потоки подобны         │
│   • Корреляции: Nu = f(Re, Pr) — универсальные формулы теплообмена        │
│   • Оценки: Re ~ 10⁶ → точно турбулентность, считаем по формулам для турб.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛУБОКАЯ СВЯЗЬ: Π-ТЕОРЕМА КАК СЛЕДСТВИЕ ГРУППЫ ЛИ МАСШТАБИРОВАНИЙ          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПОЧЕМУ Π-теорема работает? За ней стоит СИММЕТРИЯ — группа Ли!             │
│                                                                             │
│ ГРУППА МАСШТАБИРОВАНИЙ:                                                     │
│                                                                             │
│   G = (ℝ⁺, ×) — положительные вещественные числа с умножением             │
│   Это ГРУППА ЛИ: непрерывная, гладкая, одномерная                          │
│                                                                             │
│   Действие на размерные величины:                                           │
│     [L] → λ[L]         (длина масштабируется в λ раз)                      │
│     [T] → μ[T]         (время масштабируется в μ раз)                      │
│     [M] → ν[M]         (масса масштабируется в ν раз)                      │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ:                                                              │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Физический закон должен быть ИНВАРИАНТЕН относительно выбора единиц.   │ │
│ │ Это значит: закон инвариантен относительно группы масштабирований G.   │ │
│ │                                                                         │ │
│ │ Безразмерные числа (Re, Pr, Nu) — это ИНВАРИАНТЫ действия G!           │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ АЛГЕБРА ЛИ И РАЗМЕРНОСТЬ:                                                   │
│                                                                             │
│   Генератор масштабирований: D = x·∂/∂x + y·∂/∂y + z·∂/∂z + ...          │
│                                                                             │
│   Величина f имеет размерность [L]^a[T]^b[M]^c если:                       │
│     D·f = (a + b + c)·f     (собственная функция оператора D)              │
│                                                                             │
│   Безразмерная величина: D·Π = 0 (инвариант)                               │
│                                                                             │
│ ПРИМЕР: Почему Re = ρvL/μ безразмерно?                                      │
│                                                                             │
│   [ρ] = M/L³,  [v] = L/T,  [L] = L,  [μ] = M/(L·T)                        │
│                                                                             │
│   [ρvL/μ] = (M/L³)·(L/T)·L / (M/(L·T)) = (M·L·L)/(L³·T) × (L·T)/M = 1    │
│                                                                             │
│   Re инвариантно относительно λ → λL, μ → μT, ν → νM                      │
│                                                                             │
│ ОБОБЩЕНИЕ — ТЕОРИЯ НЁТЕР:                                                   │
│                                                                             │
│   Симметрия            ↔  Закон сохранения                                 │
│   Масштабирование      ↔  Размерный анализ, Π-теорема                      │
│   Трансляция времени   ↔  Сохранение энергии                               │
│   Трансляция в простр. ↔  Сохранение импульса                              │
│   Вращение             ↔  Сохранение момента импульса                      │
│                                                                             │
│ Все эти симметрии образуют ГРУППЫ ЛИ, и их алгебры Ли дают генераторы.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Тензоры живут на векторных пространствах. Но реальные пространства — кривые!
Поверхность Земли, пространство-время, конфигурационное пространство робота.
Как определить тензоры на искривлённом пространстве?

Для этого нужны многообразия — пространства, которые ЛОКАЛЬНО выглядят как ℝⁿ,
но глобально могут иметь сложную форму. В каждой точке есть касательное
пространство — и там-то и живут тензоры.
───────────────────────────────────────────────────────────────────────────────

A7. МНОГООБРАЗИЕ — ПРОСТРАНСТВО, КОТОРОЕ МОЖНО КАРТОГРАФИРОВАТЬ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.1  ЗАЧЕМ НУЖНЫ МНОГООБРАЗИЯ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проблема: Мы умеем работать с ℝⁿ (координаты, производные, интегралы).      │
│           Но реальные пространства — КРИВЫЕ!                                │
│                                                                             │
│   • Поверхность Земли — не плоскость                                        │
│   • Пространство-время — искривлено массой (ОТО!)                           │
│   • Пространство состояний робота — сложная форма                           │
│   • Пространство всех вращений — не ℝ³                                      │
│                                                                             │
│ Решение: Многообразие = пространство, которое ЛОКАЛЬНО похоже на ℝⁿ         │
│          Глобально может быть любой формы, но в каждой точке — "плоское"    │
│                                                                             │
│ Аналогия: Атлас мира. Земля круглая, но каждая страница атласа — плоская.   │
│           Достаточно карт покрывает всю Землю.                              │
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ:                                                              │
│   Мы НЕ МОЖЕМ работать с кривым пространством напрямую.                     │
│   Но можем разбить его на куски, каждый из которых "выпрямляется" в ℝⁿ.     │
│   Затем согласовать эти куски между собой.                                  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚠️  КРИТИЧЕСКОЕ РАЗЛИЧИЕ: ТОПОЛОГИЯ vs ГЕОМЕТРИЯ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МНОГООБРАЗИЕ (топологическое + гладкое) = только ФОРМА                     │
│   • Можно говорить о касательных, производных, дифф. формах                │
│   • НЕЛЬЗЯ говорить о длинах, углах, расстояниях!                          │
│   • Сфера и эллипсоид — ОДИНАКОВЫЕ многообразия (диффеоморфны)             │
│                                                                             │
│ РИМАНОВО МНОГООБРАЗИЕ = многообразие + МЕТРИКА gᵢⱼ                        │
│   • МОЖНО измерять длины, углы, площади                                    │
│   • Сфера и эллипсоид — РАЗНЫЕ (разные метрики)                            │
│                                                                             │
│ ⚠️ Частая ошибка инженеров: Криволинейные координаты в ℝ³                  │
│    (цилиндрические, сферические) — это НЕ кривизна пространства!           │
│    Пространство плоское (ℝ³), просто координаты "кривые".                  │
│    Кривизна — это свойство МЕТРИКИ, а не координат.                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.2  КАРТА (CHART) — ЛОКАЛЬНЫЕ КООРДИНАТЫ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: КАРТА                                                      │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Карта на топологическом пространстве M — это пара (U, φ), где:          │ │
│ │                                                                         │ │
│ │   • U ⊆ M — открытое множество (область карты)                          │ │
│ │   • φ: U → ℝⁿ — гомеоморфизм на открытое подмножество ℝⁿ                │ │
│ │                                                                         │ │
│ │ φ называется координатным отображением (или параметризацией).           │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ:                                                       │
│                                                                             │
│        M (многообразие)              ℝⁿ (координатное пространство)         │
│                                                                             │
│           ┌─────┐                         y                                 │
│          ╱   U   ╲        φ              ↑                                  │
│         │    ●p   │   ─────────→         │  ●φ(p)                           │
│          ╲       ╱                       │                                  │
│           └─────┘                        └──────→ x                         │
│                                                                             │
│   Карта "выпрямляет" кусок многообразия в плоское пространство.             │
│   Точка p ∈ U получает координаты φ(p) = (x¹, x², ..., xⁿ) ∈ ℝⁿ.           │
│                                                                             │
│ ПОЧЕМУ ГОМЕОМОРФИЗМ:                                                        │
│ ┌────────────────────┬──────────────────────────────────────────────────┐   │
│ │ СВОЙСТВО           │ ЧТО ОЗНАЧАЕТ                                     │   │
│ ├────────────────────┼──────────────────────────────────────────────────┤   │
│ │ φ биективна        │ Каждой точке U ↔ ровно одна точка в ℝⁿ          │   │
│ │ φ непрерывна       │ Близкие точки остаются близкими                  │   │
│ │ φ⁻¹ непрерывна     │ Можно вернуться обратно                          │   │
│ └────────────────────┴──────────────────────────────────────────────────┘   │
│                                                                             │
│ ПРИМЕРЫ КАРТ:                                                               │
│ ┌───────────────┬────────────────────────────┬──────────────────────────┐   │
│ │ МНОГООБРАЗИЕ  │ КАРТА                      │ ОСОБЕННОСТЬ              │   │
│ ├───────────────┼────────────────────────────┼──────────────────────────┤   │
│ │ ℝ             │ U=ℝ, φ=id                  │ Одной карты достаточно   │   │
│ │ S¹            │ U₁=S¹\{(−1,0)}, φ₁=угол θ  │ Одна карта НЕ покрывает! │   │
│ │               │ Нужна вторая: U₂=S¹\{(1,0)}│ → нужен атлас из 2 карт  │   │
│ └───────────────┴────────────────────────────┴──────────────────────────┘   │
│                                                                             │
│ Визуализация для S¹:                                                        │
│                                                                             │
│            ●──────────────●                     ─────●─────                  │
│           ╱    удалили     ╲      φ₁              −π   0   π                │
│          ●        ✕         ●   ────→                                       │
│           ╲     (−1,0)     ╱                                                │
│            ●──────────────●                                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.3  АТЛАС — НАБОР КАРТ, ПОКРЫВАЮЩИЙ ВСЁ МНОГООБРАЗИЕ                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: АТЛАС                                                      │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Атлас на M — это набор карт 𝒜 = {(Uα, φα)}α∈A такой, что:               │ │
│ │                                                                         │ │
│ │   ⋃ Uα = M    (карты покрывают всё многообразие)                        │ │
│ │   α                                                                     │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: Атлас для S¹ (минимальный)                                          │
│                                                                             │
│   Карта 1: U₁ = S¹ \ {(−1, 0)},  φ₁(cos θ, sin θ) = θ ∈ (−π, π)            │
│   Карта 2: U₂ = S¹ \ {(1, 0)},   φ₂(cos θ, sin θ) = θ ∈ (0, 2π)            │
│                                                                             │
│            Карта 1                         Карта 2                          │
│         ●──────────────●               ●──────────────●                     │
│        ╱                ╲             ╱                ╲                    │
│       ●        ✕         ●           ●         ✕        ●                   │
│        ╲    (−1,0)      ╱             ╲      (1,0)     ╱                    │
│         ●──────────────●               ●──────────────●                     │
│                                                                             │
│   U₁ ∪ U₂ = S¹  ✓  (вместе покрывают всю окружность)                        │
│                                                                             │
│ АНАЛОГИЯ С ГЕОГРАФИЕЙ:                                                      │
│   • Карта Европы покрывает Европу, но не Австралию                          │
│   • Карта Австралии покрывает Австралию, но не Европу                       │
│   • Вместе = весь мир (атлас)                                               │
│   • Там, где карты перекрываются — можно переходить с одной на другую       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.4  ФУНКЦИИ ПЕРЕХОДА — КАК СКЛЕИТЬ КАРТЫ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проблема: Если точка p лежит в двух картах (U₁, φ₁) и (U₂, φ₂),             │
│           у неё ДВА набора координат: φ₁(p) и φ₂(p).                        │
│           Как они связаны?                                                  │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ФУНКЦИЯ ПЕРЕХОДА                                           │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Функция перехода с карты (U₁, φ₁) на карту (U₂, φ₂):                    │ │
│ │                                                                         │ │
│ │   ψ₁₂ = φ₂ ∘ φ₁⁻¹ : φ₁(U₁ ∩ U₂) → φ₂(U₁ ∩ U₂)                          │ │
│ │                                                                         │ │
│ │ Это отображение ℝⁿ → ℝⁿ (между координатными пространствами!)           │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ДИАГРАММА:                                                                  │
│                                                                             │
│                           M                                                 │
│                        ╱     ╲                                              │
│                      U₁       U₂                                            │
│                        ╲  p  ╱                                              │
│                     φ₁ ↓ ● ↓ φ₂                                             │
│                        ╱     ╲                                              │
│                  φ₁(p)         φ₂(p)                                        │
│                    ∈ℝⁿ ──────→ ∈ℝⁿ                                          │
│                          ψ₁₂                                                │
│                                                                             │
│   ψ₁₂ переводит координаты из первой системы во вторую.                     │
│                                                                             │
│ ПРИМЕР: Функция перехода на S¹                                              │
│                                                                             │
│   Пересечение: U₁ ∩ U₂ = S¹ \ {(−1,0), (1,0)} — две дуги                    │
│                                                                             │
│   ┌──────────────────┬─────────────────┬─────────────────┬─────────────────┐│
│   │ ДУГА             │ φ₁ даёт         │ φ₂ даёт         │ ψ₁₂(θ) =        ││
│   ├──────────────────┼─────────────────┼─────────────────┼─────────────────┤│
│   │ Верхняя (sin>0)  │ θ ∈ (0, π)      │ θ ∈ (0, π)      │ θ (тождество)   ││
│   │ Нижняя (sin<0)   │ θ ∈ (−π, 0)     │ θ ∈ (π, 2π)     │ θ + 2π          ││
│   └──────────────────┴─────────────────┴─────────────────┴─────────────────┘│
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ: Функция перехода ψ₁₂: ℝⁿ → ℝⁿ — обычное отображение!       │
│ Мы умеем с ним работать. Если потребовать гладкость ψ₁₂ → гладкая структура.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.5  ГЛАДКАЯ СТРУКТУРА — КАКИЕ ПЕРЕХОДЫ РАЗРЕШЕНЫ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ГЛАДКИЙ АТЛАС                                              │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Атлас называется Cᵏ-гладким (или гладким класса Cᵏ), если               │ │
│ │ ВСЕ функции перехода ψαβ являются Cᵏ-гладкими (k раз                    │ │
│ │ непрерывно дифференцируемыми).                                          │ │
│ │                                                                         │ │
│ │ C∞-гладкий атлас: все переходы бесконечно дифференцируемы.              │ │
│ │ Такой атлас называют просто "гладким".                                  │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ГЛАДКОЕ МНОГООБРАЗИЕ                                       │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Гладкое многообразие размерности n — это топологическое пространство M  │ │
│ │ с максимальным C∞-гладким атласом.                                      │ │
│ │                                                                         │ │
│ │ ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ (обычно подразумеваются):                        │ │
│ │   • Хаусдорфовость: различные точки отделимы окрестностями             │ │
│ │   • Счётная база: топология имеет счётную базу                         │ │
│ │ (Без них возникают патологии, например "длинная прямая")               │ │
│ │                                                                         │ │
│ │ (Максимальный = содержит все карты, совместимые с данными)              │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ИЕРАРХИЯ СТРУКТУР:                                                          │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │ ТИП МНОГООБРАЗИЯ      │ ФУНКЦИИ ПЕРЕХОДА    │ ЧТО МОЖНО ДЕЛАТЬ      │   │
│   ├───────────────────────┼─────────────────────┼───────────────────────┤   │
│   │                       │                     │                       │   │
│   │ Топологическое        │ Гомеоморфизмы       │ Говорить о близости,  │   │
│   │                       │ (непрерывные)       │ связности, но НЕ о    │   │
│   │                       │                     │ производных           │   │
│   │                       │                     │                       │   │
│   ├───────────────────────┼─────────────────────┼───────────────────────┤   │
│   │                       │                     │                       │   │
│   │ C¹-гладкое            │ Дифференцируемые    │ Определять касательные│   │
│   │                       │ (1 производная)     │ векторы               │   │
│   │                       │                     │                       │   │
│   ├───────────────────────┼─────────────────────┼───────────────────────┤   │
│   │                       │                     │                       │   │
│   │ C∞-гладкое            │ Бесконечно          │ Дифференцировать      │   │
│   │ (просто "гладкое")    │ дифференцируемые    │ сколько угодно раз    │   │
│   │                       │                     │                       │   │
│   ├───────────────────────┼─────────────────────┼───────────────────────┤   │
│   │                       │                     │                       │   │
│   │ Аналитическое (Cω)    │ Аналитические       │ Раскладывать в ряды   │   │
│   │                       │ (ряд Тейлора)       │ Тейлора               │   │
│   │                       │                     │                       │   │
│   └───────────────────────┴─────────────────────┴───────────────────────┘   │
│                                                                             │
│ ЗАЧЕМ НУЖНА ГЛАДКОСТЬ:                                                      │
│                                                                             │
│   Задача: определить производную функции f: M → ℝ на многообразии          │
│                                                                             │
│   Ответ: Работаем в координатах!                                            │
│     1. Выбираем карту (U, φ) около точки p                                  │
│     2. Рассматриваем f ∘ φ⁻¹: ℝⁿ → ℝ (обычная функция!)                     │
│     3. Дифференцируем как обычно                                            │
│                                                                             │
│   Проблема: А если выбрать ДРУГУЮ карту?                                    │
│                                                                             │
│   Решение: Если функции перехода гладкие, то:                               │
│     ∂f/∂x' = (∂x/∂x') · (∂f/∂x)  (правило цепочки)                         │
│     Производные в разных картах согласованы!                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.6  ПОДРОБНЫЙ ПРИМЕР: АТЛАС ДЛЯ СФЕРЫ S²                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ S² = {(x, y, z) ∈ ℝ³ : x² + y² + z² = 1}                                    │
│                                                                             │
│ СПОСОБ 1: СТЕРЕОГРАФИЧЕСКАЯ ПРОЕКЦИЯ (минимальный атлас — 2 карты)          │
│                                                                             │
│ Карта 1: Проекция с северного полюса N = (0, 0, 1)                          │
│                                                                             │
│          N ●                                                                │
│           /|\                                                               │
│          / | \           Проецируем точку P на плоскость z = 0              │
│         /  |  \          через прямую NP                                    │
│        /   |   \                                                            │
│       ●────┼────●                                                           │
│      P     │    φ₁(P)                                                       │
│       \    │   /                                                            │
│        \   │  /                                                             │
│         ───┼───  плоскость z = 0                                            │
│                                                                             │
│   U₁ = S² \ {N}  (вся сфера без северного полюса)                           │
│                                                                             │
│   φ₁(x, y, z) = (x/(1−z), y/(1−z))                                          │
│                                                                             │
│   φ₁⁻¹(u, v) = (2u/(1+u²+v²), 2v/(1+u²+v²), (u²+v²−1)/(1+u²+v²))           │
│                                                                             │
│ Карта 2: Проекция с южного полюса S = (0, 0, −1)                            │
│                                                                             │
│   U₂ = S² \ {S}  (вся сфера без южного полюса)                              │
│                                                                             │
│   φ₂(x, y, z) = (x/(1+z), y/(1+z))                                          │
│                                                                             │
│ Функция перехода ψ₁₂ = φ₂ ∘ φ₁⁻¹:                                           │
│                                                                             │
│   На пересечении U₁ ∩ U₂ = S² \ {N, S}:                                     │
│                                                                             │
│   ψ₁₂(u, v) = (u, v)/(u² + v²) = (u/(u²+v²), v/(u²+v²))                     │
│                                                                             │
│   Это ИНВЕРСИЯ относительно единичной окружности!                           │
│                                                                             │
│   Проверка гладкости: ψ₁₂ бесконечно дифференцируема на ℝ² \ {0}. ✓         │
│   (Начало координат соответствует полюсам, которые не входят в пересечение) │
│                                                                             │
│ СПОСОБ 2: ПРОЕКЦИИ НА КООРДИНАТНЫЕ ПЛОСКОСТИ (6 карт)                       │
│                                                                             │
│ ┌──────────┬─────────────────────┬──────────────────┬─────────────────────┐ │
│ │ КАРТА    │ ОБЛАСТЬ Uₖ±         │ ОТОБРАЖЕНИЕ φ    │ КАКАЯ ЧАСТЬ         │ │
│ ├──────────┼─────────────────────┼──────────────────┼─────────────────────┤ │
│ │ U₁⁺      │ z > 0               │ φ(x,y,z) = (x,y) │ Верхняя полусфера   │ │
│ │ U₁⁻      │ z < 0               │ φ(x,y,z) = (x,y) │ Нижняя полусфера    │ │
│ │ U₂⁺      │ y > 0               │ φ(x,y,z) = (x,z) │ Передняя полусфера  │ │
│ │ U₂⁻      │ y < 0               │ φ(x,y,z) = (x,z) │ Задняя полусфера    │ │
│ │ U₃⁺      │ x > 0               │ φ(x,y,z) = (y,z) │ Правая полусфера    │ │
│ │ U₃⁻      │ x < 0               │ φ(x,y,z) = (y,z) │ Левая полусфера     │ │
│ └──────────┴─────────────────────┴──────────────────┴─────────────────────┘ │
│                                                                             │
│ Аналогия: атлас мира использует разные проекции для разных регионов!        │
│                                                                             │
│ ЗАМЕЧАНИЕ: Не существует атласа S² из ОДНОЙ карты!                          │
│   Это следует из компактности S² и того, что ℝ² некомпактно.                │
│   Топологически S² ≠ ℝ² (одно компактно, другое нет).                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.7  ИЕРАРХИЯ ПРОСТРАНСТВ — ОТ ПРОСТОГО К СЛОЖНОМУ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Топологическое пространство (X, τ)                                        │
│     │ добавляем: локальную евклидовость + хаусдорфовость                    │
│     ↓                                                                       │
│   Топологическое многообразие                                               │
│     │ добавляем: гладкую структуру (C∞ функции перехода)                    │
│     ↓                                                                       │
│   ГЛАДКОЕ МНОГООБРАЗИЕ  ← основной объект дифференциальной геометрии        │
│     │ добавляем: метрику gᵢⱼ (способ измерять расстояния)                   │
│     ↓                                                                       │
│   Риманово многообразие                                                     │
│     │ добавляем: физику (уравнения Эйнштейна)                               │
│     ↓                                                                       │
│   Пространство-время ОТО                                                    │
│                                                                             │
│ На каждом уровне ДОБАВЛЯЕТСЯ структура, но НЕ ТЕРЯЕТСЯ предыдущая.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.8  КАСАТЕЛЬНОЕ ПРОСТРАНСТВО TₚM — ЛОКАЛЬНАЯ ЛИНЕЙНОСТЬ                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Задача: определить понятие скорости на кривом пространстве                 │
│                                                                             │
│ На ℝⁿ просто: скорость = вектор = стрелка.                                  │
│ На сфере: куда указывает стрелка? Она "вылетает" из сферы!                  │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ (интуитивное):                                                  │
│   Касательный вектор в точке p — это скорость кривой, проходящей через p.   │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ (формальное через кривые):                                      │
│   Пусть γ: (−ε, ε) → M — гладкая кривая, γ(0) = p.                          │
│   Касательный вектор: v = γ'(0) = dγ/dt|_{t=0}                              │
│                                                                             │
│   Множество ВСЕХ касательных векторов в точке p образует                    │
│   касательное пространство TₚM.                                             │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│ ТРИ ЭКВИВАЛЕНТНЫХ ОПРЕДЕЛЕНИЯ КАСАТЕЛЬНОГО ВЕКТОРА                          │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ 1. ГЕОМЕТРИЧЕСКОЕ (классы эквивалентности кривых):                          │
│    Две кривые γ₁, γ₂ с γ₁(0) = γ₂(0) = p ЭКВИВАЛЕНТНЫ, если               │
│    (φ ∘ γ₁)'(0) = (φ ∘ γ₂)'(0) в любой карте φ.                            │
│    Касательный вектор = класс эквивалентности кривых.                       │
│    ИНТУИЦИЯ: неважно сама кривая, важна только её "скорость" в p.          │
│                                                                             │
│ 2. АЛГЕБРАИЧЕСКОЕ (дифференцирования, см. ниже):                            │
│    Касательный вектор = линейный оператор v: C∞(M) → ℝ с правилом Лейбница.│
│                                                                             │
│ 3. КООРДИНАТНОЕ:                                                            │
│    Касательный вектор = набор чисел (v¹, ..., vⁿ), преобразующийся         │
│    по правилу v'ⁱ = (∂x'ⁱ/∂xʲ)vʲ при смене координат.                      │
│                                                                             │
│ ВСЕ ТРИ ОПРЕДЕЛЕНИЯ ЭКВИВАЛЕНТНЫ — дают одно и то же TₚM ≅ ℝⁿ.             │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│                    TₚM (плоскость, касательная к сфере в точке p)           │
│                   ╱ ╲                                                       │
│                  ╱   ╲  ← векторы скорости живут ЗДЕСЬ                      │
│                 ╱  ●  ╲                                                     │
│                ╱   p   ╲                                                    │
│            ───●─────────●───                                                │
│              ╱    ⌒      ╲   ← сфера (многообразие M)                       │
│             ╱             ╲                                                 │
│                                                                             │
│ В КООРДИНАТАХ:                                                              │
│   Пусть (U, φ) — карта около p с координатами (x¹, ..., xⁿ).                │
│   Базис TₚM:  ∂/∂x¹|ₚ, ∂/∂x²|ₚ, ..., ∂/∂xⁿ|ₚ                               │
│                                                                             │
│   Любой вектор v ∈ TₚM: v = vⁱ ∂/∂xⁱ|ₚ  (сумма по i)                        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│ ВАЖНО: Почему ∂/∂xⁱ — это "векторы"?                                        │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ В линейной алгебре (A3) вектор — это "стрелка" или "столбец чисел".         │
│ На многообразии это не работает: стрелка "вылетает" из кривой поверхности!  │
│                                                                             │
│ РЕШЕНИЕ: Определить вектор как ДИФФЕРЕНЦИРОВАНИЕ.                           │
│                                                                             │
│   Касательный вектор v в точке p — это линейный оператор v: C∞(M) → ℝ,     │
│   удовлетворяющий правилу Лейбница:                                         │
│       v(fg) = v(f)·g(p) + f(p)·v(g)                                         │
│                                                                             │
│   ∂/∂xⁱ|ₚ — это оператор: f ↦ ∂f/∂xⁱ|ₚ (частная производная в точке p).   │
│   Он удовлетворяет Лейбницу, значит — касательный вектор!                   │
│                                                                             │
│ ИНТУИЦИЯ: Вектор — это "направление изменения функций".                     │
│   Стрелка → "как быстро и куда меняется значение функции при движении".     │
│                                                                             │
│ КЛЮЧЕВЫЕ ФАКТЫ:                                                             │
│                                                                             │
│ ┌────────────────────────┬──────────────────────────────────────────────┐   │
│ │ ФАКТ                   │ СЛЕДСТВИЕ                                    │   │
│ ├────────────────────────┼──────────────────────────────────────────────┤   │
│ │ TₚM ≅ ℝⁿ               │ Линейная алгебра работает!                   │   │
│ │ dim(TₚM) = dim(M)      │ Размерность сохраняется                      │   │
│ │ Разные точки → разные TₚM │ Нельзя сложить v ∈ TₚM и w ∈ TᵧM       │   │
│ │ Базис: ∂/∂xⁱ           │ v = vⁱ ∂/∂xⁱ (сумма по i)                   │   │
│ └────────────────────────┴──────────────────────────────────────────────┘   │
│                                                                             │
│ ┌────────────────────────┬──────────────────────────────────────────────┐   │
│ │ ФИЗИЧЕСКАЯ ВЕЛИЧИНА    │ МАТЕМАТИЧЕСКИЙ ОБЪЕКТ                        │   │
│ ├────────────────────────┼──────────────────────────────────────────────┤   │
│ │ Положение              │ Точка p ∈ M                                  │   │
│ │ Скорость               │ Вектор v ∈ TₚM                               │   │
│ │ Ускорение              │ Требует связности (сравнение разных TₚM)     │   │
│ └────────────────────────┴──────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.9  ГЛАДКИЕ ОТОБРАЖЕНИЯ МНОГООБРАЗИЙ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ГЛАДКОЕ ОТОБРАЖЕНИЕ                                        │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Отображение f: M → N между гладкими многообразиями называется           │ │
│ │ гладким, если для любых карт (U, φ) на M и (V, ψ) на N                  │ │
│ │ композиция ψ ∘ f ∘ φ⁻¹ : ℝᵐ → ℝⁿ гладкая (как обычная функция).        │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ДИАГРАММА:                                                                  │
│                                                                             │
│      M ──────────f──────────→ N                                             │
│      │                        │                                             │
│    φ │                        │ ψ                                           │
│      ↓                        ↓                                             │
│     ℝᵐ ─────ψ∘f∘φ⁻¹────────→ ℝⁿ                                            │
│            (гладкая!)                                                       │
│                                                                             │
│ ДИФФЕРЕНЦИАЛ ОТОБРАЖЕНИЯ:                                                   │
│                                                                             │
│   Гладкое f: M → N порождает линейное отображение                           │
│   df_p: TₚM → T_{f(p)}N  (дифференциал или pushforward)                     │
│                                                                             │
│   Это "линейное приближение" f около точки p.                               │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ: ДИФФЕОМОРФИЗМ                                              │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                         │ │
│ │ Диффеоморфизм — это гладкая биекция f: M → N такая, что f⁻¹ тоже        │ │
│ │ гладкая. Это "изоморфизм" в категории гладких многообразий.             │ │
│ │                                                                         │ │
│ │ Если существует диффеоморфизм M → N, пишем M ≅ N (диффеоморфны).         │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ИЕРАРХИЯ "ОДИНАКОВОСТИ":                                                    │
│                                                                             │
│   Гомеоморфизм: M ≈ N (топологически)  — одинаковая "форма"                 │
│   Диффеоморфизм: M ≅ N (гладко)        — одинаковая "гладкая структура"     │
│   Изометрия: M = N (метрически)        — одинаковые "расстояния"            │
│                                                                             │
│ ПРИМЕР: S² ≈ эллипсоид (гомеоморфны)                                        │
│         S² ≅ эллипсоид (диффеоморфны)                                       │
│         S² ≠ эллипсоид (не изометричны — разная кривизна!)                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.10  ПРИМЕРЫ МНОГООБРАЗИЙ                                                 │
├───────────────┬───────┬─────────────────────────────────────────────────────┤
│ МНОГООБРАЗИЕ  │ dim   │ ЧТО ЭТО / ГДЕ ВСТРЕЧАЕТСЯ                           │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ Окружность S¹ │   1   │ Угол поворота, фаза волны, время на часах           │
│               │       │ Минимальный атлас: 2 карты                          │
│               │       │ π₁(S¹) = ℤ (петли наматываются)                     │
│               │       │                                                     │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ Сфера S²      │   2   │ Поверхность Земли, направление в пространстве       │
│               │       │ Минимальный атлас: 2 карты (стереографич. проекции) │
│               │       │ π₁(S²) = 0, H₂(S²) = ℤ                              │
│               │       │                                                     │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ Тор T²        │   2   │ Бублик, периодические граничные условия             │
│               │       │ = S¹ × S¹ (два независимых угла)                    │
│               │       │ π₁(T²) = ℤ × ℤ (две независимые петли)              │
│               │       │                                                     │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ ℝPⁿ (проект.) │   n   │ "Направления прямых" (прямая = пара противоп. точек)│
│               │       │ ℝP² неориентируемо! (как лента Мёбиуса)             │
│               │       │ π₁(ℝPⁿ) = ℤ/2 при n ≥ 2                             │
│               │       │                                                     │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ SO(3)         │   3   │ Все вращения в 3D (ориентация тела)                 │
│               │       │ ≅ ℝP³, НЕ сфера!                                    │
│               │       │ π₁(SO(3)) = ℤ/2 (фокус с ремнём!)                   │
│               │       │                                                     │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ GL(n,ℝ)       │  n²   │ Обратимые матрицы n×n                               │
│               │       │ Открытое подмножество ℝⁿ² (det ≠ 0)                 │
│               │       │ Группа Ли — многообразие + группа!                  │
│               │       │                                                     │
├───────────────┼───────┼─────────────────────────────────────────────────────┤
│               │       │                                                     │
│ Пространство- │   4   │ 3 пространственных + 1 временнóе измерение          │
│ время         │       │ Искривлено массой → гравитация!                     │
│               │       │ Псевдориманово (метрика не положительно определена) │
│               │       │                                                     │
└───────────────┴───────┴─────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.11  СВЯЗНОСТЬ — КАК СРАВНИВАТЬ ВЕКТОРЫ В РАЗНЫХ ТОЧКАХ                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА:                                                                   │
│   На ℝⁿ можно сравнить векторы в разных точках — просто "перенести".        │
│   На кривом пространстве это НЕВОЗМОЖНО без дополнительной структуры!       │
│                                                                             │
│   Вектор в Москве и вектор в Сиднее — как сравнить, если Земля круглая?    │
│                                                                             │
│ РЕШЕНИЕ: СВЯЗНОСТЬ (connection)                                             │
│   Связность = правило, определяющее "параллельный перенос" вектора          │
│   вдоль кривой.                                                             │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ ПАРАЛЛЕЛЬНОГО ПЕРЕНОСА:                                        │
│                                                                             │
│   ПЛОСКОСТЬ (кривизна = 0):         СФЕРА (кривизна > 0):                   │
│                                                                             │
│       B ●──────────● C                   B ●─────● C                        │
│         │  ────→   │                      /   →   \                         │
│         │  ────→   │                     / ↗   ↘   \                        │
│         │  ────→   │                    /           \                       │
│       A ●──────────● D                A ●───────────● D                     │
│         ↑          ↑                    ↖           ↗                       │
│       Вектор    Тот же                Вектор    ДРУГОЙ                      │
│       в A      вектор!                в A       вектор!                     │
│                                                                             │
│   На плоскости: перенос по контуру A→B→C→D→A возвращает тот же вектор.     │
│   На сфере: вектор ПОВОРАЧИВАЕТСЯ! Угол поворота = кривизна × площадь.     │
│                                                                             │
│ ПРИМЕР НА СФЕРЕ:                                                            │
│                                                                             │
│                     Северный полюс                                          │
│                          ●                                                  │
│                         /|\                                                 │
│                        / | \                                                │
│                       /  ↓  \                                               │
│                      /   │   \      1. Начинаем на экваторе с вектором →    │
│       Экватор ──────●────│────●     2. Идём на север до полюса              │
│                     │    │    │     3. Поворачиваем на 90° и идём на юг     │
│                     │    │    │     4. Вектор теперь указывает ↑            │
│                     │    │    │        (повернулся на 90°!)                 │
│                     ●────┴────●                                             │
│                                                                             │
│ ПОЯСНЕНИЕ ТЕРМИНОВ (прежде чем читать формулы):                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ Γ(TM) — "сечения касательного расслоения" — это просто ВЕКТОРНЫЕ ПОЛЯ.      │
│   Векторное поле X — это выбор вектора X(p) ∈ TₚM в каждой точке p ∈ M.    │
│   Пример: поле ветра на Земле — в каждой точке задан вектор скорости.       │
│                                                                             │
│ (Xf) или X(f) — действие векторного поля X на функцию f: M → ℝ.            │
│   Это производная f в направлении X: (Xf)(p) = скорость изменения f        │
│   в точке p, если двигаться в направлении X(p).                             │
│   В координатах: если X = Xⁱ∂/∂xⁱ, то Xf = Xⁱ(∂f/∂xⁱ).                    │
│   Пример: X = "на восток", f = температура. Xf = "как быстро теплеет        │
│   при движении на восток".                                                  │
│                                                                             │
│ [X,Y] — скобка Ли (коммутатор) двух векторных полей.                        │
│   Определение: [X,Y](f) = X(Y(f)) − Y(X(f))                                │
│   Смысл: [X,Y] измеряет, насколько операции "сдвинуться по X" и             │
│   "сдвинуться по Y" НЕ коммутируют.                                         │
│   Если [X,Y] = 0, то X и Y "совместимы" — порядок движения не важен.        │
│   Пример: [∂/∂x, ∂/∂y] = 0 (сдвиг по x и по y коммутируют).                │
│                                                                             │
│ МАТЕМАТИЧЕСКОЕ ОПРЕДЕЛЕНИЕ:                                                 │
│                                                                             │
│   Связность ∇ — это отображение                                             │
│   ∇: Γ(TM) × Γ(TM) → Γ(TM)                                                 │
│   (X, Y) ↦ ∇_X Y  (производная Y в направлении X)                          │
│                                                                             │
│   удовлетворяющее:                                                          │
│   • ∇_{fX}Y = f∇_X Y  (линейно по X с коэффициентами из функций)           │
│   • ∇_X(Y+Z) = ∇_X Y + ∇_X Z  (линейно по Y)                               │
│   • ∇_X(fY) = (Xf)Y + f∇_X Y  (правило Лейбница)                           │
│                                                                             │
│ В КООРДИНАТАХ:                                                              │
│                                                                             │
│   ∇_{∂/∂xⁱ}(∂/∂xʲ) = Γᵏᵢⱼ (∂/∂xᵏ)                                         │
│                                                                             │
│   Γᵏᵢⱼ — символы Кристоффеля (n³ функций!)                                 │
│                                                                             │
│   СМЫСЛ СИМВОЛОВ КРИСТОФФЕЛЯ:                                               │
│   ─────────────────────────────────────────────────────────────────────     │
│   Γᵏᵢⱼ показывает: когда я двигаюсь в направлении i, как базисный вектор   │
│   ∂/∂xʲ "поворачивается" в направлении k?                                  │
│                                                                             │
│   На ПЛОСКОСТИ: Γ = 0 везде (базисные векторы не меняются при движении)    │
│   На СФЕРЕ: Γ ≠ 0 (при движении "направление на север" поворачивается)     │
│                                                                             │
│   АНАЛОГИЯ: Представьте, что несёте длинный шест по поверхности.            │
│   На плоскости шест сохраняет направление сам по себе.                      │
│   На сфере нужно постоянно "подруливать", чтобы сохранить параллельность.   │
│   Γᵏᵢⱼ = величина этого "подруливания".                                    │
│                                                                             │
│   Для метрической связности (Леви-Чивита):                                  │
│   Γᵏᵢⱼ = ½gᵏˡ(∂gᵢˡ/∂xʲ + ∂gⱼˡ/∂xⁱ − ∂gᵢⱼ/∂xˡ)                            │
│                                                                             │
│   Эта формула говорит: символы Кристоффеля полностью определяются           │
│   метрикой gᵢⱼ и её производными. Геометрия → связность автоматически.     │
│                                                                             │
│ ⚠️  КРИТИЧЕСКИ ВАЖНО: Γᵏᵢⱼ — НЕ ТЕНЗОР!                                    │
│ ─────────────────────────────────────────────────────────────────────────── │
│   При замене координат появляется ДОБАВОЧНЫЙ ЧЛЕН с вторыми производными:  │
│                                                                             │
│   Γ'ᵏᵢⱼ = (∂x'ᵏ/∂xˡ)(∂xᵐ/∂x'ⁱ)(∂xⁿ/∂x'ʲ)Γˡₘₙ + (∂x'ᵏ/∂xˡ)(∂²xˡ/∂x'ⁱ∂x'ʲ)  │
│                      ↑                            ↑                         │
│               тензорная часть              НЕтензорная добавка              │
│                                                                             │
│   Именно поэтому Γ зависит от выбора координат!                             │
│   На плоскости в декартовых Γ = 0, а в полярных Γ ≠ 0.                     │
│   Но плоскость осталась плоской — изменились только координаты.            │
│                                                                             │
│   СЛЕДСТВИЕ: Нельзя сказать "Γ = 0 значит пространство плоское".           │
│   Можно сказать: "Существуют координаты, в которых Γ = 0" ⟺ плоское.       │
│                                                                             │
│ ТИПЫ СВЯЗНОСТЕЙ:                                                            │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ ТИП               │ СВОЙСТВО                                          │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Метрическая       │ Сохраняет скалярное произведение при переносе     │   │
│ │ Без кручения      │ ∇_X Y − ∇_Y X = [X,Y]                            │   │
│ │ Леви-Чивита       │ Метрическая + без кручения (ЕДИНСТВЕННАЯ!)        │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.12  КРИВИЗНА — МЕРА НЕПЛОСКОСТИ                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КАК ОБНАРУЖИТЬ КРИВИЗНУ (без выхода в объемлющее пространство):             │
│                                                                             │
├─────────────────────┬───────────────────────────────────────────────────────┤
│ МЕТОД               │ ЧТО ПРОИСХОДИТ                                        │
├─────────────────────┼───────────────────────────────────────────────────────┤
│                     │                                                       │
│ Параллельный        │ Плоскость: вектор вернулся тем же                     │
│ перенос по          │ Кривое: вектор ПОВЕРНУЛСЯ!                            │
│ замкнутому пути     │                                                       │
│                     │                                                       │
├─────────────────────┼───────────────────────────────────────────────────────┤
│                     │                                                       │
│ Сумма углов         │ Плоскость: α+β+γ = 180°                               │
│ треугольника        │ Сфера: α+β+γ > 180° (положит. кривизна)               │
│                     │ Седло: α+β+γ < 180° (отрицат. кривизна)               │
│                     │                                                       │
├─────────────────────┼───────────────────────────────────────────────────────┤
│                     │                                                       │
│ Тензор Римана       │ Rⁱⱼₖₗ = поворот vⁱ при обходе                         │
│ (формальное опр.)   │ беск. малого параллелограмма в направлениях k,l       │
│                     │                                                       │
└─────────────────────┴───────────────────────────────────────────────────────┘
│                                                                             │
│ ФИЗИКА: КРИВИЗНА = ГРАВИТАЦИЯ (ОТО)                                         │
│                                                                             │
│ ┌─────────────────────────────┬─────────────────────────────────────────┐   │
│ │ ПРИЧИНА                     │ СЛЕДСТВИЕ                               │   │
│ ├─────────────────────────────┼─────────────────────────────────────────┤   │
│ │ Масса/энергия               │ Искривляет пространство-время           │   │
│ │ Тела движутся по геодезич.  │ ВЫГЛЯДИТ как притяжение = геометрия!    │   │
│ │ Уравнение Эйнштейна         │ Rμν − ½gμνR = 8πG·Tμν                   │   │
│ │                             │ (кривизна = материя)                    │   │
│ └─────────────────────────────┴─────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.13  СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├───────────────────┬─────────────────────────────────────────────────────────┤
│ РАЗДЕЛ            │ КАК СВЯЗАН С МНОГООБРАЗИЯМИ                             │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ A2 Топология      │ Многообразие = топ. пространство + гладкая структура    │
│                   │ Инварианты π₁, Hₙ, χ работают для многообразий          │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ A1 Группы         │ Группы Ли = многообразия + групповая структура          │
│                   │ SO(3), SU(2), GL(n) — и группы, и многообразия          │
│                   │ Алгебра Ли = T_e (касательное пространство в единице)   │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ A3 Лин. алгебра   │ TₚM — векторное пр-во в каждой точке                    │
│                   │ Локально вся линейная алгебра работает!                 │
│                   │ Связность = способ "соединять" TₚM в разных точках      │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ A5 Двойственность │ T*ₚM — кокасательное (где живут df, dp)                 │
│                   │ Вектор: куда двигаться. Ковектор: как измерять          │
│                   │ Дифференциальные формы ∈ ∧ᵏT*M                          │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ A6 Тензоры              │ Тензорное поле = тензор в каждой точке                  │
│                   │ Метрика gᵢⱼ — поле (0,2). Кривизна Rᵢⱼₖₗ — поле (1,3)  │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ П7 Нётер       │ Симметрии многообразия → законы сохранения              │
│                   │ Сдвиги → импульс. Вращения → момент импульса            │
│                   │                                                         │
├───────────────────┼─────────────────────────────────────────────────────────┤
│                   │                                                         │
│ A12 Категории     │ Man = категория гладких многообразий                    │
│                   │ Функтор T: Man → VectBund (касательное расслоение)      │
│                   │                                                         │
└───────────────────┴─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.14  РЕЗЮМЕ: МНОГООБРАЗИЕ КАК ЦЕНТРАЛЬНЫЙ ОБЪЕКТ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                          МНОГООБРАЗИЕ M                                     │
│                               │                                             │
│         ┌─────────────────────┼─────────────────────┐                       │
│         │                     │                     │                       │
│         ↓                     ↓                     ↓                       │
│    ЛОКАЛЬНО              ГЛОБАЛЬНО              СТРУКТУРЫ                   │
│    ≈ ℝⁿ                  топология              НА многообразии             │
│    (карты, атлас)        (π₁, Hₙ, χ)            (метрика, связность)        │
│         │                     │                     │                       │
│         ↓                     ↓                     ↓                       │
│    Можно                 Различаем               Измеряем                   │
│    дифференцировать      пространства            расстояния                 │
│    (TₚM, df)             (инварианты)            (gᵢⱼ, кривизна)            │
│                                                                             │
│ ГЛАВНАЯ ИДЕЯ:                                                               │
│   Многообразие — это способ ЛОКАЛЬНО использовать знакомые инструменты      │
│   (координаты, производные, интегралы) на ГЛОБАЛЬНО сложных пространствах.  │
│                                                                             │
│ ПРАКТИЧЕСКИЕ ПРИЛОЖЕНИЯ:                                                    │
│   • Физика: пространство-время, конфигурационное пространство               │
│   • Робототехника: пространство состояний (положений и ориентаций)          │
│   • Машинное обучение: многообразие данных (manifold hypothesis)            │
│   • Оптимизация: оптимизация на многообразиях (Риманова оптимизация)        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ПОВЕРХНОСТЬ ЛОПАТКИ ТУРБИНЫ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Рассчитать теплообмен на поверхности лопатки газовой турбины.       │
│ Поверхность имеет сложную криволинейную форму — нет "естественных" x, y.    │
│                                                                             │
│           ╭───────────────╮                                                 │
│          ╱                 ╲        Поверхность S — 2D многообразие,        │
│         ╱                   ╲       вложенное в ℝ³                          │
│        │      ЛОПАТКА        │                                              │
│         ╲                   ╱       Нужны ЛОКАЛЬНЫЕ координаты (u, v)       │
│          ╲                 ╱        на поверхности                          │
│           ╰───────────────╯                                                 │
│                                                                             │
│ ЛОКАЛЬНЫЕ КООРДИНАТЫ:                                                       │
│   u — вдоль хорды профиля (0 = передняя кромка, 1 = задняя)                │
│   v — вдоль размаха (0 = корень, 1 = вершина)                              │
│                                                                             │
│   Точка на поверхности: r⃗(u, v) = (x(u,v), y(u,v), z(u,v))                 │
│                                                                             │
│ МЕТРИКА НА ПОВЕРХНОСТИ:                                                     │
│   Как измерить расстояние между двумя точками на лопатке?                   │
│                                                                             │
│   ds² = g₁₁ du² + 2g₁₂ du dv + g₂₂ dv²                                     │
│                                                                             │
│   где gᵢⱼ = ∂r⃗/∂uⁱ · ∂r⃗/∂uʲ — компоненты метрического тензора            │
│                                                                             │
│ ПЛОЩАДЬ ЭЛЕМЕНТА ПОВЕРХНОСТИ:                                               │
│   dA = √(g₁₁g₂₂ − g₁₂²) du dv = √det(g) du dv                              │
│                                                                             │
│ ИНТЕГРАЛ ТЕПЛОВОГО ПОТОКА:                                                  │
│   Q = ∬_S q(u,v) dA = ∬ q(u,v) √det(g) du dv                               │
│                                                                             │
│   Метрика "знает", как искажаются площади при переходе от плоского          │
│   (u,v)-пространства к реальной изогнутой поверхности!                      │
│                                                                             │
│ ЧИСЛЕННЫЙ ПРИМЕР:                                                           │
│   Если в плоских координатах q = 50 кВт/м² = const,                        │
│   но лопатка изогнута так, что √det(g) ≈ 1.3 (площадь "растянута"),        │
│   то реальный поток Q = 50 × 1.3 × A₍ᵤᵥ₎ = 65 кВт на единицу (u,v)-площади │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Многообразие = способ работать с криволинейными поверхностями       │
│ через локальные координаты. Метрика gᵢⱼ "переводит" формулы из плоского    │
│ случая в криволинейный. Без этого языка — невозможны расчёты для турбин,   │
│ теплообменников сложной формы, аэродинамических поверхностей.               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
A7.6  СВЯЗНОСТЬ И КРИВИЗНА — КАК СРАВНИВАТЬ ВЕКТОРЫ В РАЗНЫХ ТОЧКАХ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОБЛЕМА: КАК СРАВНИТЬ ВЕКТОРЫ В РАЗНЫХ ТОЧКАХ?                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В ℝⁿ это тривиально: параллельно перенеси и сравни.                        │
│                                                                             │
│ На искривлённой поверхности — НЕПОНЯТНО!                                   │
│                                                                             │
│              вектор в точке A                                               │
│                    ↗                                                        │
│                   A ─────────────────── B                                   │
│                  ╱                       ╲      вектор в точке B            │
│                 ╱    искривлённая         ╲          ↘                      │
│                ╱      поверхность          ╲                                │
│                                                                             │
│   Вектор в A и вектор в B живут в РАЗНЫХ касательных пространствах!        │
│   Их нельзя напрямую сложить или вычесть.                                  │
│                                                                             │
│   НУЖНО ПРАВИЛО: как "перенести" вектор из A в B для сравнения.            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗНОСТЬ = ПРАВИЛО ПАРАЛЛЕЛЬНОГО ПЕРЕНОСА                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СВЯЗНОСТЬ ∇ — это правило, как дифференцировать векторные поля.            │
│                                                                             │
│   ∇_X Y = "производная поля Y в направлении X"                             │
│                                                                             │
│ КОВАРИАНТНАЯ ПРОИЗВОДНАЯ:                                                   │
│   В координатах: ∇_∂ᵢ ∂ⱼ = Γᵏᵢⱼ ∂ₖ                                         │
│                                                                             │
│   Γᵏᵢⱼ — СИМВОЛЫ КРИСТОФФЕЛЯ (коэффициенты связности)                      │
│                                                                             │
│ ДЛЯ МЕТРИКИ (связность Леви-Чивиты):                                       │
│                                                                             │
│   Γᵏᵢⱼ = ½gᵏˡ(∂ᵢgⱼˡ + ∂ⱼgᵢˡ − ∂ˡgᵢⱼ)                                       │
│                                                                             │
│   Эта связность:                                                            │
│   • Сохраняет метрику: ∇g = 0                                              │
│   • Без кручения: Γᵏᵢⱼ = Γᵏⱼᵢ                                              │
│   • Единственная с такими свойствами!                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПАРАЛЛЕЛЬНЫЙ ПЕРЕНОС — ВИЗУАЛИЗАЦИЯ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Вектор "параллельно переносится" вдоль кривой γ(t), если:                  │
│                                                                             │
│   ∇_γ̇ V = 0    (ковариантная производная вдоль кривой = 0)                 │
│                                                                             │
│ НА ПЛОСКОСТИ: Параллельный перенос очевиден — направление сохраняется.     │
│                                                                             │
│ НА СФЕРЕ — сюрприз!                                                         │
│                                                                             │
│        Северный полюс                                                       │
│              N                                                              │
│             /│\                                                             │
│   вектор → / │ \                                                            │
│           /  │  \   Перенеси вектор по замкнутому пути:                    │
│          A───┼───B  N → A → B → N                                          │
│              │                                                              │
│              │      Вектор ПОВЕРНУЛСЯ!                                      │
│                                                                             │
│   Угол поворота = площадь треугольника / R² (где R — радиус сферы)         │
│                                                                             │
│   Этот поворот — ПРОЯВЛЕНИЕ КРИВИЗНЫ.                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРИВИЗНА — МЕРА "НЕПЛОСКОСТИ"                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕНЗОР КРИВИЗНЫ РИМАНА:                                                     │
│                                                                             │
│   R(X, Y)Z = ∇_X ∇_Y Z − ∇_Y ∇_X Z − ∇_[X,Y] Z                             │
│                                                                             │
│ ЧТО ЭТО ИЗМЕРЯЕТ:                                                           │
│   Перенеси вектор Z сначала в направлении X, потом Y.                      │
│   Потом в направлении Y, потом X.                                          │
│   Разница = R(X, Y)Z.                                                       │
│                                                                             │
│   Если R = 0 везде — пространство ПЛОСКОЕ (локально как ℝⁿ).              │
│                                                                             │
│ В КООРДИНАТАХ:                                                              │
│   Rᵏₗᵢⱼ = ∂ᵢΓᵏⱼₗ − ∂ⱼΓᵏᵢₗ + ΓᵏᵢₘΓᵐⱼₗ − ΓᵏⱼₘΓᵐᵢₗ                             │
│                                                                             │
│ ВАЖНЫЕ СВЁРТКИ:                                                             │
│   • Тензор Риччи: Rᵢⱼ = Rᵏᵢₖⱼ                                              │
│   • Скалярная кривизна: R = gⁱʲRᵢⱼ                                         │
│                                                                             │
│ ДЛЯ ПОВЕРХНОСТИ (2D):                                                       │
│   K = R/(2) — гауссова кривизна                                            │
│   K > 0: сфера (положительная кривизна)                                    │
│   K = 0: плоскость, цилиндр                                                │
│   K < 0: седло (отрицательная кривизна)                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЕОДЕЗИЧЕСКИЕ — "ПРЯМЫЕ" НА ИСКРИВЛЁННОМ ПРОСТРАНСТВЕ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ: Геодезическая — кривая, параллельно переносящая свой вектор   │
│              скорости:                                                      │
│                                                                             │
│              ∇_γ̇ γ̇ = 0                                                     │
│                                                                             │
│ В координатах (уравнение геодезической):                                   │
│                                                                             │
│              d²xᵏ/dt² + Γᵏᵢⱼ (dxⁱ/dt)(dxʲ/dt) = 0                          │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • На плоскости: прямые линии                                             │
│   • На сфере: большие круги (экватор, меридианы)                           │
│   • В ОТО: траектории свободных частиц в гравитационном поле               │
│                                                                             │
│ ЭКВИВАЛЕНТНЫЕ ОПРЕДЕЛЕНИЯ:                                                  │
│   1. Кривая кратчайшей длины (локально)                                    │
│   2. Кривая, экстремизирующая ∫ ds                                         │
│   3. Кривая с нулевым геодезическим ускорением                             │
│                                                                             │
│ ⚠️  ВАЖНО: геодезическая — это ЛОКАЛЬНЫЙ минимум длины, не глобальный!     │
│     На сфере из A в B можно идти "коротким" или "длинным" путём —          │
│     оба геодезические!                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ THEOREMA EGREGIUM ГАУССА — ГЛУБОКИЙ РЕЗУЛЬТАТ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Гауссова кривизна K ЗАВИСИТ ТОЛЬКО ОТ МЕТРИКИ gᵢⱼ, но не от того,          │
│ как поверхность вложена в ℝ³!                                              │
│                                                                             │
│ СЛЕДСТВИЕ: Нельзя без искажений нарисовать карту сферы на плоскости.       │
│                                                                             │
│   Сфера: K = 1/R² > 0                                                      │
│   Плоскость: K = 0                                                         │
│                                                                             │
│   Любая карта мира ОБЯЗАТЕЛЬНО искажает либо углы, либо площади.           │
│   (Меркатор искажает площади, равновеликие — углы)                         │
│                                                                             │
│ А ВОТ ЦИЛИНДР МОЖНО развернуть в плоскость без искажений!                  │
│   Цилиндр: K = 0 (одна из главных кривизн равна нулю)                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ФИЗИКОЙ: ОБЩАЯ ТЕОРИЯ ОТНОСИТЕЛЬНОСТИ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Уравнения Эйнштейна:                                                        │
│                                                                             │
│   Rᵢⱼ − ½Rgᵢⱼ = (8πG/c⁴) Tᵢⱼ                                              │
│                                                                             │
│   Левая часть: ГЕОМЕТРИЯ (кривизна пространства-времени)                   │
│   Правая часть: МАТЕРИЯ (тензор энергии-импульса)                          │
│                                                                             │
│ "Материя говорит пространству, как искривляться.                            │
│  Пространство говорит материи, как двигаться."                              │
│                                    — Джон Уилер                             │
│                                                                             │
│ Траектории свободно падающих тел = ГЕОДЕЗИЧЕСКИЕ в искривлённом            │
│ пространстве-времени. Гравитация — не сила, а геометрия!                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
A7.7  РАССЛОЕНИЯ — ПРОСТРАНСТВА НАД ПРОСТРАНСТВАМИ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ МОТИВАЦИЯ: КАСАТЕЛЬНЫЕ ВЕКТОРЫ КО ВСЕМ ТОЧКАМ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ На многообразии M в каждой точке p есть касательное пространство TₚM.      │
│                                                                             │
│ ВОПРОС: Как организовать ВСЕ касательные пространства в единую структуру?  │
│                                                                             │
│ ОТВЕТ: Объединим их в РАССЛОЕНИЕ:                                           │
│                                                                             │
│              TM = ⋃_{p∈M} TₚM                                               │
│                                                                             │
│   Это новое многообразие — касательное расслоение!                          │
│   dim(TM) = 2·dim(M)                                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: РАССЛОЕНИЕ                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Расслоение — это тройка (E, π, B), где:                                    │
│                                                                             │
│   E — ТОТАЛЬНОЕ ПРОСТРАНСТВО (всё расслоение целиком)                      │
│   B — БАЗА (пространство, над которым расслаивается)                        │
│   π: E → B — ПРОЕКЦИЯ                                                       │
│                                                                             │
│   Для каждой точки b ∈ B прообраз π⁻¹(b) = F называется СЛОЕМ.            │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│       E (тотальное пространство)                                            │
│       │                                                                     │
│       │    F₁    F₂    F₃    ← слои (все изоморфны F)                      │
│       │    │     │     │                                                    │
│       │    │     │     │                                                    │
│       ▼    ▼     ▼     ▼                                                    │
│       ────●─────●─────●────  B (база)                                       │
│           b₁    b₂    b₃                                                    │
│                                                                             │
│ ЛОКАЛЬНО: E ≅ U × F (произведение окрестности U ⊂ B и слоя F)              │
│ ГЛОБАЛЬНО: может быть СКРУЧЕНО!                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТРИВИАЛЬНОЕ vs НЕТРИВИАЛЬНОЕ РАССЛОЕНИЕ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТРИВИАЛЬНОЕ: E = B × F глобально (просто произведение)                     │
│                                                                             │
│   Пример: цилиндр = S¹ × ℝ                                                  │
│                                                                             │
│         ┌───────────┐                                                       │
│         │           │                                                       │
│         │  цилиндр  │     База: окружность S¹                              │
│         │           │     Слой: прямая ℝ                                   │
│         └───────────┘                                                       │
│                                                                             │
│ НЕТРИВИАЛЬНОЕ: глобально НЕ раскладывается в произведение                  │
│                                                                             │
│   Пример: лента Мёбиуса!                                                    │
│                                                                             │
│         ┌─────╲╱─────┐                                                      │
│         │     ╲╱     │    База: S¹ (окружность)                            │
│         │      ╳     │    Слой: отрезок [-1, 1]                            │
│         │     ╱╲     │    Но глобально — скручено!                         │
│         └─────╱╲─────┘                                                      │
│                                                                             │
│   Обойдя базу по кругу, слой ПЕРЕВОРАЧИВАЕТСЯ.                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЕ ТИПЫ РАССЛОЕНИЙ                                                     │
├───────────────────────┬───────────────┬─────────────────────────────────────┤
│ РАССЛОЕНИЕ            │ СЛОЙ F        │ ПРИМЕР                              │
├───────────────────────┼───────────────┼─────────────────────────────────────┤
│ Касательное TM        │ ℝⁿ            │ Все скорости в точке                │
├───────────────────────┼───────────────┼─────────────────────────────────────┤
│ Кокасательное T*M     │ ℝⁿ            │ Все импульсы в точке                │
├───────────────────────┼───────────────┼─────────────────────────────────────┤
│ Тензорное             │ Тензоры       │ Все тензоры типа (p,q) в точке      │
├───────────────────────┼───────────────┼─────────────────────────────────────┤
│ Главное (G-расслоение)│ Группа G      │ Калибровочные поля в физике         │
├───────────────────────┼───────────────┼─────────────────────────────────────┤
│ Расслоение реперов    │ GL(n)         │ Все базисы касательного простр.     │
└───────────────────────┴───────────────┴─────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЕЧЕНИЕ РАССЛОЕНИЯ = ПОЛЕ НА МНОГООБРАЗИИ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СЕЧЕНИЕ s: B → E — это отображение, где π(s(b)) = b для всех b.            │
│ (Выбираем по одной точке из каждого слоя)                                   │
│                                                                             │
│   • Сечение TM = ВЕКТОРНОЕ ПОЛЕ на M                                       │
│   • Сечение T*M = 1-форма на M                                             │
│   • Сечение тензорного расслоения = тензорное поле                          │
│                                                                             │
│ ПРИМЕР: Поле скоростей ветра — сечение касательного расслоения TS²          │
│         (S² = поверхность Земли)                                           │
│                                                                             │
│ ТЕОРЕМА О "ВОЛОСАТОМ ШАРЕ" (Hairy Ball Theorem):                            │
│   На S² НЕ существует непрерывного ненулевого векторного поля!              │
│   (Нельзя причесать ёжика — где-то будет "вихор")                          │
│                                                                             │
│   Причина: касательное расслоение TS² — НЕТРИВИАЛЬНО.                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗНОСТЬ НА РАССЛОЕНИИ — КАК ПЕРЕНОСИТЬ МЕЖДУ СЛОЯМИ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Связность на расслоении = правило, как переносить элемент слоя              │
│ вдоль пути на базе.                                                         │
│                                                                             │
│ ДЛЯ КАСАТЕЛЬНОГО РАССЛОЕНИЯ:                                                │
│   Связность = символы Кристоффеля Γᵏᵢⱼ                                      │
│   Это то, что мы определили выше (A7.6)                                    │
│                                                                             │
│ ДЛЯ ГЛАВНОГО G-РАССЛОЕНИЯ:                                                  │
│   Связность = 1-форма A со значениями в алгебре Ли g                       │
│   В физике: A — калибровочный потенциал!                                    │
│                                                                             │
│ КРИВИЗНА РАССЛОЕНИЯ:                                                        │
│   F = dA + A ∧ A   (2-форма кривизны)                                      │
│   В физике: F — напряжённость поля!                                         │
│                                                                             │
│   Электромагнетизм: G = U(1), A = потенциал, F = E⃗, B⃗                      │
│   Стандартная модель: G = SU(3)×SU(2)×U(1)                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
A7.8  ХАРАКТЕРИСТИЧЕСКИЕ КЛАССЫ — ТОПОЛОГИЯ РАССЛОЕНИЙ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИДЕЯ: ИЗМЕРЕНИЕ "СКРУЧЕННОСТИ" РАССЛОЕНИЯ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Расслоение может быть тривиальным (E = B × F) или нетривиальным.           │
│ Характеристические классы — это ЧИСЛОВЫЕ ИНВАРИАНТЫ, измеряющие            │
│ "насколько расслоение скручено".                                            │
│                                                                             │
│ Они живут в КОГОМОЛОГИЯХ базы: cᵢ ∈ H*(B)                                  │
│                                                                             │
│ ЕСЛИ класс ненулевой — расслоение ТОЧНО нетривиально.                      │
│ Если нулевой — может быть тривиально, а может и нет (необходимо, не доста.)│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССЫ ЧЕРНА — ДЛЯ КОМПЛЕКСНЫХ РАССЛОЕНИЙ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для комплексного векторного расслоения E → B определены:                   │
│                                                                             │
│   c₀(E) = 1,  c₁(E),  c₂(E),  ...,  cₙ(E)   где n = dim_ℂ(E)              │
│                                                                             │
│   cₖ(E) ∈ H²ᵏ(B; ℤ)   — класс Черна степени k                             │
│                                                                             │
│ КЛЮЧЕВЫЕ СВОЙСТВА:                                                          │
│   • c(E⊕F) = c(E) ∪ c(F)  (аддитивность относительно прямой суммы)         │
│   • c(E*) = c̄(E)  (классы сопряжённого расслоения)                         │
│   • Для линейного расслоения L: c₁(L) = эйлеров класс                       │
│                                                                             │
│ ПРИМЕР: Касательное расслоение сферы                                        │
│   c₁(TS²) = 2 ∈ H²(S²) ≅ ℤ                                                │
│   Это связано с теоремой о "волосатом шаре" и эйлеровой характеристикой!   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССЫ ПОНТРЯГИНА И ЭЙЛЕРА — ДЛЯ ВЕЩЕСТВЕННЫХ РАССЛОЕНИЙ                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для вещественного расслоения E → B:                                        │
│                                                                             │
│   pₖ(E) ∈ H⁴ᵏ(B; ℤ)   — класс Понтрягина                                  │
│   e(E) ∈ Hⁿ(B; ℤ)     — класс Эйлера (если E ориентировано, n = rank E)   │
│                                                                             │
│ ТЕОРЕМА ГАУССА-БОННЕ-ЧЕРНА:                                                 │
│                                                                             │
│   ∫_M e(TM) = χ(M)   (интеграл эйлерова класса = эйлерова характеристика)  │
│                                                                             │
│   Это обобщение теоремы Гаусса-Бонне на любые размерности!                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕНЕНИЯ В ФИЗИКЕ                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КВАНТОВАНИЕ МАГНИТНОГО МОНОПОЛЯ (Дирак):                                    │
│   Магнитный заряд g квантуется: eg = nℏ/2                                  │
│   Причина: первый класс Черна линейного расслоения над S² целочислен!      │
│                                                                             │
│ АНОМАЛИИ В КВАНТОВОЙ ТЕОРИИ ПОЛЯ:                                           │
│   Калибровочные аномалии связаны с классами Черна расслоения               │
│   калибровочной группы.                                                     │
│                                                                             │
│ ТОПОЛОГИЧЕСКИЕ ИЗОЛЯТОРЫ:                                                   │
│   Классы Черна электронных зон определяют квантовый эффект Холла.          │
│   c₁ = 0, ±1, ±2, ... → холловская проводимость = c₁ · e²/h               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A7.12  ПРОЕКТИВНЫЕ ПРОСТРАНСТВА — ГЕОМЕТРИЯ "НАПРАВЛЕНИЙ"                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТУИЦИЯ: ЧТО ТАКОЕ ПРОЕКТИВНОЕ ПРОСТРАНСТВО                                │
│                                                                             │
│ Представим, что мы стоим в начале координат и смотрим в разные стороны.     │
│ Каждое НАПРАВЛЕНИЕ взгляда — это точка проективного пространства.           │
│                                                                             │
│ Формально: Точки (x, y, z) и (2x, 2y, 2z) задают ОДНО направление.         │
│ Мы "склеиваем" все точки на одном луче из начала координат.                │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ОПРЕДЕЛЕНИЕ                                                                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Вещественное проективное пространство ℝPⁿ:                                 │
│                                                                             │
│   ℝPⁿ = (ℝⁿ⁺¹ \ {0}) / ~,  где  x ~ y ⟺ x = λy для λ ≠ 0                 │
│                                                                             │
│ Другими словами: ℝPⁿ = множество прямых в ℝⁿ⁺¹, проходящих через 0.       │
│                                                                             │
│ ОДНОРОДНЫЕ КООРДИНАТЫ:                                                      │
│   Точка ℝPⁿ записывается как [x₀ : x₁ : ... : xₙ]                          │
│   Это класс эквивалентности: [x₀ : x₁ : ... : xₙ] = [λx₀ : λx₁ : ... : λxₙ]│
│                                                                             │
│ РАЗМЕРНОСТИ:                                                                │
│   • ℝP¹ — проективная прямая (топологически = окружность S¹)               │
│   • ℝP² — проективная плоскость (неориентируемая поверхность!)             │
│   • ℝP³ ≅ SO(3) — пространство вращений в 3D                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ ℝP¹ И ℝP²                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ℝP¹ — ПРОЕКТИВНАЯ ПРЯМАЯ:                                                  │
│                                                                             │
│   Берём ℝ² \ {0} и склеиваем противоположные точки (x,y) ~ (-x,-y).        │
│                                                                             │
│              y                                                              │
│              │    ╱                                                         │
│              │   ╱  ← эта прямая = ОДНА точка ℝP¹                          │
│              │  ╱                                                           │
│        ──────●────── x                                                      │
│             ╱│                                                              │
│            ╱ │                                                              │
│                                                                             │
│   Можно параметризовать наклоном: [1 : t] для t ∈ ℝ, плюс [0 : 1] (верт.)  │
│   Это ℝ ∪ {∞} — прямая с добавленной "бесконечностью". Топологически = S¹. │
│                                                                             │
│ ℝP² — ПРОЕКТИВНАЯ ПЛОСКОСТЬ:                                               │
│                                                                             │
│   Берём полусферу и склеиваем противоположные точки на экваторе:           │
│                                                                             │
│              ╭───────╮                                                      │
│            ╱    ●      ╲      Внутренность полусферы — обычная плоскость   │
│           │      ●      │     Граница (экватор) — "бесконечность"           │
│           │   ●    ●    │     Но точки A и A' на экваторе СКЛЕЕНЫ!         │
│            ╲   A    A' ╱                                                    │
│              ╰───────╯                                                      │
│                                                                             │
│   Результат: НЕОРИЕНТИРУЕМАЯ поверхность (содержит ленту Мёбиуса).         │
│   Нельзя вложить в ℝ³ без самопересечений!                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ПРОЕКТИВНЫЕ ПРОСТРАНСТВА                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ПАРАЛЛЕЛЬНЫЕ ПРЯМЫЕ ПЕРЕСЕКАЮТСЯ "НА БЕСКОНЕЧНОСТИ"                     │
│                                                                             │
│    В обычной геометрии параллельные прямые не пересекаются.                 │
│    В проективной — пересекаются в "бесконечно удалённой точке".             │
│                                                                             │
│    Это упрощает многие теоремы: теорема Паппа, Дезарга, двойственность.     │
│                                                                             │
│ 2. КОМПЬЮТЕРНАЯ ГРАФИКА                                                     │
│                                                                             │
│    Однородные координаты [x : y : z : w] — стандарт в 3D-графике.          │
│    Точка в 3D: [x : y : z : 1] → (x/1, y/1, z/1)                           │
│    Точка "на бесконечности": [x : y : z : 0] — направление                 │
│                                                                             │
│    ВСЕ преобразования (сдвиг, поворот, масштаб, перспектива) —              │
│    это умножение на матрицу 4×4!                                            │
│                                                                             │
│    Без однородных координат сдвиг — не линейное преобразование.             │
│    С ними — линейное. Это ОГРОМНОЕ упрощение для GPU.                       │
│                                                                             │
│ 3. АЛГЕБРАИЧЕСКАЯ ГЕОМЕТРИЯ                                                 │
│                                                                             │
│    Многие теоремы проще в проективном пространстве:                         │
│                                                                             │
│    Теорема Безу: Две кривые степеней m и n в ℙ² пересекаются               │
│    ровно в mn точках (с учётом кратностей и бесконечности).                 │
│                                                                             │
│    В обычной плоскости: прямая и парабола могут не пересечься (0, 1 или 2). │
│    В проективной: прямая (степень 1) и коника (степень 2) — всегда 2 точки!│
│                                                                             │
│ 4. ФИЗИКА: ПРОСТРАНСТВО СОСТОЯНИЙ                                           │
│                                                                             │
│    В квантовой механике чистое состояние — это луч в гильбертовом простр.   │
│    |ψ⟩ и λ|ψ⟩ — ОДНО состояние (глобальная фаза не наблюдаема).            │
│                                                                             │
│    Для кубита: пространство состояний = ℂP¹ = сфера Блоха (S²).            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОМПЛЕКСНОЕ ПРОЕКТИВНОЕ ПРОСТРАНСТВО ℂPⁿ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Аналогично вещественному, но над ℂ:                                        │
│                                                                             │
│   ℂPⁿ = (ℂⁿ⁺¹ \ {0}) / ~,  где  z ~ w ⟺ z = λw для λ ∈ ℂ \ {0}           │
│                                                                             │
│ ВАЖНЫЕ СЛУЧАИ:                                                              │
│                                                                             │
│   • ℂP¹ = сфера Римана = ℂ ∪ {∞} (см. A11)                                │
│     Это компактификация комплексной плоскости!                              │
│                                                                             │
│   • ℂPⁿ — компактное кэлерово многообразие                                 │
│     Центральный объект алгебраической геометрии                             │
│                                                                             │
│ СВЯЗЬ С ФИЗИКОЙ:                                                            │
│   Пространство состояний системы с n+1 уровнями = ℂPⁿ                      │
│   Сфера Блоха (кубит) = ℂP¹ ≅ S²                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОЕКТИВНЫЕ ПРОСТРАНСТВА КАК КЛАССЫ ЭКВИВАЛЕНТНОСТИ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Это ещё один пример конструкции через ФАКТОРМНОЖЕСТВО (см. раздел 3):      │
│                                                                             │
│   X = ℝⁿ⁺¹ \ {0}  (все ненулевые векторы)                                  │
│   x ~ y ⟺ x = λy  (лежат на одном луче)                                   │
│   ℝPⁿ = X/~       (множество классов = множество лучей = множество прямых) │
│                                                                             │
│ Каждый класс эквивалентности — это прямая через начало координат           │
│ (без самого начала). Мы "сжали" каждую прямую в одну точку.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

На многообразиях мы можем определять функции, векторные поля, тензоры.
Но как интегрировать? Обычный интеграл ∫f dx требует координат, а мы хотим
инвариантное определение.

Дифференциальные формы — это объекты, которые МОЖНО интегрировать на
многообразиях. Они объединяют все теоремы интегрирования (Грина, Стокса,
Гаусса) в одну — и это язык современной физики.
───────────────────────────────────────────────────────────────────────────────

A8. ДИФФЕРЕНЦИАЛЬНЫЕ ФОРМЫ — ЯЗЫК СОВРЕМЕННОЙ ФИЗИКИ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМЫ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Дифференциальные формы — это объекты, которые "измеряют" куски пространства:│
│                                                                             │
│   • 1-форма измеряет КРИВЫЕ (работа силы вдоль пути)                        │
│   • 2-форма измеряет ПОВЕРХНОСТИ (поток через площадку)                     │
│   • 3-форма измеряет ОБЪЁМЫ (масса в области)                               │
│                                                                             │
│ Формы — это "детекторы размерности": k-форма чувствует k-мерные объекты.   │
│ Они позволяют интегрировать на многообразиях БЕЗ координат.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A8.1  ЗАЧЕМ НУЖНЫ ДИФФЕРЕНЦИАЛЬНЫЕ ФОРМЫ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проблема: Интегралы зависят от того, ЧТО мы интегрируем                     │
│                                                                             │
│   • По кривой интегрируем РАБОТУ:     ∫ F⃗·dr⃗  — это что-то одномерное     │
│   • По поверхности — ПОТОК:           ∬ F⃗·dS⃗  — это что-то двумерное      │
│   • По объёму — ПЛОТНОСТЬ:            ∭ ρ dV  — это что-то трёхмерное       │
│                                                                             │
│ Задача: формализовать понятие "ориентированной площади"                    │
│                                                                             │
│ Ответ: ДИФФЕРЕНЦИАЛЬНЫЕ ФОРМЫ — объекты, созданные для интегрирования       │
│                                                                             │
│   • 0-форма — функция (интеграл = значение в точке)                         │
│   • 1-форма — интегрируется по кривым                                       │
│   • 2-форма — интегрируется по поверхностям                                 │
│   • n-форма — интегрируется по n-мерным областям                            │
│                                                                             │
│ БОНУС: Теоремы Стокса, Грина, Гаусса — ВСЕ становятся одной теоремой!       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ИЗМЕРЯЕТ k-ФОРМА — ФИЗИЧЕСКАЯ ТАБЛИЦА                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ k-форма — это "детектор" для k-мерных объектов в пространстве.              │
│                                                                             │
│ ┌────────┬────────────────┬─────────────────────┬─────────────────────────┐ │
│ │ k      │ ЧТО ИЗМЕРЯЕТ   │ ФИЗИЧЕСКИЙ ПРИМЕР   │ МАТЕМАТИЧЕСКИ           │ │
│ ├────────┼────────────────┼─────────────────────┼─────────────────────────┤ │
│ │        │                │                     │                         │ │
│ │ 0-форма│ ТОЧКУ          │ Температура T(x,y,z)│ Просто функция f: M → ℝ │ │
│ │        │ (скаляр в ней) │ Давление p(x,y,z)   │                         │ │
│ │        │                │ Концентрация c      │                         │ │
│ │        │                │                     │                         │ │
│ ├────────┼────────────────┼─────────────────────┼─────────────────────────┤ │
│ │        │                │                     │                         │ │
│ │ 1-форма│ КРИВУЮ         │ Работа силы ∫F⃗·dr⃗  │ ω = Fₓdx + Fᵧdy + F_zdz │ │
│ │        │ (интеграл      │ Циркуляция          │ Действует на касательный│ │
│ │        │ вдоль пути)    │ Напряжение ∫E⃗·dl⃗   │ вектор к кривой         │ │
│ │        │                │                     │                         │ │
│ ├────────┼────────────────┼─────────────────────┼─────────────────────────┤ │
│ │        │                │                     │                         │ │
│ │ 2-форма│ ПОВЕРХНОСТЬ    │ Поток ∬F⃗·dS⃗        │ ω = Fₓdy∧dz + Fᵧdz∧dx  │ │
│ │        │ (интеграл      │ Магнитный поток Φ   │           + F_zdx∧dy    │ │
│ │        │ по площадке)   │ Расход жидкости Q   │ Действует на пару       │ │
│ │        │                │                     │ касательных векторов    │ │
│ │        │                │                     │                         │ │
│ ├────────┼────────────────┼─────────────────────┼─────────────────────────┤ │
│ │        │                │                     │                         │ │
│ │ 3-форма│ ОБЪЁМ          │ Масса ∭ρ dV         │ ω = ρ dx∧dy∧dz          │ │
│ │        │ (интеграл      │ Заряд Q = ∭ρ dV     │ В 3D это максимальная   │ │
│ │        │ по области)    │ Энергия в объёме    │ размерность формы       │ │
│ │        │                │                     │                         │ │
│ └────────┴────────────────┴─────────────────────┴─────────────────────────┘ │
│                                                                             │
│ МНЕМОНИКА: k-форма "ест" k векторов и выдаёт число.                        │
│                                                                             │
│   0-форма: f()           — ничего не ест, сразу число                      │
│   1-форма: ω(v)          — съедает 1 вектор                                │
│   2-форма: σ(u,v)        — съедает 2 вектора                               │
│   3-форма: μ(u,v,w)      — съедает 3 вектора                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ: КАК "ВЫГЛЯДИТ" k-ФОРМА                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 0-ФОРМА (функция): Скалярное поле — цвет/высота в каждой точке              │
│                                                                             │
│       высокое                                                               │
│          ↑   ████                                                           │
│          │ ██████████                                                       │
│          │████████████████                                                  │
│       низкое                                                                │
│                                                                             │
│   Температурная карта: каждой точке — число.                                │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ 1-ФОРМА: "Стопки плоскостей" — линии уровня с направлением                 │
│                                                                             │
│       │ │ │ │ │ │                                                           │
│       │ │ │ │ │ │   ← пересечение с вектором = "сколько линий прошёл"      │
│       │ │ │→│ │ │                                                           │
│       │ │ │ │ │ │                                                           │
│                                                                             │
│   1-форма dx "считает", сколько раз вектор пересёк линии x = const.        │
│   Плотнее линии = больше значение формы.                                   │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ 2-ФОРМА: "Трубочки" — измеряют поток через площадку                        │
│                                                                             │
│       ║ ║ ║ ║ ║                                                             │
│       ║ ║ ║ ║ ║   ← площадка, перпендикулярная трубкам = макс. значение    │
│       ║ ╔═══╗ ║      площадка вдоль трубок = нулевое значение              │
│       ║ ║   ║ ║                                                             │
│       ║ ╚═══╝ ║                                                             │
│       ║ ║ ║ ║ ║                                                             │
│                                                                             │
│   2-форма dx∧dy "считает", сколько трубок проходит через площадку.         │
│   Ориентация площадки важна (знак!).                                       │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ 3-ФОРМА: "Плотность точек" — сколько в объёме                              │
│                                                                             │
│       ┌─────────┐                                                           │
│       │ ● ● ● ● │                                                           │
│       │ ● ● ● ● │   ← интеграл по объёму = полное количество               │
│       │ ● ● ● ● │                                                           │
│       └─────────┘                                                           │
│                                                                             │
│   3-форма ρ dx∧dy∧dz = плотность. Интеграл = масса/заряд/энергия.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВНЕШНЯЯ ПРОИЗВОДНАЯ d — ПЕРЕХОД МЕЖДУ УРОВНЯМИ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Оператор d повышает степень формы на 1:                                     │
│                                                                             │
│   0-форма  ──d──▶  1-форма  ──d──▶  2-форма  ──d──▶  3-форма  ──d──▶  0     │
│   функция         градиент          ротор           дивергенция             │
│      f               df              dω               dσ                    │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ:                                                           │
│                                                                             │
│ ┌─────────────────┬──────────────────────────────────────────────────────┐  │
│ │ ПЕРЕХОД         │ ЧТО ОЗНАЧАЕТ ФИЗИЧЕСКИ                               │  │
│ ├─────────────────┼──────────────────────────────────────────────────────┤  │
│ │ df (0→1)        │ Как меняется f вдоль пути = градиент                 │  │
│ │                 │ df(v) = ∇f · v = производная по направлению          │  │
│ ├─────────────────┼──────────────────────────────────────────────────────┤  │
│ │ dω (1→2)        │ "Закрученность" поля = ротор                         │  │
│ │                 │ Ненулевой dω = поле имеет вихри                      │  │
│ ├─────────────────┼──────────────────────────────────────────────────────┤  │
│ │ dσ (2→3)        │ "Источники" поля = дивергенция                       │  │
│ │                 │ Ненулевой dσ = есть истоки/стоки                     │  │
│ └─────────────────┴──────────────────────────────────────────────────────┘  │
│                                                                             │
│ МАГИЧЕСКОЕ СВОЙСТВО: d ∘ d = 0                                              │
│                                                                             │
│   Применяя d дважды, получаем 0. Это глубокий факт:                         │
│     • rot(grad f) = 0  — градиент не имеет вихрей                          │
│     • div(rot F) = 0   — вихрь не имеет источников                         │
│     • ∂²M = ∅          — граница границы пуста                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.2  ДИФФЕРЕНЦИАЛ КАК 1-ФОРМА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПЕРЕОСМЫСЛЕНИЕ ДИФФЕРЕНЦИАЛА                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В анализе: df = f'(x)dx — "бесконечно малое приращение"                     │
│                                                                             │
│ Новый взгляд: df — это ЛИНЕЙНАЯ ФУНКЦИЯ на касательных векторах!            │
│                                                                             │
│   df: TₚM → ℝ                                                               │
│   df(v) = "производная f в направлении v" = ∇f · v                          │
│                                                                             │
│ ПРИМЕР: f(x,y) = x² + y², точка p = (1, 2)                                  │
│                                                                             │
│   df = 2x dx + 2y dy                                                        │
│   В точке p: df = 2dx + 4dy                                                 │
│                                                                             │
│   Вектор v = (3, 1) в точке p:                                              │
│   df(v) = 2·3 + 4·1 = 10                                                    │
│                                                                             │
│   Это производная f в направлении v: ∇f·v = (2,4)·(3,1) = 10 ✓             │
│                                                                             │
│ ВЫВОД: dx, dy — это НЕ "малые величины", а базисные 1-формы!                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: 1-ФОРМА                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1-форма на многообразии M — это гладкое отображение                         │
│                                                                             │
│   ω: TM → ℝ                                                                 │
│                                                                             │
│ которое линейно на каждом касательном пространстве TₚM.                     │
│                                                                             │
│ В координатах:                                                              │
│   ω = ω₁dx¹ + ω₂dx² + ... + ωₙdxⁿ = ωᵢdxⁱ                                  │
│                                                                             │
│ где ωᵢ = ωᵢ(x¹,...,xⁿ) — гладкие функции (компоненты формы).               │
│                                                                             │
│ ДЕЙСТВИЕ НА ВЕКТОР:                                                         │
│   ω(v) = ωᵢvⁱ = ω₁v¹ + ω₂v² + ... + ωₙvⁿ                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1-ФОРМА = КОВЕКТОР = ЭЛЕМЕНТ T*ₚM                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Связь с предыдущими разделами:                                              │
│                                                                             │
│   • A3 (Лин. алгебра): ковектор ∈ V* — линейная функция на V               │
│   • A6 (Тензоры): 1-форма — тензор типа (0,1)                               │
│   • A5 (Двойственность): 1-форма двойственна вектору                        │
│                                                                             │
│ В каждой точке p ∈ M:                                                       │
│   ωₚ ∈ T*ₚM  (кокасательное пространство)                                  │
│                                                                             │
│ 1-форма на M = гладкое семейство ковекторов {ωₚ}ₚ∈M                         │
│              = сечение кокасательного расслоения T*M                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  df ≠ ∇f : ЖЕЛЕЗНЫЙ АРГУМЕНТ ЧЕРЕЗ РАЗМЕРНОСТИ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть f = температура в градусах, x = координата в метрах.                  │
│                                                                             │
│ ┌─────────────────────┬───────────────────┬─────────────────────────────┐   │
│ │ ОБЪЕКТ              │ РАЗМЕРНОСТЬ       │ ТИП                         │   │
│ ├─────────────────────┼───────────────────┼─────────────────────────────┤   │
│ │ f                   │ [°C]              │ Скаляр (функция)            │   │
│ ├─────────────────────┼───────────────────┼─────────────────────────────┤   │
│ │ df                  │ [°C]              │ 1-форма (ковектор)          │   │
│ │ (дифференциал)      │                   │                             │   │
│ ├─────────────────────┼───────────────────┼─────────────────────────────┤   │
│ │ ∂f/∂x              │ [°C/м]            │ Компонента градиента        │   │
│ │ (частная произв.)   │                   │                             │   │
│ ├─────────────────────┼───────────────────┼─────────────────────────────┤   │
│ │ ∇f                  │ [°C/м]            │ Вектор (с метрикой!)        │   │
│ │ (градиент)          │                   │                             │   │
│ └─────────────────────┴───────────────────┴─────────────────────────────┘   │
│                                                                             │
│ ВИДНО: df и ∇f имеют РАЗНЫЕ РАЗМЕРНОСТИ!                                   │
│                                                                             │
│ df: действует на вектор смещения [м], даёт изменение температуры [°C].     │
│ ∇f: сам имеет размерность [°C/м], указывает направление роста.             │
│                                                                             │
│ Связь через метрику: (∇f)ⁱ = gⁱʲ(∂f/∂xʲ)                                  │
│   В декартовых: gⁱʲ = δⁱʲ, поэтому ∇f "выглядит как" (∂f/∂x, ∂f/∂y).      │
│   В криволинейных: метрика нетривиальна, и путать их нельзя!               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  МОСТ: dx В МАТАНАЛИЗЕ VS dx В ФОРМАХ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Инженер привык к dx как "бесконечно малому приращению" из интеграла Римана:│
│   ∫f(x)dx = lim Σf(xᵢ)Δxᵢ                                                 │
│                                                                             │
│ Здесь мы говорим: dx — это линейный функционал.                            │
│ КАК ЭТО СВЯЗАНО?                                                            │
│                                                                             │
│ ┌─────────────────────────┬─────────────────────────────────────────────┐   │
│ │ КОНТЕКСТ                │ ЧТО ТАКОЕ dx                                │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Матанализ (интуиция)    │ "Бесконечно малый кусочек" оси x            │   │
│ │                         │ Δx → 0 в пределе                            │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Диф. формы (точно)      │ Линейная функция dx: TₚM → ℝ               │   │
│ │                         │ dx(v) = v¹ (проекция на ось x)              │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Интегрирование форм     │ ∫_γ ω = lim Σ ω(Δγᵢ)                       │   │
│ │                         │ Форма действует на касательные к кривой     │   │
│ └─────────────────────────┴─────────────────────────────────────────────┘   │
│                                                                             │
│ КЛЮЧ К ПОНИМАНИЮ:                                                           │
│                                                                             │
│   В интеграле ∫f(x)dx "скрыта" 1-форма f(x)dx, которая интегрируется      │
│   вдоль кривой (отрезка). Старая запись — упрощение, скрывающее            │
│   что интегрируется линейная функция на касательных векторах.              │
│                                                                             │
│   ∫ₐᵇ f(x)dx   (матанализ)   =   ∫_[a,b] f·dx   (формы)                   │
│                                                                             │
│   Левая запись — это частный случай правой для кривой в ℝ¹.               │
│                                                                             │
│ ПРАКТИЧЕСКИЙ ВЫВОД:                                                         │
│   • В 1D: разницы почти нет, можно использовать привычную запись           │
│   • В nD: форма dx∧dy — площадь, dV = dx∧dy∧dz — объём                    │
│   • На многообразиях: без форм нельзя корректно определить интеграл        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.3  ВНЕШНЕЕ ПРОИЗВЕДЕНИЕ — КЛЮЧЕВАЯ ОПЕРАЦИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ВНЕШНЕЕ (КЛИНОВОЕ) ПРОИЗВЕДЕНИЕ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для 1-форм α и β их внешнее произведение α ∧ β — это 2-форма:              │
│                                                                             │
│   (α ∧ β)(u, v) = α(u)β(v) − α(v)β(u)                                      │
│                                                                             │
│ ПОЧЕМУ ИМЕННО ТАКАЯ ФОРМУЛА?                                                │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ Представим, что α и β — это "измерительные приборы" для компонент вектора:  │
│   • α(u) = "сколько вектора u в направлении α"                              │
│   • β(v) = "сколько вектора v в направлении β"                              │
│                                                                             │
│ Произведение α(u)β(v) — это "площадь прямоугольника" со сторонами α(u), β(v)│
│ Но прямоугольник — НЕ правильная мера площади параллелограмма!              │
│                                                                             │
│ Чтобы получить ОРИЕНТИРОВАННУЮ площадь параллелограмма на u и v:            │
│   • Берём α(u)β(v) — один порядок измерений                                │
│   • Вычитаем α(v)β(u) — другой порядок                                     │
│   • Получаем определитель 2×2 = ориентированная площадь!                    │
│                                                                             │
│ Формула = определитель:                                                     │
│                                                                             │
│   (α ∧ β)(u, v) = det│α(u)  α(v)│                                          │
│                      │β(u)  β(v)│                                          │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   • Билинейность: (aα + bβ) ∧ γ = a(α∧γ) + b(β∧γ)                          │
│   • Антисимметричность: α ∧ β = −β ∧ α                                     │
│   • Следствие: α ∧ α = 0                                                    │
│   • Ассоциативность: (α ∧ β) ∧ γ = α ∧ (β ∧ γ)                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: dx ∧ dy                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть u = (u¹, u²), v = (v¹, v²) — векторы в ℝ².                           │
│                                                                             │
│   (dx ∧ dy)(u, v) = dx(u)·dy(v) − dx(v)·dy(u)                              │
│                   = u¹v² − v¹u²                                             │
│                   = det│u¹ v¹│                                              │
│                        │u² v²│                                              │
│                                                                             │
│ dx ∧ dy вычисляет ПЛОЩАДЬ параллелограмма, натянутого на u и v!            │
│                                                                             │
│ Знак = ориентация (положительная или отрицательная)                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ k-ФОРМЫ                                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ k-форма — это антисимметричный тензор типа (0, k).                          │
│                                                                             │
│ В координатах на ℝⁿ:                                                        │
│                                                                             │
│   ω = Σ ω_{i₁...iₖ} dx^{i₁} ∧ ... ∧ dx^{iₖ}                                │
│       i₁<...<iₖ                                                             │
│                                                                             │
│ РАЗМЕРНОСТЬ пространства k-форм на ℝⁿ:                                      │
│                                                                             │
│   dim Ωᵏ(ℝⁿ) = C(n,k) = n!/(k!(n-k)!)                                      │
│                                                                             │
│ ТАБЛИЦА для n = 3:                                                          │
│                                                                             │
│   ┌─────┬──────────────────────────────────┬─────────┐                      │
│   │  k  │  БАЗИС                           │ dim     │                      │
│   ├─────┼──────────────────────────────────┼─────────┤                      │
│   │  0  │  1 (функции)                     │    1    │                      │
│   │  1  │  dx, dy, dz                      │    3    │                      │
│   │  2  │  dy∧dz, dz∧dx, dx∧dy             │    3    │                      │
│   │  3  │  dx∧dy∧dz                        │    1    │                      │
│   │ >3  │  0 (нет ненулевых форм)          │    0    │                      │
│   └─────┴──────────────────────────────────┴─────────┘                      │
│                                                                             │
│ ЗАМЕТЬТЕ: dim Ωᵏ = dim Ωⁿ⁻ᵏ — симметрия! (связана с ∗ Ходжа)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: ГАЗОДИНАМИКА — ТРИ ТИПА ИНТЕГРАЛОВ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В газодинамике постоянно встречаются три типа "бесконечно малых":           │
│                                                                             │
│   • dx, dl — элемент ДЛИНЫ вдоль потока (1-форма)                          │
│   • dω, dA, dS — элемент ПЛОЩАДИ поперечного сечения (2-форма)             │
│   • dV — элемент ОБЪЁМА (3-форма)                                          │
│                                                                             │
│ Это НЕ просто "малые величины" — это объекты РАЗНОЙ ПРИРОДЫ!                │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 1: РАБОТА СИЛЫ ДАВЛЕНИЯ (1-форма, интеграл по линии)                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Поршень движется в цилиндре. Работа = ∫ F·dl = ∫ p·A·dl                  │
│                                                                             │
│   Здесь dl — элемент пути (1-форма). Интегрируем вдоль траектории.          │
│   Результат: скаляр (число джоулей).                                        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 2: МАССОВЫЙ РАСХОД ЧЕРЕЗ СЕЧЕНИЕ (2-форма, интеграл по поверхности) │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Газ течёт через трубу. Расход = ∬ ρv⃗·dA⃗ = ∬ ρvₙ dω                      │
│                                                                             │
│   Здесь dω (или dA) — элемент площади (2-форма).                           │
│   Интегрируем по поперечному сечению трубы.                                 │
│   Результат: кг/с (массовый расход).                                        │
│                                                                             │
│   ВАЖНО: dω = dy∧dz — это НЕ число, а 2-форма!                             │
│   Она "съедает" два вектора и выдаёт ориентированную площадь.              │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 3: МАССА ГАЗА В ОБЪЁМЕ (3-форма, интеграл по объёму)                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Масса газа в резервуаре: m = ∭ ρ dV                                      │
│                                                                             │
│   Здесь dV = dx∧dy∧dz — элемент объёма (3-форма).                          │
│   Интегрируем по всему резервуару.                                          │
│   Результат: кг (масса).                                                    │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА СТОКСА В ГАЗОДИНАМИКЕ: УРАВНЕНИЕ НЕРАЗРЫВНОСТИ                      │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Интегральная форма: ∂/∂t ∭_V ρ dV + ∬_S ρv⃗·dA⃗ = 0                       │
│                                                                             │
│   "Изменение массы в объёме = поток массы через границу"                    │
│                                                                             │
│   Переход к дифференциальной форме (через теорему Гаусса-Остроградского):   │
│                                                                             │
│   ∂ρ/∂t + ∇·(ρv⃗) = 0                                                       │
│                                                                             │
│   Или на языке форм: ∂ρ/∂t + d∗(ρv) = 0                                    │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Когда видишь интеграл, спроси себя:                                 │
│   • По чему интегрируем? (линия / поверхность / объём)                      │
│   • Какая форма под интегралом? (1-форма / 2-форма / 3-форма)               │
│                                                                             │
│ dx, dA, dV — это не "просто малые величины", а объекты разных типов!        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.4  ВНЕШНЯЯ ПРОИЗВОДНАЯ d
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ВНЕШНЯЯ ПРОИЗВОДНАЯ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Внешняя производная d: Ωᵏ → Ωᵏ⁺¹ определяется:                             │
│                                                                             │
│ Для 0-формы (функции) f:                                                    │
│   df = (∂f/∂x¹)dx¹ + ... + (∂f/∂xⁿ)dxⁿ = (∂f/∂xⁱ)dxⁱ                       │
│                                                                             │
│ Для k-формы ω = ω_{i₁...iₖ} dx^{i₁} ∧ ... ∧ dx^{iₖ}:                       │
│   dω = dω_{i₁...iₖ} ∧ dx^{i₁} ∧ ... ∧ dx^{iₖ}                              │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   • d(α + β) = dα + dβ                 (линейность)                         │
│   • d(α ∧ β) = dα ∧ β + (−1)ᵏα ∧ dβ   (правило Лейбница)                   │
│   • d(dω) = 0                          (КЛЮЧЕВОЕ!)                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ВНЕШНЕЙ ПРОИЗВОДНОЙ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРИМЕР 1: d от функции f(x,y,z)                                             │
  │                                                                             │
  │   df = (∂f/∂x)dx + (∂f/∂y)dy + (∂f/∂z)dz                                   │
  │                                                                             │
  │   Это ДИФФЕРЕНЦИАЛ f — ковектор (1-форма).                                  │
  │   НЕ путать с градиентом ∇f, который вектор!                               │
  │   (Компоненты совпадают численно только в ортонормированном базисе)        │                                 │
│                                                                             │
│ ПРИМЕР 2: d от 1-формы ω = P dx + Q dy + R dz                              │
│                                                                             │
│   dω = dP ∧ dx + dQ ∧ dy + dR ∧ dz                                         │
│                                                                             │
│      = (∂P/∂y dy + ∂P/∂z dz) ∧ dx + ...                                    │
│                                                                             │
│      = (∂R/∂y − ∂Q/∂z) dy∧dz + (∂P/∂z − ∂R/∂x) dz∧dx                      │
│        + (∂Q/∂x − ∂P/∂y) dx∧dy                                             │
│                                                                             │
│   Это РОТОР rot(P,Q,R), записанный как 2-форма!                            │
│                                                                             │
│ ПРИМЕР 3: d от 2-формы η = A dy∧dz + B dz∧dx + C dx∧dy                     │
│                                                                             │
│   dη = (∂A/∂x + ∂B/∂y + ∂C/∂z) dx∧dy∧dz                                    │
│                                                                             │
│   Это ДИВЕРГЕНЦИЯ div(A,B,C), записанная как 3-форма!                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБЪЕДИНЯЮЩАЯ ТАБЛИЦА: ВЕКТОРНЫЙ АНАЛИЗ КАК ФОРМЫ                            │
├───────────────────┬───────────────────┬─────────────────────────────────────┤
│ КЛАССИЧЕСКОЕ      │ ФОРМЫ             │ СВЯЗЬ                               │
├───────────────────┼───────────────────┼─────────────────────────────────────┤
│                   │                   │                                     │
│ f (скаляр)        │ f (0-форма)       │ тождественно                        │
│                   │                   │                                     │
├───────────────────┼───────────────────┼─────────────────────────────────────┤
│                   │                   │                                     │
│ ∇f (градиент)     │ df (1-форма)      │ компоненты совпадают                │
│                   │                   │                                     │
├───────────────────┼───────────────────┼─────────────────────────────────────┤
│                   │                   │                                     │
│ F⃗ (вектор. поле) │ ω = Fᵢdxⁱ (1-ф.)  │ через метрику: ωᵢ = gᵢⱼFʲ          │
│                   │   или             │                                     │
│                   │ η = ∗ω (2-форма)  │ через ∗ Ходжа                       │
│                   │                   │                                     │
├───────────────────┼───────────────────┼─────────────────────────────────────┤
│                   │                   │                                     │
│ rot F⃗            │ dω (2-форма)      │ d(1-форма) = 2-форма                │
│                   │                   │                                     │
├───────────────────┼───────────────────┼─────────────────────────────────────┤
│                   │                   │                                     │
│ div F⃗            │ d∗ω (3-форма)     │ d(2-форма) = 3-форма                │
│                   │                   │ или ∗d∗ω (функция)                  │
│                   │                   │                                     │
├───────────────────┼───────────────────┼─────────────────────────────────────┤
│                   │                   │                                     │
│ rot(∇f) = 0       │ d(df) = 0         │ d² = 0                              │
│ div(rot F⃗) = 0   │ d(dω) = 0         │ d² = 0                              │
│                   │                   │                                     │
└───────────────────┴───────────────────┴─────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A.T.2  СВОЙСТВО d² = 0 — РЕАЛИЗАЦИИ В РАЗНЫХ РАЗДЕЛАХ                       │
├───────────────────┬─────────────────────┬───────────────────────────────────┤
│ РАЗДЕЛ            │ ОПЕРАТОР            │ ТОЖДЕСТВО                         │
├───────────────────┼─────────────────────┼───────────────────────────────────┤
│ Векторный анализ  │ ∇, rot, div         │ rot(grad f)=0, div(rot F)=0       │
│ A8 Дифф. формы    │ d: Ωᵏ → Ωᵏ⁺¹       │ d(dω) = 0                         │
│ A2 Гомологии      │ ∂: Cₖ → Cₖ₋₁       │ ∂(∂c) = 0                         │
│ A2 Когомологии    │ δ: Cᵏ → Cᵏ⁺¹       │ δ(δf) = 0                         │
│ A12 Компл. анализ │ ∂̄ (Дольбо)          │ ∂̄² = 0                            │
│ Гомол. алгебра    │ d (цепной комплекс) │ dₖ₊₁ ∘ dₖ = 0                     │
└───────────────────┴─────────────────────┴───────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЛЕДСТВИЕ: Hᵏ = ker(d)/Im(d) — когомологии                                  │
│ • Замкнутые формы ker(d) / Точные формы Im(d) = топологический инвариант   │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.5  ТЕОРЕМА СТОКСА — ОДНА ТЕОРЕМА ВМЕСТО ТРЁХ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБОБЩЁННАЯ ТЕОРЕМА СТОКСА                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                     ┌─────────────────────────────┐                         │
│                     │                             │                         │
│                     │    ∫   dω  =  ∫   ω        │                         │
│                     │     M         ∂M            │                         │
│                     │                             │                         │
│                     │  интеграл      интеграл     │                         │
│                     │  по области    по границе   │                         │
│                     │                             │                         │
│                     └─────────────────────────────┘                         │
│                                                                             │
│ Пусть M — ориентированное многообразие с границей ∂M,                       │
│      ω — дифференциальная (n−1)-форма на M.                                │
│                                                                             │
│ Тогда интеграл производной по области = интеграл формы по границе.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧАСТНЫЕ СЛУЧАИ — ВСЕ КЛАССИЧЕСКИЕ ТЕОРЕМЫ = ОДНА                            │
├─────────┬──────────────────────────────┬────────────────────────────────────┤
│ dim M   │ НАЗВАНИЕ                     │ ФОРМУЛА                            │
├─────────┼──────────────────────────────┼────────────────────────────────────┤
│         │                              │                                    │
│ 1       │ Ньютон-Лейбниц               │ ∫ₐᵇ df = f(b) − f(a)               │
│ отрезок │ (осн. теор. анализа)         │                                    │
│         │                              │                                    │
├─────────┼──────────────────────────────┼────────────────────────────────────┤
│         │                              │                                    │
│ 2       │ Грин                         │ ∮_{∂D} Pdx+Qdy = ∬(∂Q/∂x−∂P/∂y)dA │
│ область │                              │                                    │
│         │                              │                                    │
├─────────┼──────────────────────────────┼────────────────────────────────────┤
│         │                              │                                    │
│ 2       │ Классич. Стокс               │ ∮_{∂S} F⃗·dr⃗ = ∬_S rot F⃗·dS⃗      │
│ поверхн.│                              │                                    │
│         │                              │                                    │
├─────────┼──────────────────────────────┼────────────────────────────────────┤
│         │                              │                                    │
│ 3       │ Гаусс-Остроградский          │ ∬_{∂V} F⃗·dS⃗ = ∭_V div F⃗ dV      │
│ тело    │                              │                                    │
│         │                              │                                    │
└─────────┴──────────────────────────────┴────────────────────────────────────┘
│                                                                             │
│ ВСЕ ЭТО — ОДНА ТЕОРЕМА: ∫_M dω = ∫_{∂M} ω                                  │
│                                                                             │
│                                                                             │
│   ∬_{∂V} F⃗·dS⃗ = ∭_V div F⃗ dV                                             │
│                                                                             │
│   Это ТЕОРЕМА ГАУССА-ОСТРОГРАДСКОГО!                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СМЫСЛ: ГРАНИЦА ГРАНИЦЫ ПУСТА                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Из d² = 0 и теоремы Стокса следует:                                         │
│                                                                             │
│   ∫_{∂∂M} ω = ∫_{∂M} dω = ∫_M d²ω = 0                                      │
│                                                                             │
│ Значит ∂∂M = ∅ (граница границы пуста)!                                     │
│                                                                             │
│ ГЕОМЕТРИЧЕСКАЯ ИНТУИЦИЯ:                                                    │
│                                                                             │
│   dim 1:    ●━━━━━━━━━━●          Отрезок                                   │
│             ↓          ↓                                                    │
│             ●          ●          Граница = 2 точки                         │
│             ↓          ↓                                                    │
│             ∅          ∅          Граница точки = ∅                         │
│                                                                             │
│   dim 2:    ┌──────────┐          Диск                                      │
│             │ ╭──────╮ │                                                    │
│             │ │      │ │ ───▶     ╭──────╮  Граница = окружность            │
│             │ ╰──────╯ │          ╰──────╯                                  │
│             └──────────┘                ↓                                   │
│                                        ∅   Граница окружности = ∅           │
│                                                                             │
│   dim 3:       ┌────┐                                                       │
│               /    /│              Куб                                      │
│              └────┘ │                   ↓                                   │
│              │    │/              6 граней (поверхность)                    │
│              └────┘                     ↓                                   │
│                                        ∅   Граница замкнутой поверхности = ∅│
│                                                                             │
│ ФОРМУЛА: ∂² = 0  ⟷  d² = 0  (двойственные утверждения!)                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️ СОГЛАСОВАНИЕ ОРИЕНТАЦИИ — ИСТОЧНИК 50% ОШИБОК СО ЗНАКОМ                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Теорема Стокса ∫_M dω = ∫_{∂M} ω работает только при СОГЛАСОВАННОЙ          │
│ ориентации M и её границы ∂M. Без этого — ошибка в знаке!                  │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│ ПРАВИЛО: КАК ОРИЕНТАЦИЯ ИНДУЦИРУЕТСЯ НА ГРАНИЦУ                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ DIM 1 → DIM 0 (отрезок → точки):                                            │
│                                                                             │
│   Отрезок [a, b] ориентирован "слева направо".                             │
│   Граница: точка a с "−", точка b с "+".                                   │
│                                                                             │
│        −●━━━━━━━━━━━━━━━━━━●+                                               │
│         a                   b                                               │
│                                                                             │
│   Поэтому: ∫_a^b df = f(b) − f(a)  (не f(a) − f(b)!)                       │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ DIM 2 → DIM 1 (поверхность → контур): "ПРАВИЛО БУРАВЧИКА"                  │
│                                                                             │
│   Поверхность ориентирована нормалью n⃗ (выбрали "верх").                   │
│   Граница обходится так, чтобы n⃗ смотрела "влево" от движения.            │
│                                                                             │
│          n⃗ ↑                                                               │
│            │    ┌────────────┐                                              │
│            │    │            │                                              │
│                 │    ───→    │  ← направление обхода ∂M                     │
│                 │            │                                              │
│                 └────────────┘                                              │
│                                                                             │
│   МНЕМОНИКА: Стоишь на поверхности, голова по нормали → граница слева.     │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ DIM 3 → DIM 2 (объём → поверхность): "ВНЕШНЯЯ НОРМАЛЬ"                     │
│                                                                             │
│   Объём V ориентирован стандартно (dx∧dy∧dz).                               │
│   Граница ∂V ориентирована ВНЕШНЕЙ нормалью.                               │
│                                                                             │
│              ┌─────────┐                                                    │
│             /│        /│                                                    │
│            / │  →n⃗   / │   ← нормаль наружу                                │
│           ┌─────────┐  │                                                    │
│           │  │      │  │                                                    │
│           │  └──────│──┘                                                    │
│           │ /       │ /                                                     │
│           │/        │/                                                      │
│           └─────────┘                                                       │
│                                                                             │
│   Теорема Гаусса: ∬_{∂V} F⃗·dS⃗ = ∭_V div F⃗ dV                             │
│   dS⃗ = n⃗ dS, где n⃗ — внешняя нормаль.                                    │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ПРАКТИЧЕСКИЙ СОВЕТ:                                                         │
│                                                                             │
│   Если получился "неправильный" знак — проверь:                            │
│   1. Куда направлена нормаль к поверхности?                                 │
│   2. В какую сторону обходится контур?                                      │
│   3. Согласованы ли они по "правилу буравчика"?                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.6  УРАВНЕНИЯ МАКСВЕЛЛА В ЯЗЫКЕ ФОРМ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЭЛЕКТРОМАГНИТНЫЙ ТЕНЗОР КАК 2-ФОРМА                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Электрическое поле E⃗ и магнитное поле B⃗ объединяются в 2-форму F:         │
│                                                                             │
│   F = Eₓ dx∧dt + Eᵧ dy∧dt + E_z dz∧dt                                      │
│     + Bₓ dy∧dz + Bᵧ dz∧dx + B_z dx∧dy                                      │
│                                                                             │
│ В матричной форме (тензор Fμν):                                             │
│                                                                             │
│        ⎛  0   -Eₓ  -Eᵧ  -E_z ⎞                                             │
│   F =  ⎜ Eₓ    0    B_z  -Bᵧ ⎟                                             │
│        ⎜ Eᵧ  -B_z   0    Bₓ  ⎟                                             │
│        ⎝ E_z  Bᵧ   -Bₓ   0   ⎠                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ УРАВНЕНИЯ МАКСВЕЛЛА                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КЛАССИЧЕСКАЯ ФОРМА (4 уравнения):                                           │
│                                                                             │
│   div E⃗ = ρ/ε₀           rot E⃗ = −∂B⃗/∂t                                  │
│   div B⃗ = 0              rot B⃗ = μ₀J⃗ + μ₀ε₀ ∂E⃗/∂t                        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ В ЯЗЫКЕ ФОРМ (2 уравнения!):                                                │
│                                                                             │
│   ┌───────────────────────────────────────────────────────────────────┐     │
│   │                                                                   │     │
│   │         dF = 0         (однородные: div B = 0, rot E = −∂B/∂t)   │     │
│   │                                                                   │     │
│   │         d∗F = J        (неоднородные: div E = ρ, rot B = J + ∂E/∂t)│     │
│   │                                                                   │     │
│   └───────────────────────────────────────────────────────────────────┘     │
│                                                                             │
│ где:                                                                        │
│   F — электромагнитная 2-форма                                              │
│   ∗F — её Ходжево двойственная 2-форма                                      │
│   J — 3-форма тока (ток + плотность заряда)                                 │
│                                                                             │
│ КРАСОТА:                                                                    │
│   • dF = 0 автоматически следует из F = dA (потенциал!)                     │
│   • d(dF) = 0 даёт сохранение заряда: dJ = 0                                │
│   • Лоренц-инвариантность очевидна (нет разделения E и B)                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.7  КОГОМОЛОГИИ ДЕ РАМА — ТОПОЛОГИЯ ЧЕРЕЗ ФОРМЫ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАМКНУТЫЕ И ТОЧНЫЕ ФОРМЫ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Форма ω называется:                                                         │
│                                                                             │
│   ЗАМКНУТОЙ:  dω = 0                                                        │
│   ТОЧНОЙ:     ω = dη для некоторой η                                        │
│                                                                             │
│ Из d² = 0 следует: точная ⇒ замкнутая                                      │
│                                                                             │
│   d(dη) = 0 ✓                                                               │
│                                                                             │
│ ВОПРОС: Верно ли обратное? Всякая ли замкнутая форма точна?                 │
│                                                                             │
│ ОТВЕТ: НЕ ВСЕГДА! Это зависит от ТОПОЛОГИИ многообразия!                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОГОМОЛОГИИ ДЕ РАМА                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   H^k_{dR}(M) = {замкнутые k-формы} / {точные k-формы}                      │
│                                                                             │
│              = Ker(d: Ωᵏ → Ωᵏ⁺¹) / Im(d: Ωᵏ⁻¹ → Ωᵏ)                       │
│                                                                             │
│ Размерность H^k(M) называется k-м ЧИСЛОМ БЕТТИ: bₖ = dim H^k(M)            │
│                                                                             │
│ ТЕОРЕМА ДЕ РАМА:                                                            │
│   H^k_{dR}(M) ≅ H^k(M; ℝ)  (когомологии де Рама = сингулярные когомологии) │
│                                                                             │
│ Это МОСТ между анализом (формы) и топологией (дырки)!                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ                                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ℝⁿ:  H⁰ = ℝ, Hᵏ = 0 для k > 0                                              │
│      Всякая замкнутая форма точна (пространство "тривиальное")              │
│                                                                             │
│ S¹:  H⁰ = ℝ, H¹ = ℝ                                                        │
│      Форма dθ замкнута, но НЕ точна!                                        │
│      ∮ dθ = 2π ≠ 0 (интеграл по циклу ненулевой)                           │
│      Это "чувствует" дырку в окружности                                     │
│                                                                             │
│ T² (тор): H⁰ = ℝ, H¹ = ℝ², H² = ℝ                                          │
│      Две независимые 1-формы (два независимых цикла)                        │
│                                                                             │
│ S²:  H⁰ = ℝ, H¹ = 0, H² = ℝ                                                │
│      Нет 1-мерных дырок, есть 2-мерная "оболочка"                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГОМОЛОГИИ vs КОГОМОЛОГИИ — ИНТУИЦИЯ ДВОЙСТВЕННОСТИ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Обе теории "считают дырки", но с РАЗНЫХ СТОРОН:                             │
│                                                                             │
│ ГОМОЛОГИИ Hₖ:                                                               │
│   • Объекты: ЦИКЛЫ (k-мерные "контуры" без границы)                         │
│   • Вопрос: "Какие циклы НЕ являются границами?"                            │
│   • Геометрические объекты: кривые, поверхности, ...                        │
│                                                                             │
│   Пример: На торе есть два цикла (вокруг дырки и сквозь дырку),             │
│           которые нельзя "заполнить" поверхностью внутри тора.              │
│           ⇒ H₁(T²) = ℤ × ℤ                                                 │
│                                                                             │
│ КОГОМОЛОГИИ Hᵏ:                                                             │
│   • Объекты: ФОРМЫ (функции на циклах)                                      │
│   • Вопрос: "Какие формы замкнуты, но не точны?"                            │
│   • Функциональные объекты: измеряют циклы                                  │
│                                                                             │
│   Пример: Форма dθ на окружности замкнута, но не точна.                     │
│           Она "измеряет" сколько раз цикл обходит дырку.                    │
│           ⇒ H¹(S¹) = ℝ                                                     │
│                                                                             │
│ АНАЛОГИЯ:                                                                   │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   ГОМОЛОГИИ — это "ДЫРКИ" (геометрические объекты)                      │ │
│ │   КОГОМОЛОГИИ — это "ИЗМЕРИТЕЛИ ДЫРОК" (функции на дырках)              │ │
│ │                                                                         │ │
│ │   Как вектор и ковектор: одно — объект, другое — функция на объекте     │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СВЯЗЬ (двойственность):                                                     │
│                                                                             │
│   Hᵏ(M; ℝ) ≅ Hom(Hₖ(M), ℝ)  (когомологии = функционалы на гомологиях)     │
│                                                                             │
│   Спаривание: ⟨[ω], [c]⟩ = ∫_c ω                                           │
│               (интеграл формы по циклу)                                     │
│                                                                             │
│ ПОЧЕМУ ДВЕ ТЕОРИИ:                                                          │
│   • Гомологии проще для геометрической интуиции                             │
│   • Когомологии имеют умножение (кольцевая структура)                       │
│   • Когомологии де Рама связаны с анализом (дифференциальные формы)         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A8.8  РЕЗЮМЕ И СВЯЗИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЕ ИДЕИ РАЗДЕЛА                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. Дифференциальные формы = "объекты для интегрирования"                    │
│    k-форма интегрируется по k-мерным поверхностям                           │
│                                                                             │
│ 2. Внешнее произведение ∧ = антисимметризация                               │
│    α ∧ β = −β ∧ α, α ∧ α = 0                                               │
│                                                                             │
│ 3. Внешняя производная d обобщает grad, rot, div                            │
│    d² = 0 — ключевое свойство                                               │
│                                                                             │
│ 4. Теорема Стокса объединяет Н-Л, Грин, Стокс, Гаусс                        │
│    ∫_M dω = ∫_{∂M} ω                                                        │
│                                                                             │
│ 5. Когомологии де Рама связывают анализ и топологию                         │
│    Замкнутые/точные формы "чувствуют" дырки в пространстве                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАФ СВЯЗЕЙ                                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   A3 (Лин.алг)     A6 (Тензоры)     A7 (Многообразия)                       │
│        │               │                   │                                │
│        │   ковекторы   │ антисимм.тензоры  │  TₚM, T*ₚM                     │
│        └───────────────┴───────────────────┘                                │
│                        │                                                    │
│                        ▼                                                    │
│                 ▶ A8 (ФОРМЫ) ◀                                              │
│                        │                                                    │
│        ┌───────────────┼───────────────┐                                    │
│        ▼               ▼               ▼                                    │
│   A2 (Топология)   Физика         Анализ                                    │
│   когомологии      Максвелл       интегралы                                 │
│                    ОТО            теор. Стокса                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

До сих пор мы строили структуры на НЕПРЕРЫВНЫХ пространствах: топология,
линейность, гладкость, формы. Но математика работает и с ДИСКРЕТНЫМИ
объектами — конечными множествами, графами, логическими высказываниями.

Следующие два раздела (A9–A10) — о дискретных структурах. Они не менее
фундаментальны: порядок лежит в основе логики и теории множеств,
графы описывают сети и алгоритмы.
───────────────────────────────────────────────────────────────────────────────

A9. ПОРЯДОК И РЕШЁТКИ — ТРИ ЛИЦА ОДНОЙ СТРУКТУРЫ
───────────────────────────────────────────────────────────────────────────────

Ключевая таблица "Логика = Множества = Порядок" — см. раздел 2.4

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧАСТИЧНЫЙ ПОРЯДОК — ФУНДАМЕНТ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Отношение ≤ называется частичным порядком, если:                            │
│                                                                             │
│   • a ≤ a                    (рефлексивность)                               │
│   • a ≤ b и b ≤ a ⇒ a = b   (антисимметричность)                           │
│   • a ≤ b и b ≤ c ⇒ a ≤ c   (транзитивность)                               │
│                                                                             │
│ "Частичный" = не все элементы сравнимы                                      │
│ Пример: множества {1} и {2} несравнимы по ⊆                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОРЯДОК ВЕЗДЕ — ПРИМЕРЫ                                                     │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ МНОЖЕСТВО               │ ПОРЯДОК ≤               │ ГДЕ ВСТРЕЧАЕТСЯ         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│ Числа ℝ                 │ Обычный ≤               │ Анализ                  │
│ Подмножества 2^X        │ Включение ⊆             │ Логика, топология       │
│ Натуральные ℕ           │ Делимость a|b           │ Теория чисел            │
│ Слова                   │ Префикс                 │ Информатика             │
│ Типы данных             │ Наследование            │ ООП                     │
│ Открытые множества      │ Включение ⊆             │ Топология               │
│ Подпространства         │ Включение ⊆             │ Линейная алгебра        │
│ Подгруппы               │ Включение ⊆             │ Теория групп            │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕШЁТКА — ПОРЯДОК С ОПЕРАЦИЯМИ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Решётка = частичный порядок, где любые два элемента имеют:                  │
│   a ∨ b = sup{a, b}  (наименьшая верхняя грань)                             │
│   a ∧ b = inf{a, b}  (наибольшая нижняя грань)                              │
│                                                                             │
│ ПРИМЕР: Подмножества {a,b,c}         ПРИМЕР: Делители 12                    │
│                                                                             │
│         {a,b,c}                                 12                          │
│        /   |   \                              / |  \                        │
│    {a,b} {a,c} {b,c}                        4   6   ← НОК                   │
│       \ X     X /                            \ / \ /                        │
│       {a}  {b}  {c}                           2   3                         │
│          \ | /                                 \ /                          │
│            ∅                                    1   ← НОД                   │
│                                                                             │
│   {a}∨{b} = {a,b}                           2∨3 = НОК(2,3) = 6              │
│   {a}∧{b} = ∅                               2∧3 = НОД(2,3) = 1              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ БУЛЕВА АЛГЕБРА = РЕШЁТКА С ДОПОЛНЕНИЕМ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Дополнительное требование: для каждого a существует ¬a такой, что           │
│   a ∨ ¬a = 1   и   a ∧ ¬a = 0                                               │
│                                                                             │
│ Делители 12 — решётка, но НЕ булева! (нет дополнения для 2, 3, 4, 6)        │
│ Подмножества — булева алгебра (дополнение всегда есть)                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ТОПОЛОГИЕЙ                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Открытые множества топологии образуют РЕШЁТКУ (но не булеву алгебру!)       │
│                                                                             │
│   • U₁ ∨ U₂ = U₁ ∪ U₂           (объединение открытых — открыто)            │
│   • U₁ ∧ U₂ = U₁ ∩ U₂           (пересечение открытых — открыто)            │
│   • НО: дополнение открытого — замкнуто, не открыто!                        │
│                                                                             │
│ Это приводит к ИНТУИЦИОНИСТСКОЙ ЛОГИКЕ (без закона исключённого третьего)   │
│                                                                             │
│   ┌─────────────────┬─────────────────────┬─────────────────────────────┐   │
│   │ КЛАССИЧЕСКАЯ    │ ИНТУИЦИОНИСТСКАЯ    │ ПРИМЕР                      │   │
│   ├─────────────────┼─────────────────────┼─────────────────────────────┤   │
│   │ P ∨ ¬P = ⊤      │ Не всегда!          │ "x рационально или нет" —   │   │
│   │ (всегда верно)  │                     │ нужно КОНСТРУКТИВНО указать │   │
│   └─────────────────┴─────────────────────┴─────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ПУСК ТЕХНОЛОГИЧЕСКОЙ ЛИНИИ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Котельная. Нужно запустить оборудование в правильном порядке.       │
│ Некоторые операции можно делать параллельно, некоторые — строго после.      │
│                                                                             │
│ ЧАСТИЧНЫЙ ПОРЯДОК ОПЕРАЦИЙ:                                                 │
│                                                                             │
│   Открыть подачу газа (a)                                                   │
│          │                                                                  │
│          ├───────────────────┐                                              │
│          │                   │                                              │
│          ▼                   ▼                                              │
│   Включить дымосос (b)    Включить вентилятор (c)                          │
│          │                   │                                              │
│          └───────┬───────────┘                                              │
│                  │                                                          │
│                  ▼                                                          │
│   Розжиг горелки (d)     ← только ПОСЛЕ b И c!                             │
│          │                                                                  │
│          ▼                                                                  │
│   Выход на режим (e)                                                        │
│                                                                             │
│ Это ЧАСТИЧНЫЙ ПОРЯДОК:                                                      │
│   • a ≤ b, a ≤ c      (газ — до дымососа и вентилятора)                    │
│   • b ≤ d, c ≤ d      (дымосос И вентилятор — до розжига)                  │
│   • d ≤ e             (розжиг — до выхода на режим)                        │
│   • НО: b и c НЕСРАВНИМЫ (можно в любом порядке!)                          │
│                                                                             │
│ ОПЕРАЦИИ НА РЕШЁТКЕ:                                                        │
│                                                                             │
│   • b ∧ c = a      (НОГ — наибольшая операция, которая до обеих)           │
│   • b ∨ c = d      (НОВ — наименьшая операция, которая после обеих)        │
│                                                                             │
│ ПРАКТИЧЕСКИЙ СМЫСЛ:                                                         │
│   b ∨ c = d означает: "d — первая операция, которую можно делать            │
│   только после завершения И b, И c"                                        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ПРИМЕНЕНИЕ: Диаграмма Ганта = визуализация частичного порядка во времени.   │
│ Критический путь = самая длинная цепь в частичном порядке.                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕСТО В ОБЩЕЙ КАРТИНЕ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Граф = ВИЗУАЛИЗАЦИЯ ОТНОШЕНИЯ                                               │
│                                                                             │
│ Отношение R ⊆ A×A — абстрактное понятие                                     │
│ Граф — его картинка: вершины = элементы, ребро = пара в отношении           │
│                                                                             │
│ Поскольку ОТНОШЕНИЯ — фундамент математики (раздел 4), графы ВЕЗДЕ!         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОДИН ОБЪЕКТ — МНОГО ПРЕДСТАВЛЕНИЙ                                           │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ ОТНОШЕНИЕ               │ ГРАФ                    │ МАТРИЦА                 │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ R ⊆ V × V               │ G = (V, E)              │ A: Aᵢⱼ ∈ {0,1}          │
│ (множество пар)         │ (картинка)              │ (таблица чисел)         │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ (a,b) ∈ R               │ Ребро a──b              │ Aₐᵦ = 1                 │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ R симметрично           │ Неориентированный       │ A = Aᵀ                  │
│ (a,b)∈R ⇒ (b,a)∈R       │                         │                         │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Путь из a в b           │ Цепочка рёбер           │ (Aⁿ)ₐᵦ > 0              │
│ за n шагов              │                         │ (число путей!)          │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Транзитивное замыкание  │ "Достижимость"          │ (I+A)ⁿ или (I−A)⁻¹      │
│                         │                         │                         │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАФЫ ВЕЗДЕ — ПРИМЕРЫ                                                       │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ ОБЛАСТЬ                 │ ВЕРШИНЫ                 │ РЁБРА                   │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│ Соцсети                 │ Люди                    │ "Друзья"                │
│ Интернет                │ Страницы                │ Ссылки                  │
│ Химия                   │ Атомы                   │ Связи                   │
│ Карта города            │ Перекрёстки             │ Улицы                   │
│ Электросхема            │ Узлы                    │ Проводники              │
│ Конечный автомат        │ Состояния               │ Переходы                │
│ Порядок задач           │ Задачи                  │ Зависимости             │
│ Группа (граф Кэли)      │ Элементы                │ Умножение на генератор  │
│ Симпл. комплекс (1-ск.) │ Вершины                 │ 1-симплексы             │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ЛИНЕЙНОЙ АЛГЕБРОЙ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Матрица смежности A превращает теорию графов в линейную алгебру!            │
│                                                                             │
│   • (Aⁿ)ᵢⱼ = число путей длины n из i в j                                   │
│   • Собственные значения A — СПЕКТР графа (инвариант!)                      │
│   • λ₁ (наибольшее) связано со связностью                                   │
│   • Число компонент связности = кратность λ = 0 у лапласиана L = D − A      │
│                                                                             │
│ PageRank Google = главный собственный вектор матрицы переходов!             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ТОПОЛОГИЕЙ                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЭЙЛЕРОВА ХАРАКТЕРИСТИКА:  χ = V − E + F                                     │
│                                                                             │
│ Для плоского графа (на сфере): χ = 2                                        │
│ Для графа на торе: χ = 0                                                    │
│                                                                             │
│ Это ТОТ ЖЕ инвариант χ, что и в гомологиях!                                 │
│ Граф — простейший "симплициальный комплекс" (только 0- и 1-симплексы)       │
│                                                                             │
│   H₀(графа) = ℤᵏ, где k = число компонент связности                         │
│   H₁(графа) = ℤᵐ, где m = число независимых циклов = E − V + k              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТИПЫ ГРАФОВ                                                                 │
├────────────────────────┬────────────────────────────────────────────────────┤
│ ТИП                    │ СВОЙСТВО И ЗНАЧЕНИЕ                                │
├────────────────────────┼────────────────────────────────────────────────────┤
│ Связный                │ ∃ путь между любыми двумя вершинами; H₀ = ℤ        │
│ Дерево                 │ Связный + без циклов; |E| = |V|−1; H₁ = 0          │
│ Полный Kₙ              │ Все соединены; |E| = n(n−1)/2                      │
│ Двудольный             │ Вершины = 2 класса, рёбра между классами           │
│ Планарный              │ Вложим в плоскость без пересечений; χ = 2          │
│ Граф Кэли группы G     │ Кодирует структуру группы; V=G, рёбра=генераторы   │
└────────────────────────┴────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ГИДРАВЛИЧЕСКИЙ РАСЧЁТ ТЕПЛОВОЙ СЕТИ                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Тепловая сеть города. Найти расходы и потери давления.              │
│                                                                             │
│           Источник                                                          │
│              ●───────────────●───────────────●                              │
│              │       G₁₂    / \      G₂₃     │                              │
│           Q₀ │            /   \              │ Потребитель 1                │
│              │          /       \            │ q₁                           │
│              │        / G₁₄      \ G₃₄       │                              │
│              │      /             \          │                              │
│              ●───────────────●───────────────●                              │
│                      G₄₅            Потребитель 2                           │
│                                     q₂                                      │
│                                                                             │
│ ГРАФ СЕТИ:                                                                  │
│   Вершины = узлы (источники, потребители, развилки)                         │
│   Рёбра = трубопроводы (с расходом G и сопротивлением S)                   │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПЕРВЫЙ ЗАКОН КИРХГОФА (сохранение массы в узлах):                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   В каждом узле: Σ Gвход = Σ Gвыход                                        │
│                                                                             │
│   Это ГОМОЛОГИЯ! H₀ = 0 означает: поток может "течь" через сеть.           │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ВТОРОЙ ЗАКОН КИРХГОФА (сохранение давления в контурах):                     │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   В каждом замкнутом контуре: Σ Δpᵢ = 0                                    │
│                                                                             │
│   Число независимых контуров = β₁ = E − V + 1 (первое число Бетти!)        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ МАТРИЧНАЯ ФОРМА:                                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   A · G = q        (A — матрица инцидентности "узлы × рёбра")              │
│   B · Δp = 0       (B — матрица контуров)                                  │
│   Δp = S · G²      (квадратичный закон сопротивления)                      │
│                                                                             │
│   Итого: нелинейная система, решается методом Ньютона.                      │
│                                                                             │
│ ЧИСЛЕННЫЙ ПРИМЕР:                                                           │
│   Сеть с V=5, E=6 ⇒ β₁ = 6−5+1 = 2 независимых контура                     │
│   2 уравнения контуров + 4 уравнения узлов = 6 уравнений для 6 расходов    │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Гидравлика сетей — это теория графов + линейная алгебра.            │
│ Число Бетти β₁ = число независимых контуров = размерность H₁.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Порядок — это отношение "больше/меньше" без требования сравнимости всех пар.
Графы — другая дискретная структура: отношение "связан/не связан".

Графы — это дискретные пространства. На них работают аналоги непрерывных
понятий: лапласиан, диффузия, гомологии. И они повсюду: сети, алгоритмы, данные.
───────────────────────────────────────────────────────────────────────────────

═══════════════════════════════════════════════════════════════════════════════
A10. ГРАФЫ — ДИСКРЕТНЫЕ СТРУКТУРЫ СВЯЗЕЙ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАФ КАК ДИСКРЕТНОЕ ПРОСТРАНСТВО                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Граф — это ДИСКРЕТНЫЙ аналог пространства, где:                             │
│                                                                             │
│   • Вершины — "точки" пространства                                          │
│   • Рёбра — "соседство" (кто рядом с кем)                                   │
│   • Путь — "движение" от точки к точке                                      │
│   • Расстояние = число рёбер в кратчайшем пути                             │
│                                                                             │
│ Многие понятия непрерывной математики имеют дискретные аналоги:            │
│                                                                             │
│   Непрерывное          │   Дискретное (на графе)                            │
│   ─────────────────────┼───────────────────────────                         │
│   Оператор Лапласа ∇²  │   Лапласиан графа L = D − A                       │
│   Теплопроводность     │   Диффузия на графе: u' = −Lu                     │
│   Потенциальный поток  │   Электрическая цепь (законы Кирхгофа)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАФ КАК СТРУКТУРА                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Граф G = (V, E) — это:                                                      │
│   • V — множество ВЕРШИН (узлов)                                            │
│   • E ⊆ V × V — множество РЁБЕР (связей между вершинами)                   │
│                                                                             │
│ ВИДЫ ГРАФОВ:                                                                │
│   • Ориентированный: рёбра имеют направление (a → b ≠ b → a)               │
│   • Неориентированный: {a, b} = {b, a}                                     │
│   • Взвешенный: каждому ребру присвоен вес w(e) ∈ ℝ                        │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Социальная сеть: вершины = люди, рёбра = знакомства                     │
│   • Трубопровод: вершины = узлы, рёбра = трубы, веса = сопротивления       │
│   • Интернет: вершины = серверы, рёбра = каналы связи                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВЫЕ ПОНЯТИЯ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПУТЬ: последовательность вершин v₀ → v₁ → ... → vₙ, где (vᵢ, vᵢ₊₁) ∈ E   │
│ ЦИКЛ: путь, где v₀ = vₙ (замкнутый путь)                                   │
│ СВЯЗНЫЙ ГРАФ: между любыми двумя вершинами существует путь                  │
│ ДЕРЕВО: связный граф без циклов                                             │
│                                                                             │
│ ┌────────────────────┬───────────────────────────────────────────────────┐  │
│ │ ИНВАРИАНТ          │ ФОРМУЛА / СВОЙСТВО                                │  │
│ ├────────────────────┼───────────────────────────────────────────────────┤  │
│ │ Число вершин       │ |V| = n                                           │  │
│ │ Число рёбер        │ |E| = m                                           │  │
│ │ Число компонент    │ k (связные куски графа)                           │  │
│ │ Эйлерова хар-ка    │ χ = n − m + k                                     │  │
│ │ Число циклов       │ β₁ = m − n + k (первое число Бетти)               │  │
│ └────────────────────┴───────────────────────────────────────────────────┘  │
│                                                                             │
│ Для ДЕРЕВА: m = n − 1 (минимум рёбер для связности), β₁ = 0                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ A2 Топология      │ Граф — 1-мерный симплициальный комплекс                 │
│                   │ β₁ = rank(H₁) — топологический инвариант                │
│ ──────────────────┼─────────────────────────────────────────────────────────│
│ A3 Лин. алгебра   │ Матрица смежности, лапласиан, спектр графа              │
│ ──────────────────┼─────────────────────────────────────────────────────────│
│ A9 Решётки       │ Диаграмма Хассе — граф частичного порядка               │
│ ──────────────────┼─────────────────────────────────────────────────────────│
│ A7 Многообразия   │ Дискретизация: сетка = граф на многообразии             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАТРИЦА СМЕЖНОСТИ И ЛАПЛАСИАН                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МАТРИЦА СМЕЖНОСТИ A:                                                        │
│   Aᵢⱼ = 1 если есть ребро (i,j), иначе 0                                   │
│                                                                             │
│     1───2                   ⎛ 0 1 1 0 ⎞                                     │
│     │   │         →    A =  ⎜ 1 0 1 1 ⎟                                     │
│     3───4                   ⎜ 1 1 0 1 ⎟                                     │
│                             ⎝ 0 1 1 0 ⎠                                     │
│                                                                             │
│ МАТРИЦА СТЕПЕНЕЙ D:                                                         │
│   Dᵢᵢ = deg(i) = число рёбер из вершины i                                  │
│                                                                             │
│ ЛАПЛАСИАН ГРАФА:                                                            │
│   L = D − A                                                                │
│                                                                             │
│ СВОЙСТВА ЛАПЛАСИАНА:                                                        │
│   • L симметрична, положительно полуопределена                              │
│   • Собственные значения: 0 = λ₁ ≤ λ₂ ≤ ... ≤ λₙ                          │
│   • Кратность λ = 0 равна числу компонент связности                        │
│   • λ₂ (алгебраическая связность) — мера "насколько связан" граф           │
│                                                                             │
│ АНАЛОГИЯ С ФИЗИКОЙ:                                                         │
│   Лапласиан графа — дискретный аналог оператора Лапласа ∇²!                │
│   Уравнение теплопроводности на графе: du/dt = −Lu                         │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПОЧЕМУ L ≈ ∇² (детальное объяснение)                                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Непрерывный лапласиан на прямой:                                            │
│   (∇²f)(x) = f''(x) ≈ [f(x+h) − 2f(x) + f(x−h)] / h²                       │
│                                                                             │
│ Граф как дискретизация: вершины = точки, рёбра = соседство.                │
│                                                                             │
│ Действие лапласиана графа на функцию f: V → ℝ (значения в вершинах):       │
│                                                                             │
│   (Lf)(i) = Σⱼ~ᵢ [f(i) − f(j)] = deg(i)·f(i) − Σⱼ~ᵢ f(j)                  │
│             ↑                                                               │
│        сумма по соседям j вершины i                                        │
│                                                                             │
│ Это В ТОЧНОСТИ дискретная версия ∇²!                                       │
│   • В точке: значение минус среднее соседей                                │
│   • Измеряет "отклонение от локального среднего"                           │
│   • Гармоническая функция: Lf = 0 ⟺ в каждой точке f = среднее соседей    │
│                                                                             │
│ УРАВНЕНИЕ ТЕПЛОПРОВОДНОСТИ:                                                 │
│   Непрерывное: ∂u/∂t = ∇²u    →    Дискретное: du/dt = −Lu                │
│   Тепло течёт от горячих вершин к холодным соседям!                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СПЕКТРАЛЬНАЯ ТЕОРИЯ ГРАФОВ — ЛИНЕЙНАЯ АЛГЕБРА В ДЕЙСТВИИ                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Собственные значения и векторы лапласиана L — это "частоты" и "моды"       │
│ колебаний сети, аналогично резонансным частотам струны или мембраны.       │
│                                                                             │
│ СПЕКТР ЛАПЛАСИАНА:  0 = λ₁ ≤ λ₂ ≤ ... ≤ λₙ                                 │
│                                                                             │
│ ┌────────────────────┬──────────────────────────────────────────────────┐   │
│ │ СОБСТВ. ЗНАЧЕНИЕ   │ ЧТО ОЗНАЧАЕТ                                     │   │
│ ├────────────────────┼──────────────────────────────────────────────────┤   │
│ │ λ₁ = 0             │ Всегда! Собств. вектор = (1,1,...,1)             │   │
│ │ Кратность λ = 0    │ = число компонент связности графа               │   │
│ │ λ₂ (Fiedler value) │ Алгебраическая связность: чем больше, тем       │   │
│ │                    │ "крепче" связан граф (труднее разрезать)         │   │
│ │ λₙ                 │ Максимальная "частота колебаний" сети           │   │
│ └────────────────────┴──────────────────────────────────────────────────┘   │
│                                                                             │
│ ВЕКТОР ФИДЛЕРА (Fiedler vector):                                            │
│   Собственный вектор v₂, соответствующий λ₂.                               │
│                                                                             │
│   МАГИЯ: Знаки компонент v₂ делят граф на две части!                       │
│   Вершины с v₂ᵢ > 0 — одна группа, с v₂ᵢ < 0 — другая.                     │
│   Это ОПТИМАЛЬНОЕ разбиение (минимизирует число рёбер между группами).     │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│   • Спектральная кластеризация: группировка вершин по собств. векторам    │
│   • PageRank: главный собств. вектор матрицы переходов (Google!)          │
│   • Синхронизация: связь λ₂ с устойчивостью синхронных режимов            │
│   • Графовые нейросети (GNN): свёртка через спектр лапласиана             │
│                                                                             │
│ ЭТО ЧИСТАЯ МАГИЯ ЛИНЕЙНОЙ АЛГЕБРЫ В ДИСКРЕТНОМ МИРЕ!                       │
│ Локальная структура (рёбра) → глобальное свойство (спектр).                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНЖЕНЕРНЫЕ ПРИЛОЖЕНИЯ: СЕТЕВЫЕ ПОТОКИ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА О МАКСИМАЛЬНОМ ПОТОКЕ:                                               │
│   Дана сеть с источником s и стоком t.                                     │
│   Рёбра имеют пропускную способность c(e).                                 │
│   Найти максимальный поток из s в t.                                       │
│                                                                             │
│        ┌───[3]───┐                                                         │
│        │         ▼                                                         │
│   s ──[5]──→ a ──[2]──→ t       Макс. поток = 5                            │
│        │         ▲                                                         │
│        └───[4]───┘                                                         │
│                                                                             │
│ ТЕОРЕМА (Форд-Фалкерсон):                                                   │
│   Максимальный поток = минимальный разрез                                   │
│                                                                             │
│ ПРИЛОЖЕНИЯ:                                                                 │
│   • Трубопроводные сети (максимальная пропускная способность)               │
│   • Транспортные задачи (оптимальная логистика)                             │
│   • Электрические сети (законы Кирхгофа!)                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАКОНЫ КИРХГОФА КАК ТЕОРИЯ ГРАФОВ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Электрическая цепь = взвешенный граф, где:                                  │
│   • Вершины = узлы цепи                                                     │
│   • Рёбра = резисторы/проводники                                            │
│   • Веса = проводимости g = 1/R                                            │
│                                                                             │
│ ПЕРВЫЙ ЗАКОН КИРХГОФА (узловой):                                            │
│   Σ Iₖ = 0  в каждом узле                                                  │
│   ↔ Вектор токов I ∈ ker(∂₁) — ядро граничного оператора!                  │
│                                                                             │
│ ВТОРОЙ ЗАКОН КИРХГОФА (контурный):                                          │
│   Σ Uₖ = 0  по любому замкнутому контуру                                   │
│   ↔ Вектор напряжений U ∈ im(∂₀*) — образ ко-граничного оператора!         │
│                                                                             │
│ ЗАКОН ОМА:  I = GU  (G — матрица проводимостей)                             │
│                                                                             │
│ ИТОГ: Решение цепи = решение системы Lφ = I_ext                            │
│       где L — взвешенный лапласиан, φ — потенциалы узлов                    │
│                                                                             │
│ ЭТО ТА ЖЕ МАТЕМАТИКА, что и теплопроводность, диффузия, гидравлика!        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРАТЧАЙШИЕ ПУТИ И АЛГОРИТМЫ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Найти кратчайший путь между вершинами во взвешенном графе.         │
│                                                                             │
│ ┌────────────────────┬──────────────────────┬──────────────────────────────┐│
│ │ АЛГОРИТМ           │ СЛОЖНОСТЬ            │ КОГДА ПРИМЕНЯТЬ              ││
│ ├────────────────────┼──────────────────────┼──────────────────────────────┤│
│ │ BFS (поиск в ширину)│ O(V + E)            │ Невзвешенный граф            ││
│ │ Дейкстра           │ O(E + V log V)       │ Неотриц. веса, один источник ││
│ │ Беллман-Форд       │ O(VE)                │ Любые веса, один источник    ││
│ │ Флойд-Уоршелл      │ O(V³)                │ Все пары, любые веса         ││
│ └────────────────────┴──────────────────────┴──────────────────────────────┘│
│                                                                             │
│ ПРИМЕНЕНИЯ В ИНЖЕНЕРИИ:                                                     │
│   • Маршрутизация в сетях                                                   │
│   • Оптимальные трассы трубопроводов                                        │
│   • Планирование проектов (CPM/PERT — граф работ)                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────

A10.1  КОМБИНАТОРИКА — ИСКУССТВО СЧЁТА
═══════════════════════════════════════════════════════════════════════════════

Комбинаторика отвечает на вопрос "СКОЛЬКО?": сколько способов выбрать,
расставить, разбить объекты. Эти формулы нужны везде: от теории вероятностей
до квантовой механики.

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОМБИНАТОРИКА КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Комбинаторика изучает КОНЕЧНЫЕ ДИСКРЕТНЫЕ ПРОСТРАНСТВА.                     │
│                                                                             │
│ Если топология спрашивает "какие точки близки?", а метрика — "насколько?",  │
│ то комбинаторика спрашивает: "СКОЛЬКО точек/путей/конфигураций?"           │
│                                                                             │
│ Это НУЛЬ-МЕРНАЯ геометрия: структура без непрерывности, только счёт.        │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ КОМБИНАТОРНЫЕ ОБЪЕКТЫ = ТОЧКИ В ПРОСТРАНСТВАХ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────────┬─────────────────────────────┬────────────────────┐   │
│ │ ОБЪЕКТ             │ ЧТО ЭТО ЗА ПРОСТРАНСТВО     │ РАЗМЕР             │   │
│ ├────────────────────┼─────────────────────────────┼────────────────────┤   │
│ │ Перестановка       │ Множество всех упорядоченных│ n! точек           │   │
│ │ n элементов        │ расстановок = группа Sₙ     │                    │   │
│ ├────────────────────┼─────────────────────────────┼────────────────────┤   │
│ │ k-подмножество     │ Множество всех выборок k из │ C(n,k) точек       │   │
│ │ из n элементов     │ n = грассманиан Gr(k,n)     │                    │   │
│ ├────────────────────┼─────────────────────────────┼────────────────────┤   │
│ │ Путь в графе       │ Пространство путей          │ Считается по графу │   │
│ │ из A в B           │ (дискретное многообразие)   │                    │   │
│ ├────────────────────┼─────────────────────────────┼────────────────────┤   │
│ │ Разбиение числа n  │ Множество способов          │ p(n) точек         │   │
│ │                    │ представить n суммой        │ (число разбиений)  │   │
│ └────────────────────┴─────────────────────────────┴────────────────────┘   │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ СВЯЗЬ С ДРУГИМИ СТРУКТУРАМИ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГРУППЫ (A1):                                                                │
│   Множество перестановок Sₙ — это ГРУППА!                                   │
│   • Операция: композиция перестановок                                      │
│   • Порядок группы |Sₙ| = n!                                               │
│   • Подгруппы Sₙ — это группы симметрий конечных объектов                  │
│                                                                             │
│ ЛИНЕЙНАЯ АЛГЕБРА (A3):                                                      │
│   Биномиальный коэффициент C(n,k) = размерность пространства!               │
│   • Множество всех k-подмножеств {1,...,n} — базис                         │
│   • dim(пространство k-форм на ℝⁿ) = C(n,k)                                │
│   • Треугольник Паскаля = размерности внешних степеней                     │
│                                                                             │
│ ВЕРОЯТНОСТЬ (A17):                                                          │
│   Комбинаторика — основа дискретной вероятности!                           │
│   • P(событие) = (благоприятные исходы) / (все исходы)                     │
│   • "Все исходы" считаются комбинаторно                                    │
│                                                                             │
│ ГРАФЫ (A10):                                                                │
│   Число путей в графе = комбинаторика на дискретном пространстве           │
│   • Матрица смежности Aⁿ[i,j] = число путей длины n из i в j              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВА БАЗОВЫХ ПРИНЦИПА                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРИНЦИП СЛОЖЕНИЯ:                                                           │
│   Если задачу можно выполнить способом A ИЛИ способом B (взаимоисключающими),│
│   и A можно сделать m способами, B — n способами, то всего m + n способов. │
│                                                                             │
│ ПРИНЦИП УМНОЖЕНИЯ:                                                          │
│   Если задача состоит из шага A И шага B (последовательных),                │
│   и A можно сделать m способами, B — n способами, то всего m · n способов. │
│                                                                             │
│ ПРИНЦИП ДИРИХЛЕ (принцип ящиков):                                           │
│   Если n+1 объект разложить по n ящикам, хотя бы в одном ящике ≥ 2 объекта.│
│                                                                             │
│   ПРИМЕНЕНИЕ: Среди 367 человек найдутся двое с одинаковым днём рождения.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФАКТОРИАЛ                                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │  n! = n · (n−1) · (n−2) · ... · 2 · 1                                  │ │
│ │                                                                         │ │
│ │  n! = количество способов расставить n различных объектов в ряд        │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЗНАЧЕНИЯ:                                                                   │
│   0! = 1 (по определению)                                                   │
│   1! = 1                                                                    │
│   2! = 2                                                                    │
│   3! = 6                                                                    │
│   4! = 24                                                                   │
│   5! = 120                                                                  │
│   10! = 3 628 800                                                           │
│   20! ≈ 2.4 × 10¹⁸                                                         │
│                                                                             │
│ ФОРМУЛА СТИРЛИНГА (асимптотика для больших n):                             │
│   n! ≈ √(2πn) · (n/e)ⁿ                                                    │
│                                                                             │
│   Точнее: n! = √(2πn) · (n/e)ⁿ · (1 + O(1/n))                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПЕРЕСТАНОВКИ, РАЗМЕЩЕНИЯ, СОЧЕТАНИЯ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────┬────────────┬────────────┬─────────────────────────────┐   │
│ │               │ ПОРЯДОК    │ ПОВТОРЕНИЯ │ ФОРМУЛА                     │   │
│ │               │ ВАЖЕН?     │            │                             │   │
│ ├───────────────┼────────────┼────────────┼─────────────────────────────┤   │
│ │ ПЕРЕСТАНОВКИ  │ ДА         │ НЕТ        │ Pₙ = n!                     │   │
│ │ (все n)       │            │            │                             │   │
│ ├───────────────┼────────────┼────────────┼─────────────────────────────┤   │
│ │ РАЗМЕЩЕНИЯ    │ ДА         │ НЕТ        │ Aₙᵏ = n!/(n−k)!             │   │
│ │ (k из n)      │            │            │ = n(n−1)...(n−k+1)          │   │
│ ├───────────────┼────────────┼────────────┼─────────────────────────────┤   │
│ │ СОЧЕТАНИЯ     │ НЕТ        │ НЕТ        │ Cₙᵏ = n!/(k!(n−k)!)         │   │
│ │ (k из n)      │            │            │ = (n choose k)               │   │
│ ├───────────────┼────────────┼────────────┼─────────────────────────────┤   │
│ │ РАЗМЕЩЕНИЯ    │ ДА         │ ДА         │ nᵏ                          │   │
│ │ с повторен.   │            │            │                             │   │
│ ├───────────────┼────────────┼────────────┼─────────────────────────────┤   │
│ │ СОЧЕТАНИЯ     │ НЕТ        │ ДА         │ C_{n+k-1}^k                  │   │
│ │ с повторен.   │            │            │                             │   │
│ └───────────────┴────────────┴────────────┴─────────────────────────────┘   │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Сколько способов расставить 5 книг на полке?  P₅ = 5! = 120            │
│   • Сколько трёхзначных чисел из цифр 1-9 без повторений?  A₉³ = 504       │
│   • Сколько способов выбрать 3 человека из 10?  C₁₀³ = 120                 │
│   • Сколько трёхбуквенных слов из алфавита {a,b,c}?  3³ = 27               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ БИНОМИАЛЬНЫЕ КОЭФФИЦИЕНТЫ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ:                                                            │ │
│ │            ⎛n⎞     n!                                                   │ │
│ │   Cₙᵏ =    ⎜ ⎟ = ────────  = "n choose k"                              │ │
│ │            ⎝k⎠   k!(n−k)!                                               │ │
│ │                                                                         │ │
│ │   = количество способов выбрать k объектов из n (порядок не важен)      │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   Cₙ⁰ = Cₙⁿ = 1                                                            │
│   Cₙᵏ = Cₙⁿ⁻ᵏ         (симметрия)                                         │
│   Cₙᵏ = Cₙ₋₁ᵏ⁻¹ + Cₙ₋₁ᵏ  (рекуррентное соотношение, треугольник Паскаля) │
│                                                                             │
│ ТРЕУГОЛЬНИК ПАСКАЛЯ:                                                        │
│                     1                      n=0                              │
│                   1   1                    n=1                              │
│                 1   2   1                  n=2                              │
│               1   3   3   1                n=3                              │
│             1   4   6   4   1              n=4                              │
│           1   5  10  10   5   1            n=5                              │
│                                                                             │
│   Каждое число = сумма двух над ним                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ БИНОМ НЬЮТОНА                                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                          n                                              │ │
│ │  (a + b)ⁿ = Σ  Cₙᵏ · aⁿ⁻ᵏ · bᵏ                                        │ │
│ │             k=0                                                         │ │
│ │                                                                         │ │
│ │  = Cₙ⁰aⁿ + Cₙ¹aⁿ⁻¹b + Cₙ²aⁿ⁻²b² + ... + Cₙⁿbⁿ                        │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЧАСТНЫЕ СЛУЧАИ:                                                             │
│   (a+b)² = a² + 2ab + b²                                                   │
│   (a+b)³ = a³ + 3a²b + 3ab² + b³                                          │
│   (1+x)ⁿ = 1 + nx + n(n−1)x²/2 + ...                                      │
│                                                                             │
│ СЛЕДСТВИЯ (подставляем конкретные a, b):                                   │
│   a=b=1:  2ⁿ = Σ Cₙᵏ = Cₙ⁰ + Cₙ¹ + ... + Cₙⁿ                             │
│   a=1, b=−1:  0 = Σ(−1)ᵏCₙᵏ  (сумма чётных = сумма нечётных)             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИНЦИП ВКЛЮЧЕНИЯ-ИСКЛЮЧЕНИЯ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для двух множеств:                                                          │
│   |A ∪ B| = |A| + |B| − |A ∩ B|                                            │
│                                                                             │
│ Для трёх множеств:                                                          │
│   |A ∪ B ∪ C| = |A| + |B| + |C|                                            │
│                  − |A∩B| − |A∩C| − |B∩C|                                    │
│                  + |A∩B∩C|                                                   │
│                                                                             │
│ Общая формула для n множеств:                                               │
│   |A₁ ∪ ... ∪ Aₙ| = Σ|Aᵢ| − Σ|Aᵢ∩Aⱼ| + Σ|Aᵢ∩Aⱼ∩Aₖ| − ...               │
│                                                                             │
│ ПРИМЕНЕНИЕ: Сколько чисел от 1 до 100 не делятся ни на 2, ни на 3, ни на 5?│
│   |A₂∪A₃∪A₅| = 50+33+20 − 16−10−6 + 3 = 74                                │
│   Ответ: 100 − 74 = 26                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ФОРМУЛЫ ИМЕННО ТАКИЕ — ГЕОМЕТРИЧЕСКАЯ ИНТУИЦИЯ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФАКТОРИАЛ n! = объём "дискретного куба"                                     │
│                                                                             │
│   Представь n! как число вершин в пространстве упорядоченных наборов.       │
│   Каждый выбор "первый элемент, второй, ..." — это путь по дереву:         │
│                                                                             │
│         ●────┬────●────┬────●────●                                          │
│              │         │                                                    │
│              ├────●    ├────●                                               │
│              │         │                                                    │
│              └────●    └────●                                               │
│                                                                             │
│   На каждом уровне: n, потом n-1, потом n-2, ... вариантов.                 │
│   Всего путей: n × (n-1) × ... × 1 = n!                                    │
│                                                                             │
│ C(n,k) = "объём" пространства неупорядоченных k-подмножеств                 │
│                                                                             │
│   Путей в упорядоченном выборе: n(n-1)...(n-k+1) = n!/(n-k)!               │
│   Но k! упорядочений дают одно подмножество.                                │
│   Значит: C(n,k) = n! / (k!(n-k)!)                                         │
│                                                                             │
│   Это тот же паттерн, что и в теореме о подпространствах:                   │
│   dim(V/W) = dim(V) - dim(W) — факторизация по симметрии!                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Мы рассмотрели дискретные структуры (порядок, графы). Теперь — важное
дополнение к непрерывной математике: комплексные числа.

Почему здесь? Комплексные числа — это не "ещё одна числовая система".
Это место, где алгебра (умножение) и геометрия (вращения) СОВПАДАЮТ.
Они критичны для анализа, который будет дальше.
───────────────────────────────────────────────────────────────────────────────

═══════════════════════════════════════════════════════════════════════════════
A11. КОМПЛЕКСНЫЕ ЧИСЛА — АЛГЕБРА ВСТРЕЧАЕТ ГЕОМЕТРИЮ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОМПЛЕКСНЫЕ ЧИСЛА КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ℂ — это ДВУМЕРНОЕ пространство ℝ² с ДОПОЛНИТЕЛЬНОЙ структурой:             │
│ умножением, которое кодирует ВРАЩЕНИЯ и РАСТЯЖЕНИЯ.                        │
│                                                                             │
│   Как пространство: ℂ ≅ ℝ² (плоскость)                                     │
│   Как алгебра:      ℂ имеет умножение (ℝ² — нет!)                          │
│                                                                             │
│ Это делает ℂ уникальным: одновременно геометрия И алгебра.                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНОЕ ОТКРЫТИЕ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Комплексные числа — это место, где АЛГЕБРА и ГЕОМЕТРИЯ сливаются!           │
│                                                                             │
│   АЛГЕБРА: числа, которые можно складывать и умножать                       │
│   ГЕОМЕТРИЯ: точки плоскости и вращения                                     │
│                                                                             │
│ Ключевой факт: УМНОЖЕНИЕ на eⁱᶿ = ПОВОРОТ на угол θ                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОДИН ОБЪЕКТ — ТРИ ВЗГЛЯДА                                                   │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ АЛГЕБРА                 │ ГЕОМЕТРИЯ               │ АНАЛИЗ                  │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ z = a + bi              │ Точка (a, b)            │ Пара функций            │
│ (a, b ∈ ℝ, i² = −1)     │ на плоскости            │ Re(z), Im(z)            │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ z = |z|eⁱᶿ              │ Полярные координаты     │ eⁱᶿ = cos θ + i sin θ   │
│ (полярная форма)        │ (r, θ)                  │ (формула Эйлера)        │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Умножение на w          │ Масштабирование         │ Линейное                │
│ z ↦ wz                  │ на |w| + поворот на θ_w │ отображение ℝ² → ℝ²     │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ |z| = 1                 │ Единичная окружность    │ Группа U(1) ≅ SO(2)     │
│ (числа вида eⁱᶿ)        │ S¹                      │ (вращения плоскости!)   │
│                         │                         │                         │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРУППА U(1) — КЛЮЧ КО ВСЕМУ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Числа с |z| = 1 образуют ГРУППУ относительно умножения:                     │
│                                                                             │
│   • Замкнутость: |z₁| = |z₂| = 1 ⇒ |z₁z₂| = 1                              │
│   • Нейтральный: e⁰ = 1                                                     │
│   • Обратный: (eⁱᶿ)⁻¹ = e⁻ⁱᶿ                                                │
│                                                                             │
│ Это группа U(1) ≅ S¹ ≅ SO(2) ≅ ℝ/ℤ — все они ОДНО И ТО ЖЕ:                  │
│                                                                             │
│   ┌────────────────┬──────────────────────────────────────────────────┐     │
│   │ ОБОЗНАЧЕНИЕ    │ КАК СМОТРИМ                                      │     │
│   ├────────────────┼──────────────────────────────────────────────────┤     │
│   │ U(1)           │ Унитарные 1×1 матрицы (= комплексные числа |z|=1)│     │
│   │ S¹             │ Окружность как топологическое пространство       │     │
│   │ SO(2)          │ Группа вращений плоскости                        │     │
│   │ ℝ/ℤ            │ Вещественные числа по модулю 1 (углы 0 ≡ 2π)     │     │
│   └────────────────┴──────────────────────────────────────────────────┘     │
│                                                                             │
│ СВЯЗЬ С ФУРЬЕ: базис eⁱⁿˣ = представления группы U(1)!                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМУЛА ЭЙЛЕРА — МОСТ МЕЖДУ МИРАМИ                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                         eⁱᶿ = cos θ + i sin θ                               │
│                                                                             │
│ Частный случай (θ = π):   eⁱᵖ + 1 = 0                                       │
│                                                                             │
│ Связывает: e (анализ), i (алгебра), π (геометрия), 1 и 0 (арифметика)       │
│                                                                             │
│ ДОКАЗАТЕЛЬСТВО (ряды Тейлора — связь с A8!):                                │
│                                                                             │
│   eⁱˣ = Σ (ix)ⁿ/n! = Σ iⁿxⁿ/n!                                              │
│       = (1 − x²/2! + x⁴/4! − ...) + i(x − x³/3! + x⁵/5! − ...)             │
│       = cos x + i sin x                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ℂ "ЗАВЕРШАЕТ" АЛГЕБРУ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОСНОВНАЯ ТЕОРЕМА АЛГЕБРЫ:                                                   │
│   Любой многочлен степени n имеет ровно n корней в ℂ (с учётом кратности)   │
│                                                                             │
│ Это значит: в ℂ решается ЛЮБОЕ алгебраическое уравнение!                    │
│ Дальше расширять числа не нужно (для решения уравнений).                    │
│                                                                             │
│ Связь с I-bis: ℂ — "конец пути" ℕ → ℤ → ℚ → ℝ → ℂ                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМУЛЫ (для вычислений)                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Умножение: z₁z₂ = |z₁||z₂| eⁱ⁽ᶿ¹⁺ᶿ²⁾   (модули ×, углы +)                  │
│                                                                             │
│ Степень:   zⁿ = |z|ⁿ eⁱⁿᶿ              (формула Муавра)                     │
│                                                                             │
│ Корни:     ⁿ√z = ⁿ√|z| · eⁱ⁽ᶿ⁺²ᵖᵏ⁾/ⁿ,  k = 0,1,...,n−1  (n корней!)        │
│                                                                             │
│ Триг. тождества:  cos θ = (eⁱᶿ + e⁻ⁱᶿ)/2,  sin θ = (eⁱᶿ − e⁻ⁱᶿ)/(2i)      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: ЗАТУХАЮЩИЕ КОЛЕБАНИЯ ТЕМПЕРАТУРЫ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Стенка здания. Снаружи температура колеблется (день/ночь).          │
│ Как распространяются колебания внутрь стены?                                │
│                                                                             │
│ УРАВНЕНИЕ ТЕПЛОПРОВОДНОСТИ:                                                 │
│                                                                             │
│   ∂T/∂t = a · ∂²T/∂x²     (a — коэффициент температуропроводности)         │
│                                                                             │
│ Граничное условие (снаружи):  T(0,t) = T₀ + ΔT·cos(ωt)                     │
│                               (суточные колебания с периодом 24 часа)       │
│                                                                             │
│ РЕШЕНИЕ ЧЕРЕЗ КОМПЛЕКСНЫЕ ЧИСЛА:                                            │
│                                                                             │
│   Ищем T(x,t) = Re[T̃(x)·eⁱʷᵗ]  — комплексная амплитуда T̃                   │
│                                                                             │
│   Подставляем: iω·T̃ = a·d²T̃/dx²                                            │
│                                                                             │
│   Характеристическое уравнение: λ² = iω/a                                   │
│                                                                             │
│   Решение: λ = ±(1+i)√(ω/2a) = ±(1+i)/δ                                    │
│                                                                             │
│   где δ = √(2a/ω) — ГЛУБИНА ПРОНИКНОВЕНИЯ температурной волны              │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ:                                                           │
│                                                                             │
│   T(x,t) = T₀ + ΔT·e^(−x/δ)·cos(ωt − x/δ)                                  │
│                    ↑              ↑                                         │
│              затухание       сдвиг фазы                                     │
│                                                                             │
│   • Амплитуда колебаний ЗАТУХАЕТ с глубиной как e^(−x/δ)                   │
│   • Фаза ЗАПАЗДЫВАЕТ: максимум внутри наступает ПОЗЖЕ, чем снаружи          │
│                                                                             │
│ ЧИСЛЕННЫЙ ПРИМЕР:                                                           │
│   Кирпичная стена: a ≈ 0.5×10⁻⁶ м²/с                                       │
│   Суточные колебания: ω = 2π/(24·3600) ≈ 7.3×10⁻⁵ рад/с                    │
│   Глубина проникновения: δ = √(2·0.5×10⁻⁶/7.3×10⁻⁵) ≈ 0.12 м               │
│                                                                             │
│   На глубине 30 см: амплитуда падает в e^(0.3/0.12) ≈ 12 раз!              │
│                                                                             │
│ МОРАЛЬ: Комплексные числа — не "воображаемые". Они ЕСТЕСТВЕННО              │
│ появляются при решении уравнений с колебаниями и затуханием.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КУДА ВЕДЁТ                                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КВАНТОВАЯ МЕХАНИКА: состояния — комплексные, фаза eⁱᶿ физически важна      │
│   Волновая функция ψ(x) ∈ ℂ, вероятность = |ψ|²                            │
│                                                                             │
│ ЭЛЕКТРОТЕХНИКА: импеданс Z = R + iX, фазовые соотношения                    │
│                                                                             │
│ ТЕОРИЯ УПРАВЛЕНИЯ: передаточные функции, анализ устойчивости               │
│                                                                             │
│ КВАТЕРНИОНЫ ℍ: обобщение на 4D, три "мнимые единицы" i,j,k                  │
│   Вращения в 3D = SU(2) = единичные кватернионы                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A11.6  КОМПЛЕКСНЫЙ АНАЛИЗ — МАГИЯ ГОЛОМОРФНЫХ ФУНКЦИЙ
═══════════════════════════════════════════════════════════════════════════════

Комплексные числа — это алгебра (A11.1-A11.5). Но когда мы начинаем
дифференцировать и интегрировать функции f: ℂ → ℂ, происходит ЧУДО.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГОЛОМОРФНОСТЬ = КОМПЛЕКСНАЯ ДИФФЕРЕНЦИРУЕМОСТЬ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Функция f: ℂ → ℂ голоморфна в точке z₀, если существует предел:            │
│                                                                             │
│              f(z₀ + h) − f(z₀)                                              │
│   f'(z₀) = lim ───────────────     (h ∈ ℂ, h → 0 с ЛЮБОГО направления)    │
│            h→0        h                                                     │
│                                                                             │
│ Это ГОРАЗДО СИЛЬНЕЕ, чем дифференцируемость в ℝ²!                          │
│                                                                             │
│ УСЛОВИЯ КОШИ-РИМАНА:                                                        │
│   Если f(x + iy) = u(x,y) + iv(x,y), то:                                   │
│                                                                             │
│   ∂u/∂x = ∂v/∂y    и    ∂u/∂y = −∂v/∂x                                    │
│                                                                             │
│   Эти два уравнения связывают Re и Im части голоморфной функции.           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ГОЛОМОРФНОСТЬ — ЭТО МАГИЯ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если f голоморфна, то АВТОМАТИЧЕСКИ:                                        │
│                                                                             │
│   • f бесконечно дифференцируема (все производные существуют!)              │
│   • f аналитична (раскладывается в степенной ряд)                          │
│   • f определяется своими значениями на любой кривой                        │
│   • Интеграл по замкнутому контуру = 0 (если внутри нет особенностей)      │
│                                                                             │
│ В ℝ: дифференцируемость в точке НЕ гарантирует даже непрерывность          │
│      второй производной. В ℂ: одна производная → бесконечно много!         │
│                                                                             │
│ ПОЧЕМУ ТАК? Условия Коши-Римана — это система уравнений, которая           │
│ "распространяет" информацию о функции во все стороны.                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ: КАК "ВЫГЛЯДЯТ" КОМПЛЕКСНЫЕ ФУНКЦИИ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Комплексная функция f: ℂ → ℂ — это отображение ПЛОСКОСТИ В ПЛОСКОСТЬ.      │
│ Это 4D объект (2D вход + 2D выход), его сложно визуализировать напрямую.   │
│                                                                             │
│ МЕТОД: ДЕФОРМАЦИЯ СЕТКИ                                                     │
│                                                                             │
│   Рисуем сетку в z-плоскости, смотрим куда она переходит в w-плоскости.    │
│                                                                             │
│   z-плоскость              w = z²               w-плоскость                 │
│                                                                             │
│   │ │ │ │ │                                    ╲ │ ╱                        │
│   ─┼─┼─┼─┼─┼─        ────────────▶              ─┼─                         │
│   │ │ │ │ │                                    ╱ │ ╲                        │
│   ─┼─┼─┼─┼─┼─                                                               │
│   │ │ │ │ │              Квадраты → криволинейные четырёхугольники          │
│                          Прямые углы → прямые углы (конформность!)          │
│                                                                             │
│ ПРИМЕРЫ ОТОБРАЖЕНИЙ                                                         │
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ ФУНКЦИЯ             │ ЧТО ВИДИМ НА КАРТИНКЕ                           │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ f(z) = z            │ Тождество — сетка не меняется                   │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ f(z) = z²           │ Удвоение углов: луч θ → луч 2θ                  │   │
│ │                     │ Окружность |z|=r → окружность |w|=r²            │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ f(z) = eᶻ           │ Вертикаль x=const → окружность |w|=eˣ          │   │
│ │                     │ Горизонталь y=const → луч arg(w)=y              │   │
│ │                     │ Полоса 0 < Im(z) < 2π → вся плоскость (!)       │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ f(z) = 1/z          │ Инверсия: большое ↔ малое                       │   │
│ │                     │ |z|>1 → |w|<1, углы меняют знак                 │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНФОРМНОСТЬ — ГЛАВНОЕ СВОЙСТВО ГОЛОМОРФНЫХ ФУНКЦИЙ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Голоморфная функция f(z) СОХРАНЯЕТ УГЛЫ в точках, где f'(z) ≠ 0.           │
│                                                                             │
│ ЧТО ЭТО ЗНАЧИТ:                                                             │
│                                                                             │
│   • Две кривые пересекаются под углом α                                     │
│   • Их образы пересекаются под тем же углом α                              │
│   • Бесконечно малые круги → бесконечно малые круги (не эллипсы!)          │
│                                                                             │
│ ЛОКАЛЬНО голоморфная функция — это ВРАЩЕНИЕ + РАСТЯЖЕНИЕ:                  │
│                                                                             │
│   f(z) ≈ f(z₀) + f'(z₀)·(z − z₀)                                           │
│                                                                             │
│   • Множитель f'(z₀) = |f'|·eⁱᶿ                                            │
│   • |f'| — коэффициент растяжения                                          │
│   • θ = arg(f') — угол поворота                                            │
│                                                                             │
│ ВИЗУАЛЬНО: Маленькие квадратики сетки → маленькие квадратики,              │
│            но повёрнутые и масштабированные (не перекошенные!)             │
│                                                                             │
│ ⚠️ ИСКЛЮЧЕНИЕ: В точках где f'(z) = 0 (критические точки)                  │
│    углы могут УМНОЖАТЬСЯ. Для f(z) = zⁿ в нуле: угол × n.                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТЕГРАЛЬНАЯ ТЕОРЕМА КОШИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если f голоморфна внутри и на замкнутом контуре γ:                         │
│                                                                             │
│   ∮_γ f(z) dz = 0                                                          │
│                                                                             │
│ СЛЕДСТВИЕ (Интегральная формула Коши):                                      │
│                                                                             │
│              1    ∮   f(ζ)                                                 │
│   f(z) = ───── ·  ─────── dζ                                               │
│          2πi   γ  ζ − z                                                    │
│                                                                             │
│   Значение функции ВНУТРИ контура определяется значениями НА контуре!      │
│   Это как если бы температура внутри комнаты определялась только стенами.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВЫЧЕТЫ — ТЕХНИКА ВЫЧИСЛЕНИЯ ИНТЕГРАЛОВ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если f имеет изолированную особенность в точке z₀:                         │
│                                                                             │
│   f(z) = ... + a₋₂/(z−z₀)² + a₋₁/(z−z₀) + a₀ + a₁(z−z₀) + ...            │
│                               ↑                                             │
│                          ВЫЧЕТ = a₋₁                                       │
│                                                                             │
│ ТЕОРЕМА О ВЫЧЕТАХ:                                                          │
│                                                                             │
│   ∮_γ f(z) dz = 2πi · Σ Res(f, zₖ)                                         │
│                       zₖ внутри γ                                          │
│                                                                             │
│ ПРИМЕНЕНИЕ: Вычисление ВЕЩЕСТВЕННЫХ интегралов!                             │
│                                                                             │
│   ∫_{−∞}^{∞} dx/(1+x²) = π    (замыкаем контур в верхней полуплоскости)   │
│                                                                             │
│   Многие интегралы, невозможные в ℝ, тривиальны в ℂ.                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ТОПОЛОГИЕЙ                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНДЕКС ОБМОТКИ (winding number):                                            │
│   Сколько раз кривая γ обходит вокруг точки z₀?                            │
│                                                                             │
│              1    ∮    dz                                                  │
│   n(γ, z₀) = ─── ·  ─────── = целое число!                                 │
│             2πi  γ  z − z₀                                                 │
│                                                                             │
│   Это связывает комплексный анализ с алгебраической топологией (π₁).       │
│                                                                             │
│ ПРИМЕР: Доказательство Основной теоремы алгебры (каждый многочлен          │
│ над ℂ имеет корень) использует индекс обмотки!                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОМПЛЕКСНЫЙ ПОТЕНЦИАЛ — ГИДРО- И АЭРОДИНАМИКА                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Одно из самых красивых приложений комплексного анализа — ПОТЕНЦИАЛЬНОЕ      │
│ ТЕЧЕНИЕ идеальной жидкости (или газа при малых скоростях).                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ЗАЧЕМ ЭТО НУЖНО                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ЗАДАЧА: Найти, как течёт жидкость вокруг препятствия.                       │
│ ПРОБЛЕМА: Уравнения Навье-Стокса сложны, нет аналитических решений.         │
│ УПРОЩЕНИЕ: Если жидкость "идеальная" (без вязкости) и течение без вихрей,   │
│            задача сводится к ОДНОЙ функции комплексного переменного!        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ШАГ 1: ЧТО ТАКОЕ ПОТЕНЦИАЛЬНОЕ ТЕЧЕНИЕ                                      │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ "Безвихревое" означает: жидкость не вращается локально.                     │
│ Представьте кораблик-спичку на воде:                                        │
│   • В обычном течении: спичка плывёт И крутится вокруг своей оси            │
│   • В безвихревом: спичка плывёт, но НЕ крутится (всегда смотрит на север)  │
│                                                                             │
│ Математически: rot v⃗ = 0, что означает v⃗ = ∇φ для некоторой функции φ.    │
│ φ называется ПОТЕНЦИАЛ СКОРОСТИ.                                            │
│                                                                             │
│ Для несжимаемой жидкости (div v⃗ = 0):                                      │
│   ∇²φ = 0  ← Уравнение Лапласа!                                            │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ШАГ 2: ПОЧЕМУ КОМПЛЕКСНЫЕ ЧИСЛА ПОМОГАЮТ                                    │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ: Если w(z) = φ + iψ голоморфна, то:                          │
│   ∂φ/∂x = ∂ψ/∂y   и   ∂φ/∂y = −∂ψ/∂x  (условия Коши-Римана)               │
│                                                                             │
│ Следствие: ∂²φ/∂x² + ∂²φ/∂y² = 0  ← это и есть уравнение Лапласа!          │
│                                                                             │
│ ВЫВОД: Любая голоморфная функция w(z) АВТОМАТИЧЕСКИ даёт решение            │
│        уравнения течения! Не нужно решать дифференциальные уравнения.       │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ШАГ 3: ЧТО ОЗНАЧАЮТ φ И ψ ФИЗИЧЕСКИ                                         │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ φ — ПОТЕНЦИАЛ СКОРОСТИ:                                                     │
│   Скорость = градиент потенциала: vₓ = ∂φ/∂x, vᵧ = ∂φ/∂y                  │
│   Линии φ = const — ЭКВИПОТЕНЦИАЛИ (как линии высот на карте)              │
│                                                                             │
│ ψ — ФУНКЦИЯ ТОКА:                                                           │
│   Линии ψ = const — это ЛИНИИ ТОКА (траектории частиц жидкости)            │
│   Жидкость течёт ВДОЛЬ этих линий, не пересекая их!                        │
│                                                                             │
│ ПОЧЕМУ ОНИ ОРТОГОНАЛЬНЫ:                                                    │
│   Градиент φ (направление наибыстрейшего роста φ) перпендикулярен           │
│   линиям φ = const. Но градиент φ = вектор скорости. А скорость             │
│   направлена ВДОЛЬ линий тока ψ = const. Значит, линии ⊥ друг другу!       │
│                                                                             │
│        φ = 3   φ = 2   φ = 1   φ = 0   ← эквипотенциали (вертикально)       │
│           │       │       │       │                                         │
│    ψ=1 ───┼───────┼───────┼───────┼──→  ← линии тока (горизонтально)        │
│           │       │       │       │                                         │
│    ψ=0 ───┼───────┼───────┼───────┼──→                                      │
│           │       │       │       │                                         │
│    ψ=−1───┼───────┼───────┼───────┼──→                                      │
│           │       │       │       │                                         │
│                                                                             │
│   Жидкость течёт вправо (вдоль ψ = const), пересекая эквипотенциали.       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ КОМПЛЕКСНЫХ ПОТЕНЦИАЛОВ — С РАСЧЁТАМИ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 1: ОДНОРОДНЫЙ ПОТОК (w = Uz)                                         │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   w(z) = Uz = U(x + iy) = Ux + iUy                                         │
│                                                                             │
│   Значит: φ = Ux,  ψ = Uy                                                  │
│                                                                             │
│   Скорость: vₓ = ∂φ/∂x = U,  vᵧ = ∂φ/∂y = 0                               │
│                                                                             │
│   ИНТЕРПРЕТАЦИЯ: Однородный поток со скоростью U вправо.                    │
│                                                                             │
│   КОНКРЕТНО: U = 5 м/с, точка z = 2 + 3i (x=2, y=3)                        │
│              φ = 5×2 = 10,  ψ = 5×3 = 15                                   │
│              Скорость = (5, 0) м/с везде одинакова                         │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 2: ИСТОЧНИК В НАЧАЛЕ КООРДИНАТ (w = (Q/2π) ln z)                     │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   z = re^{iθ},  ln z = ln r + iθ                                           │
│   w = (Q/2π)(ln r + iθ)                                                    │
│                                                                             │
│   Значит: φ = (Q/2π) ln r,  ψ = (Q/2π) θ                                   │
│                                                                             │
│   Скорость (в полярных координатах):                                        │
│   vᵣ = ∂φ/∂r = Q/(2πr),  v_θ = 0                                          │
│                                                                             │
│   ИНТЕРПРЕТАЦИЯ: Жидкость радиально вытекает из точки.                      │
│                  Чем дальше от источника — тем медленнее (скорость ∝ 1/r). │
│                                                                             │
│   КОНКРЕТНО: Q = 10 м²/с (расход на единицу глубины), r = 2 м             │
│              Скорость = 10/(2π×2) = 0.8 м/с (радиально наружу)             │
│                                                                             │
│            →→→→                                                             │
│          ↗     ↘     Жидкость вытекает                                     │
│        →   ●    →    радиально из центра                                   │
│          ↘     ↗                                                           │
│            ←←←←                                                             │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР 3: ОБТЕКАНИЕ ЦИЛИНДРА (w = U(z + a²/z))                              │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Это СУММА однородного потока и диполя!                                    │
│                                                                             │
│   Проверим, что |z| = a — линия тока (ψ = 0):                              │
│                                                                             │
│   На окружности z = ae^{iθ}:                                               │
│   w = U(ae^{iθ} + ae^{−iθ}) = U · 2a cos θ = 2Ua cos θ (чисто веществ.!)   │
│                                                                             │
│   Значит ψ = Im(w) = 0 на всей окружности!                                 │
│   Окружность |z| = a — ЛИНИЯ ТОКА. Жидкость её не пересекает.              │
│   Это и есть поверхность цилиндра!                                          │
│                                                                             │
│               →→→→→→→→→→→→                                                  │
│             →  ╭─────╮   →                                                  │
│           →   ╱       ╲    →                                                │
│          →   │    ●    │    →    Поток огибает цилиндр                     │
│           →   ╲       ╱    →                                                │
│             →  ╰─────╯   →                                                  │
│               →→→→→→→→→→→→                                                  │
│                                                                             │
│   КОНКРЕТНО: U = 10 м/с, a = 0.5 м, точка z = 1 (на оси x, вне цилиндра)  │
│   w = 10(1 + 0.25/1) = 10 × 1.25 = 12.5                                   │
│   dw/dz = U(1 − a²/z²) = 10(1 − 0.25) = 7.5 м/с (локальная скорость)       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СУПЕРПОЗИЦИЯ: ПОСТРОЕНИЕ СЛОЖНЫХ ТЕЧЕНИЙ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КЛЮЧЕВАЯ ИДЕЯ: Уравнение Лапласа линейно!                                   │
│                                                                             │
│   Если w₁ и w₂ — решения, то w₁ + w₂ тоже решение.                        │
│   Сложные течения = суммы простых!                                          │
│                                                                             │
│ ПРИМЕР: Источник + сток + однородный поток                                  │
│                                                                             │
│   w = Uz + (Q/2π) ln(z−a) − (Q/2π) ln(z+a)                                │
│       ↑           ↑                  ↑                                      │
│    поток     источник в a      сток в −a                                   │
│                                                                             │
│   Это даёт обтекание овального тела!                                        │
│                                                                             │
│   →→→   ↗ источник       сток ↘   →→→                                      │
│   →→→ →  ●─────────────────────●  → →→→                                    │
│   →→→   ↘                     ↗   →→→                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРЕОБРАЗОВАНИЕ ЖУКОВСКОГО — КАК РАССЧИТЫВАЮТ КРЫЛЬЯ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Обтекание цилиндра мы знаем. Но крыло — не цилиндр!               │
│                                                                             │
│ ИДЕЯ ЖУКОВСКОГО (1910): Конформное отображение превращает КРУГ в КРЫЛО!    │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПОЧЕМУ ЭТО РАБОТАЕТ                                                         │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Голоморфная функция ζ = f(z) обладает свойством КОНФОРМНОСТИ:              │
│   • Сохраняет углы между кривыми                                            │
│   • Линии тока остаются линиями тока!                                       │
│   • Если w(z) — потенциал для цилиндра, то w(f⁻¹(ζ)) — потенциал           │
│     для того, во что цилиндр превратился                                    │
│                                                                             │
│ ПРЕОБРАЗОВАНИЕ ЖУКОВСКОГО:                                                  │
│                                                                             │
│   ζ = z + a²/z                                                             │
│                                                                             │
│ ШАГ 1: Берём круг |z − z₀| = r (со смещённым центром)                      │
│                                                                             │
│ ШАГ 2: Применяем преобразование — получаем профиль крыла!                   │
│                                                                             │
│        z-плоскость                    ζ-плоскость                           │
│                                                                             │
│           ╭───╮                                                             │
│          ╱  ●  ╲                                                            │
│         │ центр │        ζ = z + a²/z                                      │
│          ╲     ╱         ─────────────→        ╭──────────╮                 │
│           ╰───╯                               ╱            ╲                │
│          круг со                         ────●──────────────╲───            │
│          смещённым                            ╲            ╱                │
│          центром                               ╰──────────╯                 │
│                                              профиль крыла                  │
│                                              (острая задняя кромка!)        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА ЖУКОВСКОГО О ПОДЪЁМНОЙ СИЛЕ                                         │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   L = ρ U Γ   (подъёмная сила на единицу размаха крыла)                    │
│                                                                             │
│   где: ρ — плотность воздуха                                               │
│        U — скорость набегающего потока                                      │
│        Γ — ЦИРКУЛЯЦИЯ вокруг профиля                                       │
│                                                                             │
│ КОНКРЕТНЫЙ РАСЧЁТ:                                                          │
│                                                                             │
│   Данные: ρ = 1.2 кг/м³, U = 50 м/с, Γ = 20 м²/с                          │
│   L = 1.2 × 50 × 20 = 1200 Н/м                                             │
│                                                                             │
│   Для крыла длиной 10 м: L_полн = 12000 Н = 1.2 тонны подъёмной силы!      │
│                                                                             │
│ ОТКУДА БЕРЁТСЯ ЦИРКУЛЯЦИЯ:                                                  │
│   Условие Кутта-Жуковского: поток сходит с острой задней кромки плавно.    │
│   Это ФИКСИРУЕТ величину циркуляции — она не произвольна!                  │
│                                                                             │
│ ИСТОРИЧЕСКОЕ ЗНАЧЕНИЕ:                                                      │
│   Это НЕ абстракция — так реально проектировали первые самолёты!           │
│   Комплексный анализ буквально поднял человечество в воздух.               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Мы рассмотрели много структур: группы, топологии, векторные пространства,
многообразия, комплексные числа... Везде есть "объекты" и "отображения между
ними" (гомоморфизмы, непрерывные функции, линейные операторы).

Категории — это язык для описания этого ОБЩЕГО ПАТТЕРНА. Они позволяют
видеть аналогии между разными областями математики как ТОЧНЫЕ УТВЕРЖДЕНИЯ.
───────────────────────────────────────────────────────────────────────────────

A12. КАТЕГОРИИ И ФУНКТОРЫ — МАТЕМАТИКА О МАТЕМАТИКЕ
───────────────────────────────────────────────────────────────────────────────

           ┌──────────────────────────────────────────────────────────┐
           │                                                          │
           │  "Understanding consists in reducing one type of         │
           │   reality to another."                                   │
           │                                   — Claude Lévi-Strauss  │
           │                                                          │
           │  (Видеть аналогии между аналогиями =                     │
           │   отображать отображения между категориями)              │
           │                                                          │
           └──────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A12.1  ЗАЧЕМ НУЖНЫ КАТЕГОРИИ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Проблема: В математике есть МНОГО похожих конструкций                       │
│                                                                             │
│   • Гомоморфизм групп, гомоморфизм колец, непрерывное отображение...        │
│   • Произведение множеств, прямое произведение групп, произведение топол... │
│   • Ядро гомоморфизма, ядро линейного оператора...                          │
│                                                                             │
│ Задача: выделить общий паттерн из частных случаев                          │
│                                                                             │
│ Ответ: ТЕОРИЯ КАТЕГОРИЙ — язык для описания "структуры структур"            │
│                                                                             │
│ ЛОЗУНГ: "Математика — это то, что остаётся, когда забываешь конкретику"    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A12.2  ОПРЕДЕЛЕНИЕ КАТЕГОРИИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: КАТЕГОРИЯ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Категория C состоит из:                                                     │
│                                                                             │
│ 1. ОБЪЕКТЫ: класс Ob(C)                                                     │
│    (множества, группы, топологические пространства, ...)                    │
│                                                                             │
│ 2. МОРФИЗМЫ: для каждой пары объектов A, B — множество Hom(A, B)           │
│    (функции, гомоморфизмы, непрерывные отображения, ...)                    │
│                                                                             │
│ 3. КОМПОЗИЦИЯ: для f: A → B и g: B → C определена g∘f: A → C               │
│                                                                             │
│ АКСИОМЫ:                                                                    │
│   (C1) Ассоциативность: (h∘g)∘f = h∘(g∘f)                                  │
│   (C2) Единица: для каждого A существует id_A: A → A такой, что            │
│        f∘id_A = f и id_B∘f = f для любого f: A → B                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  РАВЕНСТВО "=" VS ИЗОМОРФИЗМ "≅" — КРИТИЧЕСКОЕ РАЗЛИЧИЕ                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В теории категорий это различие ПРИНЦИПИАЛЬНО:                              │
│                                                                             │
│ РАВЕНСТВО (=): Объекты буквально совпадают, это ОДИН объект.               │
│ ИЗОМОРФИЗМ (≅): Объекты "устроены одинаково", но это РАЗНЫЕ объекты.       │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • V ≅ V** (изоморфизм), но V ≠ V** (разные множества!)                   │
│     Канонический изоморфизм существует, но это НЕ равенство.               │
│                                                                             │
│   • ℝ² ≅ ℂ как векторные пространства, но ℝ² ≠ ℂ                          │
│     (ℂ имеет умножение, ℝ² — нет)                                         │
│                                                                             │
│   • Все одноэлементные множества изоморфны, но {0} ≠ {1}                   │
│                                                                             │
│ В этом атласе мы иногда пишем "=", где математик написал бы "≅".           │
│ Это осознанное упрощение для читаемости, но помните:                        │
│                                                                             │
│   ИЗОМОРФИЗМ означает "можно отождествить БЕЗ ПОТЕРИ ИНФОРМАЦИИ"           │
│   РАВЕНСТВО означает "это буквально одно и то же"                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Категория — это ориентированный граф с композицией:                       │
│                                                                             │
│          f           g                                                      │
│     A ──────► B ──────► C                                                   │
│      ╲                 ╱                                                    │
│       ╲               ╱                                                     │
│        ╲    g∘f     ╱                                                       │
│         ╲─────────╱                                                         │
│                                                                             │
│   • Объекты = вершины                                                       │
│   • Морфизмы = стрелки                                                      │
│   • Композиция = склеивание путей                                           │
│   • В каждой вершине есть петля id                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A12.3  ПРИМЕРЫ КАТЕГОРИЙ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОСНОВНЫЕ КАТЕГОРИИ                                                          │
├─────────────────┬─────────────────────┬─────────────────────────────────────┤
│ КАТЕГОРИЯ       │ ОБЪЕКТЫ             │ МОРФИЗМЫ                            │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Set             │ Множества           │ Функции                             │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Grp             │ Группы              │ Гомоморфизмы групп                  │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Ab              │ Абелевы группы      │ Гомоморфизмы групп                  │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Ring            │ Кольца              │ Гомоморфизмы колец                  │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Vect_k          │ Векторные пр-ва     │ Линейные отображения                │
│                 │ над полем k         │                                     │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Top             │ Топологические      │ Непрерывные отображения             │
│                 │ пространства        │                                     │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Man             │ Гладкие             │ Гладкие отображения                 │
│                 │ многообразия        │                                     │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ Pos             │ Частично            │ Монотонные функции                  │
│                 │ упорядоченные мн-ва │                                     │
│                 │                     │                                     │
├─────────────────┼─────────────────────┼─────────────────────────────────────┤
│                 │                     │                                     │
│ hTop            │ Топологические      │ Гомотопические классы               │
│                 │ пространства        │ отображений                         │
│                 │                     │                                     │
└─────────────────┴─────────────────────┴─────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ "МАЛЕНЬКИЕ" КАТЕГОРИИ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КАТЕГОРИЯ ИЗ ОДНОГО ОБЪЕКТА = МОНОИД                                        │
│                                                                             │
│   • Один объект ●                                                           │
│   • Морфизмы ● → ● = элементы моноида                                      │
│   • Композиция = умножение в моноиде                                        │
│   • id = единица моноида                                                    │
│                                                                             │
│   Если все морфизмы обратимы → ГРУППА                                       │
│                                                                             │
│ КАТЕГОРИЯ ИЗ ЧАСТИЧНОГО ПОРЯДКА:                                            │
│                                                                             │
│   • Объекты = элементы множества                                            │
│   • Hom(a,b) = {единственная стрелка}, если a ≤ b, иначе ∅                 │
│   • Композиция: a ≤ b ≤ c ⇒ a ≤ c (транзитивность)                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ УНИВЕРСАЛЬНЫЕ КОНСТРУКЦИИ: ПРОИЗВЕДЕНИЕ В РАЗНЫХ КАТЕГОРИЯХ                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ "Произведение A × B" определяется ОДИНАКОВО во всех категориях:            │
│                                                                             │
│   Объект P с проекциями π₁: P → A и π₂: P → B такой, что                  │
│   для любого Q со стрелками f: Q → A и g: Q → B существует                 │
│   ЕДИНСТВЕННАЯ стрелка h: Q → P с π₁∘h = f и π₂∘h = g.                    │
│                                                                             │
│                       Q                                                     │
│                     ╱ │ ╲                                                   │
│                 f ╱   │h  ╲ g                                               │
│                  ╱    │    ╲                                                │
│                 ↓     ↓     ↓                                               │
│                A ←── P ───→ B                                               │
│                    π₁   π₂                                                  │
│                                                                             │
│ ЧТО ЭТО ДАЁТ В КОНКРЕТНЫХ СЛУЧАЯХ:                                          │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ КАТЕГОРИЯ         │ ЧТО ТАКОЕ A × B                                   │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ Set               │ Декартово произведение {(a,b) : a∈A, b∈B}        │   │
│ │ Grp               │ Прямое произведение групп                         │   │
│ │ Top               │ Произведение с топологией произведения            │   │
│ │ Vect              │ Прямая сумма V ⊕ W                                │   │
│ │ Множества с ≤     │ Покомпонентный порядок (a₁,b₁)≤(a₂,b₂)           │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ МОРАЛЬ: Одно определение → много реализаций.                               │
│ Категорный язык выявляет ОБЩУЮ СТРУКТУРУ разных конструкций.               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A12.4  ФУНКТОРЫ — ОТОБРАЖЕНИЯ МЕЖДУ КАТЕГОРИЯМИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВАЯ МЫСЛЬ                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   "Видеть аналогии между аналогиями — значит уметь отображать              │
│    отображения между различными категориями"                                │
│                                                                             │
│   Функтор — это именно это: способ перенести структуру из одной            │
│   области математики в другую, сохраняя связи между объектами.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ФУНКТОР                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ БЫТОВАЯ АНАЛОГИЯ: Функтор — это ПЕРЕВОДЧИК между языками математики.       │
│                                                                             │
│   Представьте: есть книга на русском (категория C) и её перевод на         │
│   английский (категория D). Хороший перевод (функтор F):                   │
│   • Каждому слову/понятию сопоставляет слово/понятие: A ↦ F(A)             │
│   • Каждой связи между понятиями — связь: (A→B) ↦ (F(A)→F(B))              │
│   • Сохраняет логику: если A→B→C, то F(A)→F(B)→F(C)                        │
│                                                                             │
│   Пример: π₁ — "переводчик" с языка топологии на язык алгебры.             │
│   Топологическому пространству сопоставляет группу,                         │
│   непрерывному отображению — гомоморфизм групп.                             │
│                                                                             │
│ ───────────────────────────────────────────────────────────────────────────│
│                                                                             │
│ Функтор F: C → D между категориями C и D состоит из:                        │
│                                                                             │
│ 1. Отображения объектов: A ↦ F(A)                                          │
│ 2. Отображения морфизмов: f ↦ F(f), где если f: A → B, то F(f): F(A) → F(B)│
│                                                                             │
│ АКСИОМЫ:                                                                    │
│   (F1) F(g∘f) = F(g)∘F(f)     (сохраняет композицию)                       │
│   (F2) F(id_A) = id_{F(A)}    (сохраняет единицу)                          │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│     C                               D                                       │
│     f                               F(f)                                    │
│   A ──► B         F         F(A) ───► F(B)                                 │
│          ╲       ──►              ╲                                         │
│       g   ╲                   F(g) ╲                                        │
│            ▼                        ▼                                       │
│            C                       F(C)                                     │
│                                                                             │
│   Функтор — это "переводчик" между категориями,                             │
│   сохраняющий структуру (стрелки и их композицию).                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ФУНКТОРОВ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
├────────────────────┬────────────────┬───────────────────────────────────────┤
│ ТИП                │ ФУНКТОР        │ ЧТО ДЕЛАЕТ                            │
├────────────────────┼────────────────┼───────────────────────────────────────┤
│                    │                │                                       │
│ ЗАБЫВАЮЩИЕ         │ Grp → Set      │ Группа ↦ множество (забыли операцию) │
│ (теряют структуру) │ Vect → Set     │ Пространство ↦ множество векторов    │
│                    │ Top → Set      │ Пространство ↦ множество точек       │
│                    │                │                                       │
├────────────────────┼────────────────┼───────────────────────────────────────┤
│                    │                │                                       │
│ СВОБОДНЫЕ          │ Set → Grp      │ X ↦ свободная группа F(X)            │
│ (добавляют стр.)   │ Set → Vect     │ X ↦ пространство с базисом X         │
│                    │                │                                       │
├────────────────────┼────────────────┼───────────────────────────────────────┤
│                    │                │                                       │
│ ТОПОЛОГИЧЕСКИЕ     │ π₁: Top → Grp  │ Пространство ↦ фунд. группа          │
│ ИНВАРИАНТЫ         │ Hₙ: Top → Ab   │ Пространство ↦ n-гомологии           │
│                    │ χ: Top → ℤ     │ Пространство ↦ эйлерова хар-ка       │
│                    │                │                                       │
├────────────────────┼────────────────┼───────────────────────────────────────┤
│                    │                │                                       │
│ АЛГЕБРАИЧЕСКИЕ     │ *: Vect → Vect │ V ↦ V* (двойственное)                │
│                    │ T: Man → VBund │ M ↦ TM (касательное расслоение)      │
│                    │                │                                       │
├────────────────────┴────────────────┴───────────────────────────────────────┤
│                                                                             │
│ КОВАРИАНТНЫЕ vs КОНТРАВАРИАНТНЫЕ                                            │
│                                                                             │
├────────────────────┬────────────────────────────────────────────────────────┤
│ КОВАРИАНТНЫЙ       │ f: A→B  даёт  F(f): F(A)→F(B)   (стрелка туда же)     │
├────────────────────┼────────────────────────────────────────────────────────┤
│ КОНТРАВАРИАНТНЫЙ   │ f: A→B  даёт  F(f): F(B)→F(A)   (стрелка обратно)     │
│ Пример: V ↦ V*     │ T: V→W  даёт  T*: W*→V*        (развернулась!)        │
└────────────────────┴────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A12.5  ЕСТЕСТВЕННЫЕ ПРЕОБРАЗОВАНИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: ЕСТЕСТВЕННОЕ ПРЕОБРАЗОВАНИЕ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть F, G: C → D — два функтора. Естественное преобразование η: F ⇒ G    │
│ — это семейство морфизмов {η_A: F(A) → G(A)}_{A ∈ Ob(C)}, такое что        │
│ для любого f: A → B коммутирует диаграмма:                                  │
│                                                                             │
│        η_A                                                                  │
│   F(A) ────► G(A)                                                           │
│     │         │                                                             │
│ F(f)│         │G(f)                                                         │
│     ▼         ▼                                                             │
│   F(B) ────► G(B)                                                           │
│        η_B                                                                  │
│                                                                             │
│ То есть: G(f) ∘ η_A = η_B ∘ F(f)                                           │
│                                                                             │
│ ПОЯСНЕНИЕ:                                                                  │
│   Естественное преобразование — это "морфизм между функторами",             │
│   который согласован со всеми морфизмами в исходной категории.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: ДВОЙНОЕ ДВОЙСТВЕННОЕ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Функторы Id, **: Vect → Vect                                               │
│   Id(V) = V                                                                 │
│   **(V) = V**                                                               │
│                                                                             │
│ Естественное преобразование η: Id ⇒ **                                     │
│   η_V: V → V**                                                              │
│   η_V(v)(φ) = φ(v)                                                         │
│                                                                             │
│ ЕСТЕСТВЕННОСТЬ:                                                             │
│   Для любого T: V → W диаграмма коммутирует:                                │
│                                                                             │
│        η_V                                                                  │
│     V ────► V**                                                             │
│     │        │                                                              │
│   T │        │ T**                                                          │
│     ▼        ▼                                                              │
│     W ────► W**                                                             │
│        η_W                                                                  │
│                                                                             │
│ Это КАНОНИЧЕСКИЙ изоморфизм V ≅ V** (не требует выбора базиса!)             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A12.6  УНИВЕРСАЛЬНЫЕ СВОЙСТВА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИДЕЯ УНИВЕРСАЛЬНОГО СВОЙСТВА                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Многие конструкции в математике определяются НЕ явной формулой,             │
│ а свойством: "единственный объект с таким-то свойством".                    │
│                                                                             │
│ Это и есть УНИВЕРСАЛЬНОЕ СВОЙСТВО.                                          │
│                                                                             │
│ ПРЕИМУЩЕСТВО: Определение работает во ВСЕХ категориях одинаково!            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОИЗВЕДЕНИЕ (универсальное определение)                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Произведение объектов A и B — это объект A×B с проекциями π₁, π₂:          │
│                                                                             │
│                    π₁        π₂                                             │
│              A ◄──── A×B ────► B                                            │
│                                                                             │
│ такой, что для любого X с отображениями f: X→A, g: X→B                      │
│ существует ЕДИНСТВЕННОЕ h: X → A×B с π₁∘h = f, π₂∘h = g:                   │
│                                                                             │
│                       X                                                     │
│                    f╱   ╲g                                                  │
│                   ╱  h   ╲                                                  │
│                  ╱   │    ╲                                                 │
│                 ▼    ▼     ▼                                                │
│              A ◄── A×B ──► B                                                │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   Set: A×B = декартово произведение                                         │
│   Grp: A×B = прямое произведение групп                                      │
│   Top: A×B = произведение с топологией произведения                         │
│   Vect: A×B = прямая сумма A⊕B                                             │
│                                                                             │
│ ОДНО определение — ВСЕ эти конструкции!                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА УНИВЕРСАЛЬНЫХ КОНСТРУКЦИЙ                                           │
├──────────────────┬──────────────────────────────────────────────────────────┤
│ КОНСТРУКЦИЯ      │ УНИВЕРСАЛЬНОЕ СВОЙСТВО                                   │
├──────────────────┼──────────────────────────────────────────────────────────┤
│                  │                                                          │
│ Произведение A×B │ Пара проекций, факторизующая любую пару стрелок         │
│                  │                                                          │
│ Копроизведение   │ Пара вложений, факторизующая любую пару стрелок         │
│ A⊔B (сумма)      │ (дуально к произведению)                                │
│                  │                                                          │
│ Терминальный     │ Единственная стрелка из любого объекта                   │
│ объект 1         │ (одноэлементное мн-во, тривиальная группа)              │
│                  │                                                          │
│ Начальный        │ Единственная стрелка в любой объект                      │
│ объект 0         │ (пустое мн-во, тривиальная группа)                       │
│                  │                                                          │
│ Ядро f           │ Уравнитель f и 0                                         │
│                  │                                                          │
│ Коядро f         │ Коуравнитель f и 0                                       │
│                  │                                                          │
│ Pullback         │ "Произведение над объектом"                              │
│                  │                                                          │
│ Pushout          │ "Копроизведение под объектом"                            │
│                  │                                                          │
│ Предел           │ Обобщение произведения на диаграммы                      │
│                  │                                                          │
│ Копредел         │ Обобщение суммы на диаграммы                             │
│                  │                                                          │
└──────────────────┴──────────────────────────────────────────────────────────┘

┌────────────────┬────────────┬────────────┬────────────┬──────────────────────┐
│ A.T.3  УНИВЕРСАЛЬНЫЕ КОНСТРУКЦИИ В РАЗНЫХ КАТЕГОРИЯХ                           │
├────────────────┴────────────┴────────────┴────────────┴──────────────────────┤
│                                                                              │
│ Одно определение через универсальное свойство имеет разные реализации:       │
│                                                                              │
├────────────────┬────────────┬────────────┬────────────┬──────────────────────┤
│ КОНСТРУКЦИЯ    │ Set        │ Grp        │ Vect       │ Top                  │
├────────────────┼────────────┼────────────┼────────────┼──────────────────────┤
│                │            │            │            │                      │
│ Произведение   │ A×B        │ G×H        │ V⊕W        │ X×Y с топ.           │
│ (A,B)→A×B      │ (декартово)│ (прямое)   │ (прямая ⊕) │ произведения         │
│                │            │            │            │                      │
├────────────────┼────────────┼────────────┼────────────┼──────────────────────┤
│                │            │            │            │                      │
│ Копроизведение │ A⊔B        │ G*H        │ V⊕W        │ X⊔Y с топ.           │
│ (сумма)        │ (дизъюнкт.)│ (свободное)│ (та же!)   │ суммы                │
│                │            │            │            │                      │
├────────────────┼────────────┼────────────┼────────────┼──────────────────────┤
│                │            │            │            │                      │
│ Терминальный   │ {*}        │ {e}        │ {0}        │ {*}                  │
│ объект         │ (одноэлем.)│ (тривиал.) │ (нулевое)  │ (точка)              │
│                │            │            │            │                      │
├────────────────┼────────────┼────────────┼────────────┼──────────────────────┤
│                │            │            │            │                      │
│ Начальный      │ ∅          │ {e}        │ {0}        │ ∅                    │
│ объект         │ (пустое)   │ (тривиал.) │ (нулевое)  │ (пустое)             │
│                │            │            │            │                      │
└────────────────┴────────────┴────────────┴────────────┴──────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАМЕЧАНИЕ: В Vect произведение = копроизведение = ⊕ (абелева категория!)    │
│            В Grp они РАЗНЫЕ: ×≠* (прямое ≠ свободное)                       │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ: СОПРЯЖЁННОСТЬ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Функторы F: C → D и G: D → C называются сопряжёнными (F ⊣ G), если         │
│ существует естественный изоморфизм:                                         │
│                                                                             │
│   Hom_D(F(A), B) ≅ Hom_C(A, G(B))                                          │
│                                                                             │
│ F — левый сопряжённый, G — правый сопряжённый.                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ СОПРЯЖЁННЫХ ФУНКТОРОВ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СВОБОДНЫЙ ⊣ ЗАБЫВАЮЩИЙ:                                                     │
│                                                                             │
│   F: Set → Grp (свободная группа)                                          │
│   U: Grp → Set (забывающий функтор)                                        │
│                                                                             │
│   Hom_Grp(F(X), G) ≅ Hom_Set(X, U(G))                                      │
│                                                                             │
│   "Гомоморфизм из свободной группы F(X) в G                                 │
│    определяется отображением множества X в G"                               │
│                                                                             │
│ ТЕНЗОРНОЕ ⊣ HOM:                                                            │
│                                                                             │
│   − ⊗ B: Vect → Vect                                                       │
│   Hom(B, −): Vect → Vect                                                   │
│                                                                             │
│   Hom(A ⊗ B, C) ≅ Hom(A, Hom(B, C))                                        │
│                                                                             │
│   Это "карринг" из функционального программирования!                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A12.7  РЕЗЮМЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИЕРАРХИЯ КАТЕГОРНОЙ МАТЕМАТИКИ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   УРОВЕНЬ 0:  Объекты (множества, группы, пространства)                     │
│                   │                                                         │
│   УРОВЕНЬ 1:  Морфизмы между объектами (функции, гомоморфизмы)              │
│                   │                                                         │
│   УРОВЕНЬ 2:  Функторы между категориями                                    │
│                   │                                                         │
│   УРОВЕНЬ 3:  Естественные преобразования между функторами                  │
│                   │                                                         │
│   УРОВЕНЬ 4:  Модификации между ест. преобразованиями (2-категории)         │
│                   │                                                         │
│       ...      (∞-категории, гомотопическая теория типов)                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТО НУЖНО — ПРАКТИЧЕСКИЕ ПРИМЕНЕНИЯ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МАТЕМАТИКА:                                                                 │
│   • Унификация: одно доказательство работает во всех категориях             │
│   • Гомологическая алгебра: функторы Ext, Tor                               │
│   • Алгебраическая геометрия: пучки, схемы                                  │
│   • Топос-теория: обобщение теории множеств                                 │
│                                                                             │
│ ПРОГРАММИРОВАНИЕ:                                                           │
│   • Функциональное программирование: функторы, монады                       │
│   • Теория типов: соответствие Карри-Говарда-Ламбека                        │
│   • Haskell, Scala: категорные конструкции в языке                          │
│                                                                             │
│ ФИЗИКА:                                                                     │
│   • TQFT: функторы из категории кобордизмов                                 │
│   • Квантовая гравитация: спиновые пены, ∞-категории                        │
│                                                                             │
│ ЛОГИКА:                                                                     │
│   • Доказательства = морфизмы                                               │
│   • Типы = объекты                                                          │
│   • Эквивалентность = изоморфизм                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
A13+. АЛГЕБРАИЧЕСКАЯ ГЕОМЕТРИЯ — МОСТ МЕЖДУ АЛГЕБРОЙ И ГЕОМЕТРИЕЙ
═══════════════════════════════════════════════════════════════════════════════

Алгебраическая геометрия — одна из центральных областей современной математики.
Она изучает геометрические объекты, заданные алгебраическими уравнениями.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ ИДЕЯ: ДВОЙСТВЕННОСТЬ ГЕОМЕТРИЯ ↔ АЛГЕБРА                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────┬─────────────────────────────────────────────┐   │
│ │ ГЕОМЕТРИЯ               │ АЛГЕБРА                                     │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Множество точек X       │ Кольцо функций на X                         │   │
│ │                         │ (или идеал уравнений, задающих X)           │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Точка p ∈ X             │ Максимальный идеал m_p ⊂ k[X]               │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Подмногообразие Y ⊂ X   │ Идеал I(Y) ⊂ k[X]                          │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Отображение X → Y       │ Гомоморфизм колец k[Y] → k[X]              │   │
│ │                         │ (в ОБРАТНУЮ сторону!)                       │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ X неприводимо           │ I(X) — простой идеал                        │   │
│ │ (одним куском)          │                                             │   │
│ └─────────────────────────┴─────────────────────────────────────────────┘   │
│                                                                             │
│ Это как словарь между двумя языками — каждому геометрическому               │
│ понятию соответствует алгебраическое, и наоборот.                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ АЛГЕБРАИЧЕСКИХ МНОГООБРАЗИЙ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────────┬─────────────────────┬─────────────────────────────┐   │
│ │ УРАВНЕНИЕ         │ ГЕОМЕТРИЯ           │ СВОЙСТВА                    │   │
│ ├───────────────────┼─────────────────────┼─────────────────────────────┤   │
│ │ x² + y² = 1       │ Окружность          │ Род 0, рациональная кривая  │   │
│ ├───────────────────┼─────────────────────┼─────────────────────────────┤   │
│ │ y² = x³ + ax + b  │ Эллиптическая       │ Род 1, группа точек!        │   │
│ │                   │ кривая              │ Криптография (ECDSA)        │   │
│ ├───────────────────┼─────────────────────┼─────────────────────────────┤   │
│ │ x² + y² + z² = 1  │ Сфера S²            │ Проективная кривая рода 0   │   │
│ ├───────────────────┼─────────────────────┼─────────────────────────────┤   │
│ │ xy = 1            │ Гипербола           │ Две компоненты в ℝ,        │   │
│ │                   │                     │ одна в ℂ                   │   │
│ ├───────────────────┼─────────────────────┼─────────────────────────────┤   │
│ │ y² = x³           │ Кривая с остриём    │ Сингулярная в (0,0)         │   │
│ │                   │ (cuspidal curve)    │                             │   │
│ └───────────────────┴─────────────────────┴─────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА ГИЛЬБЕРТА О НУЛЯХ (Nullstellensatz)                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Это ФУНДАМЕНТ алгебраической геометрии — связь между идеалами и точками.   │
│                                                                             │
│ Пусть k — алгебраически замкнутое поле (например, ℂ).                      │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ТЕОРЕМА: Для идеала I ⊂ k[x₁,...,xₙ]                                   │ │
│ │                                                                         │ │
│ │   I(V(I)) = √I                                                         │ │
│ │                                                                         │ │
│ │ где V(I) = {точки, обнуляющие все f ∈ I}                               │ │
│ │     I(X) = {многочлены, обнуляющиеся на X}                             │ │
│ │     √I  = {f : fⁿ ∈ I для некоторого n}  (радикал)                     │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СЛЕДСТВИЕ: Максимальные идеалы в k[x₁,...,xₙ] ↔ точки kⁿ                   │
│   Идеал m = (x₁ − a₁, ..., xₙ − aₙ) соответствует точке (a₁,...,aₙ)       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАТЕГОРНЫЙ ВЗГЛЯД: СХЕМЫ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Классическое многообразие = точки + структура.                              │
│ СХЕМА (Гротендик) = пространство + структурный пучок колец.                │
│                                                                             │
│ ┌─────────────────────────┬─────────────────────────────────────────────┐   │
│ │ КЛАССИКА                │ СХЕМЫ                                       │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Точки = решения         │ Точки = простые идеалы (Spec)               │   │
│ │ над k                   │ (включая "generic points"!)                 │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Только над полем        │ Над любым кольцом (ℤ, ℤₚ, ...)            │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Приведённые             │ Нильпотенты сохраняют                       │   │
│ │ (x² = 0 ⇒ x = 0)       │ "бесконечно малую" информацию              │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ Контравариантный        │ Категория AffSch ≃ CRingᵒᵖ                 │   │
│ │ функтор                 │ (аффинные схемы = кольцаᵒᵖ)                 │   │
│ └─────────────────────────┴─────────────────────────────────────────────┘   │
│                                                                             │
│ ЗАЧЕМ СХЕМЫ:                                                                │
│   • Единообразно работать над ℚ, ℝ, ℂ, 𝔽ₚ, ℤ                             │
│   • Теория чисел: уравнение x² + y² = 1 над ℤ — это схема                 │
│   • Модули: параметризовать семейства объектов                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────────┬────────────────────────────────────────────────┐   │
│ │ РАЗДЕЛ               │ СВЯЗЬ С АГ                                     │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Кольца (A1.8)        │ Кольцо функций = "алгебра геометрии"           │   │
│ │                      │ Идеалы = подмногообразия                       │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Топология (A2)       │ Топология Зарисского: замкнутые = V(I)         │   │
│ │                      │ Грубее евклидовой, но алгебраически естественна│   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Категории (A12)      │ Пучки, когомологии, функторы                   │   │
│ │                      │ Схемы = контравариантные функторы              │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Теория чисел (5.4)   │ Диофантовы уравнения = рациональные точки      │   │
│ │                      │ Кривые над 𝔽ₚ, гипотеза Вейля                 │   │
│ ├──────────────────────┼────────────────────────────────────────────────┤   │
│ │ Комплексный анализ   │ Алгебраические кривые = римановы поверхности   │   │
│ │ (A11.6)              │ Род = топологический инвариант                 │   │
│ └──────────────────────┴────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


П1. ТАБЛИЦА КАТЕГОРИЙ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ Категория = (Объекты, Морфизмы, Композиция)                                 │
│ Задача: определить критерий "одинаковости" объектов                        │
└─────────────────────────────────────────────────────────────────────────────┘

┌────────────┬─────────────────┬─────────────────┬─────────────────────────────┐
│ КАТЕГОРИЯ  │ ОБЪЕКТЫ         │ МОРФИЗМЫ        │ "ОДИНАКОВЫЕ" =              │
├────────────┼─────────────────┼─────────────────┼─────────────────────────────┤
│ Set        │ Множества       │ Функции         │ Биекция (равномощны)        │
│ Grp        │ Группы          │ Гомоморфизмы    │ Изоморфизм групп            │
│ Ab         │ Абелевы группы  │ Гомоморфизмы    │ Изоморфизм                  │
│ Ring       │ Кольца          │ Гом. колец      │ Изоморфизм колец            │
│ Vect_K     │ Вект. пр-ва / K │ Лин. отображения│ Изоморфизм (dim равны)      │
│ Top        │ Топол. пр-ва    │ Непрерывные     │ Гомеоморфизм                │
│ Man        │ Многообразия    │ Гладкие         │ Диффеоморфизм               │
│ Met        │ Метрич. пр-ва   │ Непрерывные     │ Изометрия                   │
│ Pos        │ Частич. порядки │ Монотонные      │ Изоморфизм порядков         │
└────────────┴─────────────────┴─────────────────┴─────────────────────────────┘

┌────────────┬─────────────────────────────────────────────────────────────────┐
│ КАТЕГОРИЯ  │ ОСОБЕННОСТЬ                                                     │
├────────────┼─────────────────────────────────────────────────────────────────┤
│ 0          │ Пустая: нет объектов, нет морфизмов                             │
│ 1          │ Один объект *, только тождественный морфизм                     │
│ 2          │ Два объекта 0 → 1, одна нетривиальная стрелка                   │
│ BG         │ Группа G как категория: один объект, морфизмы = элементы G     │
│ Cat        │ Категория категорий: объекты = категории, морфизмы = функторы  │
└────────────┴─────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
          ЗАКЛЮЧЕНИЕ ЧАСТИ II: ЕДИНСТВО СТРУКТУР
───────────────────────────────────────────────────────────────────────────────

П11. ИЕРАРХИЯ СТРУКТУР — ГЛАВНАЯ ТАБЛИЦА С ПРИМЕРАМИ И ИСТОРИЕЙ
═══════════════════════════════════════════════════════════════════════════════

Эта таблица показывает математику как ИЕРАРХИЮ уровней абстракции.
Каждый уровень строится на предыдущем.

Горизонталь = УРОВЕНЬ АБСТРАКЦИИ (снизу вверх — от пустоты к физике)
Вертикаль = ТИП СТРУКТУРЫ (какую информацию мы сохраняем)

┌──────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
│ УРОВЕНЬ  │  ДИСКРЕТНОЕ     │  АЛГЕБРАИЧЕСКОЕ │  ТОПОЛОГИЧЕСКОЕ │  АНАЛИТИЧЕСКОЕ  │
│          │  (множества)    │  (операции)     │  (близость)     │  (изменение)    │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 0│   ПУСТОТА ∅     │                 │                 │                 │
│ Исток    │ "Вселенная есть │                 │                 │                 │
│ ~XIII BC │  пустота"       │                 │                 │                 │
│ (филос.) │                 │                 │                 │                 │
│          │                 │                 │                 │                 │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 1│  ГРАНИЦЫ/ОБРАЗЫ │                 │                 │                 │
│ Выбор    │ "Проведение     │   (операции     │  (близость      │  (изменение     │
│ доязыков.│  границ"        │   появятся      │   появится      │   появится      │
│          │ Манипуляции     │   позже)        │   позже)        │   позже)        │
│          │ паттернами      │                 │                 │                 │
│          │                 │                 │                 │                 │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 2│ ТЕОРИЯ МНОЖЕСТВ │  ОТНОШЕНИЯ      │                 │                 │
│ Категори-│  A, B, ∈, ⊆     │  R ⊆ A × B      │    (нет пока)   │   (нет пока)    │
│ зация    │  ∪, ∩, ×, ∅     │  Эквивалентность│                 │                 │
│ ~1870    │  𝒫(A)           │  Порядок        │                 │                 │
│ Кантор   │  Натуральные ℕ  │  Функция f:A→B  │                 │                 │
│          │  из ∅           │                 │                 │                 │
│          │                 │                 │                 │                 │
│ ПРИМЕРЫ: │ • ℕ,ℤ,ℚ,ℝ как   │ • = (равенство) │                 │                 │
│          │   множества     │ • < (порядок)   │                 │                 │
│          │ • Булеан 𝒫(A)   │ • f: A → B      │                 │                 │
│          │                 │   (функции)     │                 │                 │
│          │                 │                 │                 │                 │
│ ЗАДАЧИ:  │ • Доказать A⊆B  │ • Доказать, что │                 │                 │
│          │ • |𝒫(A)| = 2^|A|│   R транзитивно │                 │                 │
│          │ • Построить ℕ   │ • Найти f⁻¹(B)  │                 │                 │
│          │   из ∅          │                 │                 │                 │
│          │                 │                 │                 │                 │
│ ЗАЧЕМ:   │ Базовый язык    │ Описание связей │                 │                 │
│          │ для всего       │ между объектами │                 │                 │
│          │                 │                 │                 │                 │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 3│  КОММУНИКАЦИЯ   │      ЛОГИКА     │                 │                 │
│ Язык     │ Естественные    │  ∀, ∃, ∧, ∨, ⇒  │   (понятие      │  (отсутствует   │
│ ~300 BC  │ языки           │  Правила вывода │   истинности)   │   на этом       │
│Аристотель│ Символы         │  Доказательства │                 │   уровне)       │
│          │                 │                 │                 │                 │
│ ПРИМЕРЫ: │ • Греческий,    │ • Силлогизмы    │                 │                 │
│          │   латынь, ...   │ • Modus ponens  │                 │                 │
│          │                 │ • Предикатная   │                 │                 │
│          │                 │   логика        │                 │                 │
│          │                 │                 │                 │                 │
│ ЗАДАЧИ:  │ • Перевод между │ • Проверить     │                 │                 │
│          │   языками       │   корректность  │                 │                 │
│          │                 │   вывода        │                 │                 │
│          │                 │                 │                 │                 │
│ ЗАЧЕМ:   │ Передача знаний │ Компенсация     │                 │                 │
│          │                 │ потерь языка    │                 │                 │
│          │                 │                 │                 │                 │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 4│   ЧИСЛА         │   ГРУППЫ        │  МЕТРИЧЕСКИЕ    │   ФУНКЦИИ       │
│ Базовые  │  ℤ, ℚ, ℝ, ℂ     │   (G, ∗)        │  ПРОСТРАНСТВА   │   f: ℝ → ℝ      │
│ структуры│  (из ℕ)         │   Подгруппы     │   (X, d)        │   Непрерывные   │
│ ~300 BC  │  +, ×, <        │   Изоморфизм    │   Открытые мн-ва│   Дифференц-ые  │
│ Евклид   │                 │                 │   Полнота       │                 │
│ ~1830    │                 │   КОЛЬЦА        │  ~1900 Фреше    │  ~1670 Ньютон   │
│ Галуа    │                 │   (R, +, ×)     │                 │  ~1680 Лейбниц  │
│ ~1670    │                 │   ПОЛЯ          │                 │                 │
│ Ньютон   │                 │   (F, +, ×)     │                 │                 │
│          │                 │                 │                 │                 │
│ ПРИМЕРЫ: │ • ℤ (целые)     │ • (ℤ, +)        │ • ℝ с |x-y|     │ • f(x) = x²     │
│          │ • ℚ (рациональн)│ • (ℝ*, ×)       │ • ℝⁿ с евклид.  │ • sin, cos, exp │
│          │ • ℝ (веществен.)│ • S₃ (перестан.)│   метрикой      │ • многочлены    │
│          │ • ℂ (комплексны)│ • GL(n) (матриц)│ • C[0,1] (функц)│                 │
│          │                 │                 │                 │                 │
│ ЗАДАЧИ:  │ • Решить        │ • Найти         │ • Показать      │ • Найти предел  │
│          │   уравнение     │   подгруппы     │   полноту       │ • Найти         │
│          │ • Доказать      │ • Проверить     │ • Доказать      │   производную   │
│          │   иррациональн. │   изоморфизм    │   сходимость    │ • Вычислить     │
│          │                 │                 │                 │   интеграл      │
│          │                 │                 │                 │                 │
│ ЗАЧЕМ:   │ Вычисления,     │ Симметрии,      │ Понятие         │ Моделирование   │
│          │ измерения       │ криптография    │ расстояния      │ процессов       │
│          │                 │                 │                 │                 │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 5│  ГРАФЫ          │  ВЕКТОРНЫЕ      │  ТОПОЛОГИЧЕСКИЕ │  МЕРЫ           │
│ Сложные  │   G = (V, E)    │  ПРОСТРАНСТВА   │  ПРОСТРАНСТВА   │   (X, 𝒜, μ)     │
│ структуры│   Деревья       │   (V, +, ·)     │   (X, τ)        │   σ-алгебра     │
│ ~1730    │   Сети          │   Базис, dim    │   Компактность  │   Интеграл      │
│ Эйлер    │                 │   Норма ‖·‖     │   Связность     │   Лебега        │
│ ~1850    │  КОМБИНАТОРИКА  │                 │   Гомеоморфизм  │                 │
│ Кэли     │   Перестановки  │  ЛИНЕЙНЫЕ       │  ~1900 Хаусдорф │  ВЕРОЯТНОСТЬ    │
│ ~1880    │   Сочетания     │  ОТОБРАЖЕНИЯ    │                 │   (Ω, ℱ, P)     │
│ Грассман │                 │   T: V → W      │                 │   Случ. величины│
│ ~1900    │                 │   Матрицы       │                 │   E[X], Var[X]  │
│ Лебег    │                 │   ker, Im       │                 │                 │
│          │                 │   Собств. значен│                 │  ~1933 Колмогор.│
│          │                 │                 │                 │                 │
│ ПРИМЕРЫ: │ • K₅ (полный)   │ • ℝⁿ            │ • ℝ (станд.топ.)│ • Мера Лебега   │
│          │ • Дерево        │ • C[0,1] (функц)│ • Окружность S¹ │ • Вероятностная │
│          │ • Планарный граф│ • L² (Гильберт) │ • Тор T²        │   мера          │
│          │ • Сеть дорог    │ • Матрицы m×n   │ • Канторово мн-в│ • Считающая мера│
│          │                 │                 │                 │                 │
│ ЗАДАЧИ:  │ • Найти         │ • Найти базис   │ • Показать      │ • Вычислить     │
│          │   кратчайший    │ • Проверить лин.│   компактность  │   меру          │
│          │   путь          │   независимость │ • Доказать      │ • Построить     │
│          │ • Раскрасить    │ • Решить СЛУ    │   связность     │   измеримую     │
│          │   граф          │ • Найти собств. │ • Найти         │   функцию       │
│          │ • Найти остов   │   значения      │   гомеоморфизм  │                 │
│          │                 │                 │                 │                 │
│ ЗАЧЕМ:   │ Сети, связи,    │ Линейная        │ "Форма" без     │ Обобщение       │
│          │ оптимизация     │ алгебра для     │ расстояния,     │ интеграла,      │
│          │ путей           │ всего           │ деформации      │ вероятность     │
│          │                 │                 │                 │                 │
├──────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│          │                 │                 │                 │                 │
│ УРОВЕНЬ 6│     ФИЗИКА      │  ГРУППЫ ЛИ      │  МНОГООБРАЗИЯ   │  ФУНКЦИОНАЛЬНЫЕ │
│ Примене- │  "Математика =  │  Непрерывные    │   M (гладкие)   │  ПРОСТРАНСТВА   │
│ ние к    │   эксперимент.  │  симметрии      │   TₚM (касат.)  │   C^k, L^p      │
│ миру     │   физика"       │                 │   Римановы      │   Банаховы      │
│ ~1915    │                 │  ~1870 Ли       │   Кривизна      │   Гильбертовы   │
│ Эйнштейн │  КАТЕГОРИИ      │                 │  ~1850 Риман    │                 │
│ ~1930    │   Объекты       │  АЛГЕБРЫ        │                 │  ОПЕРАТОРЫ      │
│ категории│   Морфизмы      │   над полями    │  РАССЛОЕНИЯ     │   Спектр σ(T)   │
│ ~1920    │   Функторы      │                 │   Связности     │   Сопряжённые   │
│ Банах    │                 │  АЛГЕБРЫ ЛИ     │   Формы         │                 │
│ ~1945    │                 │                 │                 │  ~1920 Банах    │
│ Эйленберг│                 │                 │                 │                 │
│          │                 │                 │                 │                 │
│ ПРИМЕРЫ: │ • ОТО (геометр.)│ • SO(3) (вращен)│ • Сфера S²      │ • L²(ℝ)         │
│          │ • КМ (операторы)│ • SU(2) (спин)  │ • Тор T²        │ • C^k[0,1]      │
│          │ • Категория Set │ • U(1) (электр.)│ • Пр-во-время   │ • Операторы     │
│          │ • Функторы      │                 │   (4-многообр.) │   в гильб. пр-ве│
│          │                 │                 │                 │                 │
│ ЗАДАЧИ:  │ • Найти         │ • Найти алгебру │ • Вычислить     │ • Найти спектр  │
│          │   симметрии     │   Ли            │   кривизну      │   оператора     │
│          │ • Построить     │ • Найти         │ • Построить     │ • Решить        │
│          │   функтор       │   представление │   касательное   │   уравнение     │
│          │ • Применить к   │ • Использовать  │   расслоение    │   в гильб. пр-ве│
│          │   физике        │   в физике      │                 │                 │
│          │                 │                 │                 │                 │
│ ЗАЧЕМ:   │ Единая          │ Непрерывные     │ Искривлённые    │ Квантовая       │
│          │ структура всей  │ симметрии,      │ пространства,   │ механика,       │
│          │ математики,     │ калибровочные   │ гравитация,     │ бесконечномерн. │
│          │ применение      │ теории          │ ОТО             │ анализ          │
│          │                 │                 │                 │                 │
└──────────┴─────────────────┴─────────────────┴─────────────────┴─────────────────┘

ЛЕГЕНДА (снизу вверх — от пустоты к физике):
  
  [Уровень 0] = ПУСТОТА — исток всего
  [Уровень 1] = ГРАНИЦЫ/ОБРАЗЫ — проведение границ, манипуляции паттернами
  [Уровень 2] = МНОЖЕСТВА — категоризация, построение ℕ из ∅
  [Уровень 3] = ЯЗЫК И ЛОГИКА — коммуникация, доказательства
  [Уровень 4] = БАЗОВЫЕ СТРУКТУРЫ — один вид структуры
  [Уровень 5] = КОМБИНИРОВАННЫЕ — несколько структур одновременно
  [Уровень 6] = ФИЗИКА — применение к миру, категорная теория

ВЕРТИКАЛЬНЫЕ СВЯЗИ (что сохраняется):
  
  • ДИСКРЕТНОЕ: элементы, подмножества (без операций и расстояний)
  • АЛГЕБРАИЧЕСКОЕ: операции и их свойства (∗, +, ×)
  • ТОПОЛОГИЧЕСКОЕ: понятие "близости" (без расстояния!)
  • АНАЛИТИЧЕСКОЕ: измерение и изменение (интегралы, производные)

КЛЮЧЕВОЙ ПРИНЦИП:
  
  Математика — естественная иерархия, возникающая из фундаментального
  акта проведения границ в пустоте. Каждый уровень опирается на предыдущий.

ВАЖНЫЕ НАБЛЮДЕНИЯ:

1. **История идёт снизу вверх:** ~300 BC → ~1670 → ~1830 → ~1900 → ~1930 → ~1945

2. **Каждый уровень опирается на предыдущие:** Нельзя понять многообразия
   без топологии. Нельзя понять топологию без множеств.

3. **Четыре столпа развивались параллельно:** но в XX веке объединились

═══════════════════════════════════════════════════════════════════════════════
П12. ТАБЛИЦА АНАЛОГИЙ — ОДИН ПАТТЕРН В РАЗНЫХ ОБЛАСТЯХ
═══════════════════════════════════════════════════════════════════════════════

Эта таблица показывает: один и тот же ПАТТЕРН проявляется во всех областях.

"Научившись понимать ПАТТЕРН, видите его везде!"

┌──────────────┬──────────────┬──────────────┬──────────────┬──────────────┐
│  ПОНЯТИЕ     │  МНОЖЕСТВА   │  АЛГЕБРА     │  ТОПОЛОГИЯ   │  АНАЛИЗ      │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ПОДОБЪЕКТ    │ A ⊆ B        │ H ≤ G        │ U ⊆ X        │ W ⊆ V        │
│              │ Подмножество │ Подгруппа    │ Подпр-во     │ Подпр-во     │
│              │              │ Подкольцо    │ (с индуц.    │ (замкнутое)  │
│              │              │              │  топологией) │              │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ МОРФИЗМ      │ f: A → B     │ φ: G → H     │ f: X → Y     │ T: V → W     │
│              │ Функция      │ Гомоморфизм  │ Непрерывное  │ Линейный     │
│              │              │              │ отображение  │ оператор     │
│              │              │              │              │              │
│ (отображение,│              │              │              │              │
│  сохраняющее │              │              │              │              │
│  структуру)  │              │              │              │              │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ИЗОМОРФИЗМ   │ Биекция      │ G ≅ H        │ X ≈ Y        │ V ≅ W        │
│              │ f: A ↔ B     │ Изоморф.     │ Гомеоморф.   │ Изоморфизм   │
│              │              │ групп        │ пространств  │ вект. пр-в   │
│ (структуры   │              │              │              │              │
│  "одинаковы")│              │              │              │              │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ПРОИЗВЕДЕНИЕ │ A × B        │ G × H        │ X × Y        │ V ⊕ W        │
│              │ Декартово    │ Прямое       │ Произведение │ Прямая сумма │
│              │ произведение │ произведение │ топологий    │              │
│              │              │              │              │              │
│ (комбинация) │ Пары (a,b)   │ Пары (g,h)   │ Пары (x,y)   │ Сумма v + w  │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ЧАСТНОЕ      │ A / ~        │ G / H        │ X / ~        │ V / W        │
│              │ Фактор-      │ Факторгруппа │ Фактор-      │ Фактор-      │
│              │ множество    │              │ пространство │ пространство │
│              │              │              │              │              │
│ (склеивание) │ Классы       │ Смежные      │ Классы       │ Классы       │
│              │ эквивалентн. │ классы       │ эквивалентн. │ вычетов      │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ДУАЛЬНОСТЬ   │ 𝒫(A) ↔ 2^A   │ G ↔ Ĝ        │ Гомологии ↔  │ V ↔ V*       │
│              │              │ Группа ↔     │ Когомологии  │              │
│              │ Булеан ↔     │ Хар-ры       │              │ Сопряжённое  │
│              │ Инд. функции │              │              │ пространство │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ БАЗИС        │ Минимальная  │ Порождающие  │ База         │ Базис Гамеля │
│              │ порождающая  │ элементы     │ топологии    │ (lin. незав.)│
│              │              │              │              │              │
│ (минимальное │              │              │ Минимальное  │ Минимальное  │
│  описание)   │              │              │ покрытие     │ множество    │
│              │              │              │ откр. мн-в   │ векторов     │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ЯДРО         │ f⁻¹({b})     │ ker(φ) =     │ f⁻¹({y})     │ ker(T) =     │
│              │              │ {g: φ(g)=e}  │              │ {v: T(v)=0}  │
│              │ Прообраз     │              │              │              │
│              │ элемента     │ То, что идёт │ Прообраз     │ То, что       │
│              │              │ в единицу    │ точки        │ убивается    │
│              │              │              │              │              │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│              │              │              │              │              │
│ ОБРАЗ        │ f(A)         │ Im(φ) =      │ f(X)         │ Im(T) =      │
│              │              │ {φ(g): g∈G}  │              │ {T(v): v∈V}  │
│              │ Множество    │              │              │              │
│              │ значений     │ Подгруппа в H│ Подпр-во в Y │ Подпр-во в W │
│              │              │              │              │              │
└──────────────┴──────────────┴──────────────┴──────────────┴──────────────┘

ДОПОЛНИТЕЛЬНАЯ ТАБЛИЦА — БАЗОВЫЕ ОПЕРАЦИИ:

┌──────────────┬──────────────┬──────────────┬──────────────────────────────┐
│  ОПЕРАЦИЯ    │  АРНОСТЬ     │  ПРИМЕРЫ     │  ПРИМЕНЕНИЕ                  │
├──────────────┼──────────────┼──────────────┼──────────────────────────────┤
│              │              │              │                              │
│ Отрицание    │ Унарная (1)  │ ¬P, Aᶜ, -x   │ Дополнение, противополож.    │
│              │              │              │                              │
│ Сложение     │ Бинарная (2) │ +, ∪, ∨      │ Объединение, дизъюнкция      │
│              │              │              │                              │
│ Умножение    │ Бинарная (2) │ ×, ∩, ∧      │ Пересечение, конъюнкция      │
│              │              │              │                              │
│ Композиция   │ Бинарная (2) │ f∘g, AB      │ Последовательное применение  │
│              │              │              │                              │
│ Применение   │ Бинарная (2) │ f(x), T(v)   │ Функции, операторы           │
│              │              │              │                              │
└──────────────┴──────────────┴──────────────┴──────────────────────────────┘

ФИЛОСОФИЯ ТАБЛИЦЫ АНАЛОГИЙ:

  Один и тот же ПАТТЕРН проявляется во всех областях математики.
  
  Если вы поняли "подструктуру" в множествах (A ⊆ B),
  вы автоматически понимаете подгруппу (H ≤ G),
  подпространство (U ⊆ X) и т.д.
  
  Учите по ГОРИЗОНТАЛИ (одно понятие во всех областях),
  а не по вертикали (все понятия одной области).
  
  Это принцип категорной математики: изучать общие паттерны,
  а не конкретные реализации.

═══════════════════════════════════════════════════════════════════════════════

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К ЧАСТИ III

Мы рассмотрели СТРУКТУРЫ на пространствах: алгебраические (группы, кольца),
топологические (близость), линейные (сложение, растяжение), дифференциальные
(гладкость, формы). Категории показали, как все эти структуры связаны.

Теперь — ЧАСТЬ III: анализ. Это конкретная реализация всех структур на ℝⁿ.
Здесь пределы, производные, интегралы. И обобщения: ряды, функанализ, мера.
───────────────────────────────────────────────────────────────────────────────

▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                         ЧАСТЬ III: АНАЛИЗ ПРОСТРАНСТВ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▀

═══════════════════════════════════════════════════════════════════════════════
          АНАЛИЗ — ОТ КОНКРЕТНОГО ПРОСТРАНСТВА К ОБЩИМ СТРУКТУРАМ
═══════════════════════════════════════════════════════════════════════════════

A13. МАТЕМАТИЧЕСКИЙ АНАЛИЗ — ИСЧИСЛЕНИЕ БЕСКОНЕЧНО МАЛЫХ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ АНАЛИЗ КАК ВЗГЛЯД НА ПРОСТРАНСТВО ℝⁿ                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Матанализ — это изучение КОНКРЕТНОГО пространства ℝⁿ со всей его           │
│ структурой: метрикой, линейностью, порядком.                                │
│                                                                             │
│ Мы уже видели ОБЩИЕ структуры:                                              │
│   • Топология (A2): что значит "близко" вообще                             │
│   • Метрика: что значит "расстояние"                                       │
│   • Линейность (A3): что значит "сложить" и "умножить на число"            │
│                                                                             │
│ Теперь смотрим, как всё это работает ВМЕСТЕ на ℝⁿ:                         │
│   • Предел = топология (сходимость в метрике)                              │
│   • Производная = линейное приближение (лучшая линейная аппроксимация)     │
│   • Интеграл = мера (обобщённый "размер")                                  │
│                                                                             │
│ Матанализ — не отдельный остров. Это ПРИМЕР того, как общие идеи           │
│ воплощаются в конкретном пространстве.                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A13.1  ИСТОРИЧЕСКАЯ СПРАВКА                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Математический анализ изучает НЕПРЕРЫВНЫЕ ИЗМЕНЕНИЯ:                        │
│   • Как функция меняется (производная)                                      │
│   • Как накапливается изменение (интеграл)                                  │
│   • Что происходит "в пределе" (предел)                                     │
│                                                                             │
│ Это язык физики, инженерии, экономики — всего, где есть изменение.          │
│                                                                             │
│   XVII век: Ньютон и Лейбниц независимо создали анализ                      │
│   XIX век: Коши, Вейерштрасс сделали его строгим (ε-δ определения)          │
│   XX век: обобщение на многообразия и бесконечномерные пространства         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.2  ПРЕДЕЛ — ФУНДАМЕНТАЛЬНОЕ ПОНЯТИЕ
═══════════════════════════════════════════════════════════════════════════════

Ниже — определения пределов для метрических пространств (через |x−a|).
Общее топологическое определение (через окрестности) — см. A2.3.
Эти определения эквивалентны: ε-окрестность — частный случай окрестности.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЯ ПРЕДЕЛОВ                                                        │
├───────────────────────┬─────────────────────────────────────────────────────┤
│ ТИП                   │ ФОРМАЛЬНОЕ ОПРЕДЕЛЕНИЕ                              │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Предел                │ lim xₙ = a означает:                                │
│ последовательности    │ ∀ε>0 ∃N∈ℕ: ∀n>N ⇒ |xₙ−a| < ε                      │
│                       │                                                     │
│                       │ Смысл: после номера N все члены в ε-окрестности a  │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Предел функции        │ lim f(x) = L означает:                              │
│ в точке               │ x→a                                                 │
│                       │ ∀ε>0 ∃δ>0: 0<|x−a|<δ ⇒ |f(x)−L| < ε               │
│                       │                                                     │
│                       │ Смысл: f(x) близко к L, когда x близко к a         │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Предел на             │ lim f(x) = L означает:                              │
│ бесконечности         │ x→∞                                                 │
│                       │ ∀ε>0 ∃M: x>M ⇒ |f(x)−L| < ε                        │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Бесконечный           │ lim f(x) = ∞ означает:                              │
│ предел                │ x→a                                                 │
│                       │ ∀M>0 ∃δ>0: 0<|x−a|<δ ⇒ f(x) > M                    │
└───────────────────────┴─────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ПРЕДЕЛОВ ПОСЛЕДОВАТЕЛЬНОСТЕЙ                                        │
├───────────────────────┬──────────────┬──────────────────────────────────────┤
│ ПОСЛЕДОВАТЕЛЬНОСТЬ    │ ПРЕДЕЛ       │ ОБЪЯСНЕНИЕ                           │
├───────────────────────┼──────────────┼──────────────────────────────────────┤
│ xₙ = 1/n              │ 0            │ 1, 0.5, 0.33, 0.25, ... → 0          │
├───────────────────────┼──────────────┼──────────────────────────────────────┤
│ xₙ = (n+1)/n          │ 1            │ 2, 1.5, 1.33, ... → 1                │
├───────────────────────┼──────────────┼──────────────────────────────────────┤
│ xₙ = (1+1/n)ⁿ         │ e ≈ 2.718    │ Определение числа e                  │
├───────────────────────┼──────────────┼──────────────────────────────────────┤
│ xₙ = n                │ +∞           │ Неограниченно растёт                 │
├───────────────────────┼──────────────┼──────────────────────────────────────┤
│ xₙ = (−1)ⁿ            │ не сущ.      │ Прыгает: 1, −1, 1, −1, ...           │
├───────────────────────┼──────────────┼──────────────────────────────────────┤
│ xₙ = sin(n)           │ не сущ.      │ Хаотично колеблется                  │
└───────────────────────┴──────────────┴──────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВАЖНЕЙШИЕ ПРЕДЕЛЫ ФУНКЦИЙ                                                   │
├─────────────────────────────────┬───────────┬───────────────────────────────┤
│ ПРЕДЕЛ                          │ ЗНАЧЕНИЕ  │ ПРИМЕНЕНИЕ                    │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim sin(x)/x                    │ 1         │ Первый замечательный предел   │
│ x→0                             │           │                               │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim (1+x)^(1/x)                 │ e         │ Второй замечательный предел   │
│ x→0                             │           │                               │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim (eˣ−1)/x                    │ 1         │ Производная eˣ в нуле        │
│ x→0                             │           │                               │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim ln(1+x)/x                   │ 1         │ Производная ln в единице      │
│ x→0                             │           │                               │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim (1−cos x)/x²                │ 1/2       │ Разложение косинуса           │
│ x→0                             │           │                               │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim xⁿ/eˣ                       │ 0         │ eˣ растёт быстрее степени    │
│ x→+∞                            │           │                               │
├─────────────────────────────────┼───────────┼───────────────────────────────┤
│ lim ln(x)/xᵅ (α>0)              │ 0         │ Степень растёт быстрее ln     │
│ x→+∞                            │           │                               │
└─────────────────────────────────┴───────────┴───────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРАВИЛА ВЫЧИСЛЕНИЯ ПРЕДЕЛОВ                                                 │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ ПРАВИЛО                         │ ФОРМУЛА                                   │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Сумма                           │ lim(f+g) = lim f + lim g                  │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Произведение                    │ lim(f·g) = lim f · lim g                  │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Частное                         │ lim(f/g) = lim f / lim g  (если lim g ≠ 0)│
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Константа                       │ lim(c·f) = c · lim f                      │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Композиция                      │ lim f(g(x)) = f(lim g(x)) если f непр.    │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Сжатие (две полицейские)        │ g≤f≤h, lim g=lim h=L ⇒ lim f=L           │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕОПРЕДЕЛЁННОСТИ — КОГДА ПРАВИЛА НЕ РАБОТАЮТ                                │
├───────────────┬───────────────────┬─────────────────────────────────────────┤
│ ТИП           │ ПРИМЕР            │ МЕТОД РАСКРЫТИЯ                         │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ 0/0           │ sin(x)/x при x→0  │ Лопиталь, разложение, замена            │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ ∞/∞           │ x²/eˣ при x→∞    │ Лопиталь                                │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ 0·∞           │ x·ln(x) при x→0⁺  │ Привести к 0/0 или ∞/∞                  │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ ∞−∞           │ x−√(x²+1)         │ Домножить на сопряжённое                │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ 1^∞           │ (1+1/x)ˣ при x→∞  │ Прологарифмировать                      │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ 0⁰            │ xˣ при x→0⁺       │ Прологарифмировать                      │
├───────────────┼───────────────────┼─────────────────────────────────────────┤
│ ∞⁰            │ x^(1/x) при x→∞   │ Прологарифмировать                      │
└───────────────┴───────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВАЖНО: ПОЧЕМУ ДЕЛЕНИЕ НА 0 НЕ ОПРЕДЕЛЕНО (и это НЕ бесконечность!)          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Многие думают: "1/0 = ∞, ведь lim(1/x) при x→0⁺ равен +∞"                  │
│ Это ОШИБКА. Предел и значение функции — РАЗНЫЕ вещи!                        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПОЧЕМУ 1/0 НЕ ОПРЕДЕЛЕНО — АЛГЕБРАИЧЕСКИЙ АРГУМЕНТ                          │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Деление — это ОБРАТНАЯ операция к умножению:                              │
│                                                                             │
│     a/b = c   означает   b·c = a                                           │
│                                                                             │
│   Пусть 1/0 = c. Тогда по определению: 0·c = 1.                            │
│   Но 0·c = 0 для ЛЮБОГО c (аксиома поля).                                  │
│   Получаем 0 = 1 — противоречие!                                           │
│                                                                             │
│   Пусть 0/0 = c. Тогда 0·c = 0 — верно для ЛЮБОГО c.                       │
│   Какое c выбрать? 0? 1? 1000? Нет единственного ответа!                   │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПОЧЕМУ ПРЕДЕЛ ≠ ЗНАЧЕНИЕ                                                    │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   lim f(x) = L  означает: "f(x) становится сколь угодно близко к L"        │
│   x→a                                                                       │
│                                                                             │
│   Это говорит о ПОВЕДЕНИИ ОКОЛО точки a, но НЕ о значении В точке a!       │
│                                                                             │
│   Примеры:                                                                  │
│   • lim (x²−1)/(x−1) = 2,  но (x²−1)/(x−1) при x=1 НЕ ОПРЕДЕЛЕНО          │
│     x→1                                                                     │
│   • lim 1/x = +∞,  но 1/0 НЕ ОПРЕДЕЛЕНО (даже не "равно +∞")              │
│     x→0⁺                                                                    │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ДОПОЛНИТЕЛЬНАЯ ПРОБЛЕМА: РАЗНЫЕ ПРЕДЕЛЫ С РАЗНЫХ СТОРОН                     │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   lim 1/x = +∞     (справа)                                                │
│   x→0⁺                                                                      │
│   lim 1/x = −∞     (слева)                                                 │
│   x→0⁻                                                                      │
│                                                                             │
│   Какую "бесконечность" выбрать? +∞ или −∞?                                │
│   Если бы 1/0 = ∞, то мы бы получили +∞ = −∞, что абсурд.                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ИТОГ                                                                        │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   • 1/0 — НЕ ОПРЕДЕЛЕНО (не существует числа c, такого что 0·c = 1)        │
│   • 0/0 — НЕОПРЕДЕЛЁННОСТЬ (есть бесконечно много решений 0·c = 0)         │
│   • lim 1/x = ±∞ — это про ПОВЕДЕНИЕ, а не про ЗНАЧЕНИЕ                    │
│   • В стандартной арифметике ∞ — не число, а символ для предела            │
│                                                                             │
│   (В расширенных числовых системах ∞ можно ввести как элемент,             │
│    но тогда теряются некоторые привычные свойства арифметики.               │
│    Пример: на сфере Римана ℂ̂ = ℂ ∪ {∞} операция 1/0 = ∞ корректна,        │
│    но зато 0·∞ и ∞−∞ не определены. См. A11 про комплексный анализ.)       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.3  НЕПРЕРЫВНОСТЬ — ОТСУТСТВИЕ РАЗРЫВОВ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЯ НЕПРЕРЫВНОСТИ                                                   │
├───────────────────────┬─────────────────────────────────────────────────────┤
│ ФОРМУЛИРОВКА          │ ОПРЕДЕЛЕНИЕ                                         │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Через предел          │ f непрерывна в a ⟺ lim f(x) = f(a)                 │
│                       │                    x→a                              │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ ε-δ определение       │ ∀ε>0 ∃δ>0: |x−a|<δ ⇒ |f(x)−f(a)|<ε                │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Через последоват.     │ xₙ→a ⇒ f(xₙ)→f(a) для любой (xₙ)                   │
├───────────────────────┼─────────────────────────────────────────────────────┤
│ Топологическое        │ Прообраз открытого множества открыт                 │
│ (см. A2)              │ f⁻¹(U) открыто для любого открытого U              │
└───────────────────────┴─────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТРИ УСЛОВИЯ НЕПРЕРЫВНОСТИ В ТОЧКЕ a                                         │
├─────┬───────────────────────────────┬───────────────────────────────────────┤
│ №   │ УСЛОВИЕ                       │ ЧТО НАРУШЕНО (ЕСЛИ НЕ ВЫПОЛНЕНО)      │
├─────┼───────────────────────────────┼───────────────────────────────────────┤
│ 1   │ f(a) определено               │ Точка выколота                        │
├─────┼───────────────────────────────┼───────────────────────────────────────┤
│ 2   │ lim f(x) существует           │ Скачок или колебание                  │
│     │ x→a                           │                                       │
├─────┼───────────────────────────────┼───────────────────────────────────────┤
│ 3   │ lim f(x) = f(a)               │ Устранимый разрыв                     │
│     │ x→a                           │                                       │
└─────┴───────────────────────────────┴───────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТИПЫ РАЗРЫВОВ                                                               │
├─────────────────────┬─────────────────────┬─────────────────────────────────┤
│ ТИП                 │ ПРИЗНАК             │ ПРИМЕР                          │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│ Устранимый          │ lim существует,     │ f(x)=(x²−1)/(x−1) при x=1      │
│                     │ но f(a)≠lim или     │ lim=2, но f(1) не опр.          │
│                     │ f(a) не определено  │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│ Скачок (I рода)     │ Односторонние       │ sign(x) при x=0                 │
│                     │ пределы существуют, │ lim₋ = −1, lim₊ = +1           │
│                     │ но не равны         │                                 │
├─────────────────────┼─────────────────────┼─────────────────────────────────┤
│ Существенный        │ Хотя бы один        │ sin(1/x) при x=0               │
│ (II рода)           │ односторонний       │ Бесконечные колебания          │
│                     │ предел не сущ.      │                                 │
└─────────────────────┴─────────────────────┴─────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВОЙСТВА НЕПРЕРЫВНЫХ ФУНКЦИЙ                                                │
├───────────────────────────────┬─────────────────────────────────────────────┤
│ ОПЕРАЦИЯ                      │ РЕЗУЛЬТАТ                                   │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ f, g непрерывны в a           │ f+g, f−g, f·g непрерывны в a               │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ f, g непрерывны, g(a)≠0       │ f/g непрерывна в a                         │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ f непр. в a, g непр. в f(a)   │ g∘f непрерывна в a                         │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ |f| при f непрерывной         │ |f| непрерывна                             │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ max(f,g), min(f,g)            │ Непрерывны, если f и g непрерывны          │
└───────────────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФУНДАМЕНТАЛЬНЫЕ ТЕОРЕМЫ                                                     │
├─────────────────────────┬───────────────────────────────────────────────────┤
│ ТЕОРЕМА                 │ ФОРМУЛИРОВКА И СЛЕДСТВИЕ                          │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Вейерштрасса            │ f непр. на [a,b] ⇒ f достигает max и min        │
│ (об экстремумах)        │                                                   │
│                         │ Следствие: ∃c,d∈[a,b]: f(c)≤f(x)≤f(d) ∀x        │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ О промежуточном         │ f непр. на [a,b], f(a)<y<f(b)                    │
│ значении (Больцано)     │ ⇒ ∃c∈(a,b): f(c)=y                              │
│                         │                                                   │
│                         │ "Непрерывная функция не перепрыгивает значения"  │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ О нуле функции          │ f непр., f(a)<0<f(b) ⇒ ∃c: f(c)=0               │
│ (следствие)             │                                                   │
│                         │ Применение: доказательство существования корней  │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Кантора (равномерная    │ f непр. на [a,b] ⇒ f равномерно непрерывна      │
│ непрерывность)          │                                                   │
│                         │ δ зависит только от ε, не от точки               │
└─────────────────────────┴───────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СТАНДАРТНЫЕ НЕПРЕРЫВНЫЕ ФУНКЦИИ                                             │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ ФУНКЦИЯ                         │ ОБЛАСТЬ НЕПРЕРЫВНОСТИ                     │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Многочлен p(x)                  │ ℝ (везде)                                 │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Рациональная p(x)/q(x)          │ ℝ \ {корни q(x)}                          │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ √x                              │ [0, +∞)                                   │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ sin x, cos x                    │ ℝ                                         │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ eˣ                              │ ℝ                                         │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ ln x                            │ (0, +∞)                                   │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ |x|                             │ ℝ (но не дифференцируема в 0!)            │
└─────────────────────────────────┴───────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.4  ПРОИЗВОДНАЯ — МГНОВЕННАЯ СКОРОСТЬ ИЗМЕНЕНИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ: СЕКУЩАЯ → КАСАТЕЛЬНАЯ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│         y                                                                   │
│         │              ╱                                                    │
│         │           ╱                                                       │
│         │        ╱     • (a+h, f(a+h))      секущая (наклон = Δf/Δx)       │
│         │     •╱                                                            │
│         │   ╱                                                               │
│         │ •─────────────────────          касательная (наклон = f'(a))      │
│         │  (a, f(a))                                                        │
│         │                                                                   │
│         │                                                                   │
│         └───────────────────────────── x                                    │
│               a    a+h                                                      │
│                                                                             │
│   При h → 0 секущая "поворачивается" и становится касательной.             │
│   Наклон касательной = производная = lim[h→0] (f(a+h)−f(a))/h              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ ПРОИЗВОДНОЙ                                                     │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ ФОРМУЛА                         │ ИНТЕРПРЕТАЦИЯ                             │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ f'(a) = lim (f(a+h)−f(a))/h     │ Предел отношения приращений               │
│         h→0                     │                                           │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ f'(a) = lim (f(x)−f(a))/(x−a)   │ Эквивалентная форма                       │
│         x→a                     │                                           │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ ГЕОМЕТРИЧЕСКИ                   │ Наклон касательной к графику в точке a    │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ ФИЗИЧЕСКИ                       │ Мгновенная скорость (если f = положение)  │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ АНАЛИТИЧЕСКИ                    │ Лучшее линейное приближение:              │
│                                 │ f(a+h) ≈ f(a) + f'(a)·h                   │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБОЗНАЧЕНИЯ ПРОИЗВОДНОЙ                                                     │
├─────────────────┬───────────────────────────────────────────────────────────┤
│ ОБОЗНАЧЕНИЕ     │ КОГДА ИСПОЛЬЗУЕТСЯ                                        │
├─────────────────┼───────────────────────────────────────────────────────────┤
│ f'(x)           │ Общее обозначение (Лагранж)                               │
├─────────────────┼───────────────────────────────────────────────────────────┤
│ df/dx           │ Подчёркивает переменную дифференцирования (Лейбниц)       │
├─────────────────┼───────────────────────────────────────────────────────────┤
│ Df              │ Операторная запись                                        │
├─────────────────┼───────────────────────────────────────────────────────────┤
│ ḟ (точка)       │ Производная по времени (физика)                           │
├─────────────────┼───────────────────────────────────────────────────────────┤
│ f'', f'''       │ Вторая, третья производные                                │
│ f⁽ⁿ⁾            │ n-я производная                                          │
└─────────────────┴───────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ ДИФФЕРЕНЦИРУЕМОСТИ И НЕПРЕРЫВНОСТИ                                    │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ УТВЕРЖДЕНИЕ                     │ ВЕРНО?                                    │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Дифференцируема ⇒ Непрерывна   │ ДА (всегда)                               │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Непрерывна ⇒ Дифференцируема   │ НЕТ! Контрпример: f(x)=|x| в точке 0     │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Непрерывна, но нигде не дифф.   │ Существует! (функция Вейерштрасса)        │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА ПРОИЗВОДНЫХ                                                         │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ФУНКЦИЯ f(x)              │ ПРОИЗВОДНАЯ f'(x)                               │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ c (константа)             │ 0                                               │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ x                         │ 1                                               │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ xⁿ                        │ n·xⁿ⁻¹                                         │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ eˣ                        │ eˣ                                              │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ aˣ                        │ aˣ · ln(a)                                      │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ ln(x)                     │ 1/x                                             │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ logₐ(x)                   │ 1/(x·ln(a))                                     │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ sin(x)                    │ cos(x)                                          │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ cos(x)                    │ −sin(x)                                         │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ tan(x)                    │ 1/cos²(x) = sec²(x)                             │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ arcsin(x)                 │ 1/√(1−x²)                                       │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ arccos(x)                 │ −1/√(1−x²)                                      │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ arctan(x)                 │ 1/(1+x²)                                        │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ √x                        │ 1/(2√x)                                         │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРАВИЛА ДИФФЕРЕНЦИРОВАНИЯ                                                   │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ПРАВИЛО                   │ ФОРМУЛА                                         │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Линейность                │ (αf + βg)' = αf' + βg'                          │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Произведение (Лейбниц)    │ (f·g)' = f'·g + f·g'                           │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Частное                   │ (f/g)' = (f'·g − f·g')/g²                      │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Цепное правило            │ (f(g(x)))' = f'(g(x))·g'(x)                    │
│ (композиция)              │                                                 │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Обратная функция          │ (f⁻¹)'(y) = 1/f'(x), где y = f(x)              │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ПРИМЕНЕНИЯ ЦЕПНОГО ПРАВИЛА                                          │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ ФУНКЦИЯ                         │ ПРОИЗВОДНАЯ                               │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ sin(x²)                         │ cos(x²)·2x = 2x·cos(x²)                   │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ e^(3x)                          │ e^(3x)·3 = 3e^(3x)                        │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ ln(x²+1)                        │ 2x/(x²+1)                                 │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ √(1−x²)                         │ −x/√(1−x²)                                │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ (x²+1)¹⁰                        │ 10(x²+1)⁹·2x = 20x(x²+1)⁹                │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРАВИЛА ДИФФЕРЕНЦИРОВАНИЯ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────────────────┬─────────────────────────────────────────────┐ │
│ │ ПРАВИЛО                   │ ФОРМУЛА                                     │ │
│ ├───────────────────────────┼─────────────────────────────────────────────┤ │
│ │ Линейность                │ (af + bg)' = af' + bg'                      │ │
│ │                           │                                             │ │
│ │ Произведение (Лейбниц)    │ (fg)' = f'g + fg'                          │ │
│ │                           │                                             │ │
│ │ Частное                   │ (f/g)' = (f'g − fg')/g²                    │ │
│ │                           │                                             │ │
│ │ Цепное правило (chain)    │ (f(g(x)))' = f'(g(x)) · g'(x)              │ │
│ │                           │                                             │ │
│ │ Обратная функция          │ (f⁻¹)'(y) = 1/f'(f⁻¹(y))                   │ │
│ └───────────────────────────┴─────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР (цепное правило):                                                    │
│   f(x) = sin(x²)                                                            │
│   Внешняя: sin(·), внутренняя: x²                                          │
│   f'(x) = cos(x²) · 2x = 2x·cos(x²)                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЕОМЕТРИЧЕСКИЙ И ФИЗИЧЕСКИЙ СМЫСЛ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────┬───────────────────────────────────────────────────┐ │
│ │ КОНТЕКСТ            │ СМЫСЛ ПРОИЗВОДНОЙ                                 │ │
│ ├─────────────────────┼───────────────────────────────────────────────────┤ │
│ │ Геометрия           │ Наклон касательной                                │ │
│ │ Движение            │ Скорость (v = dx/dt)                              │ │
│ │ Ускорение           │ Вторая производная (a = d²x/dt²)                  │ │
│ │ Экономика           │ Предельная прибыль/затраты                        │ │
│ │ Теплотехника        │ Тепловой поток (q = −k·dT/dx)                     │ │
│ │ Оптимизация         │ f'(a) = 0 — кандидат в экстремум                  │ │
│ └─────────────────────┴───────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРОИЗВОДНАЯ КАК ЛИНЕЙНОЕ ПРИБЛИЖЕНИЕ:                                       │
│                                                                             │
│   f(a + h) ≈ f(a) + f'(a)·h    (для малых h)                               │
│                                                                             │
│   Это касательная! Вблизи точки a функция ведёт себя почти линейно.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАТРИЦА ЯКОБИ — МНОГОМЕРНАЯ ПРОИЗВОДНАЯ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для функции f: ℝⁿ → ℝᵐ матрица Якоби — это матрица частных производных:    │
│                                                                             │
│       ⎛ ∂f₁/∂x₁  ∂f₁/∂x₂  ...  ∂f₁/∂xₙ ⎞                                  │
│   J = ⎜ ∂f₂/∂x₁  ∂f₂/∂x₂  ...  ∂f₂/∂xₙ ⎟                                  │
│       ⎜   ⋮         ⋮      ⋱      ⋮     ⎟                                  │
│       ⎝ ∂fₘ/∂x₁  ∂fₘ/∂x₂  ...  ∂fₘ/∂xₙ ⎠                                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ: ЛОКАЛЬНАЯ ЗАМЕНА КООРДИНАТ                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Вспомним: f'(a) — это наклон касательной, т.е. ЛИНЕЙНОЕ ПРИБЛИЖЕНИЕ.        │
│                                                                             │
│ В многомерном случае: J(a) — это ЛИНЕЙНОЕ ОТОБРАЖЕНИЕ, которое              │
│ ПРИБЛИЖАЕТ f около точки a:                                                 │
│                                                                             │
│   f(a + h) ≈ f(a) + J(a)·h    (для малых h)                                │
│                                                                             │
│ ЭТО ЗНАЧИТ:                                                                 │
│   Около точки a преобразование f ведёт себя как ЛИНЕЙНАЯ ЗАМЕНА КООРДИНАТ!  │
│                                                                             │
│   НЕЛИНЕЙНОЕ f:                      ЛИНЕЙНОЕ ПРИБЛИЖЕНИЕ J:                │
│                                                                             │
│       ╭────╮                            ╭────╮                              │
│      ╱      ╲                          ╱      ╲                             │
│     │   ●    │  ──→  ╭──────╮         │   ●    │  ──→  ╭────────╮           │
│     │   a    │       │криво │         │   a    │       │линейно │           │
│      ╲      ╱        ╰──────╯          ╲      ╱        ╰────────╯           │
│       ╰────╯                            ╰────╯                              │
│                                                                             │
│   Якобиан говорит: "локально, в малом масштабе, f — это линейное преобр."  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ОПРЕДЕЛИТЕЛЬ ЯКОБИАНА = КОЭФФИЦИЕНТ РАСТЯЖЕНИЯ ОБЪЁМА                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   |det J| — это во сколько раз преобразование f растягивает объём           │
│                                                                             │
│   ПРИМЕР: Полярные координаты (r, θ) → (x, y) = (r cos θ, r sin θ)         │
│                                                                             │
│       ⎛ ∂x/∂r  ∂x/∂θ ⎞   ⎛ cos θ   −r sin θ ⎞                              │
│   J = ⎜               ⎟ = ⎜                  ⎟                              │
│       ⎝ ∂y/∂r  ∂y/∂θ ⎠   ⎝ sin θ    r cos θ ⎠                              │
│                                                                             │
│   det J = r·cos²θ + r·sin²θ = r                                            │
│                                                                             │
│   Это значит: площадь "элементика" dr·dθ в полярных координатах            │
│   соответствует площади r·dr·dθ в декартовых!                              │
│                                                                             │
│ ЗАМЕНА ПЕРЕМЕННЫХ В ИНТЕГРАЛЕ:                                              │
│                                                                             │
│   ∫∫ f(x,y) dxdy = ∫∫ f(x(u,v), y(u,v)) · |det J| dudv                     │
│                                                                             │
│   Якобиан — "коэффициент пересчёта площади" при замене координат!           │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА ОБ ОБРАТНОЙ ФУНКЦИИ                                                 │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Если det J(a) ≠ 0, то f ЛОКАЛЬНО ОБРАТИМА около a.                          │
│                                                                             │
│ Интуиция: Если якобиан не вырожден (не "сплющивает" пространство),          │
│ то преобразование можно обратить в малой окрестности.                       │
│                                                                             │
│ Якобиан обратного отображения: J(f⁻¹) = J(f)⁻¹                              │
│                                                                             │
│ ПРАКТИКА: Если хотите проверить, можно ли "развернуть" преобразование       │
│ координат — посчитайте определитель якобиана. Если ≠ 0 — можно.             │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ТЕОРЕМА О НЕЯВНОЙ ФУНКЦИИ                                                   │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Дано: F(x, y) = 0 определяет y как функцию от x.                           │
│                                                                             │
│ ВОПРОС: Когда можно выразить y = y(x)?                                     │
│                                                                             │
│ ОТВЕТ: Если ∂F/∂y ≠ 0, то ЛОКАЛЬНО y = y(x) существует и                   │
│                                                                             │
│        dy       ∂F/∂x                                                       │
│        ── = − ─────────                                                     │
│        dx       ∂F/∂y                                                       │
│                                                                             │
│ ПРИМЕР: Окружность x² + y² = 1                                             │
│   F(x,y) = x² + y² − 1 = 0                                                 │
│   ∂F/∂y = 2y ≠ 0  (кроме y = 0, т.е. точек (±1, 0))                       │
│   dy/dx = −2x/(2y) = −x/y                                                  │
│                                                                             │
│   В точках (±1, 0) касательная вертикальна — y не выражается через x!      │
│                                                                             │
│ ИНТУИЦИЯ: Кривая F = 0 локально — график функции, если не вертикальна.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАТЕРИАЛЬНАЯ (КОНВЕКТИВНАЯ) ПРОИЗВОДНАЯ — КЛЮЧ К ГАЗОДИНАМИКЕ              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Есть поле температуры T(x, y, z, t). Как меняется температура    │
│ ЧАСТИЦЫ ЖИДКОСТИ, которая движется со скоростью v⃗?                        │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │     t = 0           t = dt                                              │ │
│ │                                                                         │ │
│ │      ●────────────→ ●                                                   │ │
│ │   частица        частица                                                │ │
│ │   в точке x⃗     в точке x⃗ + v⃗·dt                                     │ │
│ │                                                                         │ │
│ │   T(x⃗, 0)        T(x⃗ + v⃗·dt, dt)                                      │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ МАТЕРИАЛЬНАЯ ПРОИЗВОДНАЯ:                                                   │
│                                                                             │
│   DT     ∂T                    ∂T       ∂T       ∂T                        │
│   ── = ──── + (v⃗·∇)T = ──── + vₓ ──── + vᵧ ──── + v_z ────                │
│   Dt     ∂t                    ∂t       ∂x       ∂y       ∂z                │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ ЧЛЕН              │ ФИЗИЧЕСКИЙ СМЫСЛ                                  │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ ∂T/∂t             │ Локальное изменение: поле меняется в данной точке │   │
│ │ (v⃗·∇)T           │ Конвективное: частица переносится в другую точку  │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ ПРИМЕР: Река с неоднородной температурой                                    │
│                                                                             │
│   Стоишь на берегу, опустил термометр: T меняется (∂T/∂t ≠ 0) — это       │
│   локальное изменение.                                                      │
│                                                                             │
│   Плывём в лодке: даже если ∂T/∂t = 0, температура вокруг нас меняется,    │
│   потому что мы перемещаемся в области с другой T — это конвекция.         │
│                                                                             │
│ УРАВНЕНИЕ НАВЬЕ-СТОКСА использует именно D/Dt:                              │
│                                                                             │
│   ρ Dv⃗/Dt = −∇p + μ∇²v⃗ + ρg⃗                                              │
│                                                                             │
│   Левая часть — ускорение ЧАСТИЦЫ (а не точки пространства!)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.5  ИНТЕГРАЛ — НАКОПЛЕНИЕ ИЗМЕНЕНИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТУИЦИЯ: ПЛОЩАДЬ ПОД ГРАФИКОМ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Определённый интеграл ∫ₐᵇ f(x)dx — это площадь под графиком f              │
│ от x = a до x = b (с учётом знака: ниже оси — отрицательная).              │
│                                                                             │
│           │                                                                 │
│        f  │    ╱╲                                                           │
│           │   ╱██╲                                                          │
│           │  ╱████╲                                                         │
│           │ ╱██████╲         ← заштрихованная площадь                       │
│         ──┼─────────────                                                    │
│           a         b                                                       │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ:                                                           │
│   • Если f(t) = скорость, то ∫ₐᵇ f(t)dt = пройденный путь                 │
│   • Если f(t) = мощность, то ∫ₐᵇ f(t)dt = работа                          │
│   • Если f(x) = плотность, то ∫ₐᵇ f(x)dx = масса                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПРЕДЕЛЕНИЕ ИНТЕГРАЛА РИМАНА                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Приближаем площадь суммой прямоугольников, затем устремляем          │
│       ширину прямоугольников к нулю.                                        │
│                                                                             │
│   Разбиение: a = x₀ < x₁ < x₂ < ... < xₙ = b                               │
│   Ширина: Δxᵢ = xᵢ − xᵢ₋₁                                                  │
│   Выбираем точку: ξᵢ ∈ [xᵢ₋₁, xᵢ]                                         │
│                                                                             │
│   Интегральная сумма: Sₙ = Σᵢ f(ξᵢ)·Δxᵢ                                   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   ∫ₐᵇ f(x)dx = lim Σᵢ f(ξᵢ)·Δxᵢ                                        │ │
│ │               max(Δxᵢ)→0                                                │ │
│ │                                                                         │ │
│ │   (предел должен существовать и не зависеть от выбора разбиения и ξᵢ)  │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ Функция интегрируема по Риману, если этот предел существует.               │
│                                                                             │
│ ДОСТАТОЧНОЕ УСЛОВИЕ: Непрерывная на [a,b] ⇒ интегрируема.                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: ∫₀¹ x dx                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Геометрически: площадь треугольника с вершинами (0,0), (1,0), (1,1).       │
│ Ответ: ½ · 1 · 1 = 1/2                                                      │
│                                                                             │
│ Через интегральные суммы:                                                   │
│   Разбиваем [0,1] на n равных частей: Δx = 1/n                             │
│   Берём правые концы: ξᵢ = i/n                                             │
│                                                                             │
│   Sₙ = Σᵢ₌₁ⁿ (i/n)·(1/n) = (1/n²) Σᵢ₌₁ⁿ i = (1/n²)·n(n+1)/2              │
│      = (n+1)/(2n) = 1/2 + 1/(2n)                                           │
│                                                                             │
│   lim Sₙ = lim (1/2 + 1/(2n)) = 1/2  ✓                                     │
│   n→∞     n→∞                                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВОЙСТВА ИНТЕГРАЛА                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ЛИНЕЙНОСТЬ:                                                              │
│    ∫ₐᵇ (αf + βg)dx = α∫ₐᵇ f dx + β∫ₐᵇ g dx                                │
│                                                                             │
│ 2. АДДИТИВНОСТЬ ПО ОТРЕЗКУ:                                                 │
│    ∫ₐᵇ f dx + ∫ᵇᶜ f dx = ∫ₐᶜ f dx                                         │
│                                                                             │
│ 3. МОНОТОННОСТЬ:                                                            │
│    f(x) ≤ g(x) на [a,b]  ⇒  ∫ₐᵇ f dx ≤ ∫ₐᵇ g dx                          │
│                                                                             │
│ 4. ОЦЕНКА:                                                                  │
│    m ≤ f(x) ≤ M на [a,b]  ⇒  m(b−a) ≤ ∫ₐᵇ f dx ≤ M(b−a)                  │
│                                                                             │
│ 5. ТЕОРЕМА О СРЕДНЕМ:                                                       │
│    Если f непрерывна на [a,b], то ∃c ∈ (a,b): ∫ₐᵇ f dx = f(c)·(b−a)       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.6  ОСНОВНАЯ ТЕОРЕМА АНАЛИЗА — СВЯЗЬ ПРОИЗВОДНОЙ И ИНТЕГРАЛА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА НЬЮТОНА-ЛЕЙБНИЦА                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   Если F'(x) = f(x), то:                                                │ │
│ │                                                                         │ │
│ │              ∫ₐᵇ f(x)dx = F(b) − F(a)                                   │ │
│ │                                                                         │ │
│ │   Обозначение: F(x)|ₐᵇ = F(b) − F(a)                                    │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СМЫСЛ: Чтобы вычислить интеграл, достаточно найти ПЕРВООБРАЗНУЮ F          │
│        (функцию, производная которой равна f) и взять разность.            │
│                                                                             │
│ ПРИМЕР:                                                                     │
│   ∫₀² x² dx = ?                                                            │
│                                                                             │
│   F(x) = x³/3  (проверка: (x³/3)' = 3x²/3 = x² ✓)                         │
│                                                                             │
│   ∫₀² x² dx = F(2) − F(0) = 8/3 − 0 = 8/3                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВТОРАЯ ЧАСТЬ ОСНОВНОЙ ТЕОРЕМЫ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть f непрерывна. Определим:                                              │
│                                                                             │
│   F(x) = ∫ₐˣ f(t)dt   ("интеграл с переменным верхним пределом")           │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   d/dx ∫ₐˣ f(t)dt = f(x)                                                │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СМЫСЛ: Производная интеграла = подынтегральная функция.                    │
│        Интегрирование и дифференцирование — ОБРАТНЫЕ операции!             │
│                                                                             │
│   d/dx и ∫dx — как возведение в степень и логарифм, или + и −.            │
│   Одна "отменяет" другую.                                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА ПЕРВООБРАЗНЫХ (НЕОПРЕДЕЛЁННЫХ ИНТЕГРАЛОВ)                           │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ФУНКЦИЯ f(x)              │ ПЕРВООБРАЗНАЯ ∫f(x)dx                           │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ xⁿ (n ≠ −1)               │ xⁿ⁺¹/(n+1) + C                                  │
│ 1/x                       │ ln|x| + C                                       │
│ eˣ                        │ eˣ + C                                          │
│ aˣ                        │ aˣ/ln(a) + C                                    │
│ sin(x)                    │ −cos(x) + C                                     │
│ cos(x)                    │ sin(x) + C                                      │
│ 1/cos²(x)                 │ tan(x) + C                                      │
│ 1/sin²(x)                 │ −cot(x) + C                                     │
│ 1/(1+x²)                  │ arctan(x) + C                                   │
│ 1/√(1−x²)                 │ arcsin(x) + C                                   │
│ 1/(x²+a²)                 │ (1/a)arctan(x/a) + C                            │
│ 1/√(x²±a²)                │ ln|x + √(x²±a²)| + C                            │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОДЫ ИНТЕГРИРОВАНИЯ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ЗАМЕНА ПЕРЕМЕННОЙ (подстановка):                                         │
│    ∫f(g(x))g'(x)dx = ∫f(u)du,  где u = g(x)                                │
│                                                                             │
│    Пример: ∫2x·eˣ² dx = ∫eᵘ du = eᵘ + C = eˣ² + C  (u = x²)               │
│                                                                             │
│ 2. ИНТЕГРИРОВАНИЕ ПО ЧАСТЯМ:                                                │
│    ∫u dv = uv − ∫v du                                                      │
│                                                                             │
│    Пример: ∫x·eˣ dx                                                        │
│    u = x, dv = eˣdx ⇒ du = dx, v = eˣ                                     │
│    = x·eˣ − ∫eˣ dx = x·eˣ − eˣ + C = eˣ(x−1) + C                          │
│                                                                             │
│ 3. РАЗЛОЖЕНИЕ НА ПРОСТЫЕ ДРОБИ:                                             │
│    Для рациональных функций P(x)/Q(x)                                       │
│                                                                             │
│ 4. ТРИГОНОМЕТРИЧЕСКИЕ ПОДСТАНОВКИ:                                          │
│    √(a²−x²): x = a·sin(θ)                                                  │
│    √(a²+x²): x = a·tan(θ)                                                  │
│    √(x²−a²): x = a·sec(θ)                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР ДЛЯ ТЕПЛОФИЗИКИ: ЦИКЛ КАРНО КАК КОНТУРНЫЙ ИНТЕГРАЛ                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Работа газа за цикл = ∮ P dV = площадь внутри цикла на P-V диаграмме       │
│                                                                             │
│       P                                                                     │
│       │     1                                                               │
│       │    ╱╲  изотерма T₁ (нагреватель)                                   │
│       │   ╱  ╲                                                              │
│       │  ╱    ╲ 2                                                           │
│       │ │ РАБОТА│  адиабата                                                 │
│       │ │  W>0  │                                                           │
│       │  ╲    ╱ 3                                                           │
│       │   ╲  ╱                                                              │
│       │    ╲╱  изотерма T₂ (холодильник)                                   │
│       │     4                                                               │
│       └────────────────── V                                                 │
│                                                                             │
│ ПОЧЕМУ ∮ P dV ≠ 0?                                                         │
│   Если бы P = P(V) была функцией только V, то ∮ P dV = 0 всегда.           │
│   Но P = P(V, T) — зависит и от T!                                          │
│   На верхней изотерме давление ВЫШЕ при том же V → работа положительна.    │
│                                                                             │
│ КПД ЦИКЛА КАРНО:                                                            │
│                                                                             │
│   η = W/Q₁ = (Q₁ - Q₂)/Q₁ = 1 - T₂/T₁                                      │
│                                                                             │
│   Это МАКСИМАЛЬНЫЙ КПД для любой машины между T₁ и T₂!                     │
│   (Следует из 2-го закона термодинамики)                                    │
│                                                                             │
│ СВЯЗЬ С ЭНТРОПИЕЙ:                                                          │
│   Для обратимого процесса: ∮ dQ/T = 0                                      │
│   Это значит: ∮ dS = 0 (энтропия — функция состояния)                      │
│   Математически: dS — точный дифференциал, а dQ — нет!                     │
│                                                                             │
│ МОРАЛЬ: Криволинейный интеграл ∮ = 0 только для ТОЧНОГО дифференциала.     │
│         dQ не точный → можно извлекать работу. dS точный → возвращается.   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.7  ПРИЛОЖЕНИЯ АНАЛИЗА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИЛОЖЕНИЯ ПРОИЗВОДНЫХ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. НАХОЖДЕНИЕ ЭКСТРЕМУМОВ:                                                  │
│    f'(x) = 0 — необходимое условие локального экстремума                   │
│    f''(x) < 0 ⇒ локальный максимум                                         │
│    f''(x) > 0 ⇒ локальный минимум                                          │
│                                                                             │
│ 2. ИССЛЕДОВАНИЕ ФУНКЦИИ:                                                    │
│    f' > 0: возрастание                                                      │
│    f' < 0: убывание                                                         │
│    f'' > 0: выпуклость вверх (вогнутость)                                  │
│    f'' < 0: выпуклость вниз                                                 │
│                                                                             │
│ 3. ПРАВИЛО ЛОПИТАЛЯ (для неопределённостей 0/0 или ∞/∞):                   │
│    lim f(x)/g(x) = lim f'(x)/g'(x)  (если правый предел существует)        │
│    x→a           x→a                                                        │
│                                                                             │
│ 4. РЯД ТЕЙЛОРА (приближение функции многочленом):                           │
│    f(x) = f(a) + f'(a)(x−a) + f''(a)(x−a)²/2! + f'''(a)(x−a)³/3! + ...    │
│                                                                             │
│    Пример: eˣ = 1 + x + x²/2! + x³/3! + ...  (a = 0)                       │
│            sin x = x − x³/3! + x⁵/5! − ...                                 │
│            cos x = 1 − x²/2! + x⁴/4! − ...                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИЛОЖЕНИЯ ИНТЕГРАЛОВ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ПЛОЩАДЬ МЕЖДУ КРИВЫМИ:                                                   │
│    S = ∫ₐᵇ |f(x) − g(x)| dx                                                │
│                                                                             │
│ 2. ОБЪЁМ ТЕЛА ВРАЩЕНИЯ:                                                     │
│    V = π ∫ₐᵇ [f(x)]² dx    (вращение вокруг оси x)                        │
│                                                                             │
│ 3. ДЛИНА КРИВОЙ:                                                            │
│    L = ∫ₐᵇ √(1 + [f'(x)]²) dx                                              │
│                                                                             │
│ 4. ПЛОЩАДЬ ПОВЕРХНОСТИ ВРАЩЕНИЯ:                                            │
│    S = 2π ∫ₐᵇ f(x)√(1 + [f'(x)]²) dx                                       │
│                                                                             │
│ 5. ФИЗИЧЕСКИЕ ПРИЛОЖЕНИЯ:                                                   │
│    • Работа: W = ∫ F dx                                                    │
│    • Центр масс: x̄ = ∫x·ρ(x)dx / ∫ρ(x)dx                                  │
│    • Момент инерции: I = ∫r²·dm                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ТЕПЛОТЕХНИКОЙ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ УРАВНЕНИЕ ТЕПЛОПРОВОДНОСТИ:                                                 │
│                                                                             │
│   ∂T/∂t = α · ∂²T/∂x²                                                      │
│                                                                             │
│ Это ДИФФЕРЕНЦИАЛЬНОЕ УРАВНЕНИЕ В ЧАСТНЫХ ПРОИЗВОДНЫХ.                       │
│ Температура T зависит от времени t и координаты x.                          │
│                                                                             │
│ ЗАКОН ФУРЬЕ (тепловой поток):                                               │
│   q = −k · dT/dx                                                           │
│   Поток пропорционален градиенту температуры.                               │
│   Минус: тепло течёт от горячего к холодному.                               │
│                                                                             │
│ СТАЦИОНАРНЫЙ СЛУЧАЙ (∂T/∂t = 0):                                           │
│   d²T/dx² = 0  ⇒  T(x) = ax + b  (линейный профиль)                        │
│                                                                             │
│ ИНТЕГРАЛ = НАКОПЛЕНИЕ ТЕПЛА:                                                │
│   Q = ∫₀ᵗ P(τ)dτ  (энергия = интеграл мощности по времени)                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.8  СХОДИМОСТЬ РЯДОВ — КОГДА БЕСКОНЕЧНАЯ СУММА ИМЕЕТ СМЫСЛ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОБЛЕМА: ЧТО ЗНАЧИТ "БЕСКОНЕЧНАЯ СУММА"?                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Выражение a₁ + a₂ + a₃ + ... = Σₙ aₙ — это НЕ обычная сумма.               │
│ Мы не можем сложить бесконечно много чисел напрямую.                        │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ через предел частичных сумм:                                    │
│                                                                             │
│   Sₙ = a₁ + a₂ + ... + aₙ  (n-я частичная сумма)                           │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │  Ряд Σaₙ СХОДИТСЯ, если существует конечный предел:                     │ │
│ │                                                                         │ │
│ │       Σₙ₌₁^∞ aₙ = lim Sₙ = S                                            │ │
│ │                   n→∞                                                   │ │
│ │                                                                         │ │
│ │  Иначе ряд РАСХОДИТСЯ.                                                  │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВЫЕ ПРИМЕРЫ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ГЕОМЕТРИЧЕСКИЙ РЯД:                                                      │
│    Σₙ₌₀^∞ rⁿ = 1 + r + r² + r³ + ...                                       │
│                                                                             │
│    • |r| < 1: СХОДИТСЯ к 1/(1−r)                                           │
│      Пример: 1 + ½ + ¼ + ⅛ + ... = 2                                       │
│                                                                             │
│    • |r| ≥ 1: РАСХОДИТСЯ                                                   │
│      Пример: 1 + 1 + 1 + ... = ∞                                           │
│                                                                             │
│ 2. ГАРМОНИЧЕСКИЙ РЯД:                                                       │
│    Σₙ₌₁^∞ 1/n = 1 + ½ + ⅓ + ¼ + ... = ∞  РАСХОДИТСЯ!                      │
│                                                                             │
│    Хотя члены → 0, сумма всё равно бесконечна.                             │
│    (Доказательство: группируем 1/3+1/4 > 1/2, 1/5+...+1/8 > 1/2, и т.д.)   │
│                                                                             │
│ 3. p-РЯДЫ:                                                                  │
│    Σₙ₌₁^∞ 1/nᵖ  сходится ⟺ p > 1                                          │
│                                                                             │
│    • Σ 1/n² = π²/6  (Базельская проблема, Эйлер 1734)                      │
│    • Σ 1/n  = ∞     (гармонический, p = 1)                                 │
│                                                                             │
│ 4. ЗНАКОЧЕРЕДУЮЩИЙСЯ РЯД:                                                   │
│    1 − ½ + ⅓ − ¼ + ... = ln(2)  СХОДИТСЯ (условно)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИЗНАКИ СХОДИМОСТИ — КРАТКАЯ ТАБЛИЦА                                       │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ПРИЗНАК                   │ ФОРМУЛИРОВКА                                    │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Необходимый               │ Если Σaₙ сходится, то aₙ → 0                    │
│ (но не достаточный!)      │ Обратное НЕВЕРНО: aₙ→0 ⇏ сходимость           │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Сравнения                 │ 0 ≤ aₙ ≤ bₙ, Σbₙ сход. ⇒ Σaₙ сход.            │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Даламбера (предельный)    │ lim |aₙ₊₁/aₙ| = L: L<1 сход., L>1 расх.       │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Коши (корневой)           │ lim ⁿ√|aₙ| = L: L<1 сход., L>1 расх.          │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Интегральный              │ Σf(n) сход. ⟺ ∫f(x)dx сход. (f↓, f>0)         │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Лейбница (знакочеред.)    │ (−1)ⁿaₙ, aₙ↓0 ⇒ сходится                       │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АБСОЛЮТНАЯ vs УСЛОВНАЯ СХОДИМОСТЬ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ • Σaₙ сходится АБСОЛЮТНО, если сходится Σ|aₙ|                               │
│ • Σaₙ сходится УСЛОВНО, если Σaₙ сход., но Σ|aₙ| расход.                   │
│                                                                             │
│ ВАЖНО: Абсолютная сходимость ⇒ сходимость (обратное неверно)               │
│                                                                             │
│ ПРИМЕР:                                                                     │
│   1 − ½ + ⅓ − ¼ + ... сходится УСЛОВНО                                     │
│   (потому что 1 + ½ + ⅓ + ¼ + ... = ∞)                                     │
│                                                                             │
│ ТЕОРЕМА РИМАНА: Условно сходящийся ряд можно перестановкой членов          │
│   сделать сходящимся к ЛЮБОМУ числу (или расходящимся)!                    │
│                                                                             │
│   Абсолютно сходящийся ряд можно переставлять как угодно —                  │
│   сумма не изменится.                                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.9  ДИФФЕРЕНЦИАЛЬНЫЕ УРАВНЕНИЯ — УРАВНЕНИЯ С ПРОИЗВОДНЫМИ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ТАКОЕ ДИФФЕРЕНЦИАЛЬНОЕ УРАВНЕНИЕ                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Дифференциальное уравнение (ДУ) — уравнение, содержащее неизвестную         │
│ функцию y(x) и её производные y', y'', ...                                  │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • y' = ky         (экспоненциальный рост/распад)                          │
│   • y'' + y = 0     (гармонический осциллятор)                              │
│   • y' = y(1−y)     (логистический рост)                                    │
│                                                                             │
│ РЕШЕНИЕ ДУ — это функция y(x), удовлетворяющая уравнению.                  │
│                                                                             │
│ ПОРЯДОК ДУ — наивысшая производная в уравнении.                            │
│   y' = ky — первого порядка                                                 │
│   y'' + y = 0 — второго порядка                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССИФИКАЦИЯ                                                               │
├─────────────────────────┬───────────────────────────────────────────────────┤
│ ТИП                     │ ОПИСАНИЕ                                          │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ ОДУ (обыкновенное)      │ Одна независимая переменная: y(x)                 │
│                         │ Пример: y' = f(x, y)                              │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ УЧП (в частных произв.) │ Несколько независимых переменных: u(x,y,t)        │
│                         │ Пример: ∂u/∂t = α·∂²u/∂x² (теплопроводность)     │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Линейное                │ y и производные входят линейно                    │
│                         │ Пример: y'' + p(x)y' + q(x)y = f(x)               │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Нелинейное              │ y или производные в степени > 1, в произведениях  │
│                         │ Пример: y' = y², (y')² + y = 1                   │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Однородное              │ f(x) = 0 (правая часть равна нулю)                │
│ Неоднородное            │ f(x) ≠ 0                                          │
└─────────────────────────┴───────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАК САМОСТОЯТЕЛЬНО СОСТАВИТЬ ДИФФЕРЕНЦИАЛЬНОЕ УРАВНЕНИЕ                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Дифференциальные уравнения не падают с неба — они строятся из              │
│ физических принципов. Вот АЛГОРИТМ построения любого осмысленного ДУ:       │
│                                                                             │
│   ┌─────────────────────┐                                                   │
│   │   ФИЗИЧЕСКИЙ        │                                                   │
│   │   ОБЪЕКТ            │  →  Что изучаем?                                  │
│   └─────────┬───────────┘                                                   │
│             ↓                                                               │
│   ┌─────────────────────┐                                                   │
│   │   ФИЗИЧЕСКИЙ        │                                                   │
│   │   ПРОЦЕСС           │  →  Что происходит?                               │
│   └─────────┬───────────┘                                                   │
│             ↓                                                               │
│   ┌─────────────────────┐                                                   │
│   │   ЭЛЕМЕНТАРНЫЙ      │                                                   │
│   │   ОБЪЁМ             │  →  dx, dy, dz, dt                                │
│   └─────────┬───────────┘                                                   │
│             ↓                                                               │
│   ┌─────────────────────┐                                                   │
│   │   ЗАКОН             │                                                   │
│   │   СОХРАНЕНИЯ        │  →  Что не меняется?                              │
│   └─────────┬───────────┘                                                   │
│             ↓                                                               │
│   ┌─────────────────────┐                                                   │
│   │  ДИФФЕРЕНЦИАЛЬНОЕ   │                                                   │
│   │  УРАВНЕНИЕ          │  →  Математическая модель                         │
│   └─────────────────────┘                                                   │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРИМЕР: УРАВНЕНИЕ ТЕПЛОПРОВОДНОСТИ                                          │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ 1. ОБЪЕКТ: стержень                                                         │
│ 2. ПРОЦЕСС: распространение тепла вдоль стержня                            │
│ 3. ЭЛЕМЕНТАРНЫЙ ОБЪЁМ: dx — малый кусок стержня                            │
│ 4. ЗАКОН СОХРАНЕНИЯ: энергия (тепло, втекающее = тепло, вытекающее + накоп.)│
│                                                                             │
│   • Тепловой поток в точке x:     q(x) = −k · ∂T/∂x  (закон Фурье)         │
│   • Тепловой поток в точке x+dx:  q(x+dx) = −k · ∂T/∂x|_{x+dx}             │
│   • Накопление тепла в объёме:    ρc · ∂T/∂t · dx                          │
│   • Баланс:  q(x) − q(x+dx) = ρc · ∂T/∂t · dx                              │
│   • Разложение:  q(x+dx) ≈ q(x) + ∂q/∂x · dx                               │
│   • Результат:  −∂q/∂x = ρc · ∂T/∂t                                        │
│   • Подстановка:  k · ∂²T/∂x² = ρc · ∂T/∂t                                 │
│                                                                             │
│   Итог: ∂T/∂t = α · ∂²T/∂x²,  где α = k/(ρc) — температуропроводность      │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ВАЖНОЕ ЗАМЕЧАНИЕ                                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Практически любое ДУ, используемое в физике (Навье-Стокса, Максвелла,       │
│ уравнение диффузии), можно ТЕХНИЧЕСКИ решить даже в Excel!                  │
│                                                                             │
│ Каждой ячейке соответствует одно линейное уравнение, ссылающееся на          │
│ соседние ячейки. На границе заданы константы (граничные условия).           │
│                                                                             │
│ Это и есть суть ЧИСЛЕННЫХ МЕТОДОВ: заменить производные на разности,        │
│ непрерывное — на дискретное.                                                │
│                                                                             │
│ Подробнее о численных методах — см. П17.                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВАЖНЕЙШИЕ ДУ И ИХ РЕШЕНИЯ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ЭКСПОНЕНЦИАЛЬНЫЙ РОСТ/РАСПАД:                                            │
│    y' = ky                                                                  │
│    Решение: y = Ceᵏˣ                                                        │
│                                                                             │
│    Примеры: радиоактивный распад (k<0), рост популяции (k>0),               │
│             нагрев/охлаждение (закон Ньютона)                               │
│                                                                             │
│ 2. ГАРМОНИЧЕСКИЙ ОСЦИЛЛЯТОР:                                                │
│    y'' + ω²y = 0                                                            │
│    Решение: y = A·cos(ωx) + B·sin(ωx) = C·cos(ωx + φ)                      │
│                                                                             │
│    Примеры: маятник, пружина, колебания в цепях                             │
│                                                                             │
│ 3. ЗАТУХАЮЩИЕ КОЛЕБАНИЯ:                                                    │
│    y'' + 2γy' + ω²y = 0                                                     │
│    Характеристическое уравнение: λ² + 2γλ + ω² = 0                         │
│                                                                             │
│    • γ < ω: затухающие колебания (недодемпфирование)                        │
│    • γ = ω: критическое демпфирование                                       │
│    • γ > ω: апериодический режим (передемпфирование)                        │
│                                                                             │
│ 4. УРАВНЕНИЕ ТЕПЛОПРОВОДНОСТИ (УЧП):                                        │
│    ∂T/∂t = α·∂²T/∂x²                                                       │
│                                                                             │
│    Решение методом разделения переменных или Фурье-рядами                   │
│                                                                             │
│ 5. ВОЛНОВОЕ УРАВНЕНИЕ (УЧП):                                                │
│    ∂²u/∂t² = c²·∂²u/∂x²                                                    │
│                                                                             │
│    Решение: u = f(x−ct) + g(x+ct) (волны, бегущие влево и вправо)          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОДЫ РЕШЕНИЯ ОДУ ПЕРВОГО ПОРЯДКА                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. РАЗДЕЛЕНИЕ ПЕРЕМЕННЫХ:                                                   │
│    Если y' = f(x)g(y), то dy/g(y) = f(x)dx → интегрируем обе части         │
│                                                                             │
│    Пример: y' = xy                                                          │
│    dy/y = x dx → ln|y| = x²/2 + C → y = Aeˣ²/²                             │
│                                                                             │
│ 2. ЛИНЕЙНОЕ ОДУ 1-го ПОРЯДКА:                                               │
│    y' + p(x)y = q(x)                                                        │
│                                                                             │
│    Интегрирующий множитель: μ(x) = e^{∫p(x)dx}                              │
│    Решение: y = (1/μ)∫μq dx                                                │
│                                                                             │
│ 3. ОДНОРОДНОЕ УРАВНЕНИЕ:                                                    │
│    y' = f(y/x)                                                              │
│    Замена: v = y/x, тогда y = vx, y' = v + xv'                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НАЧАЛЬНЫЕ И КРАЕВЫЕ УСЛОВИЯ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Общее решение ДУ содержит произвольные константы.                           │
│ Чтобы найти конкретное решение, нужны дополнительные условия:               │
│                                                                             │
│ НАЧАЛЬНЫЕ УСЛОВИЯ (задача Коши):                                            │
│   Значения функции и производных в начальный момент                         │
│   y(0) = y₀, y'(0) = v₀, ...                                               │
│                                                                             │
│ КРАЕВЫЕ УСЛОВИЯ:                                                            │
│   Значения на границах области                                              │
│   y(a) = A, y(b) = B                                                        │
│                                                                             │
│ ТЕОРЕМА СУЩЕСТВОВАНИЯ И ЕДИНСТВЕННОСТИ (Пикара):                            │
│   Для y' = f(x,y), y(x₀) = y₀, если f непрерывна и удовлетворяет           │
│   условию Липшица по y, то решение существует и единственно.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОДЫ РЕШЕНИЯ ОДУ ВТОРОГО ПОРЯДКА                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЛИНЕЙНОЕ ОДУ 2-го ПОРЯДКА С ПОСТОЯННЫМИ КОЭФФИЦИЕНТАМИ:                     │
│   ay'' + by' + cy = f(x)                                                   │
│                                                                             │
│ ШАГ 1: Решаем ОДНОРОДНОЕ уравнение (f(x) = 0)                               │
│                                                                             │
│   Ищем решение вида y = eˡˣ. Подставляем:                                  │
│   a·λ²eˡˣ + b·λeˡˣ + c·eˡˣ = 0                                            │
│   eˡˣ(aλ² + bλ + c) = 0                                                   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ХАРАКТЕРИСТИЧЕСКОЕ УРАВНЕНИЕ:  aλ² + bλ + c = 0                        │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ОБЩЕЕ РЕШЕНИЕ ОДНОРОДНОГО в зависимости от корней λ₁, λ₂:                  │
│                                                                             │
│ ┌────────────────────┬──────────────────────────────────────────────────┐   │
│ │ ДИСКРИМИНАНТ       │ ОБЩЕЕ РЕШЕНИЕ                                    │   │
│ ├────────────────────┼──────────────────────────────────────────────────┤   │
│ │ D > 0              │ y = C₁eˡ¹ˣ + C₂eˡ²ˣ                             │   │
│ │ (два веществ.)     │ (λ₁ ≠ λ₂ — разные вещественные)                 │   │
│ ├────────────────────┼──────────────────────────────────────────────────┤   │
│ │ D = 0              │ y = (C₁ + C₂x)eˡˣ                               │   │
│ │ (один кратный)     │ (λ₁ = λ₂ = λ)                                   │   │
│ ├────────────────────┼──────────────────────────────────────────────────┤   │
│ │ D < 0              │ y = eᵅˣ(C₁cos(βx) + C₂sin(βx))                  │   │
│ │ (комплексные)      │ где λ = α ± iβ                                   │   │
│ └────────────────────┴──────────────────────────────────────────────────┘   │
│                                                                             │
│ ШАГ 2: Находим ЧАСТНОЕ решение неоднородного (метод вариации постоянных    │
│        или метод неопределённых коэффициентов)                              │
│                                                                             │
│ ШАГ 3: ОБЩЕЕ РЕШЕНИЕ = общее однородного + частное неоднородного            │
│                                                                             │
│ ПРИМЕР: y'' + 4y = 0                                                        │
│   λ² + 4 = 0 → λ = ±2i → y = C₁cos(2x) + C₂sin(2x)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРЕОБРАЗОВАНИЕ ЛАПЛАСА — МОЩНЫЙ ИНСТРУМЕНТ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ОПРЕДЕЛЕНИЕ:                                                            │ │
│ │                        ∞                                                │ │
│ │   ℒ{f(t)} = F(s) = ∫  e⁻ˢᵗ f(t) dt                                    │ │
│ │                       0                                                 │ │
│ │                                                                         │ │
│ │ Превращает функцию времени f(t) в функцию комплексной частоты F(s)     │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЗАЧЕМ НУЖНО:                                                                │
│   • Превращает ДУ в АЛГЕБРАИЧЕСКИЕ уравнения                               │
│   • Автоматически учитывает начальные условия                              │
│   • Идеально для линейных систем, теории управления                        │
│                                                                             │
│ КЛЮЧЕВОЕ СВОЙСТВО — ПРОИЗВОДНАЯ:                                            │
│   ℒ{f'(t)} = sF(s) − f(0)                                                  │
│   ℒ{f''(t)} = s²F(s) − sf(0) − f'(0)                                      │
│                                                                             │
│   Дифференцирование → умножение на s (плюс начальные условия)              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА ПРЕОБРАЗОВАНИЙ ЛАПЛАСА                                              │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ f(t)                            │ F(s) = ℒ{f(t)}                            │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ 1                               │ 1/s                                       │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ t                               │ 1/s²                                      │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ tⁿ                              │ n!/sⁿ⁺¹                                   │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ eᵃᵗ                             │ 1/(s−a)                                   │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ sin(ωt)                         │ ω/(s²+ω²)                                 │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ cos(ωt)                         │ s/(s²+ω²)                                 │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ eᵃᵗsin(ωt)                      │ ω/((s−a)²+ω²)                             │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ eᵃᵗcos(ωt)                      │ (s−a)/((s−a)²+ω²)                         │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ δ(t) (дельта-функция)           │ 1                                         │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ u(t) (единичный скачок)         │ 1/s                                       │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: РЕШЕНИЕ ДУ ПРЕОБРАЗОВАНИЕМ ЛАПЛАСА                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Задача: y'' + 4y = 0,  y(0) = 1,  y'(0) = 0                                │
│                                                                             │
│ Шаг 1: Применяем ℒ к обеим сторонам                                        │
│   ℒ{y''} + 4ℒ{y} = 0                                                      │
│   [s²Y(s) − sy(0) − y'(0)] + 4Y(s) = 0                                    │
│   [s²Y(s) − s·1 − 0] + 4Y(s) = 0                                          │
│                                                                             │
│ Шаг 2: Решаем алгебраическое уравнение                                      │
│   (s² + 4)Y(s) = s                                                         │
│   Y(s) = s/(s² + 4)                                                        │
│                                                                             │
│ Шаг 3: Обратное преобразование (по таблице)                                 │
│   Y(s) = s/(s² + 2²) → y(t) = cos(2t)                                     │
│                                                                             │
│ ОТВЕТ: y(t) = cos(2t)                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВОДНАЯ ТАБЛИЦА: ОСНОВНЫЕ УЧП МАТЕМАТИЧЕСКОЙ ФИЗИКИ                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────┬─────────────────┬─────────────────┬───────────────────┐   │
│ │ УРАВНЕНИЕ     │ ФОРМУЛА         │ ТИП             │ ФИЗИКА            │   │
│ ├───────────────┼─────────────────┼─────────────────┼───────────────────┤   │
│ │ Теплопров-ти  │ ∂u/∂t = α∇²u   │ Параболическое  │ Диффузия,         │   │
│ │               │                 │                 │ теплообмен        │   │
│ ├───────────────┼─────────────────┼─────────────────┼───────────────────┤   │
│ │ Волновое      │ ∂²u/∂t² = c²∇²u│ Гиперболическое │ Колебания,        │   │
│ │               │                 │                 │ волны, звук       │   │
│ ├───────────────┼─────────────────┼─────────────────┼───────────────────┤   │
│ │ Лапласа       │ ∇²u = 0        │ Эллиптическое   │ Стационарные      │   │
│ │               │                 │                 │ поля, потенциалы  │   │
│ ├───────────────┼─────────────────┼─────────────────┼───────────────────┤   │
│ │ Пуассона      │ ∇²u = f        │ Эллиптическое   │ Электростатика,   │   │
│ │               │                 │                 │ гравитация        │   │
│ ├───────────────┼─────────────────┼─────────────────┼───────────────────┤   │
│ │ Шрёдингера    │ iℏ∂ψ/∂t = Ĥψ   │ Параболическое  │ Квантовая         │   │
│ │               │                 │ (в t)           │ механика          │   │
│ ├───────────────┼─────────────────┼─────────────────┼───────────────────┤   │
│ │ Навье-Стокса  │ ∂v/∂t + (v·∇)v │ Нелинейное!     │ Гидродинамика     │   │
│ │               │ = −∇p/ρ + ν∇²v │                 │                   │   │
│ └───────────────┴─────────────────┴─────────────────┴───────────────────┘   │
│                                                                             │
│ КЛАССИФИКАЦИЯ ПО ХАРАКТЕРИСТИКАМ (для линейных 2-го порядка):               │
│                                                                             │
│ ┌───────────────────┬────────────────────┬──────────────────────────────┐   │
│ │ ТИП               │ ДИСКРИМИНАНТ       │ ПОВЕДЕНИЕ РЕШЕНИЙ            │   │
│ ├───────────────────┼────────────────────┼──────────────────────────────┤   │
│ │ Эллиптический     │ B² − 4AC < 0       │ Гладкие, макс. внутри       │   │
│ │ (Лаплас)          │ (нет вещ. хар-к)   │ Краевые задачи               │   │
│ ├───────────────────┼────────────────────┼──────────────────────────────┤   │
│ │ Параболический    │ B² − 4AC = 0       │ Сглаживание, диффузия       │   │
│ │ (Теплопроводн.)   │ (одна хар-ка)      │ Нач. + краевые условия       │   │
│ ├───────────────────┼────────────────────┼──────────────────────────────┤   │
│ │ Гиперболический   │ B² − 4AC > 0       │ Волны, разрывы сохраняются  │   │
│ │ (Волновое)        │ (две хар-ки)       │ Задача Коши                  │   │
│ └───────────────────┴────────────────────┴──────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
A13.10  РАВНОМЕРНАЯ СХОДИМОСТЬ — КЛЮЧЕВОЕ ПОНЯТИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОБЛЕМА: КОГДА МОЖНО ПЕРЕСТАВЛЯТЬ ПРЕДЕЛЫ?                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть fₙ(x) → f(x) при n → ∞. Верны ли равенства?                          │
│                                                                             │
│   lim ∫fₙ(x)dx  =?  ∫ lim fₙ(x) dx     (предел интеграла = интеграл предела)│
│   n→∞               n→∞                                                     │
│                                                                             │
│   lim fₙ'(x)    =?  (lim fₙ(x))'        (предел производных = производная)  │
│   n→∞               n→∞                                                     │
│                                                                             │
│ ОТВЕТ: В общем случае — НЕТ!                                               │
│                                                                             │
│ КОНТРПРИМЕР:                                                                │
│   fₙ(x) = xⁿ на [0,1]                                                      │
│   fₙ(x) → f(x) = { 0, если x < 1                                           │
│                  { 1, если x = 1                                           │
│   ∫₀¹ fₙ dx = 1/(n+1) → 0                                                  │
│   ∫₀¹ f dx  = 0       ✓ (совпало случайно)                                 │
│                                                                             │
│   Но f — разрывна, хотя все fₙ непрерывны!                                 │
│   Предел непрерывных функций НЕ обязан быть непрерывным.                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВА ТИПА СХОДИМОСТИ                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ПОТОЧЕЧНАЯ СХОДИМОСТЬ                                                   │ │
│ │ fₙ → f поточечно, если ∀x: lim fₙ(x) = f(x)                            │ │
│ │                           n→∞                                           │ │
│ │                                                                         │ │
│ │ Формально: ∀x ∀ε>0 ∃N(x,ε): n>N ⇒ |fₙ(x)−f(x)| < ε                    │ │
│ │                    ↑                                                    │ │
│ │            N зависит от x!                                              │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ РАВНОМЕРНАЯ СХОДИМОСТЬ                                                  │ │
│ │ fₙ ⇉ f равномерно, если сходимость "одинаково быстрая" для всех x      │ │
│ │                                                                         │ │
│ │ Формально: ∀ε>0 ∃N(ε): ∀x ∀n>N ⇒ |fₙ(x)−f(x)| < ε                     │ │
│ │                  ↑                                                      │ │
│ │          N НЕ зависит от x!                                             │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЭКВИВАЛЕНТНОЕ УСЛОВИЕ:                                                      │
│   fₙ ⇉ f  ⟺  sup|fₙ(x) − f(x)| → 0                                        │
│              x                                                              │
│                                                                             │
│ ВИЗУАЛЬНО:                                                                  │
│   Равномерная сходимость = график fₙ целиком попадает в ε-трубку           │
│   вокруг графика f (для достаточно больших n)                              │
│                                                                             │
│       f(x)+ε ─────────────────────────                                     │
│              ~~~~~~~~fₙ(x)~~~~~~~~~   ← fₙ внутри трубки                   │
│       f(x)   ═════════════════════════                                     │
│              ~~~~~~~~~~~~~~~~~~~~~~~~                                      │
│       f(x)−ε ─────────────────────────                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ РАВНОМЕРНАЯ СХОДИМОСТЬ ВАЖНА                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМЫ О ПЕРЕСТАНОВКЕ ПРЕДЕЛОВ:                                            │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Если fₙ ⇉ f РАВНОМЕРНО на [a,b]:                                       │ │
│ │                                                                         │ │
│ │ 1. ПРЕДЕЛ СОХРАНЯЕТ НЕПРЕРЫВНОСТЬ:                                      │ │
│ │    fₙ непрерывны ⇒ f непрерывна                                        │ │
│ │                                                                         │ │
│ │ 2. МОЖНО ПЕРЕСТАВЛЯТЬ ПРЕДЕЛ И ИНТЕГРАЛ:                                │ │
│ │    lim ∫fₙ dx = ∫ lim fₙ dx = ∫f dx                                    │ │
│ │    n→∞         n→∞                                                      │ │
│ │                                                                         │ │
│ │ 3. МОЖНО ПЕРЕСТАВЛЯТЬ ПРЕДЕЛ И ПРОИЗВОДНУЮ:                             │ │
│ │    Если fₙ' ⇉ g равномерно и fₙ(x₀) сходится, то f' = g               │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ БЕЗ равномерности эти утверждения ЛОЖНЫ!                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРИТЕРИЙ РАВНОМЕРНОЙ СХОДИМОСТИ РЯДОВ (признак Вейерштрасса)               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Пусть Σuₙ(x) — функциональный ряд.                                         │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ПРИЗНАК ВЕЙЕРШТРАССА (M-test):                                          │ │
│ │                                                                         │ │
│ │ Если существуют числа Mₙ ≥ 0 такие, что:                                │ │
│ │   1. |uₙ(x)| ≤ Mₙ для всех x                                           │ │
│ │   2. Σ Mₙ сходится (числовой ряд!)                                      │ │
│ │                                                                         │ │
│ │ Тогда Σuₙ(x) сходится РАВНОМЕРНО И АБСОЛЮТНО.                          │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: Ряд Σ xⁿ/n² на [−1, 1]                                             │
│   |xⁿ/n²| ≤ 1/n² = Mₙ                                                      │
│   Σ 1/n² сходится (p-ряд, p=2>1)                                           │
│   ⇒ ряд сходится равномерно на [−1, 1]                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СТЕПЕННЫЕ РЯДЫ И РАВНОМЕРНАЯ СХОДИМОСТЬ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Степенной ряд Σaₙxⁿ имеет РАДИУС СХОДИМОСТИ R:                             │
│   • |x| < R: ряд сходится абсолютно                                        │
│   • |x| > R: ряд расходится                                                │
│   • |x| = R: нужно проверять отдельно                                      │
│                                                                             │
│ ФОРМУЛА КОШИ-АДАМАРА:  1/R = lim sup ⁿ√|aₙ|                                │
│                              n→∞                                            │
│                                                                             │
│ КЛЮЧЕВОЙ ФАКТ:                                                              │
│   На любом отрезке [−r, r] с r < R степенной ряд                           │
│   сходится РАВНОМЕРНО.                                                      │
│                                                                             │
│   Поэтому можно почленно дифференцировать и интегрировать                   │
│   степенные ряды внутри круга сходимости!                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ДИНАМИКА БАКА-АККУМУЛЯТОРА                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Бак-аккумулятор горячей воды. Приток и отток меняются во времени.   │
│ Как меняется температура воды?                                              │
│                                                                             │
│           Gвх, Tвх                                                          │
│              ↓                                                              │
│         ╔═══════════╗                                                       │
│         ║           ║      V — объём бака                                   │
│         ║    T(t)   ║      T(t) — температура воды                          │
│         ║           ║      Gвх, Gвых — расходы (кг/с)                       │
│         ╚═══════════╝                                                       │
│              ↓                                                              │
│           Gвых, T                                                           │
│                                                                             │
│ УРАВНЕНИЕ ТЕПЛОВОГО БАЛАНСА:                                                │
│                                                                             │
│   ρVc · dT/dt = Gвх·c·(Tвх − T) + Qпотерь                                  │
│       ↑            ↑                  ↑                                     │
│   накопление    приток тепла      потери наружу                             │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРОИЗВОДНАЯ — ЭТО СКОРОСТЬ ИЗМЕНЕНИЯ:                                       │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   dT/dt = скорость изменения температуры [°C/с]                            │
│                                                                             │
│   • dT/dt > 0: бак нагревается                                             │
│   • dT/dt < 0: бак остывает                                                │
│   • dT/dt = 0: стационарный режим (температура постоянна)                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ИНТЕГРАЛ — ЭТО НАКОПЛЕНИЕ:                                                  │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Накопленное тепло за время [0, t]:                                       │
│                                                                             │
│   Q = ∫₀ᵗ Gвх·c·(Tвх − T) dτ     [Дж]                                      │
│                                                                             │
│   Если Gвх = 1 кг/с, Tвх = 80°C, T = 60°C, c = 4200 Дж/(кг·К):             │
│   За 1 час (3600 с): Q = 1 × 4200 × 20 × 3600 = 302 МДж                    │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ЧИСЛЕННЫЙ ПРИМЕР:                                                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   V = 1 м³, ρ = 1000 кг/м³, c = 4200 Дж/(кг·К)                             │
│   Gвх = 0.1 кг/с, Tвх = 90°C, начальная T₀ = 20°C                          │
│   Потери: Qпотерь = −100·(T − Tокр), Tокр = 20°C                           │
│                                                                             │
│   Постоянная времени: τ = ρVc / (Gвх·c + k) ≈ 4.2×10⁶ / (420 + 100)       │
│                      ≈ 8000 с ≈ 2.2 часа                                   │
│                                                                             │
│   За время τ температура достигает ~63% от установившегося значения!       │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Производная = мгновенная скорость изменения.                        │
│ Интеграл = накопленный эффект за время. Это язык тепловой динамики.         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Матанализ работает с функциями как с объектами. Но МНОЖЕСТВО ФУНКЦИЙ —
это тоже пространство, причём бесконечномерное! Можно ли на нём делать
линейную алгебру?

Можно. Ряды — это координаты функции в базисе {1, x, x², ...} или {eⁱⁿˣ}.
Это мост к функциональному анализу — линейной алгебре на пространствах функций.
───────────────────────────────────────────────────────────────────────────────

A14. РЯДЫ И ФУНКЦИОНАЛЬНЫЕ ПРОСТРАНСТВА — МОСТ К ФУНКАНАЛИЗУ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЯДЫ КАК ВЗГЛЯД НА ПРОСТРАНСТВО ФУНКЦИЙ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Функции образуют БЕСКОНЕЧНОМЕРНОЕ пространство. Ряды Фурье и Тейлора —     │
│ это КООРДИНАТЫ функции в этом пространстве относительно выбранного базиса. │
│                                                                             │
│   • Базис Тейлора: 1, x, x², x³, ... (степенные функции)                   │
│   • Базис Фурье:   eⁱⁿˣ = cos(nx) + i·sin(nx) (гармоники)                  │
│                                                                             │
│ Коэффициенты ряда = координаты функции = проекции на базисные векторы.     │
│ Это превращает анализ в ЛИНЕЙНУЮ АЛГЕБРУ бесконечной размерности.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ПРЕДВАРИТЕЛЬНОЕ ЗНАНИЕ: Для рядов Фурье используется базис eⁱⁿˣ.       │
│     Если не знаком с комплексными числами — см. сначала A11.                │
│     Там: формула Эйлера eⁱˣ = cos x + i sin x.                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТОТ РАЗДЕЛ ЗДЕСЬ                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Этот раздел — МОСТ между матанализом (A13) и функанализом (A15).           │
│                                                                             │
│ Ключевая идея: ФУНКЦИИ образуют ВЕКТОРНОЕ ПРОСТРАНСТВО!                    │
│ Эта мысль превращает анализ в линейную алгебру бесконечной размерности.    │
│                                                                             │
│ Ряды Тейлора и Фурье — это разложение функций по БАЗИСУ.                   │
│ Коэффициенты Фурье — это КООРДИНАТЫ функции в этом базисе.                 │
│                                                                             │
│ Понимание этого раздела делает функанализ (A15) естественным.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВОЕ ОТКРЫТИЕ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Функции образуют ВЕКТОРНОЕ ПРОСТРАНСТВО!                                    │
│                                                                             │
│   • Можно складывать: (f + g)(x) = f(x) + g(x)                              │
│   • Можно умножать на число: (cf)(x) = c·f(x)                               │
│   • Есть нулевой элемент: f(x) = 0                                          │
│                                                                             │
│ Значит ВСЯ линейная алгебра работает для функций!                           │
│   • Базис                                                                   │
│   • Разложение по базису                                                    │
│   • Скалярное произведение                                                  │
│   • Ортогональность                                                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОДИН ПАТТЕРН — ТРИ РЕАЛИЗАЦИИ                                               │
├─────────────────────────┬─────────────────────────┬─────────────────────────┤
│ КОНЕЧНОМЕРНОЕ           │ РЯД ТЕЙЛОРА             │ РЯД ФУРЬЕ               │
│ (обычные векторы)       │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Пространство ℝⁿ         │ Гладкие функции         │ Периодические функции   │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Базис: e₁, e₂, ..., eₙ  │ Базис: 1, x, x², x³,... │ Базис: eⁱⁿˣ (n ∈ ℤ)    │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Вектор v = Σ vᵢeᵢ       │ f(x) = Σ aₙxⁿ          │ f(x) = Σ cₙeⁱⁿˣ        │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Коэффициент vᵢ = v·eᵢ   │ aₙ = f⁽ⁿ⁾(0)/n!        │ cₙ = ⟨f, eⁱⁿˣ⟩         │
│ (скал. произведение)    │ (производная)           │ (интеграл!)             │
│                         │                         │                         │
├─────────────────────────┼─────────────────────────┼─────────────────────────┤
│                         │                         │                         │
│ Размерность: n          │ Размерность: ∞          │ Размерность: ∞          │
│                         │                         │                         │
└─────────────────────────┴─────────────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СКАЛЯРНОЕ ПРОИЗВЕДЕНИЕ ФУНКЦИЙ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для векторов: ⟨u, v⟩ = Σᵢ uᵢvᵢ                                              │
│                                                                             │
│ Для функций:  ⟨f, g⟩ = ∫ f(x)g̅(x) dx   ← сумма заменяется интегралом!      │
│                                                                             │
│ (Для комплексных функций берём сопряжённое g̅, чтобы ⟨f,f⟩ ≥ 0.)            │
│                                                                             │
│ Ортогональность: ⟨f, g⟩ = 0                                                 │
│                                                                             │
│ ВАЖНО: Это скалярное произведение превращает функции в ГИЛЬБЕРТОВО          │
│ пространство L² (см. A15). Вся конструкция рядов Фурье — это применение    │
│ ортогональных проекций в бесконечномерном гильбертовом пространстве.        │
│                                                                             │
│ ФАКТ: функции eⁱⁿˣ ОРТОГОНАЛЬНЫ друг другу!                                 │
│       ⟨eⁱᵐˣ, eⁱⁿˣ⟩ = ∫₋π^π eⁱ⁽ᵐ⁻ⁿ⁾ˣ dx = 0  при m ≠ n                      │
│                                                                             │
│ Поэтому коэффициенты Фурье находятся так же, как в конечномерном случае:    │
│   cₙ = ⟨f, eⁱⁿˣ⟩ / ⟨eⁱⁿˣ, eⁱⁿˣ⟩  (проекция на базисный вектор!)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СРАВНЕНИЕ: ЛОКАЛЬНОЕ vs ГЛОБАЛЬНОЕ                                          │
├─────────────────────────┬───────────────────────────────────────────────────┤
│ ТЕЙЛОР                  │ ФУРЬЕ                                             │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Разложение ОКОЛО ТОЧКИ  │ Разложение НА ВСЁМ ПЕРИОДЕ                        │
│ (локальная информация)  │ (глобальная информация)                           │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Коэффициенты из         │ Коэффициенты из                                   │
│ ПРОИЗВОДНЫХ в точке     │ ИНТЕГРАЛОВ по периоду                             │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Требует бесконечную     │ Работает даже для                                 │
│ дифференцируемость      │ разрывных функций!                                │
├─────────────────────────┼───────────────────────────────────────────────────┤
│ Применение:             │ Применение:                                       │
│ • Приближённые вычисл.  │ • Анализ сигналов                                 │
│ • Анализ поведения      │ • Обработка звука/изобр.                          │
│ • Решение ДУ рядами     │ • Сжатие (JPEG, MP3)                              │
└─────────────────────────┴───────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: ПУЛЬСАЦИИ ДАВЛЕНИЯ В ТРУБОПРОВОДЕ                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Насос создаёт пульсации давления. Датчик снимает сигнал p(t).       │
│ Вопрос: какие частоты присутствуют? Есть ли резонанс с трубой?              │
│                                                                             │
│ СИГНАЛ С ДАТЧИКА (условно):                                                 │
│                                                                             │
│   p(t) │    ╱╲    ╱╲    ╱╲    ╱╲                                           │
│        │   ╱  ╲  ╱  ╲  ╱  ╲  ╱  ╲   ← основная частота насоса              │
│        │  ╱~~~~╲╱~~~~╲╱~~~~╲╱~~~~╲  ← "рябь" на пиках                      │
│        │──────────────────────────→ t                                       │
│                                                                             │
│ РАЗЛОЖЕНИЕ ФУРЬЕ:                                                           │
│                                                                             │
│   p(t) = p₀ + A₁sin(ωt) + A₂sin(2ωt) + A₃sin(3ωt) + ...                   │
│                                                                             │
│   • p₀ = среднее давление (постоянная составляющая)                        │
│   • ω = частота вращения насоса (основная гармоника)                       │
│   • 2ω, 3ω, ... = высшие гармоники ("рябь")                                │
│                                                                             │
│ СПЕКТР (амплитуды):                                                         │
│                                                                             │
│   |Aₙ| │ █                                                                  │
│        │ █                                                                  │
│        │ █  █                                                               │
│        │ █  █  █                                                            │
│        │ █  █  █  █                                                         │
│        │─────────────────→ n (номер гармоники)                              │
│          1  2  3  4                                                         │
│                                                                             │
│ ЧТО ДАЁТ СПЕКТР:                                                            │
│   • Пик на частоте 47 Гц → это частота вращения вала насоса                │
│   • Пик на 94 Гц (2×47) → двухлопастное колесо                             │
│   • Неожиданный пик на 120 Гц → резонанс с собственной частотой трубы!     │
│                                                                             │
│ ВЫВОД: Фурье превращает "кашу" во времени в ЧЁТКУЮ картину по частотам.    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМУЛЫ (для вычислений)                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕЙЛОР около a:                                                             │
│   f(x) = f(a) + f'(a)(x−a) + f''(a)(x−a)²/2! + f'''(a)(x−a)³/3! + ...      │
│                                                                             │
│ ВАЖНЫЕ РЯДЫ (a = 0):                                                        │
│   eˣ = 1 + x + x²/2! + x³/3! + ...                                          │
│   sin x = x − x³/3! + x⁵/5! − ...                                           │
│   cos x = 1 − x²/2! + x⁴/4! − ...                                           │
│   1/(1−x) = 1 + x + x² + x³ + ...  (|x| < 1)                                │
│                                                                             │
│ ФУРЬЕ:                                                                      │
│   f(x) = Σₙ cₙ eⁱⁿˣ,  где  cₙ = (1/2π) ∫₋π^π f(x) e⁻ⁱⁿˣ dx                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАГИЯ ФУРЬЕ: СВЁРТКА ↔ УМНОЖЕНИЕ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СВЁРТКА (convolution) — важнейшая операция в обработке сигналов:            │
│                                                                             │
│   (f ∗ g)(t) = ∫ f(τ) g(t − τ) dτ                                          │
│                                                                             │
│ СМЫСЛ: "размазывание" функции f с "ядром" g                                 │
│   • Фильтрация сигналов                                                     │
│   • Сглаживание (гауссово размытие)                                         │
│   • Отклик линейной системы                                                 │
│                                                                             │
│ ПРОБЛЕМА: Свёртка — сложная операция (интеграл по всем сдвигам)             │
│                                                                             │
│ ТЕОРЕМА О СВЁРТКЕ:                                                          │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   F[f ∗ g] = F[f] · F[g]                                                │ │
│ │                                                                         │ │
│ │   Преобразование Фурье превращает свёртку в УМНОЖЕНИЕ!                  │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│   ВРЕМЕННА́Я ОБЛАСТЬ              ЧАСТОТНАЯ ОБЛАСТЬ                         │
│   (сложно)                        (просто)                                  │
│                                                                             │
│      f(t), g(t)      ──F──→       F(ω), G(ω)                               │
│          │                            │                                     │
│          │ свёртка                    │ умножение                           │
│          ↓                            ↓                                     │
│      (f ∗ g)(t)      ←─F⁻¹─      F(ω) · G(ω)                               │
│                                                                             │
│ ПРАКТИЧЕСКОЕ ЗНАЧЕНИЕ:                                                      │
│   Вместо сложного интеграла (O(n²)) делаем:                                 │
│   1. БПФ входа       — O(n log n)                                           │
│   2. Умножение       — O(n)                                                 │
│   3. Обратное БПФ    — O(n log n)                                           │
│   Итого: O(n log n) вместо O(n²) — огромный выигрыш!                        │
│                                                                             │
│ ПРИМЕРЫ ПРИМЕНЕНИЯ:                                                         │
│   • Обработка изображений (фильтры в Photoshop)                             │
│   • Распознавание речи                                                      │
│   • Решение дифференциальных уравнений                                      │
│   • Нейросети (свёрточные слои)                                             │
│   • Умножение больших чисел (алгоритм Шёнхаге-Штрассена)                    │
│                                                                             │
│ ОБРАТНАЯ ТЕОРЕМА:                                                           │
│   F[f · g] = F[f] ∗ F[g]    (умножение ↔ свёртка в обратную сторону)        │
│                                                                             │
│ ГЛУБИННЫЙ СМЫСЛ:                                                            │
│   Преобразование Фурье — это ИЗОМОРФИЗМ между двумя алгебрами:              │
│   (функции, свёртка) ≅ (функции, умножение)                                 │
│   Сложная структура в одном мире = простая в другом!                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КУДА ВЕДЁТ                                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ: изучение бесконечномерных пространств функций        │
│   Гильбертово пространство L² = {f: ∫|f|² < ∞} со скал. произведением       │
│                                                                             │
│ КВАНТОВАЯ МЕХАНИКА: состояние ψ ∈ L², наблюдаемые — операторы               │
│   Разложение ψ по собственным функциям = суперпозиция состояний             │
│                                                                             │
│ ОБРАБОТКА СИГНАЛОВ: БПФ (быстрое преобразование Фурье)                      │
│   O(n log n) вместо O(n²) — революция в вычислениях                         │
│                                                                             │
│ ТЕОРИЯ ПРЕДСТАВЛЕНИЙ: базис eⁱⁿˣ = представление группы U(1)!               │
│   Обобщение на другие группы → гармонический анализ                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Ряды показали: функции — это точки бесконечномерного пространства.
Теперь нужна ТЕОРИЯ таких пространств. Что значит "норма функции"?
Когда ряд сходится? Какие операторы непрерывны?

Функциональный анализ — это линейная алгебра в бесконечной размерности.
Всё то же (нормы, скалярные произведения, проекции), но с новыми эффектами.
───────────────────────────────────────────────────────────────────────────────

A15. ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ — БЕСКОНЕЧНОМЕРНЫЕ ПРОСТРАНСТВА
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ ИДЕЯ: ФУНКЦИИ — ЭТО "ТОЧКИ" В БЕСКОНЕЧНОМЕРНОМ ПРОСТРАНСТВЕ         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Этот раздел — НЕ про новые формулы. Он про СМЕНУ ТОЧКИ ЗРЕНИЯ.             │
│                                                                             │
│ В школе: функция f(x) = x² — это "правило", формула, график.               │
│                                                                             │
│ Новый взгляд: функция f — это ТОЧКА в пространстве всех функций.           │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ АНАЛОГИЯ: КОНЕЧНОЕ → БЕСКОНЕЧНОЕ                                            │
│                                                                             │
│   В ℝ³ точка задаётся 3 координатами:                                       │
│                                                                             │
│       v = (v₁, v₂, v₃)    — три числа определяют вектор                    │
│                                                                             │
│   Функция f на [0,1] задаётся БЕСКОНЕЧНО МНОГИМИ координатами:              │
│                                                                             │
│       f = (f(0), f(0.01), f(0.02), ..., f(0.99), f(1))                     │
│                                                                             │
│   Каждое значение f(t) — это "координата" функции в "направлении t".       │
│                                                                             │
│       y                                                                     │
│       ↑     ╭──╮                                                           │
│       │    ╱    ╲                                                          │
│       │   ╱      ╲                                                         │
│       │  ╱        ╲     f(t)                                               │
│       │ ╱          ╲                                                       │
│       └─────────────────→ t                                                 │
│         0    0.5    1                                                       │
│                                                                             │
│   Эта кривая — НЕ график. Это ОДНА ТОЧКА f в бесконечномерном пространстве!│
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ПОЧЕМУ ЭТО ПОЛЕЗНО                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если функции — точки пространства, то:                                      │
│                                                                             │
│   ┌────────────────────────┬──────────────────────────────────────────────┐ │
│   │ КОНЕЧНОМЕРНОЕ          │ БЕСКОНЕЧНОМЕРНОЕ (функции)                   │ │
│   ├────────────────────────┼──────────────────────────────────────────────┤ │
│   │ Вектор v ∈ ℝⁿ          │ Функция f ∈ L²                              │ │
│   │ Длина ‖v‖ = √(Σvᵢ²)    │ Норма ‖f‖ = √(∫|f|²dx)                      │ │
│   │ Расстояние ‖v−w‖       │ Расстояние ‖f−g‖ между функциями            │ │
│   │ Угол cos θ = (v·w)/‖v‖‖w‖ │ "Угол" через ⟨f,g⟩ = ∫fg dx            │ │
│   │ Ортогональность v⊥w    │ Ортогональность ⟨f,g⟩ = 0                  │ │
│   │ Базис {e₁,...,eₙ}      │ Базис {sin(nx), cos(nx)} или {eⁱⁿˣ}        │ │
│   │ Разложение v = Σvᵢeᵢ   │ Ряд Фурье f = Σcₙeⁱⁿˣ                      │ │
│   │ Проекция на подпр-во   │ Наилучшее приближение (МНК!)                │ │
│   │ Линейный оператор A    │ Дифференциальный оператор d/dx             │ │
│   │ Собственные значения   │ Спектр оператора (резонансы!)               │ │
│   └────────────────────────┴──────────────────────────────────────────────┘ │
│                                                                             │
│ ВСЯ линейная алгебра работает для функций!                                  │
│ Но есть тонкости: бесконечность создаёт новые эффекты (см. ⚠️ ниже).       │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚠️  ЛОВУШКИ БЕСКОНЕЧНОМЕРНОСТИ — ГДЕ ИНТУИЦИЯ ИЗ ℝⁿ ЛОМАЕТСЯ               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────────────────┬────────────────────┬───────────────────────┐ │
│ │ СВОЙСТВО                   │ В ℝⁿ               │ В L² / ℓ²             │ │
│ ├────────────────────────────┼────────────────────┼───────────────────────┤ │
│ │ Замкнутый шар              │ КОМПАКТЕН          │ НЕ компактен!         │ │
│ │ {‖x‖ ≤ 1}                  │ (Гейне-Борель)     │ (бесконечная посл-ть  │ │
│ │                            │                    │  без сход. подпосл.)  │ │
│ ├────────────────────────────┼────────────────────┼───────────────────────┤ │
│ │ Все нормы                  │ ЭКВИВАЛЕНТНЫ       │ НЕ эквивалентны!      │ │
│ │                            │                    │ ‖f‖₁ ≠ ‖f‖₂ ≠ ‖f‖_∞  │ │
│ ├────────────────────────────┼────────────────────┼───────────────────────┤ │
│ │ Сходимость xₙ → x          │ По любой норме     │ Разные сходимости!    │ │
│ │                            │ одинаково          │ Поточечная ≠ по норме │ │
│ ├────────────────────────────┼────────────────────┼───────────────────────┤ │
│ │ Ортогональный базис        │ КОНЕЧНЫЙ           │ Счётный или несчётный │ │
│ │                            │                    │ (sin, cos, ... )      │ │
│ ├────────────────────────────┼────────────────────┼───────────────────────┤ │
│ │ Оператор с собств. знач.   │ Диагонализуется    │ Может не иметь собств.│ │
│ │                            │ (для симм.)        │ векторов! Спектр ≠ с.з.│ │
│ └────────────────────────────┴────────────────────┴───────────────────────┘ │
│                                                                             │
│ ГЛАВНАЯ МЫСЛЬ: В бесконечномерном пространстве много "свободы", и          │
│ патологии, невозможные в ℝⁿ, становятся нормой. Функанализ учит            │
│ распознавать, КОГДА конечномерная интуиция работает, а когда — нет.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.1  ЗАЧЕМ НУЖЕН ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Линейная алгебра (A3) работает с ℝⁿ — конечномерными пространствами.       │
│ Но пространства ФУНКЦИЙ бесконечномерны!                                    │
│                                                                             │
│ Функциональный анализ = линейная алгебра + анализ + топология               │
│                         для БЕСКОНЕЧНОМЕРНЫХ пространств                    │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│   • Квантовая механика (состояния = векторы в L²)                          │
│   • Дифференциальные уравнения (операторные методы)                         │
│   • Обработка сигналов (преобразование Фурье)                              │
│   • Машинное обучение (ядерные методы, RKHS)                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.2  ИЕРАРХИЯ ПРОСТРАНСТВ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                                                                     │   │
│   │  Векторное пространство                                             │   │
│   │         │                                                           │   │
│   │         │ + норма ‖·‖                                               │   │
│   │         ▼                                                           │   │
│   │  Нормированное пространство                                         │   │
│   │         │                                                           │   │
│   │         │ + полнота (все Коши сходятся)                             │   │
│   │         ▼                                                           │   │
│   │  БАНАХОВО ПРОСТРАНСТВО                                              │   │
│   │         │                                                           │   │
│   │         │ + норма из скал. произведения: ‖x‖ = √⟨x,x⟩               │   │
│   │         ▼                                                           │   │
│   │  ГИЛЬБЕРТОВО ПРОСТРАНСТВО                                           │   │
│   │                                                                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  КРИТИЧЕСКОЕ ОТЛИЧИЕ ОТ КОНЕЧНОМЕРНОГО СЛУЧАЯ                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В ℝⁿ: X компактно ⟺ X замкнуто И ограничено (теорема Гейне-Бореля)        │
│                                                                             │
│ В БЕСКОНЕЧНОМЕРНОМ ПРОСТРАНСТВЕ ЭТО НЕВЕРНО!                                │
│                                                                             │
│   Единичный шар B = {f ∈ L² : ‖f‖ ≤ 1}:                                    │
│     • Замкнут ✓                                                             │
│     • Ограничен ✓                                                           │
│     • НЕ КОМПАКТЕН! ✗                                                       │
│                                                                             │
│ ПОЧЕМУ: последовательность eₙ = (0,...,0,1,0,...) с единицей на n-м месте   │
│ лежит в единичном шаре, но не имеет сходящейся подпоследовательности       │
│ (‖eₙ − eₘ‖ = √2 для n ≠ m).                                                │
│                                                                             │
│ СЛЕДСТВИЕ ДЛЯ ИНЖЕНЕРА:                                                     │
│   • В ℝⁿ: минимум непрерывной функции на компакте ДОСТИГАЕТСЯ              │
│   • В L²: минимум функционала может НЕ достигаться на замкн. огранич.      │
│   • Поэтому PDE сложнее ODE: нужны специальные методы (слабые решения)     │
│                                                                             │
│ КОМПАКТНОСТЬ В БЕСКОНЕЧНОМЕРНОМ СЛУЧАЕ:                                     │
│   Нужны дополнительные условия — например, равностепенная непрерывность    │
│   (теорема Арцела-Асколи) или слабая компактность.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.3  НОРМА — ОБОБЩЕНИЕ ДЛИНЫ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Норма ‖·‖: V → ℝ должна удовлетворять:                                     │
│                                                                             │
│ ┌─────────────────────────┬─────────────────────────────────────────────┐   │
│ │ АКСИОМА                 │ СМЫСЛ                                       │   │
│ ├─────────────────────────┼─────────────────────────────────────────────┤   │
│ │ ‖x‖ ≥ 0                 │ Длина неотрицательна                        │   │
│ │ ‖x‖ = 0 ⟺ x = 0        │ Только нулевой вектор имеет нулевую длину   │   │
│ │ ‖αx‖ = |α|·‖x‖          │ Масштабирование                             │   │
│ │ ‖x+y‖ ≤ ‖x‖+‖y‖         │ Неравенство треугольника                    │   │
│ └─────────────────────────┴─────────────────────────────────────────────┘   │
│                                                                             │
│ Норма порождает МЕТРИКУ: d(x,y) = ‖x−y‖                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.4  ПРИМЕРЫ НОРМ И ПРОСТРАНСТВ                                           │
├───────────────────┬─────────────────────────┬───────────────────────────────┤
│ ПРОСТРАНСТВО      │ НОРМА                   │ ПОЛНОТА                       │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ ℝⁿ                │ ‖x‖₂ = √(Σxᵢ²)          │ Да (Банахово и Гильбертово)   │
│ (евклидова)       │                         │                               │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ ℝⁿ                │ ‖x‖₁ = Σ|xᵢ|            │ Да (Банахово)                 │
│ (манхэттенская)   │                         │                               │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ ℝⁿ                │ ‖x‖_∞ = max|xᵢ|         │ Да (Банахово)                 │
│ (sup-норма)       │                         │                               │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ C[a,b]            │ ‖f‖_∞ = max|f(x)|       │ Да (Банахово)                 │
│ (непр. функции)   │                         │                               │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ Lᵖ[a,b]           │ ‖f‖_p = (∫|f|ᵖ)^(1/p)   │ Да (Банахово)                 │
│ (1 ≤ p < ∞)       │                         │ При p=2: Гильбертово          │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ L²[a,b]           │ ‖f‖₂ = √(∫|f|²)         │ Да (Гильбертово!)             │
│ (квадр. интегр.)  │ ⟨f,g⟩ = ∫f·g̅           │ Главное в квант. механике     │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ ℓ² (посл-сти)     │ ‖x‖ = √(Σ|xₙ|²)         │ Да (Гильбертово)              │
│                   │                         │ Бесконечномерный аналог ℝⁿ    │
└───────────────────┴─────────────────────────┴───────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ВАЖНО: ЭЛЕМЕНТЫ Lᵖ — ЭТО НЕ ФУНКЦИИ!                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Элементы Lᵖ — это КЛАССЫ ЭКВИВАЛЕНТНОСТИ функций.                          │
│ Две функции f и g эквивалентны, если f = g почти всюду                      │
│ (т.е. отличаются лишь на множестве меры нуль).                              │
│                                                                             │
│ СЛЕДСТВИЕ: Для f ∈ L² значение f(x₀) в конкретной точке НЕ ОПРЕДЕЛЕНО!     │
│                                                                             │
│   • Можно изменить f в одной точке — это та же функция в L²                │
│   • "f(0) = 3" не имеет смысла для элемента L²                             │
│   • Интеграл ∫f определён, а значение f(x) — нет!                          │
│                                                                             │
│ КОГДА МОЖНО ГОВОРИТЬ О ЗНАЧЕНИЯХ:                                           │
│   • Если f непрерывна (тогда есть единственный непрерывный представитель)   │
│   • Через теоремы вложения (Соболева): W^{1,p} ⊂ C при p > n               │
│                                                                             │
│ ГДЕ ЭТО КРИТИЧНО:                                                           │
│   • Граничные условия в PDE: u|_{∂Ω} = g требует "следа" функции           │
│   • Дельта-функция δ(x−a) "выбирает" значение — но это не f(a)!            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЕДИНИЧНЫЙ ШАР — "ПОРТРЕТ" НОРМЫ                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Единичный шар B = {x : ‖x‖ ≤ 1} показывает ГЕОМЕТРИЮ нормы.                │
│ Форма шара определяет, что норма считает "близким к нулю".                  │
│                                                                             │
│   L¹ (манхэттенская)       L² (евклидова)        L∞ (sup-норма)            │
│   ‖x‖₁ = |x| + |y|         ‖x‖₂ = √(x²+y²)       ‖x‖_∞ = max(|x|,|y|)      │
│                                                                             │
│          ◆                      ●●●                  ■■■■■■■                │
│         ◆ ◆                   ●●   ●●                ■     ■                │
│        ◆   ◆                 ●       ●               ■     ■                │
│       ◆     ◆               ●         ●              ■     ■                │
│      ◆───────◆             ●───────────●            ■───────■               │
│       ◆     ◆               ●         ●              ■     ■                │
│        ◆   ◆                 ●       ●               ■     ■                │
│         ◆ ◆                   ●●   ●●                ■     ■                │
│          ◆                      ●●●                  ■■■■■■■                │
│                                                                             │
│      РОМБ                      КРУГ                   КВАДРАТ               │
│   "Такси в Манхэттене"     "Обычное расст."      "Шахматный король"         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИНТЕРПРЕТАЦИЯ:                                                              │
│                                                                             │
│   • L¹: "Сколько кварталов пройти?" — сумма отклонений по осям              │
│         Точки (1,0), (0,1), (0.5, 0.5) равноудалены от нуля!               │
│                                                                             │
│   • L²: "Как ворона летит" — привычное евклидово расстояние                │
│         Пифагор: диагональ √2, а не 2                                       │
│                                                                             │
│   • L∞: "Худший случай" — максимальное отклонение по любой оси             │
│         Точки (1,0), (1,1), (1, 0.5) равноудалены от нуля!                 │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОБЩИЙ СЛУЧАЙ Lᵖ:  ‖x‖_p = (|x|ᵖ + |y|ᵖ)^(1/p)                              │
│                                                                             │
│   p = 1:   ромб (острые углы)                                               │
│   p = 2:   круг                                                             │
│   p → ∞:  квадрат                                                           │
│                                                                             │
│   При увеличении p шар "надувается" от ромба к квадрату через круг!        │
│                                                                             │
│ ПРИМЕНЕНИЕ:                                                                 │
│   • L¹ в оптимизации: даёт РАЗРЕЖЕННЫЕ решения (LASSO регрессия)           │
│   • L² в физике: энергия, наименьшие квадраты                               │
│   • L∞ в инженерии: контроль максимального отклонения                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.5  ПОЛНОТА — КЛЮЧЕВОЕ СВОЙСТВО                                          │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ПОНЯТИЕ                     │ ОПРЕДЕЛЕНИЕ / ПРИМЕР                          │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Фундаментальная (Коши)      │ ∀ε>0 ∃N: m,n>N ⇒ ‖xₘ−xₙ‖<ε                  │
│ последовательность          │ "Члены сближаются друг с другом"              │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Полное пространство         │ Всякая фунд. посл-ть сходится В этом пр-ве    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Пример неполноты            │ ℚ: посл-ть 3, 3.1, 3.14, 3.141... → π ∉ ℚ   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Пополнение                  │ ℚ → ℝ (добавили все пределы)                 │
│                             │ C[0,1] с ‖·‖₂ → L²[0,1]                      │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖНА ПОЛНОТА                                                         │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ ПРИМЕНЕНИЕ                      │ ПОЧЕМУ НУЖНА ПОЛНОТА                      │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Метод итераций xₙ₊₁ = f(xₙ)     │ Гарантия, что предел существует           │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Ряды Фурье                      │ Σcₙeⁱⁿˣ сходится в L², не поточечно      │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Теорема Банаха о неподв. точке  │ Сжатие в полном пр-ве имеет неподв. точку │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Решение ДУ методом Пикара       │ Итерации сходятся к решению               │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ПОЛНОТА vs ЗАМКНУТОСТЬ — НЕ ПУТАТЬ!                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАМКНУТОСТЬ — свойство ПОДМНОЖЕСТВА (внутри какого-то пространства)         │
│ ПОЛНОТА — свойство ПРОСТРАНСТВА (самого по себе)                            │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ КЛЮЧЕВОЙ ПРИМЕР: ℚ (рациональные числа)                                │ │
│ │                                                                         │ │
│ │   • ℚ ЗАМКНУТО В СЕБЕ (как топол. пространство)                        │ │
│ │   • ℚ НЕ ПОЛНО! (посл-ть 3, 3.1, 3.14... → π ∉ ℚ)                     │ │
│ │                                                                         │ │
│ │ Замкнутость говорит: "содержит все свои предельные точки"               │ │
│ │ Но если предельная точка не существует в пространстве — не считается!  │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СВЯЗЬ:                                                                      │
│   • Замкнутое подмножество ПОЛНОГО пространства — полно                     │
│   • Полное подмножество метрического пространства — замкнуто               │
│                                                                             │
│ ПРИМЕР ДЛЯ ИНЖЕНЕРА:                                                        │
│   Пространство C[0,1] с нормой ‖f‖₂ = √∫|f|² — НЕ полно!                  │
│   Предел может быть разрывной функцией (не в C[0,1]).                      │
│   Пополнение: L²[0,1] — уже полное (с интегралом Лебега).                  │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   С интегралом Римана пространство функций "дырявое", как ℚ.               │
│   L² полно ТОЛЬКО с интегралом Лебега — поэтому Лебег и нужен!             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.6  ГИЛЬБЕРТОВО ПРОСТРАНСТВО                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ Определение: Банахово + норма из скалярного произведения ‖x‖ = √⟨x,x⟩      │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ СВОЙСТВО                    │ СЛЕДСТВИЕ                                     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Есть скал. произведение ⟨·,·⟩│ Можно говорить об углах, ортогональности    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Теорема Пифагора            │ x⊥y ⇒ ‖x+y‖² = ‖x‖² + ‖y‖²                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Ортогональное дополнение    │ H = M ⊕ M⊥ для замкнутого M                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Ортонормированный базис     │ x = Σₙ⟨x,eₙ⟩eₙ (обобщённый ряд Фурье)        │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Теорема Рисса-Фреше         │ Любой функционал f(x) = ⟨x,y⟩ для единств. y │
│                             │ Следствие: H ≅ H* (изоморфно двойственному)  │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.7  ОПЕРАТОРЫ В ГИЛЬБЕРТОВОМ ПРОСТРАНСТВЕ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│ Оператор T: H → H линеен, если T(αx+βy) = αTx + βTy                        │
├───────────────────┬─────────────────────────┬───────────────────────────────┤
│ ТИП               │ ОПРЕДЕЛЕНИЕ             │ СВОЙСТВА                      │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ Ограниченный      │ ‖Tx‖ ≤ C‖x‖ для всех x  │ ⟺ непрерывный                │
│                   │ ‖T‖ = sup{‖Tx‖: ‖x‖=1} │ Норма оператора               │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ Компактный        │ Образ огр. мн-ва        │ "Почти конечномерный"         │
│                   │ предкомпактен           │ Спектр дискретен + 0          │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ Самосопряжённый   │ ⟨Tx,y⟩ = ⟨x,Ty⟩         │ Собств. знач. вещественны     │
│ (T* = T)          │                         │ Собств. векторы ортогональны  │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ Унитарный         │ ⟨Ux,Uy⟩ = ⟨x,y⟩         │ Сохраняет норму и углы        │
│ (U*U = I)         │                         │ |λ| = 1 для собств. знач.     │
├───────────────────┼─────────────────────────┼───────────────────────────────┤
│ Проектор          │ P² = P                  │ Если P*=P: ортогональный      │
│                   │                         │ Проекция на подпространство   │
└───────────────────┴─────────────────────────┴───────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.8  СПЕКТРАЛЬНАЯ ТЕОРИЯ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│ Спектр: σ(T) = {λ∈ℂ: (T−λI) необратим}                                     │
├───────────────────┬─────────────────────────────────────────────────────────┤
│ ЧАСТЬ СПЕКТРА     │ ОПРЕДЕЛЕНИЕ                                             │
├───────────────────┼─────────────────────────────────────────────────────────┤
│ Точечный σₚ       │ λ — собственное значение: ∃x≠0: Tx=λx                   │
├───────────────────┼─────────────────────────────────────────────────────────┤
│ Непрерывный σ_c   │ (T−λI) инъективен, образ плотен, но не замкнут          │
├───────────────────┼─────────────────────────────────────────────────────────┤
│ Остаточный σ_r    │ (T−λI) инъективен, образ не плотен                      │
└───────────────────┴─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️ ПОЧЕМУ СПЕКТР ≠ СОБСТВЕННЫЕ ЗНАЧЕНИЯ (конкретный пример)                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В конечномерном случае (матрицы) спектр = собственные значения.             │
│ В бесконечномерном случае это НЕВЕРНО!                                      │
│                                                                             │
│ ПРИМЕР: Оператор сдвига вправо на ℓ²                                        │
│                                                                             │
│   S: (x₁, x₂, x₃, ...) ↦ (0, x₁, x₂, x₃, ...)                              │
│                                                                             │
│ СОБСТВЕННЫЕ ЗНАЧЕНИЯ: НЕТ ни одного!                                        │
│   Пусть Sx = λx. Тогда (0, x₁, x₂, ...) = (λx₁, λx₂, λx₃, ...)             │
│   Из первой компоненты: 0 = λx₁                                            │
│   Если λ ≠ 0, то x₁ = 0, значит x₂ = 0, ..., x = 0. Противоречие.          │
│   Если λ = 0, то (0, x₁, x₂, ...) = 0, значит x = 0. Противоречие.         │
│                                                                             │
│ СПЕКТР: σ(S) = {λ : |λ| ≤ 1} — весь единичный диск!                        │
│   Потому что (S − λI) необратим для всех |λ| ≤ 1.                          │
│   При |λ| < 1: образ не плотен (непрерывный спектр).                       │
│   При |λ| = 1: тоже необратим.                                              │
│                                                                             │
│ МОРАЛЬ: В бесконечномерном пространстве оператор может быть необратим      │
│ НЕ из-за собственных векторов, а из-за "почти собственных" направлений.    │
│                                                                             │
│ Это критично в квантовой механике: спектр энергии частицы в потенциале     │
│ может быть непрерывным (свободная частица) или дискретным (атом).          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СПЕКТРАЛЬНАЯ ТЕОРЕМА (для самосопр. компактного оператора)                  │
├─────────────────────────────────┬───────────────────────────────────────────┤
│ УТВЕРЖДЕНИЕ                     │ СЛЕДСТВИЕ                                 │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Спектр = веществ. собств. знач. │ Все λₙ ∈ ℝ                                │
│ + возможно 0                    │                                           │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ Собств. векторы — ортонорм.     │ {eₙ} — базис в H                          │
│ базис                           │                                           │
├─────────────────────────────────┼───────────────────────────────────────────┤
│ T = Σₙλₙ⟨·,eₙ⟩eₙ                │ Разложение оператора по собств. векторам  │
└─────────────────────────────────┴───────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С КВАНТОВОЙ МЕХАНИКОЙ                                                 │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ КВАНТОВАЯ МЕХАНИКА          │ ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ                         │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Состояние системы           │ Вектор ψ ∈ H, ‖ψ‖ = 1                        │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Наблюдаемая (энергия, и т.д.)│ Самосопряжённый оператор A                   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Возможные результаты измер. │ Спектр σ(A)                                   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Вероятность результата λ    │ |⟨ψ,eλ⟩|² где Aeλ = λeλ                      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Состояние после измерения   │ Проекция на собств. подпространство          │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: ОСТЫВАНИЕ СТЕРЖНЯ (уравнение теплопроводности)           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Металлический стержень длиной L. Концы поддерживаются при T=0.      │
│ Начальное распределение температуры T(x,0) = f(x). Как стержень остывает?   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │    T=0                                       T=0                        │ │
│ │     │                                         │                         │ │
│ │     ▼         начальное T(x,0) = f(x)         ▼                         │ │
│ │   ──█████████████████████████████████████████──                         │ │
│ │     x=0                                     x=L                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ УРАВНЕНИЕ:                                                                  │
│   ∂T/∂t = a·∂²T/∂x²     (a — температуропроводность)                       │
│                                                                             │
│ ГРАНИЧНЫЕ УСЛОВИЯ:  T(0,t) = T(L,t) = 0                                    │
│ НАЧАЛЬНОЕ УСЛОВИЕ:  T(x,0) = f(x)                                          │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ РЕШЕНИЕ ЧЕРЕЗ СОБСТВЕННЫЕ ФУНКЦИИ                                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Шаг 1: Ищем СОБСТВЕННЫЕ ФУНКЦИИ оператора d²/dx² с данными гран. условиями │
│                                                                             │
│   d²φ/dx² = λφ,  φ(0) = φ(L) = 0                                           │
│                                                                             │
│   Решение: φₙ(x) = sin(nπx/L),  λₙ = −(nπ/L)²,  n = 1, 2, 3, ...          │
│                                                                             │
│ Шаг 2: Эти функции образуют ОРТОНОРМИРОВАННЫЙ БАЗИС в L²[0,L]!             │
│                                                                             │
│   ⟨φₘ, φₙ⟩ = ∫₀ᴸ sin(mπx/L)·sin(nπx/L) dx = (L/2)·δₘₙ                     │
│                                                                             │
│ Шаг 3: Раскладываем начальное условие по этому базису                       │
│                                                                             │
│   f(x) = Σₙ cₙ sin(nπx/L),   cₙ = (2/L)∫₀ᴸ f(x)sin(nπx/L) dx              │
│                                                                             │
│ Шаг 4: Каждая мода затухает НЕЗАВИСИМО с экспонентой e^(λₙ·a·t)            │
│                                                                             │
│   T(x,t) = Σₙ cₙ · e^(−a(nπ/L)²t) · sin(nπx/L)                            │
│                ↑                      ↑                                     │
│           затухание               пространственная форма                    │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ФИЗИЧЕСКИЙ СМЫСЛ                                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   • Первая мода (n=1): τ₁ = L²/(π²a) — самое медленное затухание           │
│   • Высшие моды затухают БЫСТРЕЕ: τₙ = τ₁/n²                               │
│   • Через время ~τ₁ остаётся только первая мода (синусоида)                 │
│                                                                             │
│ ЧИСЛЕННЫЙ ПРИМЕР (медный стержень L=1м, a≈1.1×10⁻⁴ м²/с):                  │
│   τ₁ = 1²/(π²·1.1×10⁻⁴) ≈ 920 с ≈ 15 минут                                │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Функциональный анализ — не абстракция.                              │
│ Операторы, собственные функции, разложения по базису — это РАБОЧИЕ          │
│ инструменты для решения уравнений теплопроводности, диффузии, колебаний.    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.9  ВАЖНЫЕ ТЕОРЕМЫ ФУНКЦИОНАЛЬНОГО АНАЛИЗА                               │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ТЕОРЕМА                     │ ФОРМУЛИРОВКА И ПРИМЕНЕНИЕ                     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Банаха о неподвижной точке  │ T сжимающее в полном (X,d) ⇒ ∃! x: Tx=x     │
│                             │ Прим: существование решений ДУ                │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Хана-Банаха                 │ Функционал с подпр-ва продолжается на всё     │
│                             │ пр-во с сохранением нормы                     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Банаха-Штейнхауза           │ Поточечно огр. семейство операторов           │
│ (о равн. ограниченности)    │ равномерно ограничено                         │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Об открытом отображении     │ Сюръективный огр. оператор — открытое отобр.  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ О замкнутом графике         │ Оператор с замкнутым графиком ограничен       │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.10  СЛАБАЯ СХОДИМОСТЬ — КЛЮЧ К БЕСКОНЕЧНОМЕРНОСТИ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В ℝⁿ есть только один способ сходимости. В бесконечномерных — много!       │
│                                                                             │
│ ┌───────────────────┬───────────────────────────────────────────────────┐   │
│ │ ТИП СХОДИМОСТИ    │ ОПРЕДЕЛЕНИЕ                                       │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ СИЛЬНАЯ (по норме)│ xₙ → x означает ‖xₙ − x‖ → 0                      │   │
│ │                   │ "Расстояние до предела стремится к нулю"          │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ СЛАБАЯ            │ xₙ ⇀ x означает f(xₙ) → f(x) для всех f ∈ X*     │   │
│ │                   │ "Все функционалы сходятся"                        │   │
│ ├───────────────────┼───────────────────────────────────────────────────┤   │
│ │ СЛАБАЯ-*          │ fₙ ⇀* f означает fₙ(x) → f(x) для всех x ∈ X     │   │
│ │ (в сопряжённом)   │ "Поточечная сходимость функционалов"              │   │
│ └───────────────────┴───────────────────────────────────────────────────┘   │
│                                                                             │
│ СООТНОШЕНИЯ:                                                                │
│   Сильная ⇒ Слабая ⇒ Слабая-* (обратные неверны!)                         │
│                                                                             │
│ КЛЮЧЕВОЙ ПРИМЕР: eₙ = (0,...,0,1,0,...) в l²                               │
│                                                                             │
│   • ‖eₙ − eₘ‖ = √2 для n ≠ m — нет сильного предела                       │
│   • НО: eₙ ⇀ 0 слабо! (для любого f ∈ (l²)*, f(eₙ) → 0)                   │
│                                                                             │
│ ЗАЧЕМ НУЖНА СЛАБАЯ СХОДИМОСТЬ:                                              │
│                                                                             │
│   • Единичный шар НЕ компактен в сильной топологии                         │
│   • НО КОМПАКТЕН в слабой топологии! (теорема Банаха-Алаоглу)              │
│   • Это позволяет находить минимумы функционалов                            │
│                                                                             │
│ ПРИМЕНЕНИЕ В PDE:                                                           │
│   Последовательность приближённых решений uₙ может не иметь сильного        │
│   предела, но иметь слабый предел u — это и есть СЛАБОЕ РЕШЕНИЕ.           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A15.11  ТЕОРЕМА РИССА О ПРЕДСТАВЛЕНИИ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Есть ДВЕ теоремы Рисса. Обе фундаментальны!                                │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ РИСС-ФРЕШЕ (для гильбертовых пространств)                                   │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Любой непрерывный линейный функционал f: H → ℝ на гильбертовом           │
│   пространстве H имеет вид:                                                 │
│                                                                             │
│           f(x) = ⟨x, y⟩   для единственного y ∈ H                          │
│                                                                             │
│   СЛЕДСТВИЕ: H ≅ H* (гильбертово пространство изоморфно своему             │
│              сопряжённому). Это НЕ верно для общих банаховых!               │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ РИСС-МАРКОВА-КАКУТАНИ (для мер)                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Любой положительный линейный функционал I: C(X) → ℝ на пространстве     │
│   непрерывных функций на компакте X представляется интегралом:              │
│                                                                             │
│           I(f) = ∫_X f dμ   для единственной меры μ                        │
│                                                                             │
│   СМЫСЛ: Каждый способ "взвешенного усреднения" — это интеграл!            │
│                                                                             │
│   ПРИМЕНЕНИЕ: Если есть оператор, сопоставляющий функции число             │
│   (и сохраняющий линейность и порядок) — это интеграл по некоторой мере.   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
▶ ПЕРЕХОД К СЛЕДУЮЩЕМУ РАЗДЕЛУ

Функанализ использует интегралы повсюду: норма ‖f‖ = √∫|f|², скалярное
произведение ⟨f,g⟩ = ∫fg. Но какой интеграл? Интеграл Римана ломается на
пределах — нельзя менять местами lim и ∫.

Интеграл Лебега решает эту проблему. Он основан на понятии МЕРЫ — более
общем способе измерять "размер" множеств. Это фундамент теории вероятностей
и современного анализа.
───────────────────────────────────────────────────────────────────────────────

A16. МЕРА И ИНТЕГРАЛ ЛЕБЕГА — ПРАВИЛЬНОЕ ПОНЯТИЕ "РАЗМЕРА"
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕРА КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Мера отвечает на вопрос: какой "размер" имеет подмножество пространства?    │
│                                                                             │
│   • На прямой ℝ: мера отрезка = его длина                                  │
│   • На плоскости ℝ²: мера области = её площадь                             │
│   • В ℝ³: мера тела = его объём                                            │
│   • В пространстве функций: мера = вероятность                              │
│                                                                             │
│ Мера Лебега — это "правильный" способ измерять размер множеств,            │
│ который работает даже для очень сложных (фрактальных, разрывных) множеств. │
│ Без неё пространства L² и вероятность не имели бы строгого смысла.         │
│                                                                             │
│ СВЯЗЬ С ТОПОЛОГИЕЙ — РАЗМЕРНОСТЬ ХАУСДОРФА:                                 │
│   Фракталы имеют ДРОБНУЮ размерность! Множество Кантора ⊂ [0,1]:           │
│   • Топологическая размерность = 0 (тотально несвязно)                     │
│   • Размерность Хаусдорфа = log(2)/log(3) ≈ 0.631                          │
│   Это мера "сложности" множества — сколько места оно занимает.             │
│   Береговая линия Британии: dim_H ≈ 1.25 (больше линии, меньше плоскости). │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ГЛАВНАЯ ПРИЧИНА ПЕРЕХОДА К ЛЕБЕГУ (для инженера)                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│           ИНТЕГРАЛ РИМАНА ЛОМАЕТСЯ НА ПРЕДЕЛАХ.                             │
│           ИНТЕГРАЛ ЛЕБЕГА — НЕТ.                                            │
│                                                                             │
│ Это НЕ абстракция. Это критично для:                                        │
│                                                                             │
│   • Рядов Фурье: lim∫fₙ = ∫lim fₙ — нужна теорема Лебега                   │
│   • Решения PDE: предел приближённых решений → решение                      │
│   • Вероятности: E[lim Xₙ] = lim E[Xₙ] — мажорируемая сходимость           │
│                                                                             │
│ Функция Дирихле (1 на ℚ, 0 на ℝ\ℚ) — искусственный пример.                 │
│ Реальная причина: нужно МЕНЯТЬ МЕСТАМИ предел и интеграл.                   │
│ По Риману — нельзя. По Лебегу — можно (при условиях, см. A16.5).           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A16.1  ПРОБЛЕМА ИНТЕГРАЛА РИМАНА                                            │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ ПРОБЛЕМА                          │ ОПИСАНИЕ                                │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Функция Дирихле                   │ f(x) = 1 если x∈ℚ, иначе 0             │
│                                   │ НЕ интегрируема по Риману               │
│                                   │ Хотя интуитивно: ℚ "занимает 0%"       │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Предел не сохраняет               │ lim fₙ может быть не интегрируемой,    │
│ интегрируемость                   │ даже если все fₙ интегрируемы           │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Нельзя менять ∫ и lim             │ lim∫fₙ ≠ ∫lim fₙ в общем случае        │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A16.2  МЕРА — АКСИОМАТИКА                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ Мера μ: Σ → [0,+∞] на σ-алгебре Σ подмножеств X                            │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ АКСИОМА                           │ СМЫСЛ                                   │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ μ(∅) = 0                          │ Пустое множество имеет нулевой размер   │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ μ(⋃ₙAₙ) = Σₙμ(Aₙ)                 │ Счётная аддитивность (для дизъюнктных)  │
│ (Aᵢ∩Aⱼ=∅)                         │ Размер объединения = сумма размеров     │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ σ-АЛГЕБРА — СЕМЕЙСТВО "ИЗМЕРИМЫХ" МНОЖЕСТВ                                  │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ СВОЙСТВО                          │ ФОРМУЛА                                 │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Замкнуто относительно дополнений  │ A ∈ Σ ⇒ X\A ∈ Σ                        │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Замкнуто относительно счётных     │ Aₙ ∈ Σ ⇒ ⋃ₙAₙ ∈ Σ                      │
│ объединений                       │                                         │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Содержит всё пространство         │ X ∈ Σ                                   │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️ ПОЧЕМУ ИМЕННО σ-АЛГЕБРА? (КЛЮЧЕВОЙ ВОПРОС)                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Почему нельзя ограничиться КОНЕЧНЫМИ объединениями (обычной алгеброй)?     │
│                                                                             │
│ ПРОБЛЕМА: Предел измеримых множеств должен быть измерим!                   │
│                                                                             │
│   Пусть Aₙ = [0, 1 − 1/n]. Каждое Aₙ — интервал с длиной (1 − 1/n).        │
│   Предел: ⋃ₙAₙ = [0, 1) — тоже должен иметь меру!                          │
│                                                                             │
│   Если алгебра замкнута только относительно КОНЕЧНЫХ объединений,          │
│   то [0, 1) = ⋃_{n=1}^∞ Aₙ может оказаться неизмеримым!                    │
│                                                                             │
│ РЕШЕНИЕ: Требуем замкнутость относительно СЧЁТНЫХ объединений.             │
│                                                                             │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ СТРУКТУРА           │ ЗАМКНУТА ОТНОСИТЕЛЬНО                           │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Алгебра множеств    │ Конечных ∪, ∩, дополнений                       │   │
│ │ σ-алгебра           │ СЧЁТНЫХ ∪, ∩, дополнений                        │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
│ σ = "счётный" (от нем. Summe — сумма, в смысле счётной суммы)              │
│                                                                             │
│ ГЛУБИННАЯ ПРИЧИНА:                                                          │
│   Анализ работает с пределами, а предел — это счётная конструкция.         │
│   Чтобы интегрирование и предел были совместимы, нужна σ-алгебра.          │
│   Теоремы о сходимости (Леви, Лебега) требуют счётной аддитивности!        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A16.3  МЕРА ЛЕБЕГА НА ℝⁿ                                                    │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ МНОЖЕСТВО                         │ МЕРА ЛЕБЕГА λ                           │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Интервал (a,b) ⊂ ℝ                │ b − a (длина)                           │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Прямоугольник в ℝ²                │ ширина × высота (площадь)               │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Параллелепипед в ℝ³               │ a·b·c (объём)                           │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Одна точка {x}                    │ 0                                       │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Счётное множество (ℚ, ℤ)          │ 0 (мера нуль!)                          │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Канторово множество C             │ 0, хотя C несчётно!                     │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Неизмеримые множества             │ Существуют (Витали), но "неестественны" │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A16.4  ИНТЕГРАЛ ЛЕБЕГА                                                      │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ СРАВНЕНИЕ                         │ РИМАН vs ЛЕБЕГ                          │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Разбиение                         │ Риман: область определения [a,b]        │
│                                   │ Лебег: область значений ℝ               │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Сумма                             │ Риман: Σf(xᵢ)·Δxᵢ                      │
│                                   │ Лебег: Σyⱼ·μ({x: f(x)≈yⱼ})            │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Функция Дирихле                   │ Риман: не интегрируема                  │
│                                   │ Лебег: ∫f dλ = 1·0 + 0·1 = 0           │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОСТРОЕНИЕ ИНТЕГРАЛА ЛЕБЕГА                                                 │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ ШАГ                               │ ОПРЕДЕЛЕНИЕ                             │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ 1. Простая функция                │ s = Σcₖ·χ_{Aₖ} (ступенчатая)           │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ 2. Интеграл простой               │ ∫s dμ = Σcₖ·μ(Aₖ)                      │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ 3. Интеграл f ≥ 0                 │ ∫f dμ = sup{∫s dμ: s простая, s≤f}     │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ 4. Общий интеграл                 │ ∫f dμ = ∫f⁺ dμ − ∫f⁻ dμ               │
│                                   │ где f⁺=max(f,0), f⁻=max(−f,0)          │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A16.5  ТЕОРЕМЫ О СХОДИМОСТИ — ГЛАВНОЕ ПРЕИМУЩЕСТВО ЛЕБЕГА                   │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ТЕОРЕМА                     │ ФОРМУЛИРОВКА                                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Монотонной сходимости       │ fₙ↑f (монотонно) ⇒ ∫fₙ → ∫f                  │
│ (Б. Леви)                   │                                               │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Мажорируемой сходимости     │ |fₙ|≤g, ∫g<∞, fₙ→f п.в. ⇒ ∫fₙ→∫f           │
│ (Лебега)                    │ Также: ∫|fₙ−f|→0                             │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Фату                        │ fₙ≥0 ⇒ ∫(lim inf fₙ) ≤ lim inf ∫fₙ          │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ "п.в." (почти всюду)        │ = кроме множества меры нуль                   │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ЭТИ ТЕОРЕМЫ ВАЖНЫ                                                    │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ СИТУАЦИЯ                    │ СЛЕДСТВИЕ                                     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Ряды функций Σfₙ            │ Можно интегрировать почленно                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Дифф. под знаком интеграла  │ d/dt∫f(x,t)dx = ∫∂f/∂t dx (при условиях)     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Для Римана НЕ работают!     │ Это главное преимущество Лебега               │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТИПЫ СХОДИМОСТИ — ВАЖНОЕ РАЗЛИЧИЕ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В теории меры есть НЕСКОЛЬКО типов сходимости, и они НЕ эквивалентны!       │
│                                                                             │
│ ┌───────────────────┬─────────────────────────┬─────────────────────────┐   │
│ │ ТИП СХОДИМОСТИ    │ ОПРЕДЕЛЕНИЕ             │ ЧТО ОЗНАЧАЕТ            │   │
│ ├───────────────────┼─────────────────────────┼─────────────────────────┤   │
│ │ Поточечная        │ ∀x: fₙ(x) → f(x)        │ В каждой точке          │   │
│ │                   │                         │ отдельно                │   │
│ ├───────────────────┼─────────────────────────┼─────────────────────────┤   │
│ │ Почти всюду       │ fₙ(x) → f(x) для        │ Поточечно, кроме        │   │
│ │ (п.в.)            │ почти всех x            │ множества меры 0        │   │
│ ├───────────────────┼─────────────────────────┼─────────────────────────┤   │
│ │ Равномерная       │ sup|fₙ(x)−f(x)| → 0     │ Одинаково быстро        │   │
│ │                   │  x                      │ везде                   │   │
│ ├───────────────────┼─────────────────────────┼─────────────────────────┤   │
│ │ По мере           │ μ({|fₙ−f| > ε}) → 0     │ Мера "плохого"          │   │
│ │                   │ для всех ε > 0          │ множества → 0           │   │
│ ├───────────────────┼─────────────────────────┼─────────────────────────┤   │
│ │ В Lᵖ              │ ∫|fₙ−f|ᵖ dμ → 0         │ Интегральная            │   │
│ │                   │                         │ ошибка → 0              │   │
│ └───────────────────┴─────────────────────────┴─────────────────────────┘   │
│                                                                             │
│ ИЕРАРХИЯ (для конечной меры):                                               │
│                                                                             │
│   Равномерная ⇒ Поточечная ⇒ Почти всюду ⇒ По мере                         │
│       ↓                                                                     │
│   В L^∞        В Lᵖ ⇒ По мере (но НЕ почти всюду!)                         │
│                                                                             │
│ ⚠️ КОНТРПРИМЕР: Сходимость по мере НЕ влечёт сходимость почти всюду!       │
│    "Бегающий горб": fₙ = χ_{[k/2ᵐ, (k+1)/2ᵐ]} на [0,1]                     │
│    Сходится по мере к 0, но в каждой точке подпоследовательность = 1.      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ A16.6  ПРОСТРАНСТВА Lᵖ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│ Определение: Lᵖ(X,μ) = {f: ∫|f|ᵖdμ < ∞} / {f=0 п.в.}                       │
├───────────┬───────────────────────┬─────────────────────────────────────────┤
│ p         │ НОРМА                 │ СВОЙСТВА И ПРИМЕНЕНИЯ                   │
├───────────┼───────────────────────┼─────────────────────────────────────────┤
│ p = 1     │ ‖f‖₁ = ∫|f|           │ Интегрируемые функции                   │
├───────────┼───────────────────────┼─────────────────────────────────────────┤
│ p = 2     │ ‖f‖₂ = √(∫|f|²)       │ Гильбертово! Квант. механика, Фурье     │
│           │ ⟨f,g⟩ = ∫fg̅          │ Скалярное произведение                  │
├───────────┼───────────────────────┼─────────────────────────────────────────┤
│ p = ∞     │ ‖f‖_∞ = ess sup|f|    │ Существенно ограниченные функции        │
└───────────┴───────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВЫЕ НЕРАВЕНСТВА И ТЕОРЕМЫ                                              │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ РЕЗУЛЬТАТ                   │ ФОРМУЛИРОВКА                                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Неравенство Гёльдера        │ ‖fg‖₁ ≤ ‖f‖_p·‖g‖_q где 1/p+1/q=1           │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Неравенство Минковского     │ ‖f+g‖_p ≤ ‖f‖_p + ‖g‖_p                      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Теорема Рисса-Фишера        │ Lᵖ — полное (банахово) пространство          │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ТЕПЛОВОЙ ПОТОК ЧЕРЕЗ НЕОДНОРОДНУЮ СТЕНУ                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Стена толщиной L с неоднородной структурой. Теплопроводность        │
│ k(x) сильно меняется по толщине (разные материалы, включения, трещины).     │
│                                                                             │
│       T₁                                    T₂                              │
│       ────────────────────────────────────────                              │
│       │░░░│████│░░│████████│░░░░░░│██│░░░░│                                │
│       │░░░│████│░░│████████│░░░░░░│██│░░░░│                                │
│       ────────────────────────────────────────                              │
│       x=0                                  x=L                              │
│                                                                             │
│       ░░░ = утеплитель (k = 0.05 Вт/(м·К))                                 │
│       ███ = бетон (k = 1.5 Вт/(м·К))                                       │
│       Трещины — разрывы в структуре                                         │
│                                                                             │
│ ТЕПЛОВОЕ СОПРОТИВЛЕНИЕ:                                                     │
│                                                                             │
│   R = ∫₀ᴸ dx/k(x)     [м²·К/Вт]                                            │
│                                                                             │
│ ПРОБЛЕМА: k(x) — разрывная функция с возможными "патологиями"!              │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПОЧЕМУ НУЖНА МЕРА ЛЕБЕГА                                                    │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ 1. РАЗРЫВЫ НЕ МЕШАЮТ:                                                       │
│    k(x) может иметь конечное число разрывов (границы слоёв).                │
│    Интеграл Лебега это "не замечает" — множество точек разрыва              │
│    имеет меру нуль.                                                         │
│                                                                             │
│ 2. ТРЕЩИНЫ = МНОЖЕСТВО МЕРЫ НУЛЬ:                                           │
│    Микротрещины — это "тонкие" области с k → ∞ (воздух).                   │
│    Если их совокупная "толщина" = 0, они не влияют на интеграл!             │
│                                                                             │
│ 3. МОЖНО МЕНЯТЬ ПОРЯДОК ИНТЕГРИРОВАНИЯ:                                     │
│    При расчёте 2D/3D теплопереноса (интегралы по площади, объёму)           │
│    теорема Фубини гарантирует: ∫∫ = ∫(∫).                                  │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ЧИСЛЕННЫЙ ПРИМЕР                                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Стена: 3 слоя общей толщиной 40 см                                          │
│                                                                             │
│   • Штукатурка: 2 см,  k = 0.8 Вт/(м·К)  →  R₁ = 0.02/0.8 = 0.025          │
│   • Кирпич:    25 см, k = 0.7 Вт/(м·К)  →  R₂ = 0.25/0.7 = 0.357           │
│   • Утеплитель: 10 см, k = 0.04 Вт/(м·К) →  R₃ = 0.10/0.04 = 2.500         │
│   • + 3 микротрещины (суммарно 0.5 мм)  →  R = 0 (мера нуль!)              │
│                                                                             │
│   R_total = ∫₀⁰·⁴⁰ dx/k(x) = R₁ + R₂ + R₃ = 2.88 м²·К/Вт                   │
│                                                                             │
│   Тепловой поток: q = ΔT/R = (20−(−10))/2.88 = 10.4 Вт/м²                  │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Мера Лебега позволяет интегрировать "плохие" функции.               │
│ Разрывы, скачки, сингулярности на множествах меры нуль — не проблема.       │
│ Для инженера: можно НЕ ДУМАТЬ о математических тонкостях при расчётах.      │
│ Интеграл существует для любой "разумной" физической величины.               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
П10. МЕРЫ — ОБОБЩЕНИЕ ПОНЯТИЯ "РАЗМЕР"
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИДЕЯ МЕРЫ                                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Мера = способ присвоить "размер" множествам                                 │
│                                                                             │
│ Длина, площадь, объём, вероятность — всё это примеры мер!                   │
│                                                                             │
│ Мера μ: множества → числа ≥ 0 (или +∞)                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ АКСИОМЫ МЕРЫ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. μ(∅) = 0                     Пустое множество имеет нулевой размер       │
│                                                                             │
│ 2. μ(A) ≥ 0                     Размер неотрицателен                        │
│                                                                             │
│ 3. σ-аддитивность:              Размер объединения непересекающихся =       │
│    μ(⊔ᵢAᵢ) = Σᵢ μ(Aᵢ)          сумма размеров                              │
│    (для счётного числа)                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ МЕР                                                                 │
├────────────────────────────┬────────────────────────────────────────────────┤
│ МЕРА                       │ ОПИСАНИЕ                                       │
├────────────────────────────┼────────────────────────────────────────────────┤
│                            │                                                │
│ Мера Лебега на ℝⁿ          │ Обычный n-мерный объём                         │
│                            │ μ([a,b]) = b − a  (длина отрезка)              │
│                            │                                                │
├────────────────────────────┼────────────────────────────────────────────────┤
│                            │                                                │
│ Считающая мера             │ μ(A) = |A| (число элементов)                   │
│                            │ На ℤ, на конечных множествах                   │
│                            │                                                │
├────────────────────────────┼────────────────────────────────────────────────┤
│                            │                                                │
│ Вероятностная мера         │ μ(Ω) = 1, μ(A) = P(A)                          │
│                            │ Мера всего = 1                                 │
│                            │                                                │
├────────────────────────────┼────────────────────────────────────────────────┤
│                            │                                                │
│ Мера Дирака δₓ             │ δₓ(A) = 1 если x ∈ A, иначе 0                  │
│                            │ "Сосредоточена в точке x"                      │
│                            │                                                │
├────────────────────────────┼────────────────────────────────────────────────┤
│                            │                                                │
│ Мера Хаара                 │ Инвариантна относительно сдвигов              │
│                            │ На группах Ли (объём в пространстве группы)    │
│                            │                                                │
└────────────────────────────┴────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТЕГРАЛ ЛЕБЕГА                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Обычный интеграл Римана: разбиваем по x, суммируем f(xᵢ)·Δx                 │
│                                                                             │
│ Интеграл Лебега: разбиваем по y, суммируем y·μ({x: f(x) ≈ y})               │
│                                                                             │
│ ПРЕИМУЩЕСТВА:                                                               │
│   • Можно интегрировать более "плохие" функции                              │
│   • Теоремы о предельном переходе под знаком интеграла                      │
│   • Естественная связь с теорией вероятностей                               │
│                                                                             │
│ ФОРМУЛА: ∫f dμ = ∫₀^∞ μ({x: f(x) > t}) dt  (для f ≥ 0)                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МНОЖЕСТВА МЕРЫ НУЛЬ                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множество A имеет меру нуль: μ(A) = 0                                       │
│                                                                             │
│ ПРИМЕРЫ (в смысле меры Лебега на ℝ):                                        │
│   • Любая точка {x}                                                         │
│   • Любое счётное множество (ℚ, ℤ, ℕ)                                       │
│   • Канторово множество (несчётное, но меры 0!)                             │
│                                                                             │
│ ПАРАДОКС: ℚ плотно в ℝ, но μ(ℚ) = 0, а μ(ℝ\ℚ) = ∞                          │
│                                                                             │
│ "Почти всюду" = "кроме множества меры нуль"                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕРА И ПРОСТРАНСТВА                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Мера — это способ ИЗМЕРЯТЬ РАЗМЕР на пространстве.                          │
│                                                                             │
│ Разные пространства — разные естественные меры:                             │
│   • На ℝⁿ: мера Лебега (обычный объём)                                      │
│   • На группе Ли: мера Хаара (инвариантна при сдвигах)                      │
│   • На многообразии: мера, индуцированная метрикой                          │
│                                                                             │
│ Интеграл — это "суммирование по пространству":                              │
│   ∫_M f dμ = "среднее значение f с учётом меры"                             │
│                                                                             │
│ Вероятностное пространство = пространство + мера с μ(Ω) = 1                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
XX. ДИФФЕРЕНЦИАЛЬНЫЕ УРАВНЕНИЯ — КАК СОСТАВЛЯТЬ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЙ ПРИНЦИП                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ДУ записываются НЕ из воздуха! Они основаны на ЗАКОНАХ СОХРАНЕНИЯ.          │
│                                                                             │
│ (А законы сохранения, по теореме Нётер, следуют из симметрий!)              │
│                                                                             │
│ АЛГОРИТМ составления:                                                       │
│                                                                             │
│   1. ОБЪЕКТ      → Что изучаем? (тело, жидкость, поле)                      │
│   2. ПРОЦЕСС     → Что происходит? (течёт, нагревается, движется)           │
│   3. ЭЛЕМ. ОБЪЁМ → Выделить dx, dy, dz, dt                                  │
│   4. СОХРАНЕНИЕ  → Что не меняется? (масса, энергия, импульс)               │
│   5. БАЛАНС      → Приток − Отток = Изменение → ДУ!                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ: ЗАКОН СОХРАНЕНИЯ → УРАВНЕНИЕ                                       │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ЗАКОН СОХРАНЕНИЯ          │ УРАВНЕНИЕ                                       │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Сохранение массы          │ ∂ρ/∂t + ∇·(ρv) = 0  (неразрывность)            │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Сохранение энергии        │ ∂T/∂t = α∇²T  (теплопроводность)               │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Сохранение импульса       │ Уравнения Навье-Стокса                          │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Сохранение заряда         │ ∂ρ/∂t + ∇·j = 0                                │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ Второй закон Ньютона      │ m(d²x/dt²) = F                                  │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛАССИФИКАЦИЯ УРАВНЕНИЙ В ЧАСТНЫХ ПРОИЗВОДНЫХ                               │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ ТИП                      │ ПРИМЕР И ФИЗИКА                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Эллиптический            │ ∇²u = f  (уравнение Пуассона)                    │
│                          │ Стационарные задачи, электростатика              │
│                          │                                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Параболический           │ ∂u/∂t = α∇²u  (теплопроводность)                │
│                          │ Диффузия, выравнивание                           │
│                          │                                                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│                          │                                                  │
│ Гиперболический          │ ∂²u/∂t² = c²∇²u  (волновое)                     │
│                          │ Распространение волн                             │
│                          │                                                  │
└──────────────────────────┴──────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРАКТИЧЕСКИЙ ФАКТ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Практически любое ДУ (Навье-Стокса, Максвелла, теплопроводность)            │
│ можно ЧИСЛЕННО решить в Excel!                                              │
│                                                                             │
│   • Каждая ячейка = значение в одной точке сетки                            │
│   • Формула ячейки = ссылки на соседей (конечные разности)                  │
│   • Граничные условия = константы на краях                                  │
│   • Итерации → решение                                                      │
│                                                                             │
│ Это метод конечных разностей в простейшей форме.                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
ЗАКЛЮЧЕНИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЦЕНТРАЛЬНАЯ ИДЕЯ ДОКУМЕНТА                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Математика — это язык ПРОСТРАНСТВ.                                         │
│                                                                             │
│ Пространство = множество + структура (способ связать точки).                │
│                                                                             │
│   • Топология изучает ФОРМУ пространства (дырки, связность)                 │
│   • Алгебра изучает СИММЕТРИИ пространства (группы преобразований)          │
│   • Анализ изучает ФУНКЦИИ на пространстве (изменение, экстремумы)          │
│   • Геометрия изучает ИЗМЕРЕНИЯ в пространстве (расстояния, кривизна)       │
│                                                                             │
│ Функторы переводят между областями, сохраняя структуру.                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КЛЮЧЕВЫЕ ФАКТЫ ПО РАЗДЕЛАМ — МИНИМУМ, КОТОРЫЙ НУЖНО ЗНАТЬ                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Ниже — не вопросы, а ОТВЕТЫ. Если что-то непонятно, вернитесь к разделу.   │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЛОГИКА                                                                      │
│                                                                             │
│   "Из ложного следует что угодно" (F → P = T для любого P):                │
│   Импликация P → Q ложна ТОЛЬКО когда P истинно, а Q ложно.                │
│   Если P ложно, то P → Q истинно при ЛЮБОМ Q.                              │
│   Аналогия: "Если я миллионер, куплю вам остров" — не вру,                  │
│   потому что я не миллионер.                                                │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МНОЖЕСТВА                                                                   │
│                                                                             │
│   Биекция ℕ ↔ ℤ:  f(n) = n/2 если n чётное, −(n+1)/2 если нечётное        │
│                   0 ↦ 0, 1 ↦ −1, 2 ↦ 1, 3 ↦ −2, 4 ↦ 2, ...                │
│                                                                             │
│   Почему |ℕ| < |ℝ|:  Диагональный аргумент Кантора.                        │
│   Предположим f: ℕ → [0,1] — биекция. Построим число x, которое            │
│   отличается от f(n) в n-м знаке: x ∉ Im(f). Противоречие.                 │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГРУППЫ                                                                      │
│                                                                             │
│   Почему (ab)⁻¹ = b⁻¹a⁻¹:                                                  │
│   Проверка: (ab)(b⁻¹a⁻¹) = a(bb⁻¹)a⁻¹ = aea⁻¹ = aa⁻¹ = e ✓                │
│   Пример: надел носки, потом ботинки → снять ботинки, потом носки.         │
│                                                                             │
│   Ядро гомоморфизма φ: G → H:                                              │
│   ker φ = {g ∈ G : φ(g) = eₕ} — всё, что переходит в нейтральный.         │
│   Пример: φ: ℤ → ℤ/6, k ↦ k mod 6. Тогда ker φ = 6ℤ = {...,−6,0,6,12,...}│
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТОПОЛОГИЯ                                                                   │
│                                                                             │
│   Множество, которое ни открыто, ни закрыто:                               │
│   [0, 1) в ℝ. Содержит граничную точку 0, но не содержит 1.                │
│                                                                             │
│   Почему кружка ≅ бублик:                                                  │
│   Обе поверхности имеют ОДНУ дырку (род 1). Можно непрерывно               │
│   деформировать одну в другую, не разрывая и не склеивая.                  │
│                                                                             │
│   π₁(S¹) = ℤ:  Петли на окружности классифицируются числом обмоток.       │
│   π₁(S²) = 0:  Любая петля на сфере стягивается в точку.                   │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЛИНЕЙНАЯ АЛГЕБРА                                                            │
│                                                                             │
│   Почему det(AB) = det(A)det(B), но det(A+B) ≠ det(A)+det(B):              │
│   Определитель — мультипликативен, но НЕ аддитивен.                        │
│   Контрпример: A = B = I (единичная). det(I) = 1.                          │
│   det(I+I) = det(2I) = 2ⁿ ≠ 1+1 = 2  (для n > 1).                         │
│                                                                             │
│   Вектор, который не "стрелка":                                            │
│   Функция f(x) = x² — вектор в пространстве C[0,1].                        │
│   (f+g)(x) = f(x)+g(x), (αf)(x) = αf(x) — аксиомы выполняются.             │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МНОГООБРАЗИЯ                                                                │
│                                                                             │
│   Зачем несколько карт для сферы:                                          │
│   S² компактна, ℝ² нет. Гомеоморфизм сохраняет компактность.               │
│   Значит, S² ≢ ℝ². Нужно минимум 2 карты (стереографические проекции).    │
│                                                                             │
│   Что живёт в TₚM:                                                         │
│   Касательные векторы = скорости кривых через p = направления движения.    │
│   TₚM ≅ ℝⁿ, но это РАЗНЫЕ пространства для разных p!                       │
│   v ∈ TₚM и w ∈ TᵧM нельзя сложить напрямую — нужна СВЯЗНОСТЬ.             │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ДИФФЕРЕНЦИАЛЬНЫЕ ФОРМЫ                                                      │
│                                                                             │
│   Почему d² = 0 связано с ∂² = 0:                                          │
│   Это ДВОЙСТВЕННЫЕ утверждения. ∂ действует на цепи (области),             │
│   d действует на формы (интегранды). Теорема Стокса: ∫_{∂M} ω = ∫_M dω.   │
│                                                                             │
│   ∂²M = ∅ (граница границы пуста) ⟷ d²ω = 0 (внешняя производная          │
│   дважды даёт ноль). Это один и тот же факт с двух сторон.                 │
│                                                                             │
│   Стокс объединяет классику:                                               │
│   • dim=1: ∫ₐᵇ f'dx = f(b)−f(a)        (Ньютон-Лейбниц)                   │
│   • dim=2: ∫∫ rot F·dA = ∮ F·dr       (Грин/Стокс)                        │
│   • dim=3: ∫∫∫ div F dV = ∯ F·dS      (Гаусс-Остроградский)              │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ КАТЕГОРИИ                                                                   │
│                                                                             │
│   Группа как категория с одним объектом:                                   │
│   • Один объект: ●                                                         │
│   • Морфизмы: элементы группы g ∈ G (стрелки ● → ●)                       │
│   • Композиция: групповая операция g ∘ h = gh                              │
│   • Тождественный морфизм: нейтральный элемент e                           │
│   • Все морфизмы обратимы (это и значит "группа"!)                         │
│                                                                             │
│   Пример функтора: π₁: Top* → Grp                                         │
│   • Объекты: пространства с отмеченной точкой → группы                     │
│   • Морфизмы: непрерывные отображения → гомоморфизмы групп                 │
│   • Композиция сохраняется: π₁(f ∘ g) = π₁(f) ∘ π₁(g)                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
│                                                                             │
│ ГЛАВНЫЙ КРИТЕРИЙ ПОНИМАНИЯ:                                                 │
│                                                                             │
│ Вы понимаете математику, когда видите ОДИН паттерн в РАЗНЫХ разделах:      │
│                                                                             │
│   ker φ (группы) = ker T (лин.алг.) = ker d (формы) = "что схлопывается"   │
│   G/ker φ ≅ Im φ — ВЕЗДЕ одна и та же теорема об изоморфизме!              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
T.  СВОДНЫЕ ТАБЛИЦЫ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ T.1  ВЕЛИКАЯ ТАБЛИЦА СООТВЕТСТВИЙ                                           │
├────────────┬────────────┬────────────┬────────────┬────────────┬────────────┤
│            │ SET        │ GRP        │ VECT       │ TOP        │ MAN        │
│            │ множества  │ группы     │ вект.пр-ва │ топология  │ многообр.  │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ОБЪЕКТЫ    │ множества  │ группы     │ пр-ва над F│ простр-ва  │ гладкие    │
│            │            │            │            │            │ многообр.  │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ МОРФИЗМ    │ функция    │ гомомор-   │ линейное   │ непрерывн. │ гладкое    │
│            │            │ физм       │ отображ.   │ отображ.   │ отображ.   │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ИЗОМОРФИЗМ │ биекция    │ изоморфизм │ изоморфизм │ гомеомор-  │ диффеомор- │
│            │            │ групп      │ пр-в       │ физм       │ физм       │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ИНВАРИАНТ  │ |A|        │ порядок,   │ dim V      │ π₁, χ, Hₙ │ dim,       │
│            │ мощность   │ таблица    │            │            │ кривизна   │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ПОДОБЪЕКТ  │ подмн-во   │ подгруппа  │ подпростр. │ подпростр. │ подмногооб.│
│            │ A ⊆ B      │ H ≤ G      │ W ⊆ V      │ (откр/замк)│            │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ФАКТОРОБЪ. │ A/∼        │ G/H        │ V/W        │ X/∼        │ M/G        │
│            │            │ (H ⊲ G)   │            │            │ (орбиты)   │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ПРОИЗВЕД.  │ A × B      │ G × H      │ V ⊕ W      │ X × Y      │ M × N      │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ КОПРОИЗВ.  │ A ⊔ B      │ G * H      │ V ⊕ W      │ X ⊔ Y      │ M ⊔ N      │
│            │            │ (свободн.) │ (то же!)   │            │            │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ЯДРО       │ —          │ ker φ ⊲ G  │ ker T ⊆ V  │ —          │ —          │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ОБРАЗ      │ f(A)       │ Im φ ≤ H   │ Im T ⊆ W   │ f(X)       │ f(M)       │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ НАЧАЛЬНЫЙ  │ ∅          │ {e}        │ {0}        │ ∅          │ ∅          │
├────────────┼────────────┼────────────┼────────────┼────────────┼────────────┤
│ ТЕРМИН.    │ {*}        │ {e}        │ {0}        │ {*}        │ {*}        │
└────────────┴────────────┴────────────┴────────────┴────────────┴────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ T.2  УНИВЕРСАЛЬНЫЕ ПАТТЕРНЫ                                                 │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ ПАТТЕРН                  │ ПРОЯВЛЕНИЯ                                       │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ d² = 0                   │ d∘d=0 (формы), ∂∘∂=0 (границы),                 │
│                          │ rot∘grad=0, div∘rot=0                            │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ dim = dim ker + dim Im   │ Линейная алгебра, группы (теорема Лагранжа),    │
│                          │ дифф. формы (когомологии)                        │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Двойственность           │ V ↔ V*, G ↔ Ĝ, q ↔ p, точки ↔ гиперплоскости   │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Локальность → Глобал.    │ Теор. Стокса, теор. де Рама, расслоения         │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Симметрия → Сохранение   │ Теорема Нётер: каждая непрерывная симметрия     │
│                          │ даёт закон сохранения                            │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Классификация            │ Конечные группы, поверхности, простые алгебры   │
└──────────────────────────┴──────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ T.3  ОСНОВНЫЕ ПРИНЦИПЫ СТАНДАРТА                                            │
├──────────┬──────────────────────────────────────────────────────────────────┤
│ НОМЕР    │ ПРИНЦИП                                                          │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 1        │ Математика — открытие структуры, присущей акту различения        │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 2        │ Из ∅ через категоризацию возникает вся математика               │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 3        │ Логика — надстройка над теорией множеств для коммуникации        │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 4        │ Доказательство — путь по графу вложений множеств                 │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 5        │ Понимание = способность визуализировать                          │
├──────────┼──────────────────────────────────────────────────────────────────┤
│ 6        │ Один паттерн проявляется во всех разделах                        │
└──────────┴──────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ T.4  СВОДНАЯ ТАБЛИЦА СООТВЕТСТВИЙ МЕЖДУ РАЗДЕЛАМИ                           │
├──────────────────┬──────────────────────────────────────────────────────────┤
│ ПОНЯТИЕ          │ РЕАЛИЗАЦИИ В РАЗДЕЛАХ                                    │
├──────────────────┼──────────────────────────────────────────────────────────┤
│ Изоморфизм       │ Set: биекция                                            │
│                  │ A1: изоморфизм групп                                    │
│                  │ A3: изоморфизм пространств                              │
│                  │ A2: гомеоморфизм                                        │
│                  │ A12: эквивалентность категорий                          │
├──────────────────┼──────────────────────────────────────────────────────────┤
│ Инвариант        │ Set: мощность |A|                                       │
│ (что сохраняется)│ A1: таблица умножения                                   │
│                  │ A3: размерность dim V                                   │
│                  │ A2: π₁, χ, Hₙ                                           │
├──────────────────┼──────────────────────────────────────────────────────────┤
│ Ядро морфизма    │ A1: ker(φ) ⊲ G                                          │
│                  │ A3: ker(T) ⊆ V                                          │
│                  │ A7: ker(d) = замкнутые формы                            │
├──────────────────┼──────────────────────────────────────────────────────────┤
│ Двойственность   │ A1: G ↔ Ĝ                                               │
│                  │ A3: V ↔ V*                                              │
│                  │ A7: Ωᵏ ↔ Ωⁿ⁻ᵏ                                           │
│                  │ A8: q ↔ p (симплектическая)                             │
├──────────────────┼──────────────────────────────────────────────────────────┤
│ Свойство d²=0    │ Векторный анализ: rot∘grad=0, div∘rot=0                 │
│                  │ A7: d∘d=0                                               │
│                  │ A2: ∂∘∂=0 (гомологии)                                   │
└──────────────────┴──────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                         ОБЗОРНЫЕ ТАБЛИЦЫ И КАРТЫ
═══════════════════════════════════════════════════════════════════════════════

───────────────────────────────────────────────────────────────────────────────

▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
                         ЧАСТЬ IV: ПРИЛОЖЕНИЯ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▀

П19. ВЕРОЯТНОСТЬ — МАТЕМАТИКА НЕОПРЕДЕЛЁННОСТИ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВЕРОЯТНОСТЬ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Теория вероятностей — это ТЕОРИЯ МЕРЫ на специальных пространствах.        │
│                                                                             │
│ ┌───────────────────┬────────────────────────────────────────────────────┐  │
│ │ ВЕРОЯТНОСТНЫЙ     │ ГЕОМЕТРИЧЕСКИЙ                                    │  │
│ │ ТЕРМИН            │ СМЫСЛ                                              │  │
│ ├───────────────────┼────────────────────────────────────────────────────┤  │
│ │ Пространство      │ МНОЖЕСТВО всех возможных состояний мира            │  │
│ │ элементарных      │ Каждая точка ω ∈ Ω — один "сценарий"               │  │
│ │ исходов Ω         │ (что выпало, какая погода, какой путь)             │  │
│ ├───────────────────┼────────────────────────────────────────────────────┤  │
│ │ Событие A ⊆ Ω     │ ПОДМНОЖЕСТВО пространства исходов                  │  │
│ │                   │ ("в каких сценариях A произошло")                  │  │
│ ├───────────────────┼────────────────────────────────────────────────────┤  │
│ │ Вероятность P(A)  │ МЕРА множества A                                   │  │
│ │                   │ (обобщённый "объём" области)                       │  │
│ ├───────────────────┼────────────────────────────────────────────────────┤  │
│ │ Случайная         │ ОТОБРАЖЕНИЕ X: Ω → ℝ                               │  │
│ │ величина X        │ (функция на пространстве исходов)                  │  │
│ ├───────────────────┼────────────────────────────────────────────────────┤  │
│ │ Мат. ожидание     │ ИНТЕГРАЛ по мере P                                 │  │
│ │ E[X]              │ E[X] = ∫_Ω X(ω) dP(ω)                             │  │
│ ├───────────────────┼────────────────────────────────────────────────────┤  │
│ │ Независимые       │ ПРОИЗВЕДЕНИЕ пространств                           │  │
│ │ эксперименты      │ Ω = Ω₁ × Ω₂, P = P₁ × P₂                          │  │
│ └───────────────────┴────────────────────────────────────────────────────┘  │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Бросок монеты: Ω = {орёл, решка} — два мира                            │
│   • Случайное блуждание: Ω = все возможные траектории                       │
│   • Тепловые флуктуации: Ω = бесконечномерное (функции температуры)        │
│                                                                             │
│ ВЫВОД: Вероятность — это НЕ "шансы" в бытовом смысле.                      │
│ Это СТРОГАЯ МАТЕМАТИЧЕСКАЯ СТРУКТУРА: пространство + мера.                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОНКРЕТНЫЙ ПРИМЕР: БРОСОК ДВУХ КУБИКОВ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОСТРАНСТВО ИСХОДОВ:                                                       │
│                                                                             │
│   Ω = {(1,1), (1,2), (1,3), ..., (6,6)} = {1,...,6} × {1,...,6}            │
│   |Ω| = 36 точек                                                           │
│                                                                             │
│   Это КОНЕЧНОЕ ДИСКРЕТНОЕ пространство — "решётка" 6×6:                    │
│                                                                             │
│       6 │ ● ● ● ● ● ●                                                       │
│       5 │ ● ● ● ● ● ●                                                       │
│       4 │ ● ● ● ● ● ●      Каждая точка ● — один исход                     │
│       3 │ ● ● ● ● ● ●      Мера: P({(i,j)}) = 1/36 для всех                │
│       2 │ ● ● ● ● ● ●                                                       │
│       1 │ ● ● ● ● ● ●                                                       │
│         └───────────────                                                    │
│           1 2 3 4 5 6                                                       │
│                                                                             │
│ СОБЫТИЕ "сумма = 7":                                                        │
│                                                                             │
│   A = {(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)}                           │
│                                                                             │
│   Это ПОДМНОЖЕСТВО (диагональ в нашей "решётке").                          │
│   P(A) = |A|/|Ω| = 6/36 = 1/6                                              │
│                                                                             │
│ СЛУЧАЙНАЯ ВЕЛИЧИНА X = "сумма очков":                                       │
│                                                                             │
│   X: Ω → ℝ,  X((i,j)) = i + j                                              │
│                                                                             │
│   E[X] = Σ X(ω)·P({ω}) = Σᵢⱼ (i+j)/36 = 7                                 │
│                                                                             │
│   (Сумма всех значений с их вероятностями = интеграл по мере P)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ АТЛАСА                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ МНОЖЕСТВ (1.1):                                                      │
│   Ω — множество, события — подмножества, σ-алгебра — система подмножеств   │
│   Операции: A ∪ B (или), A ∩ B (и), Aᶜ (не)                                │
│                                                                             │
│ МЕРА (П10):                                                                 │
│   P — это мера со свойством P(Ω) = 1 (нормировка)                          │
│   Все свойства меры работают: счётная аддитивность, непрерывность          │
│                                                                             │
│ ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ (A15):                                                │
│   Случайные величины с E[X²] < ∞ образуют гильбертово пространство L²(Ω,P) │
│   Ковариация Cov(X,Y) = ⟨X − E[X], Y − E[Y]⟩ — скалярное произведение!    │
│   Некоррелированность ⟺ ортогональность                                   │
│                                                                             │
│ ЛИНЕЙНАЯ АЛГЕБРА (A3):                                                      │
│   Ковариационная матрица Σ — положительно полуопределённая                 │
│   Главные компоненты (PCA) = собственные векторы Σ                         │
│   Метрика Махаланобиса d² = (x−μ)ᵀΣ⁻¹(x−μ) — расстояние с учётом Σ        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.1  ВЕРОЯТНОСТЬ = МЕРА                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ Теория вероятностей — это теория меры с условием μ(Ω) = 1                  │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ВЕРОЯТНОСТНОЕ ПРОСТРАНСТВО  │ (Ω, Σ, P)                                     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Ω                           │ Пространство элементарных исходов             │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Σ                           │ σ-алгебра событий                             │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P                           │ Вероятностная мера: P(Ω) = 1                  │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЛОВАРЬ: ВЕРОЯТНОСТЬ ↔ ТЕОРИЯ МЕРЫ                                          │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ВЕРОЯТНОСТЬ                 │ ТЕОРИЯ МЕРЫ                                   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Событие A                   │ Измеримое множество A ∈ Σ                     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Вероятность P(A)            │ Мера μ(A), нормированная μ(Ω)=1               │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Случайная величина X        │ Измеримая функция X: Ω → ℝ                    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Плотность вероятности f(x)  │ Производная Радона-Никодима dP/dλ             │
│                             │ (отношение меры P к мере Лебега λ)            │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Мат. ожидание E[X]          │ Интеграл Лебега ∫X dP                         │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Независимость A, B          │ P(A∩B) = P(A)·P(B)                            │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Условная вероятность P(A|B) │ P(A∩B)/P(B)                                   │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.2  АКСИОМЫ КОЛМОГОРОВА (1933)                                           │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ АКСИОМА                     │ ФОРМУЛИРОВКА                                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Неотрицательность           │ P(A) ≥ 0 для всех A ∈ Σ                       │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Нормировка                  │ P(Ω) = 1                                      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Счётная аддитивность        │ P(⋃ₙAₙ) = ΣₙP(Aₙ) для дизъюнктных Aₙ         │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СЛЕДСТВИЯ ИЗ АКСИОМ                                                         │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ СВОЙСТВО                    │ ФОРМУЛА                                       │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Невозможное событие         │ P(∅) = 0                                      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Дополнение                  │ P(Aᶜ) = 1 − P(A)                              │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Монотонность                │ A ⊆ B ⇒ P(A) ≤ P(B)                          │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Формула включений-исключ.   │ P(A∪B) = P(A) + P(B) − P(A∩B)                │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.3  СЛУЧАЙНЫЕ ВЕЛИЧИНЫ И РАСПРЕДЕЛЕНИЯ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ Случайная величина X: Ω → ℝ — измеримая функция                            │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ФУНКЦИЯ РАСПРЕДЕЛЕНИЯ       │ F(x) = P(X ≤ x)                               │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Свойства F(x)               │ Неубывающая, F(−∞)=0, F(+∞)=1, непр. справа  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Дискретная с.в.             │ Счётное мн-во значений: P(X=xₖ)=pₖ, Σpₖ=1    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Непрерывная с.в.            │ F(x)=∫₋∞ˣf(t)dt, f — плотность, ∫f=1         │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАК ГИСТОГРАММА ПРЕВРАЩАЕТСЯ В ПЛОТНОСТЬ РАСПРЕДЕЛЕНИЯ                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Это ключевая интуиция для понимания непрерывных распределений!              │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ШАГ 1: ОБЫЧНАЯ ГИСТОГРАММА                                                  │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Есть N измерений. Разбиваем ось на бины (интервалы) ширины Δx.            │
│   В каждом бине считаем количество попаданий nₖ.                            │
│                                                                             │
│   Высота столбика = nₖ (абсолютная частота)                                 │
│                                                                             │
│   Проблема: если взять другую ширину бина, гистограмма изменится.           │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ШАГ 2: НОРМИРУЕМ НА ШИРИНУ БИНА                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Высота столбика = nₖ / (N · Δx)                                          │
│                                                                             │
│   Теперь высота — это ПЛОТНОСТЬ ЧАСТОТЫ: "сколько попаданий на единицу x"  │
│                                                                             │
│   Размерность: [1/x], например 1/метр, 1/секунда, 1/градус                 │
│                                                                             │
│   ВАЖНО: Площадь столбика = (nₖ/N·Δx) · Δx = nₖ/N = относительная частота  │
│   Сумма площадей всех столбиков = 1                                         │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ШАГ 3: УСТРЕМЛЯЕМ Δx → 0 И N → ∞                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   При Δx → 0 ступенчатая гистограмма превращается в гладкую кривую.         │
│   Эта кривая — ФУНКЦИЯ ПЛОТНОСТИ РАСПРЕДЕЛЕНИЯ f(x).                        │
│                                                                             │
│                    nₖ                                                       │
│   f(x) = lim  ─────────                                                    │
│         Δx→0   N · Δx                                                       │
│         N→∞                                                                 │
│                                                                             │
│   СВОЙСТВА f(x):                                                            │
│   • f(x) ≥ 0  (частота не может быть отрицательной)                        │
│   • ∫f(x)dx = 1  (сумма всех вероятностей = 1)                             │
│   • P(a ≤ X ≤ b) = ∫ₐᵇ f(x)dx  (площадь под кривой = вероятность)          │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ВИЗУАЛИЗАЦИЯ                                                                │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Δx = 1:        Δx = 0.5:       Δx → 0:                                    │
│    ▄▄▄               ▄▄             ╭──╮                                    │
│   ▄███▄             ▄██▄           ╱    ╲                                   │
│  ▄█████▄           ▄████▄        ╱      ╲                                   │
│  ███████          ████████      ╱        ╲                                  │
│  ───────          ────────     ╱──────────╲                                 │
│  грубая           точнее       гладкая кривая f(x)                          │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРАКТИЧЕСКИЙ СМЫСЛ                                                          │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Для температуры в трубопроводе за год (миллионы измерений):               │
│                                                                             │
│   • Гистограмма с бинами 1°C даёт грубую картину                           │
│   • Гистограмма с бинами 0.1°C — детальнее                                 │
│   • Плотность f(T) — идеальный предел при бесконечных данных               │
│                                                                             │
│   f(25°C) = 0.15 [1/°C] означает:                                          │
│   "В малом интервале около 25°C вероятность ≈ 0.15 · ΔT"                   │
│                                                                             │
│ ВАЖНО: f(x) — это НЕ вероятность (может быть > 1)!                         │
│        Вероятность — это ПЛОЩАДЬ: P = f(x) · Δx                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.4  ВАЖНЕЙШИЕ РАСПРЕДЕЛЕНИЯ — ДИСКРЕТНЫЕ                                 │
├─────────────────────────────┬───────────────────────┬───────────────────────┤
│ РАСПРЕДЕЛЕНИЕ               │ P(X=k)                │ ПРИМЕНЕНИЕ            │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Бернулли(p)                 │ P(1)=p, P(0)=1−p      │ Одно испытание да/нет │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Биномиальное Bin(n,p)       │ C(n,k)pᵏ(1−p)ⁿ⁻ᵏ     │ k успехов в n испыт.  │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Пуассона Pois(λ)            │ e⁻λ·λᵏ/k!             │ Редкие события        │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Геометрическое Geom(p)      │ (1−p)ᵏ⁻¹·p            │ Номер первого успеха  │
└─────────────────────────────┴───────────────────────┴───────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВАЖНЕЙШИЕ РАСПРЕДЕЛЕНИЯ — НЕПРЕРЫВНЫЕ                                       │
├─────────────────────────────┬───────────────────────┬───────────────────────┤
│ РАСПРЕДЕЛЕНИЕ               │ ПЛОТНОСТЬ f(x)        │ ПРИМЕНЕНИЕ            │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Равномерное U(a,b)          │ 1/(b−a) на [a,b]      │ Случайная точка       │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Экспоненциальное Exp(λ)     │ λe⁻λˣ, x≥0            │ Время до события      │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Нормальное N(μ,σ²)          │ exp(−(x−μ)²/2σ²)      │ Ошибки, рост, финансы │
│                             │ /(σ√2π)               │ ВЕЗДЕ!                │
├─────────────────────────────┼───────────────────────┼───────────────────────┤
│ Стандартное N(0,1)          │ e⁻ˣ²/²/√2π            │ Z = (X−μ)/σ           │
└─────────────────────────────┴───────────────────────┴───────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.5  ЧИСЛОВЫЕ ХАРАКТЕРИСТИКИ                                              │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ХАРАКТЕРИСТИКА              │ ОПРЕДЕЛЕНИЕ                                   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Мат. ожидание E[X] (μ)      │ ∫X dP = Σxₖpₖ (дискр.) или ∫xf(x)dx (непр.) │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Дисперсия Var(X) = σ²       │ E[(X−μ)²] = E[X²] − (E[X])²                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Станд. отклонение σ         │ √Var(X), в тех же единицах что X             │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Ковариация Cov(X,Y)         │ E[(X−μₓ)(Y−μᵧ)] = E[XY] − E[X]E[Y]          │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Корреляция ρ(X,Y)           │ Cov(X,Y)/(σₓσᵧ) ∈ [−1, 1]                    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Моменты E[Xⁿ]               │ n-й момент относительно нуля                  │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВОЙСТВА ХАРАКТЕРИСТИК                                                      │
├───────────────────────────────────┬─────────────────────────────────────────┤
│ СВОЙСТВО                          │ ФОРМУЛА                                 │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Линейность E                      │ E[aX+b] = aE[X]+b                       │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Аддитивность E (всегда!)          │ E[X+Y] = E[X]+E[Y]                      │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Мультипликативность (независимые) │ E[XY] = E[X]E[Y]                        │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Масштабирование Var               │ Var(aX+b) = a²Var(X)                    │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Аддитивность Var (независимые)    │ Var(X+Y) = Var(X)+Var(Y)                │
├───────────────────────────────────┼─────────────────────────────────────────┤
│ Общая формула                     │ Var(X+Y) = Var(X)+Var(Y)+2Cov(X,Y)      │
└───────────────────────────────────┴─────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.6  ЗАКОН БОЛЬШИХ ЧИСЕЛ И ЦПТ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│ Условие: X₁,X₂,... — i.i.d. (независ. одинак. распр.) с E[Xᵢ]=μ, Var=σ²   │
│ Выборочное среднее: X̄ₙ = (X₁+...+Xₙ)/n                                     │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ТЕОРЕМА                     │ ФОРМУЛИРОВКА И СМЫСЛ                          │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Закон больших чисел (ЗБЧ)   │ X̄ₙ → μ при n→∞                               │
│                             │ "Среднее выборки → истинное среднее"          │
│                             │ Пример: доля орлов → 0.5                      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Центральная предельная      │ √n(X̄ₙ−μ)/σ → N(0,1) по распределению         │
│ теорема (ЦПТ)               │ Следствие: X̄ₙ ≈ N(μ, σ²/n)                   │
│                             │ "Сумма независимых ≈ нормальное"              │
│                             │ Объясняет, почему N(μ,σ²) ВЕЗДЕ              │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ВАЖНОЕ ОГРАНИЧЕНИЕ ЦПТ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЦПТ требует КОНЕЧНОЙ ДИСПЕРСИИ (σ² < ∞)!                                   │
│                                                                             │
│ Распределения с "тяжёлыми хвостами" НЕ сходятся к нормальному:              │
│   • Коши: E[X] не существует, Var = ∞                                      │
│   • Парето с α ≤ 2: Var = ∞                                                │
│   • Устойчивые распределения Леви                                           │
│                                                                             │
│ ПРИМЕНЕНИЕ: В финансах и анализе надёжности тяжёлые хвосты критичны!       │
│ Нормальное распределение недооценивает вероятность экстремальных событий.   │
│                                                                             │
│ Сумма Коши: среднее n чисел Коши распределено как ОДНО число Коши!         │
│ (усреднение НЕ уменьшает разброс)                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.7  УСЛОВНАЯ ВЕРОЯТНОСТЬ И БАЙЕС                                         │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ПОНЯТИЕ                     │ ФОРМУЛА / СМЫСЛ                               │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Условная вероятность        │ P(A|B) = P(A∩B)/P(B)                          │
│                             │ "Вероятность A при условии B"                 │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Теорема Байеса              │ P(A|B) = P(B|A)·P(A) / P(B)                   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Через полную вероятность    │ P(A|B) = P(B|A)P(A) / [P(B|A)P(A)+P(B|Aᶜ)P(Aᶜ)]│
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕРМИНОЛОГИЯ БАЙЕСА                                                         │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ТЕРМИН                      │ СМЫСЛ                                         │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(A) — априорная            │ Вероятность ДО наблюдения данных              │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(A|B) — апостериорная      │ Вероятность ПОСЛЕ наблюдения B                │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(B|A) — правдоподобие      │ Насколько вероятно B при гипотезе A           │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕР: МЕДИЦИНСКИЙ ТЕСТ (парадокс ложноположительных)                      │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ ДАННЫЕ                      │ ЗНАЧЕНИЕ                                      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(болен)                    │ 0.01 (1% популяции болеет)                    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(+|болен)                  │ 0.99 (чувствительность 99%)                   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(+|здоров)                 │ 0.05 (5% ложноположительных)                  │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ P(болен|+) = ?              │ (0.99·0.01)/(0.99·0.01+0.05·0.99) ≈ 0.17     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Вывод                       │ При + тесте вероятность болезни всего ~17%!   │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П19.8  СВЯЗЬ ВЕРОЯТНОСТИ С ДРУГИМИ РАЗДЕЛАМИ                                │
├─────────────────────────────┬───────────────────────────────────────────────┤
│ РАЗДЕЛ                      │ СВЯЗЬ С ВЕРОЯТНОСТЬЮ                          │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ A16 Мера Лебега             │ Вероятность = мера с μ(Ω)=1, E[X]=∫X dP      │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ A15 Функц. анализ           │ L²(Ω,P) — пространство с.в. с конечной Var   │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ A3 Линейная алгебра         │ Ковариационная матрица, PCA                   │
│                             │ Корреляция = cos угла в L²                    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ A14 Ряды Фурье               │ Характеристическая ф-ция E[eⁱᵗˣ] = Фурье     │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ Физика                      │ Стат. механика, квантовая теория, энтропия    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ ML / Статистика             │ Байесовский вывод, регрессия, тестирование    │
├─────────────────────────────┼───────────────────────────────────────────────┤
│ B1 Программирование         │ ВЕРОЯТНОСТНОЕ ПРОГРАММИРОВАНИЕ:               │
│                             │ Переменные = распределения, код = модель      │
│                             │ Языки: Stan, PyMC, Edward, Pyro               │
└─────────────────────────────┴───────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ХАРАКТЕРИСТИЧЕСКАЯ ФУНКЦИЯ = ПРЕОБРАЗОВАНИЕ ФУРЬЕ ПЛОТНОСТИ                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   φ_X(t) = E[eⁱᵗˣ] = ∫ f(x) eⁱᵗˣ dx                                        │
│                                                                             │
│   Это в точности ПРЕОБРАЗОВАНИЕ ФУРЬЕ плотности f(x)!                       │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│                                                                             │
│   Свёртка плотностей ↔ Умножение характеристических функций:               │
│                                                                             │
│   Если X и Y независимы, то Z = X + Y имеет плотность f_Z = f_X * f_Y.     │
│   Но свёртка сложна! А в частотной области:                                │
│                                                                             │
│       φ_{X+Y}(t) = φ_X(t) · φ_Y(t)                                          │
│                                                                             │
│   Умножение проще свёртки — в этом сила Фурье!                             │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│ ┌─────────────────────┬────────────────────────────────────────────────┐    │
│ │ РАСПРЕДЕЛЕНИЕ       │ ХАРАКТЕРИСТИЧЕСКАЯ ФУНКЦИЯ                     │    │
│ ├─────────────────────┼────────────────────────────────────────────────┤    │
│ │ N(μ, σ²)            │ φ(t) = exp(iμt − σ²t²/2)                      │    │
│ │ Exp(λ)              │ φ(t) = λ/(λ − it)                             │    │
│ │ Poisson(λ)          │ φ(t) = exp(λ(eⁱᵗ − 1))                        │    │
│ └─────────────────────┴────────────────────────────────────────────────┘    │
│                                                                             │
│ СЛЕДСТВИЕ (ЦПТ через Фурье):                                                │
│   Почему сумма независимых с.в. → нормальное распределение?                │
│   Потому что φ_N(t) = exp(−t²/2) — единственная функция, удовлетворяющая   │
│   φ(t)ⁿ → φ(t) при правильной нормировке (неподвижная точка!).             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВЕРОЯТНОСТНОЕ ПРОГРАММИРОВАНИЕ — МОСТ МЕЖДУ БАЙЕСОМ И КОДОМ                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В обычном коде: x = 5                      (детерминированное значение)    │
│ В вероятн. коде: x ~ Normal(μ, σ)          (переменная = распределение!)   │
│                                                                             │
│ ПРИМЕР (псевдокод Stan):                                                    │
│                                                                             │
│   data { vector[N] y; }                     // наблюдения                   │
│   parameters { real mu; real<lower=0> sigma; }                              │
│   model {                                                                   │
│     mu ~ Normal(0, 10);                     // априорное распределение     │
│     sigma ~ Cauchy(0, 5);                                                   │
│     y ~ Normal(mu, sigma);                  // модель данных               │
│   }                                                                         │
│                                                                             │
│ Система автоматически вычисляет P(μ, σ | y) — апостериорное!               │
│                                                                             │
│ ЗАЧЕМ: Декларативное описание модели вместо ручного вывода формул Байеса.  │
│ Алгоритмы (MCMC, вариационный вывод) работают "под капотом".               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: НАДЁЖНОСТЬ НАСОСНОЙ СТАНЦИИ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Насосная станция с 3 насосами. Для работы нужны хотя бы 2 из 3.     │
│ Каждый насос выходит из строя независимо с вероятностью p = 0.1 за год.     │
│ Какова вероятность отказа станции?                                          │
│                                                                             │
│         ┌──────────┐                                                        │
│    ─────│ Насос 1  │─────┐                                                  │
│         └──────────┘     │     Нужно ≥2 работающих!                         │
│         ┌──────────┐     │                                                  │
│    ─────│ Насос 2  │─────┼───►  выход                                       │
│         └──────────┘     │                                                  │
│         ┌──────────┐     │                                                  │
│    ─────│ Насос 3  │─────┘                                                  │
│         └──────────┘                                                        │
│                                                                             │
│ МОДЕЛЬ: X ~ Binomial(n=3, p=0.1) — число отказавших насосов                 │
│                                                                             │
│   P(X = k) = C(3,k) · 0.1ᵏ · 0.9³⁻ᵏ                                        │
│                                                                             │
│   P(X = 0) = 0.9³ = 0.729      (все работают)                               │
│   P(X = 1) = 3·0.1·0.81 = 0.243   (один отказал)                           │
│   P(X = 2) = 3·0.01·0.9 = 0.027   (два отказали — АВАРИЯ!)                 │
│   P(X = 3) = 0.001               (все отказали — АВАРИЯ!)                  │
│                                                                             │
│   P(авария) = P(X ≥ 2) = 0.027 + 0.001 = 0.028 = 2.8%                      │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СРАВНЕНИЕ СХЕМ РЕЗЕРВИРОВАНИЯ                                               │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   ┌──────────────────────────┬────────────────┬─────────────────────────────┐│
│   │ СХЕМА                    │ P(авария)      │ КОММЕНТАРИЙ                 ││
│   ├──────────────────────────┼────────────────┼─────────────────────────────┤│
│   │ 1 насос (без резерва)    │ 0.1 = 10%      │ Базовый вариант             ││
│   ├──────────────────────────┼────────────────┼─────────────────────────────┤│
│   │ 2 из 2 (оба нужны)       │ 1−0.9² = 19%   │ Хуже! Последоват. соединение││
│   ├──────────────────────────┼────────────────┼─────────────────────────────┤│
│   │ 1 из 2 (любой достаточен)│ 0.1² = 1%      │ Параллельное соединение     ││
│   ├──────────────────────────┼────────────────┼─────────────────────────────┤│
│   │ 2 из 3 (наш случай)      │ 2.8%           │ Мажоритарное голосование    ││
│   └──────────────────────────┴────────────────┴─────────────────────────────┘│
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ЭКСПОНЕНЦИАЛЬНОЕ РАСПРЕДЕЛЕНИЕ — ВРЕМЯ ДО ОТКАЗА                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   Если λ = интенсивность отказов (1/год), то время до отказа:               │
│                                                                             │
│   T ~ Exp(λ),  P(T > t) = e^(−λt)                                          │
│                                                                             │
│   Среднее время до отказа: E[T] = 1/λ                                       │
│                                                                             │
│   ПРИМЕР: λ = 0.1/год ⇒ E[T] = 10 лет — средний срок службы насоса         │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МОРАЛЬ: Вероятность — инструмент для расчёта надёжности систем.             │
│ Независимость событий + формулы для схем соединения = анализ резервирования.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
П20. ТЕОРИЯ ИНФОРМАЦИИ — МАТЕМАТИКА НЕОПРЕДЕЛЁННОСТИ И СВЯЗИ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНФОРМАЦИЯ КАК ВЗГЛЯД НА ПРОСТРАНСТВО                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Теория информации изучает ПРОСТРАНСТВО СООБЩЕНИЙ и их вероятности.         │
│                                                                             │
│ Ключевая идея: сообщения образуют пространство, и можно измерить           │
│ "расстояние" между распределениями вероятностей на этом пространстве:      │
│                                                                             │
│   • Энтропия H(X) — "размер" неопределённости                               │
│   • KL-дивергенция D(P||Q) — "расстояние" между распределениями             │
│   • Взаимная информация I(X;Y) — "пересечение" неопределённостей            │
│                                                                             │
│ Эта геометрия на пространстве вероятностей — основа машинного обучения.    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВИЗУАЛИЗАЦИЯ: ЭНТРОПИЯ = МЕРА БЕСПОРЯДКА                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   НАЧАЛЬНОЕ СОСТОЯНИЕ              ПОСЛЕ СМЕШИВАНИЯ                         │
│   (низкая энтропия)                (высокая энтропия)                       │
│                                                                             │
│   ┌─────────┬─────────┐            ┌───────────────────┐                   │
│   │ ● ● ● ● │ ○ ○ ○ ○ │            │ ○ ● ○ ● ● ○ ○ ● │                   │
│   │ ● ● ● ● │ ○ ○ ○ ○ │     →      │ ● ○ ● ○ ○ ● ● ○ │                   │
│   │ ● ● ● ● │ ○ ○ ○ ○ │            │ ○ ○ ● ● ○ ● ○ ● │                   │
│   │ ● ● ● ● │ ○ ○ ○ ○ │            │ ● ● ○ ○ ● ○ ● ○ │                   │
│   └─────────┴─────────┘            └───────────────────┘                   │
│    Горячий    Холодный              Тёплый (равномерно)                     │
│      газ        газ                                                         │
│                                                                             │
│   ИНФОРМАЦИЯ: "знаю, где какие молекулы"  →  "не знаю, где какие"          │
│   ЭНТРОПИЯ:   низкая (порядок)            →  высокая (беспорядок)          │
│   ПРОЦЕСС:    НЕОБРАТИМ (2-й закон термодинамики)                          │
│                                                                             │
│   КОЛИЧЕСТВЕННО: S = kᵦ ln W, где W — число способов расположить молекулы │
│   Смешанное состояние: W гораздо больше → S гораздо больше                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П20.1  ЭНТРОПИЯ ШЕННОНА — МЕРА НЕОПРЕДЕЛЁННОСТИ                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МОТИВАЦИЯ: Сколько "информации" несёт сообщение?                            │
│                                                                             │
│   • "Солнце взошло на востоке" — мало информации (ожидаемо)                 │
│   • "Солнце взошло на западе" — много информации (неожиданно!)              │
│                                                                             │
│ ИДЕЯ ШЕННОНА (1948): Информация = мера НЕОЖИДАННОСТИ                        │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ ЭНТРОПИИ:                                                       │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   H(X) = −Σᵢ pᵢ log₂ pᵢ     (биты)                                      │ │
│ │                                                                         │ │
│ │   H(X) = −Σᵢ pᵢ ln pᵢ       (наты, если натуральный логарифм)           │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СМЫСЛ: Энтропия = среднее количество "вопросов да/нет" для определения      │
│ исхода случайной величины X.                                                │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│                                                                             │
│ ┌───────────────────────┬─────────────────────┬────────────────────────────┐│
│ │ РАСПРЕДЕЛЕНИЕ         │ ЭНТРОПИЯ            │ ИНТУИЦИЯ                   ││
│ ├───────────────────────┼─────────────────────┼────────────────────────────┤│
│ │ Монета (½, ½)         │ H = 1 бит           │ Один вопрос: "орёл?"       ││
│ ├───────────────────────┼─────────────────────┼────────────────────────────┤│
│ │ Кубик (⅙, ⅙, ..., ⅙)  │ H = log₂6 ≈ 2.58   │ ~2.58 вопросов в среднем   ││
│ ├───────────────────────┼─────────────────────┼────────────────────────────┤│
│ │ Определённое (1,0,0)  │ H = 0               │ Нет неопределённости       ││
│ ├───────────────────────┼─────────────────────┼────────────────────────────┤│
│ │ Смещённая (0.99,0.01) │ H ≈ 0.08 бит        │ Почти всегда известно      ││
│ └───────────────────────┴─────────────────────┴────────────────────────────┘│
│                                                                             │
│ СВОЙСТВА ЭНТРОПИИ:                                                          │
│   • H(X) ≥ 0 (неотрицательность)                                            │
│   • H(X) = 0 ⟺ X определена (вероятность 1 у одного исхода)                │
│   • H(X) максимальна при равномерном распределении (max = log n)            │
│   • H(X,Y) ≤ H(X) + H(Y), равенство при независимости                       │
│                                                                             │
│ ⚠️  ДИФФЕРЕНЦИАЛЬНАЯ ЭНТРОПИЯ (для непрерывных распределений):               │
│                                                                             │
│   h(X) = −∫ f(x) ln f(x) dx                                                 │
│                                                                             │
│   ВАЖНО: Это НЕ прямое обобщение дискретной энтропии!                       │
│     • h(X) МОЖЕТ БЫТЬ ОТРИЦАТЕЛЬНОЙ (например, для узких распределений)     │
│     • h(X) зависит от единиц измерения (масштабирования)                    │
│     • Для нормального: h(X) = ½ ln(2πeσ²), отрицательна при σ² < 1/(2πe)  │
│                                                                             │
│   Инженеры часто путаются: дискретная H(X) ≥ 0, но дифф. h(X) ∈ ℝ!        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П20.2  СВЯЗЬ С ТЕРМОДИНАМИЧЕСКОЙ ЭНТРОПИЕЙ                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕРМОДИНАМИКА (Больцман, ~1870):                                            │
│                                                                             │
│   S = kᵦ ln W                                                               │
│                                                                             │
│   где W — число микросостояний, kᵦ — постоянная Больцмана                   │
│                                                                             │
│ ТЕОРИЯ ИНФОРМАЦИИ (Шеннон, 1948):                                           │
│                                                                             │
│   H = −Σ pᵢ ln pᵢ                                                           │
│                                                                             │
│ ЭТО ОДНО И ТО ЖЕ! (с точностью до константы kᵦ)                             │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ФИЗИКА                      │ ТЕОРИЯ ИНФОРМАЦИИ                         │ │
│ ├─────────────────────────────┼───────────────────────────────────────────┤ │
│ │ Энтропия системы S          │ Количество неизвестной информации H       │ │
│ ├─────────────────────────────┼───────────────────────────────────────────┤ │
│ │ 2-й закон: S возрастает     │ Информация теряется при передаче          │ │
│ ├─────────────────────────────┼───────────────────────────────────────────┤ │
│ │ Тепловая смерть             │ Максимум неопределённости                 │ │
│ ├─────────────────────────────┼───────────────────────────────────────────┤ │
│ │ Демон Максвелла             │ Информация имеет термодинам. цену         │ │
│ └─────────────────────────────┴───────────────────────────────────────────┘ │
│                                                                             │
│ ПРИНЦИП ЛАНДАУЭРА (1961):                                                   │
│   Стирание 1 бита информации требует минимум kᵦT ln 2 энергии              │
│   → Информация ФИЗИЧНА!                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П20.3  ВЗАИМНАЯ ИНФОРМАЦИЯ И КАНАЛ СВЯЗИ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ УСЛОВНАЯ ЭНТРОПИЯ:                                                          │
│   H(Y|X) = "неопределённость Y, если известно X"                            │
│   H(Y|X) = Σₓ p(x) H(Y|X=x) = −Σₓ,ᵧ p(x,y) log p(y|x)                      │
│                                                                             │
│ ВЗАИМНАЯ ИНФОРМАЦИЯ:                                                        │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   I(X;Y) = H(X) + H(Y) − H(X,Y) = H(X) − H(X|Y) = H(Y) − H(Y|X)         │ │
│ │                                                                         │ │
│ │   Сколько информации X и Y имеют ОБЩЕГО                                 │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ (диаграмма Венна для энтропий):                                │
│                                                                             │
│        ┌───────────────────────────────────────┐                            │
│        │               H(X,Y)                  │                            │
│        │    ┌───────────────────────┐          │                            │
│        │    │         ╭─────╮       │          │                            │
│        │    │   H(X)  │I(X;Y)  H(Y) │          │                            │
│        │    │         ╰─────╯       │          │                            │
│        │    └───────────────────────┘          │                            │
│        └───────────────────────────────────────┘                            │
│                                                                             │
│        H(X|Y)    I(X;Y)    H(Y|X)                                           │
│        ←─────→   ←────→    ←─────→                                          │
│                                                                             │
│ ТЕОРЕМА ШЕННОНА О КАНАЛЕ:                                                   │
│   Пропускная способность канала: C = max I(X;Y)                             │
│   При скорости < C возможна передача без ошибок!                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П20.4  ДИВЕРГЕНЦИЯ КУЛЬБАКА-ЛЕЙБЛЕРА                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ KL-ДИВЕРГЕНЦИЯ (относительная энтропия):                                    │
│                                                                             │
│   D_KL(P ∥ Q) = Σᵢ pᵢ log(pᵢ/qᵢ)                                           │
│                                                                             │
│ СМЫСЛ: "Расстояние" от распределения Q к распределению P                    │
│   (сколько бит теряется при использовании Q вместо P)                       │
│                                                                             │
│ СВОЙСТВА:                                                                   │
│   • D_KL ≥ 0 (неравенство Гиббса)                                           │
│   • D_KL = 0 ⟺ P = Q                                                       │
│   • НЕ симметрична: D_KL(P∥Q) ≠ D_KL(Q∥P) в общем случае                   │
│   • НЕ удовлетворяет неравенству треугольника                               │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│   • Машинное обучение: функция потерь для классификации                     │
│   • Вариационный вывод: приближение сложных распределений                   │
│   • Статистика: тесты согласия, выбор моделей                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П20.5  КОДИРОВАНИЕ И СЖАТИЕ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРЕМА ШЕННОНА О КОДИРОВАНИИ ИСТОЧНИКА:                                    │
│   Минимальная средняя длина кода = H(X)                                     │
│   Нельзя сжать лучше, чем до H(X) бит на символ!                            │
│                                                                             │
│ ПРИМЕР: Текст на английском                                                 │
│   Равномерно: log₂(26) ≈ 4.7 бит/буква                                      │
│   Реально: H ≈ 1.0-1.5 бит/буква (из-за неравномерности частот)             │
│   → Можно сжать в ~3 раза!                                                  │
│                                                                             │
│ ОПТИМАЛЬНЫЕ КОДЫ:                                                           │
│   • Код Хаффмана — оптимальный префиксный код                               │
│   • Арифметическое кодирование — приближается к H(X)                        │
│                                                                             │
│ СВЯЗЬ С ПРОСТРАНСТВАМИ:                                                     │
│   Множество всех вероятностных распределений на n исходах —                 │
│   это (n−1)-мерный симплекс:  Δⁿ⁻¹ = {(p₁,...,pₙ): Σpᵢ=1, pᵢ≥0}           │
│   Энтропия H — это гладкая функция на этом симплексе.                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П20.6  СВЯЗЬ ТЕОРИИ ИНФОРМАЦИИ С ДРУГИМИ РАЗДЕЛАМИ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────┬───────────────────────────────────────────────┐ │
│ │ ОБЛАСТЬ                 │ СВЯЗЬ                                         │ │
│ ├─────────────────────────┼───────────────────────────────────────────────┤ │
│ │ Термодинамика           │ S = kᵦH (энтропия = информац. энтропия)       │ │
│ ├─────────────────────────┼───────────────────────────────────────────────┤ │
│ │ Статистика              │ Фишеровская информация, ML-оценки             │ │
│ ├─────────────────────────┼───────────────────────────────────────────────┤ │
│ │ Машинное обучение       │ Cross-entropy loss, VAE, информац. узкие места│ │
│ ├─────────────────────────┼───────────────────────────────────────────────┤ │
│ │ Теория кодирования      │ Коды с исправлением ошибок, сжатие            │ │
│ ├─────────────────────────┼───────────────────────────────────────────────┤ │
│ │ Криптография            │ Совершенная секретность, энтропия ключа       │ │
│ ├─────────────────────────┼───────────────────────────────────────────────┤ │
│ │ Квантовая механика      │ Фон-неймановская энтропия, запутанность       │ │
│ └─────────────────────────┴───────────────────────────────────────────────┘ │
│                                                                             │
│ ГЛУБИННЫЙ СМЫСЛ:                                                            │
│   Энтропия — универсальная мера "беспорядка" или "незнания".                │
│   Она появляется везде, где есть вероятности и неопределённость.            │
│   Это мост между дискретным (биты) и непрерывным (термодинамика).           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                         ВЕЛИКОЕ ОБЪЕДИНЕНИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   Вся математика — это ОДИН узор, рассматриваемый с разных точек зрения.   │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                                                                     │   │
│   │                          СТРУКТУРА                                  │   │
│   │                              │                                      │   │
│   │            ┌─────────────────┼─────────────────┐                    │   │
│   │            │                 │                 │                    │   │
│   │            ▼                 ▼                 ▼                    │   │
│   │      ┌──────────┐      ┌──────────┐      ┌──────────┐              │   │
│   │      │ АЛГЕБРА  │      │ТОПОЛОГИЯ │      │ АНАЛИЗ   │              │   │
│   │      │          │      │          │      │          │              │   │
│   │      │симметрии │◄────►│  форма   │◄────►│изменение │              │   │
│   │      │ G · g⁻¹  │      │  τ, π₁   │      │  d, ∫    │              │   │
│   │      └──────────┘      └──────────┘      └──────────┘              │   │
│   │            │                 │                 │                    │   │
│   │            └─────────────────┼─────────────────┘                    │   │
│   │                              │                                      │   │
│   │                              ▼                                      │   │
│   │                     ┌────────────────┐                              │   │
│   │                     │   КАТЕГОРИИ    │                              │   │
│   │                     │                │                              │   │
│   │                     │ Объекты        │                              │   │
│   │                     │ Морфизмы       │                              │   │
│   │                     │ Функторы       │                              │   │
│   │                     └────────────────┘                              │   │
│   │                              │                                      │   │
│   │                              ▼                                      │   │
│   │                    УНИВЕРСАЛЬНЫЙ ЯЗЫК                               │   │
│   │                                                                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│   Группа — это категория с одним объектом, где все морфизмы обратимы.      │
│   Топология — это категория, где морфизмы = непрерывные отображения.       │
│   Линейная алгебра — категория с прямыми суммами и тензорными произвед.    │
│                                                                             │
│   Когда вы понимаете ОДНУ структуру глубоко — вы понимаете ВСЕ.            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОДИН ЯЗЫК — МНОГО ДИАЛЕКТОВ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                                                                     │   │
│   │    АЛГЕБРА         ТОПОЛОГИЯ       ЛИН.АЛГЕБРА      ДИФ.ГЕОМ.      │   │
│   │       │                │                │               │          │   │
│   │       ▼                ▼                ▼               ▼          │   │
│   │    ┌─────┐          ┌─────┐          ┌─────┐        ┌─────┐       │   │
│   │    │ker φ│          │ π₁  │          │ker T│        │ker d│       │   │
│   │    └──┬──┘          └──┬──┘          └──┬──┘        └──┬──┘       │   │
│   │       │                │                │               │          │   │
│   │       └────────────────┼────────────────┼───────────────┘          │   │
│   │                        │                │                          │   │
│   │                        ▼                ▼                          │   │
│   │                 ОДИН И ТОТ ЖЕ ПАТТЕРН:                             │   │
│   │                                                                     │   │
│   │                     "ЧТО УХОДИТ В НОЛЬ"                            │   │
│   │                                                                     │   │
│   │   Ядро — это то, что "схлопывается", "теряется", "тривиализуется"  │   │
│   │   при применении морфизма.                                         │   │
│   │                                                                     │   │
│   │   dim V = dim ker + dim Im  ← ЭТО РАБОТАЕТ ВЕЗДЕ!                  │   │
│   │                                                                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ЭТО ВАЖНО                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Математика — не набор техник для сдачи экзамена.                         │
│   Математика — язык, на котором написана Вселенная.                        │
│                                                                             │
│   Законы Максвелла: dF = 0, d*F = J  (две строчки!)                        │
│   Гравитация:       Gμν = 8πTμν      (одно уравнение!)                     │
│   Квантовая механика: iℏ∂ψ/∂t = Ĥψ  (одно уравнение!)                     │
│                                                                             │
│   Структуры, описанные в этом стандарте, лежат в основе:                   │
│   • Физики элементарных частиц (группы симметрий)                          │
│   • Общей теории относительности (многообразия, тензоры)                   │
│   • Квантовой механики (гильбертовы пространства, операторы)               │
│   • Криптографии (теория чисел, эллиптические кривые)                      │
│   • Машинного обучения (линейная алгебра, оптимизация)                     │
│                                                                             │
│   Изучая математику, вы изучаете структуру самой реальности.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                                                                             │
│         "Книга природы написана на языке математики"                       │
│                                                                             │
│                                         — Галилео Галилей                   │
│                                                                             │
│                                                                             │
│         "Бог — геометр"                                                    │
│                                                                             │
│                                         — Платон                            │
│                                                                             │
│                                                                             │
│         "Математика — это музыка разума"                                   │
│                                                                             │
│                                         — Джеймс Джозеф Сильвестр          │
│                                                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
B1. СЛОВАРЬ: ПРОГРАММИРОВАНИЕ ↔ МАТЕМАТИКА
═══════════════════════════════════════════════════════════════════════════════

Базовые концепции программирования на языке теории множеств.

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.1  БАЗОВЫЕ ПОНЯТИЯ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПЕРЕМЕННАЯ                                                                  │
│ ──────────                                                                  │
│ Программирование:  x = 5                                                    │
│                                                                             │
│ Математика:                                                                 │
│   Переменная = имя (идентификатор) для элемента некоторого множества        │
│   Формально: функция из пространства имён в множество значений              │
│   Var: Names → Values,  Var("x") = 5 ∈ ℤ                                   │
│                                                                             │
│ КЛЮЧЕВОЕ ОТЛИЧИЕ:                                                           │
│   В математике: x = 5 → утверждение (x всегда равен 5)                      │
│   В программировании: x = 5 → присваивание (в ящик "x" положили 5)          │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ПРИСВАИВАНИЕ                                                                │
│ ────────────                                                                │
│ Программирование:  x = 5;  x = x + 1  # теперь x = 6                       │
│                                                                             │
│ Математика:                                                                 │
│   Присваивание = обновление отображения (последовательность состояний)      │
│   Var₀("x") = 5                                                            │
│   Var₁("x") = Var₀("x") + 1 = 6                                            │
│                                                                             │
│ НЕ математическое равенство!                                                │
│   x = x + 1  (в программировании) ≠ x = x + 1 (в математике — противоречие)│
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ТИП                                                                         │
│ ───                                                                         │
│ Программирование:  x: int = 5;  y: float = 3.14;  s: str = "текст"         │
│                                                                             │
│ Математика:                                                                 │
│   Тип = множество возможных значений                                        │
│                                                                             │
│   int ≈ ℤ (целые числа)                                                    │
│   float ≈ ℝ (вещественные, с ограничениями точности)                       │
│   str = множество всех конечных последовательностей символов                │
│   bool = {True, False} ≈ {⊤, ⊥}                                            │
│                                                                             │
│   Типизация = ограничение области значений: x: int означает x ∈ ℤ          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.2  ЛОГИЧЕСКИЕ ОПЕРАЦИИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ УСЛОВИЕ (if)                                                                │
│ ────────────                                                                │
│ Программирование:                                                           │
│   if условие:                                                               │
│       действие_1                                                            │
│   else:                                                                     │
│       действие_2                                                            │
│                                                                             │
│ Математика (кусочная функция):                                              │
│   f(x) = { g₁(x),  если P(x)                                               │
│          { g₂(x),  если ¬P(x)                                              │
│                                                                             │
│   где P(x) — предикат (логическое условие)                                  │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ЛОГИЧЕСКИЕ ОПЕРАТОРЫ                                                        │
│ ─────────────────────                                                       │
│                                                                             │
│   Программирование  │  Математика (логика)  │  Геометрия (множества)        │
│   ──────────────────┼───────────────────────┼────────────────────────       │
│   and               │  ∧ (конъюнкция)       │  ∩ (пересечение)              │
│   or                │  ∨ (дизъюнкция)       │  ∪ (объединение)              │
│   not               │  ¬ (отрицание)        │  ᶜ (дополнение)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.3  УПРАВЛЕНИЕ ПОТОКОМ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЦИКЛ for                                                                    │
│ ────────                                                                    │
│ Программирование:  for x in S: f(x)                                        │
│                                                                             │
│ Математика:                                                                 │
│   Применение функции f к каждому элементу множества S                       │
│   ∀x ∈ S: f(x)                                                             │
│   Если собираем результаты: ⋃_{x ∈ S} {f(x)}                               │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ЦИКЛ while                                                                  │
│ ──────────                                                                  │
│ Программирование:  while условие: действие                                 │
│                                                                             │
│ Математика:                                                                 │
│   Итерация до достижения условия остановки                                  │
│   xₙ₊₁ = f(xₙ)  пока  P(xₙ) = ⊤                                            │
│   Остановка когда P(xₙ) = ⊥                                                │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ФУНКЦИЯ                                                                     │
│ ───────                                                                     │
│ Программирование:                                                           │
│   def f(x, y):                                                              │
│       return x + y                                                          │
│                                                                             │
│ Математика:                                                                 │
│   f: X × Y → Z,  f(x, y) = x + y                                           │
│                                                                             │
│ КЛЮЧЕВОЕ:                                                                   │
│   • Функция в программировании может иметь ПОБОЧНЫЕ ЭФФЕКТЫ                 │
│   • Математическая функция — чистое отображение                            │
│                                                                             │
│ Чистая функция (pure):  def pure(x): return x * 2                          │
│ Нечистая (impure):      def impure(x): global counter; counter += 1        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ РЕКУРСИЯ                                                                    │
│ ────────                                                                    │
│ Программирование:                                                           │
│   def factorial(n):                                                         │
│       if n == 0: return 1                                                   │
│       else: return n * factorial(n-1)                                       │
│                                                                             │
│ Математика (рекуррентное определение):                                      │
│   f: ℕ → ℕ                                                                 │
│   f(0) = 1              (база)                                              │
│   f(n) = n · f(n−1)     (рекуррентный шаг)                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.4  СТРУКТУРЫ ДАННЫХ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СПИСОК (list)                                                               │
│ ─────────────                                                               │
│ Программирование:  L = [1, 2, 3]                                           │
│                                                                             │
│ Математика:                                                                 │
│   Конечная последовательность = функция из {0, 1, ..., n−1} в множество    │
│   L: {0, 1, 2} → ℤ,  L(0)=1, L(1)=2, L(2)=3                                │
│   Упорядоченный кортеж: (1, 2, 3) ∈ ℤ³                                     │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ МНОЖЕСТВО (set)                                                             │
│ ───────────────                                                             │
│ Программирование:  S = {1, 2, 3}                                           │
│                                                                             │
│ Математика:                                                                 │
│   Множество = коллекция без порядка и повторов                              │
│   S = {1, 2, 3} ⊂ ℤ                                                        │
│                                                                             │
│   Операции: S ∪ T (union), S ∩ T (intersection), S \ T (difference)        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ СЛОВАРЬ (dict)                                                              │
│ ──────────────                                                              │
│ Программирование:  d = {'a': 1, 'b': 2}                                    │
│                                                                             │
│ Математика:                                                                 │
│   Словарь = частичная функция из Keys в Values                              │
│   d: K ⇀ V,  d('a') = 1, d('b') = 2                                        │
│                                                                             │
│   Как множество пар: d ⊂ K × V                                             │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ КЛАСС и ОБЪЕКТ                                                              │
│ ──────────────                                                              │
│ Программирование:                                                           │
│   class Point:                                                              │
│       def __init__(self, x, y):                                             │
│           self.x = x                                                        │
│           self.y = y                                                        │
│   p = Point(3, 4)                                                           │
│                                                                             │
│ Математика:                                                                 │
│   Класс = алгебраическая структура (множество + операции + аксиомы)         │
│   Point = (ℝ × ℝ, {distance, move, ...})                                   │
│   Объект = элемент этого множества: p = (3, 4) ∈ ℝ²                        │
│                                                                             │
│   Наследование = вложение структур (подструктура наследует операции)        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.5  ФУНКЦИОНАЛЬНОЕ ПРОГРАММИРОВАНИЕ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЛЯМБДА-ФУНКЦИЯ                                                              │
│ ───────────────                                                             │
│ Программирование:  f = lambda x: x**2                                      │
│ Математика:        f = λx. x²  (λ-исчисление)                              │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ MAP                                                                         │
│ ───                                                                         │
│ Программирование:  map(f, [1,2,3]) → [f(1), f(2), f(3)]                    │
│ Математика:        (f(x₁), f(x₂), f(x₃)) — поточечное применение функции   │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ FILTER                                                                      │
│ ──────                                                                      │
│ Программирование:  filter(P, L) — элементы, для которых P(x) = True        │
│ Математика:        {x ∈ L : P(x)} — селекция подмножества по предикату     │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ REDUCE (fold)                                                               │
│ ─────────────                                                               │
│ Программирование:  reduce(⊕, [a,b,c], init) → ((init ⊕ a) ⊕ b) ⊕ c        │
│ Математика:        Свёртка: композиция бинарной операции по списку         │
│                    reduce(+, [1,2,3], 0) = 0+1+2+3 = 6                      │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ LIST COMPREHENSION                                                          │
│ ──────────────────                                                          │
│ Программирование:  [f(x) for x in S if P(x)]                               │
│ Математика:        {f(x) : x ∈ S, P(x)} — определение множества            │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ КОМПОЗИЦИЯ ФУНКЦИЙ                                                          │
│ ──────────────────                                                          │
│ Программирование:  compose(f, g)(x) = f(g(x))                              │
│ Математика:        (f ∘ g)(x) = f(g(x))                                    │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ДЕКОРАТОР                                                                   │
│ ─────────                                                                   │
│ Программирование:                                                           │
│   @decorator                                                                │
│   def f(x): ...                                                             │
│                                                                             │
│ Математика:                                                                 │
│   Функция высшего порядка: decorator: (X → Y) → (X → Y)                    │
│   f̃ = decorator(f)                                                         │
│                                                                             │
│   Геометрически — обёртка:                                                  │
│        ┌─────────────┐                                                      │
│        │  decorator  │                                                      │
│        │  ┌───────┐  │                                                      │
│    x ──│→ │   f   │ ─│→ y                                                  │
│        │  └───────┘  │                                                      │
│        └─────────────┘                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.6  СПЕЦИАЛЬНЫЕ КОНЦЕПЦИИ                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГЛОБАЛЬНОЕ СОСТОЯНИЕ                                                        │
│ ────────────────────                                                        │
│ Программирование:                                                           │
│   counter = 0                                                               │
│   def increment(): global counter; counter += 1                             │
│                                                                             │
│ Математика:                                                                 │
│   Функция с побочным эффектом: f: X × Env → Y × Env                        │
│   Вход + состояние → выход + новое состояние                               │
│                                                                             │
│   Монада State: State s a = s → (a, s)                                     │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ИТЕРАТОР                                                                    │
│ ────────                                                                    │
│ Программирование:                                                           │
│   it = iter([1, 2, 3])                                                      │
│   next(it)  # 1                                                             │
│   next(it)  # 2                                                             │
│                                                                             │
│ Математика:                                                                 │
│   Итератор = пара (состояние, функция перехода)                             │
│   Iterator = (S, next: S → S × V ∪ {Stop})                                 │
│   Автомат: s₀ ─next→ (v₁, s₁) ─next→ (v₂, s₂) → ...                        │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ЛЕНИВЫЕ ВЫЧИСЛЕНИЯ                                                          │
│ ──────────────────                                                          │
│ Программирование:                                                           │
│   g = (x**2 for x in range(10**9))  # НЕ вычисляется сразу!                │
│   next(g)  # вычисляется по требованию                                      │
│                                                                             │
│ Математика:                                                                 │
│   Thunk = () → Value — отложенное вычисление                               │
│   Вместо value храним функцию, которая его вычислит                         │
│                                                                             │
│ Бесконечные последовательности:                                             │
│   def fibonacci():                                                          │
│       a, b = 0, 1                                                           │
│       while True:                                                           │
│           yield a                                                           │
│           a, b = b, a+b                                                     │
│                                                                             │
│   Математически: fib: ℕ → ℕ (функция на всех натуральных)                  │
│   Но хранится как вычислительный процесс                                    │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ None / null                                                                 │
│ ──────────                                                                  │
│ Программирование:  x = None                                                │
│ Математика:        Maybe T = T ∪ {Nothing}                                 │
│                    x: Maybe Int → x = Nothing или x = Just(5)              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.7  СВОДНАЯ ТАБЛИЦА СООТВЕТСТВИЙ                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Программирование         │ Математика               │ Геометрия             │
│ ─────────────────────────┼──────────────────────────┼─────────────────────  │
│ x = 5                    │ Var("x") = 5 ∈ ℤ        │ Точка в координате 5  │
│ if P: A else: B          │ {A, если P; B, если ¬P} │ Ветвление траектории  │
│ for x in S: f(x)         │ ∀x∈S: f(x)              │ Обход точек множества │
│ while P: f()             │ xₙ₊₁=f(xₙ) пока P(xₙ)   │ Движение до границы   │
│ def f(x): return y       │ f: X → Y                │ Отображение           │
│ [x₁, x₂, x₃]             │ (x₁,x₂,x₃) — кортеж     │ Дискретная кривая     │
│ {x₁, x₂, x₃}             │ {x₁,x₂,x₃} — множество  │ Набор точек           │
│ {'k': v}                 │ k ↦ v — частич. функция │ Дискретное отображение│
│ class C                  │ (S, F) — алг. структура │ Многообразие с операц.│
│ object                   │ элемент S               │ Точка в пространстве  │
│ map(f, L)                │ (f(x₁),...,f(xₙ))       │ Поточечное преобразов.│
│ filter(P, L)             │ {x∈L : P(x)}            │ Селекция области      │
│ reduce(⊕, L)             │ x₁⊕x₂⊕...⊕xₙ           │ Композиция операций   │
│ lambda x: e              │ λx.e                    │ Анонимная функция     │
│ [f(x) for x in S if P(x)]│ {f(x) : x∈S, P(x)}      │ Определение через усл.│
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B1.8  ПАРАДИГМЫ ПРОГРАММИРОВАНИЯ                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ SQL (декларативный):        Реляционная алгебра (операции над множествами)  │
│ Python (императивный):      Пошаговые команды (алгоритм)                    │
│ Haskell (функциональный):   Композиция функций (λ-исчисление)               │
│ Prolog (логический):        Правила вывода (логика предикатов)              │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ БИБЛИОТЕКИ Python ↔ МАТЕМАТИКА:                                            │
│                                                                             │
│ NumPy array:        Вектор/матрица (элементы ℝⁿ, ℝⁿˣᵐ)                     │
│ Pandas DataFrame:   Отношение (таблица из реляционной алгебры)              │
│ sklearn.Model:      Статистическая модель (отображение X → Y с параметрами)│
│ NetworkX Graph:     Граф G = (V, E) (множество вершин + рёбер)              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
B2. СЛОВАРЬ: ТЕОРИЯ СЛУЧАЙНЫХ ПРОЦЕССОВ ↔ АНАЛИЗ ВРЕМЕННЫХ РЯДОВ
═══════════════════════════════════════════════════════════════════════════════

Мост между строгой теорией (теория меры, стохастический анализ) и практикой
(эконометрика, анализ данных, прогнозирование).

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.1  ОСНОВНЫЕ ОБЪЕКТЫ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ СЛУЧАЙНЫХ ПРОЦЕССОВ     │ АНАЛИЗ ВРЕМЕННЫХ РЯДОВ                     │
│ ───────────────────────────────┼───────────────────────────────────────     │
│ Случайный процесс {X(t), t∈T}  │ Временной ряд {x₁, x₂, ..., xₙ}           │
│ Отображение T × Ω → ℝ          │ Последовательность наблюдений              │
│                                │                                            │
│ Траектория (реализация)        │ Наблюдаемый ряд                           │
│ X(·, ω) для фиксированного ω   │ Конкретная последовательность чисел        │
│                                │                                            │
│ Вероятностное пр-во (Ω,ℱ,P)   │ DGP (Data Generating Process)              │
│                                │ Генеральная совокупность                  │
│                                │                                            │
│ Фильтрация {ℱₜ}               │ Информационное множество                   │
│ σ-алгебры прошлого             │ История процесса до момента t              │
│                                │                                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.2  СВОЙСТВА ПРОЦЕССОВ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ                         │ ПРАКТИКА                                   │
│ ───────────────────────────────┼─────────────────────────────────────────── │
│ Стационарность в узком смысле  │ (нет прямого аналога)                      │
│ F(xₜ₁,...,xₜₙ) = F(xₜ₁₊ₕ,...)  │ Слишком сильное требование                 │
│                                │                                            │
│ Стационарность в широком       │ Стационарность (слабая)                    │
│ смысле (слабая)                │ Постоянные mean и variance,                │
│ E[X(t)] = μ = const            │ ACF зависит только от лага                 │
│ Cov(X(t),X(s)) = R(|t−s|)     │ μₜ = μ, σₜ² = σ², ρ(τ)                     │
│                                │                                            │
│ Эргодичность                   │ Временное среднее = матожиданию            │
│ lim(T→∞) 1/T ∫X(t)dt = E[X]   │ (1/n)Σxᵢ → μ при n → ∞                    │
│                                │ Можно оценивать по одной реализации        │
│                                │                                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.3  ХАРАКТЕРИСТИКИ ПРОЦЕССОВ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ                         │ ПРАКТИКА                                   │
│ ───────────────────────────────┼─────────────────────────────────────────── │
│ Математическое ожидание        │ Среднее уровня / тренд                     │
│ m(t) = E[X(t)]                │ μ = (1/n)Σxᵢ                               │
│ Для стационарного: m = const   │ μ̂ — выборочное среднее                     │
│                                │                                            │
│ Автоковариационная функция     │ ACVF (autocovariance function)             │
│ γ(s,t) = Cov(X(s),X(t))       │ γ(k) = Cov(xₜ, xₜ₊ₖ)                       │
│ Для стационарного:             │ γ̂(k) = (1/n)Σ(xᵢ−x̄)(xᵢ₊ₖ−x̄)               │
│ γ(τ) = Cov(X(t),X(t+τ))       │                                            │
│                                │                                            │
│ Автокорреляционная функция     │ ACF (autocorrelation function)             │
│ ρ(τ) = γ(τ)/γ(0)              │ ρ(k) = γ(k)/γ(0)                           │
│ Нормированная ковариация       │ ρ̂(k) — выборочная ACF                      │
│                                │                                            │
│ Частичная автокорреляция       │ PACF                                       │
│ φₖₖ из уравнений Юла-Уолкера  │ Для определения порядка AR-модели          │
│                                │                                            │
│ Спектральная плотность         │ Power spectrum / периодограмма             │
│ S(ω) = (1/2π)Σγ(k)e^(−ikω)   │ I(ω) = |(1/√n)Σxₜe^(−iωt)|²               │
│ Теорема Винера-Хинчина:        │ Связь ACF и спектра через FFT              │
│ S(ω) ↔ γ(τ) через Фурье       │                                            │
│                                │                                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.4  ТИПЫ ПРОЦЕССОВ И МОДЕЛИ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ                         │ ПРАКТИКА                                   │
│ ───────────────────────────────┼─────────────────────────────────────────── │
│ Белый шум                      │ White noise / Инновации                    │
│ {ξₜ} ~ WN(0, σ²)              │ εₜ ~ iid(0, σ²)                            │
│ E[ξₜ] = 0, E[ξₜξₛ] = σ²δₜₛ   │ Некоррелированы, E[εₜ] = 0                 │
│                                │                                            │
│ Гауссовский процесс            │ Нормально распределённый ряд               │
│ Все конечномерные распределения│ Часто предполагается для                   │
│ гауссовские                    │ статистических выводов                     │
│                                │                                            │
│ Марковский процесс             │ AR(1) процесс                              │
│ P(Xₜ₊₁|Xₜ,Xₜ₋₁,...) = P(Xₜ₊₁|Xₜ)│ xₜ = φxₜ₋₁ + εₜ                          │
│ Будущее зависит только от      │ Авторегрессия первого порядка              │
│ настоящего                     │                                            │
│                                │                                            │
│ Винеровский процесс            │ Случайное блуждание                        │
│ (Броуновское движение)         │ в непрерывном времени                      │
│ W(t) ~ N(0,t), непрерывный,   │ Предел Δxₜ = εₜ при Δt → 0                │
│ недифференцируемый             │ I(1) процесс                               │
│                                │                                            │
│ Процесс с независимыми         │ Случайное блуждание                        │
│ приращениями                   │ xₜ = xₜ₋₁ + εₜ                            │
│ X(t)−X(s) ⊥ X(s)−X(r)         │ Дискретный аналог винеровского             │
│                                │                                            │
│ Процесс Орнштейна-Уленбека     │ AR(1) в непрерывном времени                │
│ dXₜ = −θ(Xₜ−μ)dt + σdWₜ       │ Mean-reverting процесс                     │
│ Возврат к среднему             │                                            │
│                                │                                            │
│ Мартингал                      │ Непредсказуемый процесс                    │
│ E[Xₜ₊₁|ℱₜ] = Xₜ               │ E[εₜ₊₁|прошлое] = 0                        │
│ Лучшее предсказание = текущее  │ Правильно подогнанная модель              │
│ значение                       │ даёт остатки-мартингалы                    │
│                                │                                            │
│ Процесс с долгой памятью       │ ARFIMA / Long memory процесс               │
│ γ(k) ~ Ck^(−α), α ∈ (0,1)     │ Медленно убывающая ACF                     │
│                                │ Дробно интегрированный процесс             │
│                                │                                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.5  МОДЕЛИ ВРЕМЕННЫХ РЯДОВ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ СТОХАСТИЧЕСКОЕ ДУ              │ ДИСКРЕТНАЯ МОДЕЛЬ                          │
│ ───────────────────────────────┼─────────────────────────────────────────── │
│ Линейное СДУ                   │ ARMA(p,q) модель                           │
│ dXₜ = a·Xₜdt + σdWₜ           │ φ(L)xₜ = θ(L)εₜ                            │
│                                │ φ(L) = 1−φ₁L−...−φₚLᵖ                     │
│                                │ θ(L) = 1+θ₁L+...+θᵩLᵠ                     │
│                                │                                            │
│ Процесс Орнштейна-Уленбека     │ AR(1): xₜ = φxₜ₋₁ + εₜ                    │
│ dXₜ = −θ(Xₜ−μ)dt + σdWₜ       │ где φ = e^(−θΔt)                           │
│                                │                                            │
│ Винеровский процесс            │ Случайное блуждание                        │
│ W(t) − W(s) ~ N(0, t−s)       │ xₜ = xₜ₋₁ + εₜ                            │
│                                │ Интегрированный процесс I(1)               │
│                                │                                            │
│ Геометрическое броуновское     │ Логарифмическое случайное                  │
│ движение                       │ блуждание                                  │
│ dSₜ = μSₜdt + σSₜdWₜ          │ ln(xₜ) = ln(xₜ₋₁) + μ + σεₜ               │
│ S(t) = S(0)exp((μ−σ²/2)t+σW(t))│ Модель цен активов                        │
│                                │                                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.6  ОПЕРАТОРЫ И ОЦЕНИВАНИЕ                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ                         │ ПРАКТИКА                                   │
│ ───────────────────────────────┼─────────────────────────────────────────── │
│ Оператор сдвига                │ Лаговый оператор                           │
│ Uₕf(t) = f(t+h)               │ Lxₜ = xₜ₋₁, L²xₜ = xₜ₋₂                   │
│ Группа сдвигов                 │ Lᵏxₜ = xₜ₋ₖ                               │
│                                │                                            │
│ Стохастический интеграл        │ Накопленная сумма шоков                    │
│ ∫₀ᵗ f(s)dW(s)                  │ Σᵢ₌₁ᵗ εᵢ                                  │
│ (Определение Ито)              │                                            │
│                                │                                            │
│ Условное математическое        │ Прогноз по модели                          │
│ ожидание E[Xₜ₊ₕ|ℱₜ]            │ x̂ₜ₊ₕ|ₜ = E[xₜ₊ₕ|x₁,...,xₜ]                │
│                                │                                            │
│ Оценка методом максимального   │ MLE (Maximum Likelihood)                   │
│ правдоподобия                  │ θ̂ = argmax L(θ|data)                       │
│                                │                                            │
│ Асимптотическая нормальность   │ √n(θ̂−θ) →^d N(0,V)                        │
│                                │ Доверительные интервалы                    │
│                                │                                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.7  КЛЮЧЕВЫЕ ФОРМУЛЫ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ AR(1): Xₜ = φXₜ₋₁ + εₜ                                                     │
│   • Стационарность: |φ| < 1                                                │
│   • Дисперсия: Var[Xₜ] = σ²/(1−φ²)                                        │
│   • ACF: ρ(k) = φᵏ                                                         │
│   • Спектральная плотность: S(ω) = σ²/|1−φe^(−iω)|²                       │
│                                                                             │
│ AR(p): Xₜ = φ₁Xₜ₋₁ + ... + φₚXₜ₋ₚ + εₜ                                    │
│   • Стационарность: корни φ(z) = 0 вне единичного круга                    │
│   • Уравнения Юла-Уолкера: γ(k) = φ₁γ(k−1) + ... + φₚγ(k−p)               │
│   • PACF: φₖₖ ≠ 0 для k≤p, φₖₖ = 0 для k>p                                │
│                                                                             │
│ MA(q): Xₜ = εₜ + θ₁εₜ₋₁ + ... + θᵩεₜ₋ᵩ                                    │
│   • Обратимость: корни θ(z) = 0 вне единичного круга                       │
│   • ACF: ρ(k) = 0 для k > q (обрезается)                                   │
│                                                                             │
│ ARIMA(p,d,q): φ(L)∇ᵈXₜ = θ(L)εₜ                                           │
│   • d раз продифференцировать для стационарности                           │
│   • ∇xₜ = xₜ − xₜ₋₁ (оператор разности)                                   │
│                                                                             │
│ Фильтр Калмана:                                                             │
│   State:   xₜ = Axₜ₋₁ + wₜ,  wₜ ~ N(0,Q)                                  │
│   Observ:  yₜ = Cxₜ + vₜ,    vₜ ~ N(0,R)                                   │
│   Predict: x̂ₜ|ₜ₋₁ = Ax̂ₜ₋₁|ₜ₋₁                                              │
│   Update:  Kₜ = Pₜ|ₜ₋₁Cᵀ(CPₜ|ₜ₋₁Cᵀ + R)⁻¹  (Kalman gain)                  │
│            x̂ₜ|ₜ = x̂ₜ|ₜ₋₁ + Kₜ(yₜ − Cx̂ₜ|ₜ₋₁)                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B2.8  КЛЮЧЕВЫЕ РАЗЛИЧИЯ В ПОДХОДАХ                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕОРИЯ СЛУЧАЙНЫХ ПРОЦЕССОВ:                                                 │
│   • Вопросы: существование, единственность, структура                       │
│   • Язык: теория меры, функциональный анализ, топология                    │
│   • Цель: доказать общие теоремы                                           │
│   • Аудитория: математики                                                   │
│   • Акцент: строгость, общность, абстракция                                │
│                                                                             │
│ АНАЛИЗ ВРЕМЕННЫХ РЯДОВ:                                                     │
│   • Вопросы: идентификация, оценивание, прогнозирование                    │
│   • Язык: статистика, регрессионный анализ                                 │
│   • Цель: получить численный прогноз                                       │
│   • Аудитория: статистики, эконометристы, инженеры                         │
│   • Акцент: практичность, применимость, вычисления                         │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ СВЯЗЬ:                                                                      │
│   Анализ временных рядов = дискретизация + оценивание + диагностика        │
│                            теории случайных процессов                       │
│                                                                             │
│   Теория процессов объясняет ПОЧЕМУ методы временных рядов работают.       │
│   Временные ряды показывают КАК применять эти методы на практике.           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
B3. СЛОВАРЬ: НЕПРЕРЫВНОЕ → ДИСКРЕТНОЕ (Как математика попадает в компьютер)
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТОТ РАЗДЕЛ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Математика оперирует НЕПРЕРЫВНЫМИ объектами: ℝ, интегралы, производные.    │
│ Компьютер работает с ДИСКРЕТНЫМИ объектами: массивы, суммы, разности.      │
│                                                                             │
│ Инженер должен понимать, как одно превращается в другое — и что теряется.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B3.1  ГЛАВНАЯ ТАБЛИЦА: АНАЛОГОВОЕ → ЦИФРОВОЕ                                │
├─────────────────────────┬───────────────────────┬───────────────────────────┤
│ НЕПРЕРЫВНОЕ             │ ДИСКРЕТНОЕ            │ ЧТО ТЕРЯЕТСЯ              │
├─────────────────────────┼───────────────────────┼───────────────────────────┤
│ Функция f(x)            │ Массив f[i]           │ Значения между узлами     │
│ x ∈ [a,b]               │ i = 0,1,...,N         │ (нужна интерполяция)      │
├─────────────────────────┼───────────────────────┼───────────────────────────┤
│ Производная df/dx       │ Разность (f[i+1]−f[i])/h │ Точность O(h)          │
│                         │ или (f[i+1]−f[i-1])/2h   │ Точность O(h²)         │
├─────────────────────────┼───────────────────────┼───────────────────────────┤
│ Вторая производная      │ (f[i+1]−2f[i]+f[i-1])/h² │ Точность O(h²)         │
│ d²f/dx²                 │                       │                           │
├─────────────────────────┼───────────────────────┼───────────────────────────┤
│ Интеграл ∫f(x)dx        │ Сумма Σf[i]·h         │ Прямоугольники: O(h)      │
│                         │ Трапеции: Σ(f[i]+f[i+1])h/2 │ Трапеции: O(h²)     │
│                         │ Симпсон               │ Симпсон: O(h⁴)            │
├─────────────────────────┼───────────────────────┼───────────────────────────┤
│ ℝ (вещественные)        │ float64               │ Точность ~15 знаков       │
│                         │                       │ Переполнение, underflow   │
├─────────────────────────┼───────────────────────┼───────────────────────────┤
│ Оператор L: V→V         │ Матрица A: ℝⁿ→ℝⁿ     │ Конечная размерность      │
│ (бесконечномерный)      │                       │                           │
└─────────────────────────┴───────────────────────┴───────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРЕМА КОТЕЛЬНИКОВА-ШЕННОНА (НАЙКВИСТА) — КОГДА НИЧЕГО НЕ ТЕРЯЕТСЯ         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Фундаментальный результат: непрерывный сигнал МОЖНО ТОЧНО восстановить     │
│ из дискретных отсчётов — но только при определённых условиях.              │
│                                                                             │
│ ТЕОРЕМА:                                                                    │
│   Если сигнал f(t) не содержит частот выше F_max (ограничен по спектру),   │
│   то он ПОЛНОСТЬЮ определяется отсчётами с частотой ≥ 2·F_max.             │
│                                                                             │
│   f(t) = Σ f(n·T) · sinc((t − n·T)/T),   где T ≤ 1/(2·F_max)               │
│                                                                             │
│   sinc(x) = sin(πx)/(πx) — функция отсчётов (кардинальный синус)           │
│                                                                             │
│ СЛЕДСТВИЯ:                                                                  │
│   • Частота Найквиста: F_Nyquist = 2·F_max — минимальная частота выборки   │
│   • Алиасинг: если выборка реже F_Nyquist, высокие частоты "притворяются"  │
│     низкими (эффект стробоскопа — колесо крутится "назад" в кино)          │
│   • Перед дискретизацией нужен антиалиасинговый фильтр                     │
│                                                                             │
│ ПРАКТИКА:                                                                   │
│   • CD Audio: F_max = 20 кГц → выборка 44.1 кГц > 40 кГц ✓                 │
│   • При расчёте конструкций: шаг сетки h < λ_min/2 (длина волны)           │
│                                                                             │
│ ЭТО МОСТ между непрерывным и дискретным — теоретическое обоснование того,  │
│ что цифровая обработка сигналов вообще возможна без потери информации.     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B3.2  ПРОИЗВОДНАЯ → МАТРИЦА                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПЕРАТОР d/dx на функциях f(x) — бесконечномерный.                         │
│ Но если f(x) задана в N точках: f[0], f[1], ..., f[N-1], то:               │
│                                                                             │
│ ПЕРВАЯ ПРОИЗВОДНАЯ (центральная разность):                                  │
│                                                                             │
│   (df/dx)[i] ≈ (f[i+1] − f[i-1]) / (2h)                                    │
│                                                                             │
│   Матрица D₁:                                                               │
│   ┌                           ┐                                             │
│   │  0   1   0   0   0  ...   │                                             │
│   │ -1   0   1   0   0  ...   │   1                                         │
│   │  0  -1   0   1   0  ...   │  ───  ×                                     │
│   │  0   0  -1   0   1  ...   │  2h                                         │
│   │  ...                      │                                             │
│   └                           ┘                                             │
│                                                                             │
│ ВТОРАЯ ПРОИЗВОДНАЯ (уравнение теплопроводности!):                           │
│                                                                             │
│   (d²f/dx²)[i] ≈ (f[i+1] − 2f[i] + f[i-1]) / h²                            │
│                                                                             │
│   Матрица D₂:                                                               │
│   ┌                           ┐                                             │
│   │ -2   1   0   0   0  ...   │                                             │
│   │  1  -2   1   0   0  ...   │   1                                         │
│   │  0   1  -2   1   0  ...   │  ───  ×                                     │
│   │  0   0   1  -2   1  ...   │  h²                                         │
│   │  ...                      │                                             │
│   └                           ┘                                             │
│                                                                             │
│ ЭТО ТА ЖЕ МАТРИЦА, что в примере A3 (тепловой баланс комнат)!               │
│ Теплопроводность → матрица → собственные значения → решение.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B3.3  ЛАПЛАСИАН ГРАФА = ДИСКРЕТНЫЙ ОПЕРАТОР ЛАПЛАСА                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ На непрерывном пространстве: Δf = d²f/dx² + d²f/dy² + d²f/dz²             │
│                                                                             │
│ На ГРАФЕ (например, тепловой сети):                                         │
│                                                                             │
│   (Lf)[i] = Σⱼ wᵢⱼ (f[i] − f[j])                                           │
│                                                                             │
│   где wᵢⱼ — вес ребра между узлами i и j (теплопроводность трубы)          │
│                                                                             │
│ МАТРИЦА ЛАПЛАСИАНА:                                                         │
│                                                                             │
│   L = D − W                                                                 │
│                                                                             │
│   D = diag(d₁, d₂, ..., dₙ) — степени вершин (dᵢ = Σⱼwᵢⱼ)                  │
│   W = матрица весов (wᵢⱼ)                                                   │
│                                                                             │
│ СОБСТВЕННЫЕ ЗНАЧЕНИЯ ЛАПЛАСИАНА:                                            │
│                                                                             │
│   • λ₁ = 0 всегда (для связного графа — единственный нуль)                 │
│   • λ₂ > 0 ⟺ граф связен                                                  │
│   • Чем больше λ₂, тем "лучше связан" граф                                  │
│                                                                             │
│ ПРИМЕНЕНИЕ: Спектральная кластеризация, анализ сетей, PageRank              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B3.4  МЕТОД КОНЕЧНЫХ ЭЛЕМЕНТОВ (FEM) — ВКРАТЦЕ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Решить уравнение теплопроводности на сложной области Ω             │
│                                                                             │
│   −∇·(k∇T) = q    (в области Ω)                                            │
│   T = T₀          (на границе ∂Ω)                                          │
│                                                                             │
│ ШАГ 1: Разбить область на элементы (треугольники, тетраэдры)               │
│                                                                             │
│         ●───────●───────●                                                   │
│        /╲      /╲      /╲                                                  │
│       /  ╲    /  ╲    /  ╲                                                 │
│      /    ╲  /    ╲  /    ╲                                                │
│     ●──────●──────●──────●                                                  │
│      ╲    /╲    /╲    /                                                    │
│       ╲  /  ╲  /  ╲  /                                                     │
│        ╲/    ╲/    ╲/                                                      │
│         ●───────●───────●                                                   │
│                                                                             │
│ ШАГ 2: Внутри каждого элемента T(x,y) ≈ линейная функция                   │
│                                                                             │
│ ШАГ 3: Записать вариационную форму:                                         │
│                                                                             │
│   Минимизировать: ∫_Ω [½k|∇T|² − qT] dA                                   │
│                                                                             │
│ ШАГ 4: Получить СИСТЕМУ ЛИНЕЙНЫХ УРАВНЕНИЙ:                                │
│                                                                             │
│   K·T = F                                                                   │
│                                                                             │
│   K — матрица жёсткости (зависит от геометрии и k)                         │
│   F — вектор нагрузки (зависит от q и гран. условий)                       │
│   T — вектор температур в узлах                                             │
│                                                                             │
│ ИТОГ: Дифференциальное уравнение → Матричное уравнение                      │
│       Бесконечномерная задача → Конечномерная линейная алгебра              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B3.5  ПОДВОДНЫЕ КАМНИ ДИСКРЕТИЗАЦИИ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА 1: Потеря точности в float                                         │
│ ───────────────────────────────────                                         │
│   В ℝ: (a + b) + c = a + (b + c)  — ассоциативность                        │
│   В float: может быть ЛОЖНО!                                                │
│                                                                             │
│   Пример: a = 1.0, b = 1e-16, c = 1e-16                                    │
│     (a + b) + c = 1.0 + 1e-16 = 1.0  (b теряется)                          │
│     a + (b + c) = 1.0 + 2e-16 ≈ 1.0  (но чуть больше!)                     │
│                                                                             │
│ ПРОБЛЕМА 2: Неустойчивость схем                                             │
│ ───────────────────────────────                                             │
│   Явная схема для теплопроводности:                                         │
│     T[i,n+1] = T[i,n] + (aΔt/h²)(T[i+1,n] − 2T[i,n] + T[i-1,n])            │
│                                                                             │
│   Устойчива только при: aΔt/h² ≤ 0.5 (условие Куранта)                    │
│   Иначе — осцилляции и взрыв решения!                                       │
│                                                                             │
│ ПРОБЛЕМА 3: Плохая обусловленность матрицы                                  │
│ ─────────────────────────────────────────                                   │
│   cond(A) = ‖A‖·‖A⁻¹‖ — число обусловленности                             │
│   Если cond(A) ≫ 1, малые ошибки в данных → большие ошибки в решении       │
│                                                                             │
│   При уменьшении h: cond(D₂) ~ 1/h² → плохо!                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ B3.6  Z-ПРЕОБРАЗОВАНИЕ — ЛАПЛАС ДЛЯ ДИСКРЕТНЫХ СИСТЕМ                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   X(z) = Z[xₙ] = Σₙ₌₀^∞ xₙ z⁻ⁿ                                             │
│                                                                             │
│ СВЯЗЬ С ЛАПЛАСОМ:                                                           │
│   • Лаплас: L[x(t)] = ∫₀^∞ x(t) e⁻ˢᵗ dt    (непрерывное время)             │
│   • Z:      Z[xₙ] = Σ xₙ z⁻ⁿ               (дискретное время)              │
│                                                                             │
│   При дискретизации с шагом T:  z = eˢᵀ                                    │
│                                                                             │
│ КЛЮЧЕВЫЕ СВОЙСТВА:                                                          │
│ ┌────────────────────────┬─────────────────────────────────────────────────┐│
│ │ Время                  │ Z-область                                      ││
│ ├────────────────────────┼─────────────────────────────────────────────────┤│
│ │ Задержка: xₙ₋₁         │ z⁻¹ X(z)                                       ││
│ │ Разность: xₙ − xₙ₋₁    │ (1 − z⁻¹) X(z)                                 ││
│ │ Свёртка: (x*y)ₙ        │ X(z)·Y(z)                                       ││
│ │ Начальное значение     │ lim_{z→∞} X(z) = x₀                            ││
│ │ Конечное значение      │ lim_{z→1} (1−z⁻¹)X(z) = lim xₙ                 ││
│ └────────────────────────┴─────────────────────────────────────────────────┘│
│                                                                             │
│ ПРИМЕНЕНИЕ В DSP (цифровая обработка сигналов):                             │
│   • Цифровой фильтр: Y(z) = H(z)·X(z)                                      │
│   • Передаточная функция: H(z) = (b₀ + b₁z⁻¹ + ...)/(1 + a₁z⁻¹ + ...)    │
│   • Устойчивость: все полюсы H(z) внутри единичного круга |z| < 1          │
│                                                                             │
│ АНАЛОГИЯ С ЛАПЛАСОМ:                                                        │
│ ┌────────────────────────┬───────────────────────┬────────────────────────┐ │
│ │ ПОНЯТИЕ                │ s-область (Лаплас)    │ z-область              │ │
│ ├────────────────────────┼───────────────────────┼────────────────────────┤ │
│ │ Устойчивость           │ Re(s) < 0             │ |z| < 1                │ │
│ │ Граница устойчивости   │ мнимая ось            │ единичная окружность   │ │
│ │ Частотная хар-ка       │ s = iω                │ z = e^{iωT}            │ │
│ └────────────────────────┴───────────────────────┴────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕЗЮМЕ: СВЯЗЬ РАЗДЕЛОВ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌──────────────────────┐      дискретизация      ┌───────────────────────┐│
│   │ A13 Матанализ        │  ─────────────────────► │ A3 Линейная алгебра   ││
│   │ (производные, инт-лы)│                         │ (матрицы, системы)    ││
│   └──────────────────────┘                         └───────────────────────┘│
│                                                                             │
│   ┌──────────────────────┐      дискретизация      ┌───────────────────────┐│
│   │ A7 Многообразия      │  ─────────────────────► │ A10 Графы             ││
│   │ (гладкие поверхности)│        (FEM)            │ (сетки, узлы, рёбра)  ││
│   └──────────────────────┘                         └───────────────────────┘│
│                                                                             │
│   ┌──────────────────────┐      дискретизация      ┌───────────────────────┐│
│   │ A15 Функ. анализ     │  ─────────────────────► │ Численная линейная    ││
│   │ (операторы)          │                         │ алгебра               ││
│   └──────────────────────┘                         └───────────────────────┘│
│                                                                             │
│ Непрерывная математика даёт ПОНИМАНИЕ (почему работает).                    │
│ Дискретная математика даёт ВЫЧИСЛЕНИЕ (как посчитать).                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
B4. СЛОВАРЬ: ИНЖЕНЕРНЫЙ ЖАРГОН ↔ МАТЕМАТИЧЕСКАЯ ТЕРМИНОЛОГИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВВЕДЕНИЕ                                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Инженеры и математики часто говорят об ОДНОМ И ТОМ ЖЕ разными словами.     │
│ Этот словарь помогает "переводить" между языками.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТЕОРИЯ УПРАВЛЕНИЯ И СИГНАЛОВ                                                │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ ИНЖЕНЕРНЫЙ ТЕРМИН        │ МАТЕМАТИЧЕСКИЙ ЭКВИВАЛЕНТ                        │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Сигнал x(t)              │ Функция x ∈ L²(ℝ) или распределение             │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Система, "чёрный ящик"   │ Оператор T: X → Y между функц. пространствами   │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Линейная система         │ Линейный оператор T(ax+by) = aT(x)+bT(y)        │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Стационарная (LTI)       │ Инвариантная относительно сдвига: T∘τ_s = τ_s∘T │
│ система                  │ где τ_s — оператор сдвига на s                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Импульсная характ. h(t)  │ Ядро свёртки: y = h * x, т.е. y(t)=∫h(τ)x(t-τ)dτ│
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Передаточная функция H(s)│ Символ оператора / преобр. Лапласа ядра         │
│                          │ H(s) = ℒ{h}(s), связь: Y(s) = H(s)X(s)          │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Частотная хар-ка H(iω)   │ Преобразование Фурье: H(iω) = ℱ{h}(ω)          │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Полюсы передаточной      │ Собственные значения оператора                  │
│ функции                  │ (корни характеристического многочлена)          │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Устойчивая система       │ Спектр оператора в левой полуплоскости Re(s)<0  │
│ (BIBO-устойчивость)      │ или: все собственные значения с Re(λ)<0         │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Резонанс                 │ Вынуждающая частота близка к мнимой части       │
│                          │ собственного значения (полюса)                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Обратная связь           │ Модификация оператора: T_fb = T/(1 + KT)        │
│ (feedback)               │ Изменение собственных значений!                 │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Управляемость            │ Достижимость любой точки в пр-ве состояний      │
│                          │ rank[B, AB, A²B, ...] = n (критерий Калмана)    │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Наблюдаемость            │ Восстановимость состояния по выходу             │
│                          │ rank[C; CA; CA²; ...] = n                       │
└──────────────────────────┴──────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕХАНИКА И ТЕПЛОТЕХНИКА                                                     │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ ИНЖЕНЕРНЫЙ ТЕРМИН        │ МАТЕМАТИЧЕСКИЙ ЭКВИВАЛЕНТ                        │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Распределённая система   │ PDE (уравнение в частных производных)           │
│ (теплопроводность, волны)│ Решение — функция u(x,t) нескольких переменных  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Сосредоточенные парам.   │ ODE (обыкновенное дифф. уравнение)              │
│ (точечные массы, ёмкости)│ Решение — вектор-функция x(t)                   │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Граничные условия        │ Значения функции (или производных) на ∂Ω       │
│                          │ След u|_{∂Ω} — элемент пространства Соболева   │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Собственная частота ωₙ   │ √λₙ, где λₙ — собств. значение оператора       │
│                          │ (Лапласиана с граничными условиями)              │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Мода колебаний φₙ(x)     │ Собственная функция: −∇²φₙ = λₙφₙ              │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Разложение по модам      │ Разложение по ортогональному базису из собств.  │
│                          │ функций: u(x,t) = Σ cₙ(t)φₙ(x)                  │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Демпфирование            │ Диссипативный член в операторе                  │
│                          │ Сдвигает собств. значения влево (Re↓)           │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Тензор напряжений σᵢⱼ    │ Симметричный тензор 2-го ранга                  │
│                          │ σ: TₚM ⊗ TₚM → ℝ (билинейная форма)             │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Градиент температуры     │ 1-форма dT ∈ Ω¹(M), или вектор ∇T = g⁻¹(dT)    │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Тепловой поток q⃗         │ Вектор или 2-форма (интегрируется по площадке)  │
│                          │ q = −k∇T (закон Фурье = k связывает их)        │
└──────────────────────────┴──────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СТАТИСТИКА И МАШИННОЕ ОБУЧЕНИЕ                                              │
├──────────────────────────┬──────────────────────────────────────────────────┤
│ ИНЖЕНЕРНЫЙ ТЕРМИН        │ МАТЕМАТИЧЕСКИЙ ЭКВИВАЛЕНТ                        │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Данные (выборка)         │ Эмпирическая мера: μ_n = (1/n)Σδ_{xᵢ}           │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Признаки (features)      │ Координаты в признаковом пространстве ℝᵖ        │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Главные компоненты (PCA) │ Собственные векторы ковариационной матрицы      │
│                          │ = направления максимальной дисперсии            │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Кластеризация            │ Разбиение пространства по метрике               │
│                          │ (Вороного, k-means, ...)                         │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Ядерные методы (kernel)  │ Воспроизводящее ядро гильбертова пространства   │
│                          │ K(x,y) = ⟨φ(x), φ(y)⟩ для вложения φ: X → H     │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Регуляризация            │ Ограничение на норму решения                    │
│ (L1, L2, ...)            │ min ‖Ax-b‖² + λ‖x‖ₚ — задача в банаховом пр-ве │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Переобучение             │ Аппроксимация шума, а не сигнала                │
│ (overfitting)            │ Нарушение bias-variance tradeoff                │
├──────────────────────────┼──────────────────────────────────────────────────┤
│ Градиентный спуск        │ Итерационный метод: xₖ₊₁ = xₖ − α∇f(xₖ)        │
│                          │ Сходимость: выпуклость + условие Липшица        │
└──────────────────────────┴──────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
═══════════════════════════════════════════════════════════════════════════════
                              ЗАКЛЮЧЕНИЕ
═══════════════════════════════════════════════════════════════════════════════
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ ЭТО ВАЖНО                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Математика — не набор техник для сдачи экзамена.                         │
│   Математика — язык, на котором написана Вселенная.                        │
│                                                                             │
│   Законы Максвелла: dF = 0, d*F = J  (две строчки!)                        │
│   Гравитация:       Gμν = 8πTμν      (одно уравнение!)                     │
│   Квантовая механика: iℏ∂ψ/∂t = Ĥψ  (одно уравнение!)                     │
│                                                                             │
│   Структуры, описанные в этом стандарте, лежат в основе:                   │
│   • Физики элементарных частиц (группы симметрий)                          │
│   • Общей теории относительности (многообразия, тензоры)                   │
│   • Квантовой механики (гильбертовы пространства, операторы)               │
│   • Криптографии (теория чисел, эллиптические кривые)                      │
│   • Машинного обучения (линейная алгебра, оптимизация)                     │
│                                                                             │
│   Изучая математику, вы изучаете структуру самой реальности.              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                                                                             │
│         "Книга природы написана на языке математики"                       │
│                                                                             │
│                                         — Галилео Галилей                   │
│                                                                             │
│                                                                             │
│         "Бог — геометр"                                                    │
│                                                                             │
│                                         — Платон                            │
│                                                                             │
│                                                                             │
│         "Математика — это музыка разума"                                   │
│                                                                             │
│                                         — Джеймс Джозеф Сильвестр          │
│                                                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                         СПРАВОЧНЫЕ ТАБЛИЦЫ
═══════════════════════════════════════════════════════════════════════════════

П7. ТЕОРЕМА НЁТЕР — СИММЕТРИЯ ↔ ЗАКОН СОХРАНЕНИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ САМАЯ ГЛУБОКАЯ СВЯЗЬ МАТЕМАТИКИ И ФИЗИКИ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Теорема Эмми Нётер (1918):                                                  │
│                                                                             │
│   Каждой непрерывной симметрии физической системы соответствует             │
│   закон сохранения некоторой величины.                                      │
│                                                                             │
│ И наоборот: каждому закону сохранения соответствует симметрия!              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНЫЕ ПРИМЕРЫ                                                             │
├──────────────────────────────┬──────────────────────────────────────────────┤
│ СИММЕТРИЯ                    │ СОХРАНЯЮЩАЯСЯ ВЕЛИЧИНА                       │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                              │                                              │
│ Сдвиг во ВРЕМЕНИ             │ ЭНЕРГИЯ                                      │
│ (физика одинакова вчера      │ E = const                                    │
│  и сегодня)                  │                                              │
│                              │                                              │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                              │                                              │
│ Сдвиг в ПРОСТРАНСТВЕ         │ ИМПУЛЬС                                      │
│ (физика одинакова здесь      │ p = const                                    │
│  и там)                      │                                              │
│                              │                                              │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                              │                                              │
│ ВРАЩЕНИЕ                     │ МОМЕНТ ИМПУЛЬСА                              │
│ (физика не зависит от        │ L = const                                    │
│  направления)                │                                              │
│                              │                                              │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                              │                                              │
│ Калибровочная симметрия      │ ЭЛЕКТРИЧЕСКИЙ ЗАРЯД                          │
│ (фаза волновой функции)      │ Q = const                                    │
│                              │                                              │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                              │                                              │
│ Лоренц-инвариантность        │ Релятивистская 4-импульс                     │
│ (физика не зависит от СО)    │ pᵘ = (E/c, p)                               │
│                              │                                              │
└──────────────────────────────┴──────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МАТЕМАТИЧЕСКАЯ ФОРМУЛИРОВКА                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Система описывается лагранжианом L(q, q̇, t)                                 │
│                                                                             │
│ Если L инвариантен относительно преобразования q → q + εδq:                 │
│                                                                             │
│                ∂L                                                            │
│   Q = Σᵢ ───── · δqᵢ  =  const  (сохраняется!)                             │
│               ∂q̇ᵢ                                                           │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • L не зависит от t  ⇒  ∂L/∂q̇ · q̇ − L = H (гамильтониан) сохраняется     │
│   • L не зависит от x  ⇒  ∂L/∂ẋ = p (импульс) сохраняется                  │
│   • L не зависит от угла θ ⇒  ∂L/∂θ̇ = Lz (момент) сохраняется              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФИЛОСОФСКИЙ СМЫСЛ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Законы сохранения — не "божественные заповеди", а следствия геометрии       │
│ пространства-времени!                                                       │
│                                                                             │
│ Пространство однородно (нет "особых точек") ⇒ импульс сохраняется          │
│ Пространство изотропно (нет "особых направлений") ⇒ момент сохраняется     │
│ Время однородно (законы не меняются) ⇒ энергия сохраняется                 │
│                                                                             │
│ Группы Ли → Законы физики!                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П8. ОПТИМИЗАЦИЯ — ГРАДИЕНТ, ЭКСТРЕМУМЫ, ЛАГРАНЖИАН
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАДАЧА ОПТИМИЗАЦИИ                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Дана функция f(x₁, x₂, ..., xₙ)                                             │
│ Найти точку, где f достигает минимума (или максимума)                       │
│                                                                             │
│ Два случая:                                                                 │
│   • Без ограничений: ищем экстремум на всём пространстве                    │
│   • С ограничениями: g(x) = 0 (на поверхности)                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВЫПУКЛОСТЬ — ГАРАНТИЯ ГЛОБАЛЬНОГО ОПТИМУМА                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГЛАВНАЯ ТЕОРЕМА: Для ВЫПУКЛОЙ функции на ВЫПУКЛОМ множестве                 │
│                  локальный минимум = глобальный минимум!                    │
│                                                                             │
│ Это фундаментальный факт, который делает задачу "решаемой".                 │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ВЫПУКЛОЕ МНОЖЕСТВО                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множество C выпукло, если для любых x, y ∈ C и любого t ∈ [0,1]:           │
│                                                                             │
│   tx + (1−t)y ∈ C                                                          │
│                                                                             │
│ (Отрезок между любыми двумя точками целиком лежит в множестве)              │
│                                                                             │
│   ВЫПУКЛОЕ:         НЕВЫПУКЛОЕ:         НЕВЫПУКЛОЕ:                         │
│   ┌─────────┐       ┌───╮               ┌─────┐                             │
│   │    ●────┼───●   │   │               │     └──┐                          │
│   │         │       │   └───┐           │        │                          │
│   └─────────┘       └───────┘           └────────┘                          │
│   Круг, квадрат     "Подкова"           С "дыркой"                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ ВЫПУКЛАЯ ФУНКЦИЯ                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Функция f выпукла, если для любых x, y и t ∈ [0,1]:                        │
│                                                                             │
│   f(tx + (1−t)y) ≤ t·f(x) + (1−t)·f(y)                                     │
│                                                                             │
│ (Хорда лежит НАД графиком)                                                  │
│                                                                             │
│         f(x)●──────────────────●f(y)   ← хорда                              │
│             ╲                 ╱                                             │
│              ╲               ╱                                              │
│               ╲──────●──────╱          ← график f                           │
│                f(tx+(1-t)y)                                                 │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ КРИТЕРИИ ВЫПУКЛОСТИ                                                         │
├───────────────────────────────┬─────────────────────────────────────────────┤
│ КРИТЕРИЙ                      │ ФОРМУЛИРОВКА                                │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Первый порядок                │ f(y) ≥ f(x) + ∇f(x)·(y−x)                  │
│ (касательная ПОД графиком)    │ для всех x, y                               │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Второй порядок                │ H(f) ≽ 0 (матрица Гессе положительно       │
│ (для C² функций)              │ полуопределена во всех точках)             │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Для f(x) одной переменной     │ f''(x) ≥ 0 для всех x                      │
└───────────────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИМЕРЫ ВЫПУКЛЫХ И НЕВЫПУКЛЫХ ФУНКЦИЙ                                       │
├───────────────────────────┬─────────────────────────────────────────────────┤
│ ВЫПУКЛЫЕ                  │ НЕВЫПУКЛЫЕ                                      │
├───────────────────────────┼─────────────────────────────────────────────────┤
│ x² (парабола)             │ −x² (перевёрнутая парабола) — ВОГНУТАЯ          │
│ eˣ (экспонента)           │ sin(x), cos(x) — осциллируют                   │
│ |x| (модуль)              │ x³ — меняет кривизну                           │
│ x log x (x > 0)           │ √x — ВОГНУТАЯ (но −√x выпуклая)               │
│ ‖x‖ (любая норма)         │ x⁴ − x² — несколько минимумов                 │
│ max(f₁, f₂) если fᵢ выпукл│                                                │
└───────────────────────────┴─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: ОПТИМИЗАЦИЯ ТОЛЩИНЫ ИЗОЛЯЦИИ                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Труба с теплоносителем. Найти оптимальную толщину изоляции δ.       │
│                                                                             │
│ Затраты = Стоимость изоляции + Стоимость потерь тепла                       │
│                                                                             │
│   C(δ) = C_изол · δ + C_тепло / (R₀ + δ/λ)                                 │
│              ↑                    ↑                                         │
│      линейно по δ         убывает как 1/(R₀ + δ/λ)                         │
│                                                                             │
│ АНАЛИЗ ВЫПУКЛОСТИ:                                                          │
│                                                                             │
│   Первое слагаемое: линейно (выпукло)                                       │
│   Второе слагаемое: 1/(R₀ + δ/λ) — выпукло для δ > 0                       │
│   Сумма выпуклых = выпукла!                                                 │
│                                                                             │
│   C''(δ) = 2·C_тепло·(1/λ)² / (R₀ + δ/λ)³ > 0  ✓                           │
│                                                                             │
│ ВЫВОД: Функция затрат ВЫПУКЛА ⇒ найденный минимум ГЛОБАЛЬНЫЙ!              │
│        Градиентный спуск гарантированно найдёт оптимум.                     │
│                                                                             │
│ ЕСЛИ БЫ НЕВЫПУКЛА: Могли бы застрять в локальном минимуме.                 │
│                    Нужны методы глобальной оптимизации (дорого!)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СОХРАНЕНИЕ ВЫПУКЛОСТИ (правила комбинирования)                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌───────────────────────────┬─────────────────────────────────────────┐   │
│   │ ОПЕРАЦИЯ                  │ РЕЗУЛЬТАТ                               │   │
│   ├───────────────────────────┼─────────────────────────────────────────┤   │
│   │ αf, где α ≥ 0             │ Выпуклая (масштабирование)              │   │
│   │ f + g                     │ Выпуклая (сумма выпуклых)               │   │
│   │ max(f, g)                 │ Выпуклая (максимум выпуклых)            │   │
│   │ f(Ax + b)                 │ Выпуклая (аффинная замена)              │   │
│   │ ∩ выпуклых множеств       │ Выпуклое (пересечение)                  │   │
│   └───────────────────────────┴─────────────────────────────────────────┘   │
│                                                                             │
│ ОСТОРОЖНО: min(f, g) НЕ обязательно выпуклая!                              │
│            Произведение fg НЕ обязательно выпуклая!                        │
│            Композиция f(g(x)) требует условий на f и g.                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАДИЕНТ — НАПРАВЛЕНИЕ НАИСКОРЕЙШЕГО РОСТА                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│           ⎛ ∂f     ∂f          ∂f  ⎞                                        │
│   ∇f  =   ⎜────, ────, ..., ────  ⎟                                        │
│           ⎝ ∂x₁   ∂x₂         ∂xₙ ⎠                                        │
│                                                                             │
│ Свойства:                                                                   │
│   • ∇f указывает в направлении наибольшего роста f                          │
│   • |∇f| = скорость роста в этом направлении                                │
│   • ∇f ⊥ линиям уровня f = const                                            │
│                                                                             │
│ ПРИМЕР: f(x,y) = x² + y²                                                    │
│         ∇f = (2x, 2y) — направлен от центра наружу                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТОНКОСТЬ: ∇f И df — НЕ ОДНО И ТО ЖЕ!                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   Когда пишут ∇f = (∂f/∂x, ∂f/∂y), это работает в ℝⁿ с обычной метрикой.   │
│   Но в общем случае градиент и дифференциал — РАЗНЫЕ объекты!               │
│                                                                             │
│ ДИФФЕРЕНЦИАЛ df — это КОВЕКТОР (1-форма):                                   │
│   df: касательные векторы → числа                                           │
│   df(v) = "производная f в направлении v" = скорость изменения f            │
│                                                                             │
│   df = (∂f/∂x) dx + (∂f/∂y) dy    ← линейная комбинация базисных 1-форм    │
│                                                                             │
│ ГРАДИЕНТ grad f = ∇f — это ВЕКТОР:                                          │
│   ∇f — это вектор, соответствующий ковектору df через метрику               │
│                                                                             │
│ СВЯЗЬ ЧЕРЕЗ МЕТРИКУ:                                                        │
│   df(v) = ⟨∇f, v⟩    для любого вектора v                                  │
│   или: ∇f = g⁻¹(df)  где g — метрический тензор                            │
│                                                                             │
│ В ЕВКЛИДОВОМ ПРОСТРАНСТВЕ (g = I):                                          │
│   Метрика тривиальна, поэтому компоненты совпадают:                         │
│   df = (∂f/∂x, ∂f/∂y)  и  ∇f = (∂f/∂x, ∂f/∂y)  — выглядят одинаково       │
│                                                                             │
│ В КРИВОЛИНЕЙНЫХ КООРДИНАТАХ (сферические, цилиндрические):                  │
│   Компоненты РАЗЛИЧАЮТСЯ! Метрика нетривиальна.                             │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│   df — "ценник" (сколько стоит сдвиг?)    ← ковектор, живёт в V*            │
│   ∇f — "стрелка" (куда идти?)             ← вектор, живёт в V               │
│                                                                             │
│     Линии уровня f = const                                                  │
│         ╱  ╱  ╱  ╱  ╱                                                       │
│        ╱  ╱  ╱  ╱  ╱                                                        │
│       ╱  ╱──→╱  ╱   ← ∇f (вектор, перпендикулярен линиям уровня)            │
│      ╱  ╱  ╱  ╱  ╱                                                          │
│     ╱  ╱  ╱  ╱  ╱                                                           │
│                                                                             │
│   df задаёт "расстояние" между линиями уровня                               │
│   ∇f показывает НАПРАВЛЕНИЕ этого расстояния (требует метрику!)             │
│                                                                             │
│ ПОЧЕМУ ∇f ⊥ ЛИНИЯМ УРОВНЯ:                                                  │
│   Вдоль линии уровня f = const: df(v) = 0 для касательных v                 │
│   Значит ⟨∇f, v⟩ = 0, т.е. ∇f перпендикулярен касательным                   │
│                                                                             │
│ ПРАКТИЧЕСКИЙ ВЫВОД:                                                         │
│   В ℝⁿ с обычной метрикой можно не различать df и ∇f.                       │
│   В общей теории относительности, на многообразиях — различие критично!     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕОБХОДИМОЕ УСЛОВИЕ ЭКСТРЕМУМА                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Без ограничений:                                                            │
│                                                                             │
│                         ∇f = 0                                              │
│                                                                             │
│   (все частные производные равны нулю — критическая точка)                  │
│                                                                             │
│ Для определения типа точки — матрица Гессе:                                 │
│                                                                             │
│            ⎛ ∂²f/∂x₁²    ∂²f/∂x₁∂x₂  ...  ⎞                                │
│   H(f) =   ⎜ ∂²f/∂x₂∂x₁  ∂²f/∂x₂²    ...  ⎟                                │
│            ⎝    ...         ...      ...  ⎠                                │
│                                                                             │
│   H > 0 (положительно определена) → МИНИМУМ                                 │
│   H < 0 (отрицательно определена) → МАКСИМУМ                                │
│   det(H) < 0 → СЕДЛО                                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ ГЕССЕ — ПОЧЕМУ ЭТО РАБОТАЕТ?                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ НАПОМИНАНИЕ (одна переменная):                                              │
│                                                                             │
│   f''(a) > 0 ⟹ минимум (функция "вогнута вверх" ⌣)                         │
│   f''(a) < 0 ⟹ максимум (функция "вогнута вниз" ⌢)                         │
│                                                                             │
│   Вторая производная — это КРИВИЗНА графика.                                │
│   Положительная кривизна = "чаша" = минимум                                 │
│   Отрицательная кривизна = "купол" = максимум                               │
│                                                                             │
│ МНОГОМЕРНЫЙ СЛУЧАЙ:                                                         │
│                                                                             │
│   В точке a функция f приближается квадратичной формой:                     │
│                                                                             │
│   f(a + h) ≈ f(a) + ∇f(a)·h + ½ hᵀ H(a) h                                  │
│                       ↑          ↑                                          │
│                    =0 в крит.    квадратичная форма                         │
│                       точке                                                 │
│                                                                             │
│   В критической точке ∇f = 0, поэтому:                                      │
│                                                                             │
│   f(a + h) − f(a) ≈ ½ hᵀ H h                                               │
│                                                                             │
│   Знак этого выражения определяет, куда смотрит "поверхность".              │
│                                                                             │
│ СОБСТВЕННЫЕ ЗНАЧЕНИЯ ГЕССЕ = КРИВИЗНЫ В ГЛАВНЫХ НАПРАВЛЕНИЯХ:               │
│                                                                             │
│   H — симметричная матрица, значит диагонализуется:                         │
│                                                                             │
│   H = Q Λ Qᵀ, где Λ = diag(λ₁, λ₂, ..., λₙ)                                │
│                                                                             │
│   λᵢ — это КРИВИЗНА функции вдоль i-го главного направления.                │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   Все λᵢ > 0:  "чаша" во всех направлениях = МИНИМУМ                    │ │
│ │                                                                         │ │
│ │         z                                                               │ │
│ │         │    ╭───╮                                                      │ │
│ │         │   ╱     ╲                                                     │ │
│ │         │  ╱   ●   ╲  ← точка на дне чаши                               │ │
│ │         │ ╱─────────╲                                                   │ │
│ │         └────────────→ x,y                                              │ │
│ │                                                                         │ │
│ │   Все λᵢ < 0:  "купол" во всех направлениях = МАКСИМУМ                  │ │
│ │                                                                         │ │
│ │         z                                                               │ │
│ │         │ ╲─────────╱                                                   │ │
│ │         │  ╲   ●   ╱  ← точка на вершине купола                         │ │
│ │         │   ╲     ╱                                                     │ │
│ │         │    ╰───╯                                                      │ │
│ │         └────────────→ x,y                                              │ │
│ │                                                                         │ │
│ │   Разные знаки λᵢ:  "седло" — вверх в одном, вниз в другом              │ │
│ │                                                                         │ │
│ │         z                                                               │ │
│ │         │    ╱╲                                                         │ │
│ │         │   ╱  ╲                                                        │ │
│ │         │  ─────● ← точка в седле                                       │ │
│ │         │   ╲  ╱                                                        │ │
│ │         │    ╲╱                                                         │ │
│ │         └────────────→ x,y                                              │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПОЧЕМУ РАБОТАЕТ ОКАЙМЛЁННЫЙ ГЕССИАН:                                        │
│                                                                             │
│   При УСЛОВНОЙ оптимизации мы двигаемся не по всему пространству,           │
│   а только ВДОЛЬ поверхности g(x) = 0.                                      │
│                                                                             │
│   Обычный Гессиан показывает кривизну во всех направлениях.                 │
│   Но нас интересуют только ДОПУСТИМЫЕ направления (вдоль ограничения).      │
│                                                                             │
│   Окаймление "вычитает" недопустимые направления:                           │
│   • Нулевая строка/столбец — фиксирует ограничение                          │
│   • Внутренняя часть — Гессиан функции Лагранжа                             │
│                                                                             │
│   Миноры окаймлённого Гессиана показывают кривизну                          │
│   В ПРОСТРАНСТВЕ, ПЕРПЕНДИКУЛЯРНОМ ∇g (т.е. вдоль поверхности).             │
│                                                                             │
│ АНАЛОГИЯ:                                                                   │
│   Идёте по горному хребту (ограничение = оставаться на хребте).             │
│   Вас интересует: это локальный минимум или максимум ВДОЛЬ ХРЕБТА,          │
│   а не то, что по бокам обрыв.                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД МНОЖИТЕЛЕЙ ЛАГРАНЖА — ЭКСТРЕМУМ С ОГРАНИЧЕНИЕМ                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Задача: минимизировать f(x) при условии g(x) = 0                            │
│                                                                             │
│ ИДЕЯ: В точке экстремума ∇f ∥ ∇g (градиенты параллельны!)                  │
│                                                                             │
│                     ∇f = λ · ∇g                                             │
│                                                                             │
│ где λ — множитель Лагранжа (неизвестный скаляр)                             │
│                                                                             │
│ СИСТЕМА УРАВНЕНИЙ:                                                          │
│   • ∂f/∂xᵢ = λ · ∂g/∂xᵢ  для всех i                                        │
│   • g(x) = 0              (ограничение)                                     │
│                                                                             │
│ Эквивалентно: экстремум функции Лагранжа L = f − λg                         │
│                                                                             │
│ ПРИМЕР: Найти прямоугольник максимальной площади при P = 20                 │
│   f = xy (площадь), g = 2x + 2y − 20 = 0 (периметр)                         │
│   ∇f = (y, x), ∇g = (2, 2)                                                  │
│   y = 2λ, x = 2λ ⇒ x = y ⇒ квадрат 5×5                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОКАЙМЛЁННАЯ МАТРИЦА ГЕССЕ — ОПРЕДЕЛЕНИЕ ТИПА В УСЛОВНОЙ ОПТИМИЗАЦИИ         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПРОБЛЕМА: Найдена критическая точка методом Лагранжа.                       │
│ Это минимум, максимум или седло? Обычный гессиан не работает!               │
│                                                                             │
│ ИДЕЯ: Нас интересует знак второй производной не во всём пространстве,       │
│ а только ВДОЛЬ поверхности ограничения g(x) = 0.                            │
│                                                                             │
│ ОКАЙМЛЁННЫЙ ГЕССИАН (для одного ограничения g = 0):                         │
│                                                                             │
│             ⎛   0      ∂g/∂x₁   ∂g/∂x₂  ...  ∂g/∂xₙ  ⎞                     │
│             ⎜ ∂g/∂x₁    ∂²L/∂x₁²  ...    ...    ...   ⎟                     │
│   H̄(L)  =   ⎜ ∂g/∂x₂    ...     ∂²L/∂x₂²  ...   ...   ⎟                     │
│             ⎜   ...      ...      ...     ...   ...   ⎟                     │
│             ⎝ ∂g/∂xₙ    ...      ...     ...  ∂²L/∂xₙ²⎠                     │
│                                                                             │
│   где L = f − λg — функция Лагранжа                                         │
│                                                                             │
│ УСЛОВИЯ ЭКСТРЕМУМА (проверяем УГЛОВЫЕ МИНОРЫ H̄, начиная с 3-го):           │
│                                                                             │
│   Обозначим: |H̄ₖ| — главный минор размера k × k                             │
│                                                                             │
│ ┌───────────────┬─────────────────────────────────────────────────────────┐ │
│ │ ТИП ТОЧКИ     │ УСЛОВИЕ НА МИНОРЫ (k = 3, 4, ..., n+1)                  │ │
│ ├───────────────┼─────────────────────────────────────────────────────────┤ │
│ │               │                                                         │ │
│ │ МИНИМУМ       │ Все |H̄ₖ| < 0  (отрицательны)                            │ │
│ │               │                                                         │ │
│ ├───────────────┼─────────────────────────────────────────────────────────┤ │
│ │               │                                                         │ │
│ │ МАКСИМУМ      │ Знаки чередуются: |H̄₃| > 0, |H̄₄| < 0, |H̄₅| > 0, ...    │ │
│ │               │ (первый > 0, потом знакочередование)                    │ │
│ │               │                                                         │ │
│ ├───────────────┼─────────────────────────────────────────────────────────┤ │
│ │               │                                                         │ │
│ │ СЕДЛО         │ Иначе                                                   │ │
│ │               │                                                         │ │
│ └───────────────┴─────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: f(x,y) = xy, g(x,y) = x + y − 10 = 0                               │
│                                                                             │
│   ∇f = (y, x), ∇g = (1, 1)                                                  │
│   Критическая точка: x = y = 5, λ = 5                                       │
│                                                                             │
│   Функция Лагранжа: L = xy − λ(x + y − 10)                                  │
│   ∂²L/∂x² = 0,  ∂²L/∂y² = 0,  ∂²L/∂x∂y = 1                                 │
│                                                                             │
│              ⎛ 0  1  1 ⎞                                                    │
│   H̄(L)  =   ⎜ 1  0  1 ⎟                                                    │
│              ⎝ 1  1  0 ⎠                                                    │
│                                                                             │
│   |H̄₃| = det(H̄) = 0 + 1 + 1 − 0 − 0 − 0 = 2 > 0                            │
│                                                                             │
│   Знак |H̄₃| > 0 → МАКСИМУМ (xy максимально при x = y = 5)                  │
│                                                                             │
│ НЕСКОЛЬКО ОГРАНИЧЕНИЙ g₁ = 0, g₂ = 0, ..., gₘ = 0:                          │
│                                                                             │
│   Окаймление расширяется до m строк/столбцов:                               │
│                                                                             │
│              ⎛  0    0   ... ∇g₁ᵀ ⎞                                        │
│              ⎜  0    0   ... ∇g₂ᵀ ⎟                                        │
│   H̄(L)  =   ⎜ ...  ...  ...  ...  ⎟                                        │
│              ⎜ ∇g₁  ∇g₂  ...   H   ⎟                                        │
│              ⎝                     ⎠                                        │
│                                                                             │
│   Проверяем миноры начиная с (2m+1)-го.                                     │
│                                                                             │
│ СВЯЗЬ С ОБЫЧНЫМ ГЕССИАНОМ:                                                  │
│   Окаймление "проецирует" кривизну на касательное пространство              │
│   к поверхности ограничения. Нули в углу — вклад от ограничений.            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ KKT — УСЛОВИЯ ДЛЯ ЗАДАЧ С НЕРАВЕНСТВАМИ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Множители Лагранжа работают для РАВЕНСТВ: g(x) = 0                          │
│ Но инженерные задачи часто имеют НЕРАВЕНСТВА: g(x) ≤ 0                     │
│                                                                             │
│ ЗАДАЧА: min f(x) при gᵢ(x) ≤ 0, hⱼ(x) = 0                                  │
│                                                                             │
│ УСЛОВИЯ КАРУША-КУНА-ТАККЕРА (KKT):                                          │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Необходимые условия для x* быть оптимумом:                              │ │
│ │                                                                         │ │
│ │ 1. СТАЦИОНАРНОСТЬ:  ∇f(x*) + Σμᵢ∇gᵢ(x*) + Σλⱼ∇hⱼ(x*) = 0              │ │
│ │                                                                         │ │
│ │ 2. ДОПУСТИМОСТЬ:    gᵢ(x*) ≤ 0,  hⱼ(x*) = 0                            │ │
│ │                                                                         │ │
│ │ 3. ДВОЙСТВЕННАЯ ДОПУСТИМОСТЬ:  μᵢ ≥ 0                                   │ │
│ │                                                                         │ │
│ │ 4. ДОПОЛНЯЮЩАЯ НЕЖЁСТКОСТЬ:  μᵢ · gᵢ(x*) = 0  для всех i               │ │
│ │    (либо ограничение активно gᵢ=0, либо множитель μᵢ=0)                │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ СМЫСЛ УСЛОВИЯ 4 (дополняющая нежёсткость):                                  │
│   • Если x* внутри области (gᵢ < 0), ограничение не влияет → μᵢ = 0       │
│   • Если x* на границе (gᵢ = 0), ограничение активно → μᵢ ≥ 0             │
│                                                                             │
│ ДОСТАТОЧНОСТЬ: Для выпуклых задач (f выпукла, gᵢ выпуклы, hⱼ линейны)     │
│ KKT условия не только необходимы, но и ДОСТАТОЧНЫ!                          │
│                                                                             │
│ ПРИМЕР: min x² + y²  при x + y ≥ 1 (т.е. g(x,y) = 1 − x − y ≤ 0)          │
│   ∇f = (2x, 2y), ∇g = (−1, −1)                                             │
│   Из стационарности: 2x − μ = 0, 2y − μ = 0 → x = y                       │
│   Из доп. нежёсткости: либо μ=0 (тогда x=y=0, но 0+0<1 — недопустимо),    │
│                       либо g=0 (тогда x=y=½, μ=1>0 — допустимо)           │
│   Ответ: x* = y* = ½, f* = ½                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВАРИАЦИОННОЕ ИСЧИСЛЕНИЕ — КОГДА НЕИЗВЕСТНА ФУНКЦИЯ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Найти функцию y(x), минимизирующую функционал:                              │
│                                                                             │
│   J[y] = ∫ₐᵇ F(x, y, y') dx                                                 │
│                                                                             │
│ УРАВНЕНИЕ ЭЙЛЕРА-ЛАГРАНЖА:                                                  │
│                                                                             │
│            ∂F     d  ⎛ ∂F  ⎞                                                │
│           ──── − ─── ⎜────⎟ = 0                                            │
│            ∂y    dx  ⎝ ∂y' ⎠                                                │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Кратчайший путь → прямая                                                │
│   • Брахистохрона (быстрейший спуск) → циклоида                             │
│   • Принцип наименьшего действия → законы механики                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ПРОСТРАНСТВАМИ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Оптимизация — это поиск ОСОБЫХ ТОЧЕК на пространстве.                       │
│                                                                             │
│ Пространство функций — бесконечномерное!                                    │
│   Каждая функция y(x) — "точка" в этом пространстве.                        │
│   Функционал J[y] — "высота" этой точки.                                    │
│   Вариационное исчисление = поиск экстремумов в ∞-мерном пространстве.      │
│                                                                             │
│ Геодезические на многообразии = экстремумы длины пути.                      │
│   На сфере: большие круги                                                   │
│   В ОТО: траектории в гравитационном поле                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАДИЕНТНЫЙ СПУСК — ЧИСЛЕННЫЙ МЕТОД ОПТИМИЗАЦИИ                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Двигаться в направлении наискорейшего убывания функции.               │
│                                                                             │
│   x_{n+1} = x_n − α · ∇f(x_n)                                              │
│                                                                             │
│   α — шаг (learning rate), ∇f — градиент                                   │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│              ╱╲         линии уровня f = const                              │
│            ╱    ╲                                                           │
│          ╱   ●───→ ∇f (направление роста)                                  │
│        ╱        ╲                                                           │
│      ╱           ╲    Спуск идёт ПРОТИВ градиента: −∇f                     │
│    ╱      ●←──────╲                                                         │
│              ↓                                                              │
│              ● минимум                                                      │
│                                                                             │
│ ВЫБОР ШАГА α:                                                               │
│   • α слишком мал: медленная сходимость                                    │
│   • α слишком велик: расходимость, "прыжки" через минимум                  │
│   • Адаптивный α: метод Армихо, Wolfe conditions                           │
│                                                                             │
│ ВАРИАНТЫ:                                                                   │
│ ┌─────────────────────┬─────────────────────────────────────────────────┐   │
│ │ МЕТОД               │ ОСОБЕННОСТЬ                                     │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Градиентный спуск   │ x ← x − α∇f                                    │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Метод Ньютона       │ x ← x − H⁻¹∇f (H = гессиан)                    │   │
│ │                     │ Быстрее, но нужна 2-я производная               │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Стохастический (SGD)│ Градиент по случайной подвыборке               │   │
│ │                     │ Для больших данных (машинное обучение)          │   │
│ ├─────────────────────┼─────────────────────────────────────────────────┤   │
│ │ Adam, RMSprop       │ Адаптивный шаг для каждой координаты           │   │
│ │                     │ Стандарт в deep learning                        │   │
│ └─────────────────────┴─────────────────────────────────────────────────┘   │
│                                                                             │
│ ПРОБЛЕМЫ:                                                                   │
│   • Локальные минимумы (не гарантируется глобальный)                       │
│   • Седловые точки (∇f=0, но не экстремум)                                 │
│   • Плохая обусловленность (вытянутые "овраги")                            │
│                                                                             │
│ СВЯЗЬ С ФИЗИКОЙ:                                                            │
│   Градиентный спуск ≈ движение шарика по поверхности f(x,y)                │
│   с вязким трением (без инерции)                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П9. УСТОЙЧИВОСТЬ И ТЕОРИЯ УПРАВЛЕНИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ НУЖНА УСТОЙЧИВОСТЬ                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГЛАВНЫЙ ВОПРОС: Если систему слегка толкнуть, она вернётся или улетит?      │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Маятник: внизу — устойчив, вверху — неустойчив                          │
│   • Спутник: устойчивые и неустойчивые орбиты                               │
│   • Теплосеть: выйдет ли на режим после возмущения?                         │
│   • Экономика: вернётся ли рынок к равновесию?                              │
│                                                                             │
│ МАТЕМАТИЧЕСКАЯ МОДЕЛЬ:                                                      │
│   Система описывается дифференциальным уравнением:                          │
│                                                                             │
│                     ẋ = f(x)                                                │
│                                                                             │
│   где x — вектор состояния, f — векторное поле                              │
│   Точка x* называется положением равновесия, если f(x*) = 0                 │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ФАЗОВОЕ ПРОСТРАНСТВО КАК "РЕКА ТРАЕКТОРИЙ"                                  │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ Представьте фазовое пространство как бассейн с текущей водой:               │
│                                                                             │
│   • Векторное поле f(x) — это СКОРОСТЬ ТЕЧЕНИЯ в каждой точке              │
│   • Траектория x(t) — это путь щепки, брошенной в воду                     │
│   • Равновесие x* — это точка, где вода стоит (f = 0)                      │
│   • Устойчивое равновесие — это СТОК (вода втекает)                        │
│   • Неустойчивое равновесие — это ИСТОЧНИК (вода вытекает)                 │
│   • Предельный цикл — это ВОДОВОРОТ, в который втягиваются траектории      │
│                                                                             │
│ Эта аналогия с ГИДРОДИНАМИКОЙ глубока:                                      │
│   • div(f) < 0 в стоке, div(f) > 0 в источнике                             │
│   • rot(f) ≠ 0 вокруг центра/фокуса                                        │
│   • Теорема Лиувилля: несжимаемый поток сохраняет объём в фазовом простр.  │
│                                                                             │
│ В гамильтоновой механике фазовый поток БУКВАЛЬНО несжимаем!                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТИПЫ УСТОЙЧИВОСТИ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────┬────────────────────────────────────────────────────┐   │
│ │ ТИП              │ ОПРЕДЕЛЕНИЕ                                        │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │                  │                                                    │   │
│ │ По Ляпунову      │ ∀ε>0 ∃δ>0: |x(0)−x*|<δ ⇒ |x(t)−x*|<ε ∀t≥0        │   │
│ │ (устойчивость)   │ "Начали близко — останемся близко навсегда"        │   │
│ │                  │                                                    │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │                  │                                                    │   │
│ │ Асимптотическая  │ Устойчива по Ляпунову + x(t) → x* при t → ∞       │   │
│ │                  │ "Не просто близко, а стремится к равновесию"       │   │
│ │                  │                                                    │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │                  │                                                    │   │
│ │ Экспоненциальная │ |x(t)−x*| ≤ C·e^(−αt)|x(0)−x*| для C,α > 0        │   │
│ │                  │ "Сходится экспоненциально быстро"                  │   │
│ │                  │                                                    │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │                  │                                                    │   │
│ │ Глобальная       │ Асимптотическая для ЛЮБЫХ начальных условий        │   │
│ │                  │ (не только в окрестности x*)                       │   │
│ │                  │                                                    │   │
│ ├──────────────────┼────────────────────────────────────────────────────┤   │
│ │                  │                                                    │   │
│ │ BIBO             │ Bounded Input → Bounded Output                     │   │
│ │                  │ Ограниченный вход даёт ограниченный выход          │   │
│ │                  │                                                    │   │
│ └──────────────────┴────────────────────────────────────────────────────┘   │
│                                                                             │
│ ВИЗУАЛИЗАЦИЯ:                                                               │
│                                                                             │
│   Устойчива           Асимптотически        Неустойчива                     │
│   (по Ляпунову)       устойчива                                             │
│                                                                             │
│       ●                   ●                     ○                           │
│      ╱│╲                 ╱│╲                   ╱│╲                          │
│     ╱ │ ╲               ╱ │ ╲                 ╱ │ ╲                         │
│    ●──●──●             ●→─●─←●               ●──●──●→                       │
│   не уходит          стремится к           разбегается                      │
│   далеко             центру                                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЛИНЕАРИЗАЦИЯ И СОБСТВЕННЫЕ ЗНАЧЕНИЯ                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Вблизи равновесия x* заменяем нелинейную систему линейной             │
│                                                                             │
│   ẋ = f(x) ≈ f(x*) + Df(x*)(x − x*) = A(x − x*)                            │
│                                                                             │
│   где A = Df(x*) — матрица Якоби (матрица частных производных)              │
│                                                                             │
│ ТЕОРЕМА ЛЯПУНОВА О ПЕРВОМ ПРИБЛИЖЕНИИ:                                      │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   Если ВСЕ собственные значения λᵢ матрицы A имеют Re(λᵢ) < 0,          │ │
│ │   то x* АСИМПТОТИЧЕСКИ УСТОЙЧИВО.                                       │ │
│ │                                                                         │ │
│ │   Если ХОТЯ БЫ ОДНО Re(λᵢ) > 0, то x* НЕУСТОЙЧИВО.                      │ │
│ │                                                                         │ │
│ │   Если Re(λᵢ) ≤ 0 и есть λ с Re(λ) = 0 — нужен дополнительный анализ.   │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ГЕОМЕТРИЯ НА КОМПЛЕКСНОЙ ПЛОСКОСТИ:                                         │
│                                                                             │
│            Im(λ)                                                            │
│              │                                                              │
│       ×      │      ×     ← неустойчиво (Re > 0)                            │
│              │                                                              │
│   ───────────┼───────────  Re(λ)                                            │
│              │                                                              │
│       ○      │      ○     ← устойчиво (Re < 0)                              │
│              │                                                              │
│                                                                             │
│   Все λ в левой полуплоскости ⟺ асимптотическая устойчивость               │
│                                                                             │
│ ФИЗИЧЕСКИЙ СМЫСЛ:                                                           │
│   Re(λ) < 0: экспоненциальное затухание e^(Re(λ)t)                         │
│   Re(λ) > 0: экспоненциальный рост                                          │
│   Im(λ) ≠ 0: колебания с частотой |Im(λ)|                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФАЗОВЫЙ ПОРТРЕТ — ВИЗУАЛИЗАЦИЯ ДИНАМИКИ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Для системы ẋ = Ax (2D) тип поведения определяется собственными числами:   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   УЗЕЛ (устойчивый)        ФОКУС (устойчивый)       СЕДЛО               │ │
│ │   λ₁, λ₂ < 0, real         λ = α ± iβ, α < 0        λ₁ < 0 < λ₂        │ │
│ │                                                                         │ │
│ │        ╲   │   ╱                  ╭───╮                   │             │ │
│ │         ╲  │  ╱               ╭───╯   ╰──╮               │             │ │
│ │          ╲ │ ╱               ╭╯    ●    ╰╮          ────●────          │ │
│ │      ─────●─────            ╭╯           ╰╮              │             │ │
│ │          ╱ │ ╲               ╰─────────────╯              │             │ │
│ │         ╱  │  ╲                                          │             │ │
│ │        ╱   │   ╲           затухающая спираль    неустойчиво!          │ │
│ │      всё стремится                                                      │ │
│ │      к центру                                                           │ │
│ │                                                                         │ │
│ │   ЦЕНТР                    УЗЕЛ (неустойчивый)      ФОКУС (неустойч.)   │ │
│ │   λ = ±iβ (чисто мним.)    λ₁, λ₂ > 0               λ = α ± iβ, α > 0  │ │
│ │                                                                         │ │
│ │        ╭───────╮                 ↑   ↑   ↑              ╭───╮           │ │
│ │       ╱         ╲               ╱   │   ╲           ╭──╯   ╰──╮        │ │
│ │      │     ●     │             ╱    │    ╲         ╯    ●    ╰        │ │
│ │       ╲         ╱           ─────●─────          раскручивающаяся     │ │
│ │        ╰───────╯               ╱    │    ╲           спираль          │ │
│ │      замкнутые орбиты        ╱     │     ╲                            │ │
│ │      (консервативн.)       всё разбегается                             │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: Маятник (линеаризованный)                                           │
│                                                                             │
│   θ̈ + (b/m)θ̇ + (g/L)θ = 0  →  ẋ = Ax, где x = (θ, θ̇)                    │
│                                                                             │
│   A = │ 0      1    │     Характ. уравнение: λ² + (b/m)λ + g/L = 0        │
│       │−g/L  −b/m   │                                                       │
│                                                                             │
│   b = 0: центр (идеальный маятник, колебания без затухания)                │
│   b > 0 малое: фокус (затухающие колебания)                                │
│   b большое: узел (апериодическое затухание)                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФУНКЦИЯ ЛЯПУНОВА — ОБОБЩЁННАЯ "ЭНЕРГИЯ"                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Найти функцию V(x), которая убывает вдоль траекторий                  │
│                                                                             │
│ ОПРЕДЕЛЕНИЕ:                                                                │
│   V: ℝⁿ → ℝ называется функцией Ляпунова для ẋ = f(x) в окрестности x*,   │
│   если:                                                                     │
│     1. V(x*) = 0 и V(x) > 0 для x ≠ x* (положительно определена)           │
│     2. V̇(x) = ∇V · f(x) ≤ 0 вдоль траекторий (убывает или постоянна)      │
│                                                                             │
│ ТЕОРЕМЫ ЛЯПУНОВА:                                                           │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   V̇ ≤ 0  ⟹  x* устойчиво по Ляпунову                                   │ │
│ │                                                                         │ │
│ │   V̇ < 0 (кроме x*)  ⟹  x* асимптотически устойчиво                     │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ПРИМЕР: Маятник с трением  ẍ + bẋ + sin(x) = 0                             │
│                                                                             │
│   V = ½ẋ² + (1 − cos x)    ("энергия" = кинетическая + потенциальная)      │
│   V̇ = −bẋ² ≤ 0            (энергия убывает из-за трения)                  │
│                                                                             │
│   Поскольку V̇ ≤ 0 и V̇ = 0 только при ẋ = 0, точка (0, 0) асимптотически  │
│   устойчива (принцип инвариантности Ла-Салля).                              │
│                                                                             │
│ ПРЕИМУЩЕСТВО:                                                               │
│   Не нужно решать уравнения! Достаточно найти подходящую V.                 │
│   Работает для НЕЛИНЕЙНЫХ систем.                                           │
│                                                                             │
│ СЛОЖНОСТЬ:                                                                  │
│   Нет общего метода построения V. Это искусство + физическая интуиция.      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРИТЕРИЙ РАУСА-ГУРВИЦА — УСТОЙЧИВОСТЬ БЕЗ ВЫЧИСЛЕНИЯ КОРНЕЙ                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Проверить, все ли корни характеристического многочлена              │
│         p(λ) = λⁿ + aₙ₋₁λⁿ⁻¹ + ... + a₁λ + a₀ лежат в левой полуплоскости │
│                                                                             │
│ МАТРИЦА ГУРВИЦА:                                                            │
│                                                                             │
│        ⎛ aₙ₋₁  aₙ₋₃  aₙ₋₅  ...  0   ⎞                                      │
│        ⎜  1    aₙ₋₂  aₙ₋₄  ...  0   ⎟                                      │
│   H =  ⎜  0    aₙ₋₁  aₙ₋₃  ...  0   ⎟                                      │
│        ⎜  0     1    aₙ₋₂  ...  0   ⎟                                      │
│        ⎝ ...   ...   ...   ... a₀   ⎠                                      │
│                                                                             │
│ КРИТЕРИЙ:                                                                   │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │   Система устойчива ⟺ ВСЕ главные миноры Δ₁, Δ₂, ..., Δₙ > 0            │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЧАСТНЫЕ СЛУЧАИ:                                                             │
│                                                                             │
│   n = 2: λ² + a₁λ + a₀                                                      │
│          Устойчиво ⟺ a₁ > 0 и a₀ > 0                                       │
│                                                                             │
│   n = 3: λ³ + a₂λ² + a₁λ + a₀                                               │
│          Устойчиво ⟺ a₂ > 0, a₀ > 0, a₂a₁ > a₀                             │
│                                                                             │
│ ПРАКТИЧЕСКОЕ ЗНАЧЕНИЕ:                                                      │
│   Не нужно искать корни! Только проверять знаки определителей.              │
│   Можно анализировать устойчивость при параметрах (aᵢ = f(k, τ, ...))       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРОСТРАНСТВО СОСТОЯНИЙ — СОВРЕМЕННЫЙ ПОДХОД К УПРАВЛЕНИЮ                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МОДЕЛЬ В ПРОСТРАНСТВЕ СОСТОЯНИЙ:                                            │
│                                                                             │
│   ẋ = Ax + Bu      (уравнение состояния)                                    │
│   y = Cx + Du      (уравнение выхода)                                       │
│                                                                             │
│   x ∈ ℝⁿ — вектор состояния (внутренние переменные)                         │
│   u ∈ ℝᵐ — вектор входов (управляющие воздействия)                          │
│   y ∈ ℝᵖ — вектор выходов (измеряемые величины)                             │
│   A, B, C, D — матрицы системы                                              │
│                                                                             │
│ ПРИМЕР: Теплообменник                                                       │
│   x = (T₁, T₂, T₃)ᵀ  — температуры в точках                                │
│   u = (Q_вх, G)ᵀ     — тепловая мощность, расход                            │
│   y = T_вых          — температура на выходе                                │
│                                                                             │
│ СВЯЗЬ С ПЕРЕДАТОЧНОЙ ФУНКЦИЕЙ:                                              │
│                                                                             │
│   G(s) = C(sI − A)⁻¹B + D                                                   │
│                                                                             │
│   Полюса G(s) = собственные значения A                                      │
│   Устойчивость: все полюса в левой полуплоскости                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ УПРАВЛЯЕМОСТЬ И НАБЛЮДАЕМОСТЬ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ УПРАВЛЯЕМОСТЬ: Можно ли из любого x₀ попасть в любое x₁?                    │
│                                                                             │
│   Матрица управляемости:  𝒞 = [B  AB  A²B  ...  Aⁿ⁻¹B]                     │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │   Система УПРАВЛЯЕМА ⟺ rank(𝒞) = n  (полный ранг)                       │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ НАБЛЮДАЕМОСТЬ: Можно ли восстановить x(t) по y(t)?                          │
│                                                                             │
│   Матрица наблюдаемости:  𝒪 = [C; CA; CA²; ...; CAⁿ⁻¹]ᵀ                    │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │   Система НАБЛЮДАЕМА ⟺ rank(𝒪) = n  (полный ранг)                       │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ДВОЙСТВЕННОСТЬ:                                                             │
│   (A, B) управляема ⟺ (Aᵀ, Cᵀ) наблюдаема                                  │
│                                                                             │
│ ПРАКТИЧЕСКИЙ СМЫСЛ:                                                         │
│   • Неуправляемость: есть "скрытые" моды, на которые нельзя повлиять        │
│   • Ненаблюдаемость: есть "невидимые" моды, которые не видны в выходе       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ П, ПИ, ПИД-РЕГУЛЯТОРЫ — РАБОЧИЕ ЛОШАДКИ АВТОМАТИКИ                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Поддерживать величину y(t) на уровне уставки r(t)                   │
│         e(t) = r(t) − y(t) — ошибка регулирования                           │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ 1. П-РЕГУЛЯТОР (пропорциональный)                                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   u(t) = Kₚ · e(t)                                                          │
│                                                                             │
│   Суть: Управляющее воздействие пропорционально ошибке.                     │
│         Чем больше отклонение — тем сильнее реакция.                        │
│                                                                             │
│   ПРИМЕР (бойлер):                                                          │
│   Уставка 50°C, текущая температура 45°C, Kₚ = 2                            │
│   Ошибка e = 50 − 45 = 5°C                                                  │
│   Управление u = 2 × 5 = 10 единиц мощности                                 │
│                                                                             │
│   ✓ Плюсы: Быстро реагирует                                                 │
│   ✗ Минусы: Остаётся статическая ошибка (не "дожимает" до уставки)          │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ 2. ПИ-РЕГУЛЯТОР (пропорционально-интегральный)                              │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   u(t) = Kₚ · e(t) + Kᵢ · ∫e(τ)dτ                                          │
│                                                                             │
│   Суть: Добавляется "память" — накопленная сумма прошлых ошибок.            │
│         Даже малая постоянная ошибка со временем накопится                  │
│         и увеличит управляющее воздействие.                                 │
│                                                                             │
│   ПРИМЕР (тот же бойлер, Kₚ = 2, Kᵢ = 0.5):                                │
│                                                                             │
│   Шаг 1: T = 45°C, e = 5°C                                                  │
│          Интеграл = 5                                                       │
│          u = 2×5 + 0.5×5 = 10 + 2.5 = 12.5                                 │
│                                                                             │
│   Шаг 2: T = 47°C, e = 3°C                                                  │
│          Интеграл = 5 + 3 = 8                                               │
│          u = 2×3 + 0.5×8 = 6 + 4 = 10                                      │
│                                                                             │
│   Шаг 3: T = 49°C, e = 1°C                                                  │
│          Интеграл = 8 + 1 = 9                                               │
│          u = 2×1 + 0.5×9 = 2 + 4.5 = 6.5                                   │
│                                                                             │
│   Интеграл "помнит" прошлые ошибки и доводит до уставки!                    │
│                                                                             │
│   ✓ Плюсы: Устраняет статическую ошибку                                     │
│   ✗ Минусы: Может перерегулировать (проскочить уставку)                     │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ 3. ПИД-РЕГУЛЯТОР (пропорционально-интегрально-дифференциальный)             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   u(t) = Kₚ · e(t) + Kᵢ · ∫e(τ)dτ + K_d · ė(t)                             │
│                                                                             │
│   Суть: Добавляется реакция на СКОРОСТЬ изменения ошибки.                   │
│         Если температура быстро приближается к уставке —                    │
│         дифференциальная часть "притормозит", чтобы не проскочить.          │
│                                                                             │
│   ПРИМЕР (Kₚ = 2, Kᵢ = 0.5, K_d = 1):                                      │
│                                                                             │
│   Шаг 1: T = 45°C, e = 5°C, ė = 5 (ошибка появилась)                       │
│          u = 2×5 + 0.5×5 + 1×5 = 10 + 2.5 + 5 = 17.5 ← агрессивный старт   │
│                                                                             │
│   Шаг 2: T = 47°C, e = 3°C, ė = 3−5 = −2 (ошибка уменьшается!)             │
│          u = 2×3 + 0.5×8 + 1×(−2) = 6 + 4 − 2 = 8 ← притормаживаем         │
│                                                                             │
│   Шаг 3: T = 49°C, e = 1°C, ė = 1−3 = −2                                   │
│          u = 2×1 + 0.5×9 + 1×(−2) = 2 + 4.5 − 2 = 4.5 ← плавный подход     │
│                                                                             │
│   ✓ Плюсы: Быстрее и точнее, минимум перерегулирования                      │
│   ✗ Минусы: Сложнее настраивать, чувствителен к шуму                        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ СРАВНЕНИЕ НА ПРИМЕРЕ КРУИЗ-КОНТРОЛЯ                                         │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   П:   Чем больше машина отстаёт от заданной скорости, тем сильнее газ.     │
│        Но если дорога в гору — постоянное отставание.                       │
│                                                                             │
│   ПИ:  "Помнит", что давно не достигает скорости — добавляет газ            │
│        до полного совпадения. Но может разогнаться и проскочить.            │
│                                                                             │
│   ПИД: Если машина резко разгоняется — сбрасывает газ ЗАРАНЕЕ,              │
│        чтобы не проскочить нужную скорость.                                 │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ИТОГОВАЯ ТАБЛИЦА                                                            │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│ ┌───────────┬─────────────┬──────────────────┬─────────────────────────────┐│
│ │ РЕГУЛЯТОР │ РЕАКЦИЯ     │ СТАТИЧ. ОШИБКА   │ ПЕРЕРЕГУЛИРОВАНИЕ           ││
│ ├───────────┼─────────────┼──────────────────┼─────────────────────────────┤│
│ │ П         │ Быстрая     │ ЕСТЬ             │ Нет или малое               ││
│ │ ПИ        │ Медленнее   │ НЕТ              │ Возможно                    ││
│ │ ПИД       │ Оптимальная │ НЕТ              │ Минимальное                 ││
│ └───────────┴─────────────┴──────────────────┴─────────────────────────────┘│
│                                                                             │
│ НАСТРОЙКА (метод Циглера-Никольса и др.):                                   │
│   1. Найти критический коэффициент Kₚ_крит (на границе устойчивости)        │
│   2. Найти период критических колебаний T_крит                              │
│   3. Вычислить Kₚ, Kᵢ, K_d по эмпирическим формулам                        │
│                                                                             │
│ ~95% промышленных систем управления используют ПИД!                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБРАТНАЯ СВЯЗЬ И СТАБИЛИЗАЦИЯ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ БЕЗ ОБРАТНОЙ СВЯЗИ (разомкнутая система):                                   │
│                                                                             │
│   r(t) ───→ [Регулятор] ───→ [Объект] ───→ y(t)                            │
│                                                                             │
│   Проблема: Не компенсирует возмущения!                                     │
│                                                                             │
│ С ОБРАТНОЙ СВЯЗЬЮ (замкнутая система):                                      │
│                                                                             │
│   r(t) ──→⊕──→ [Регулятор] ───→ [Объект] ───→ y(t)                         │
│           │                                   │                             │
│           └───────────── [−1] ←───────────────┘                             │
│                                                                             │
│ ТЕОРЕМА О СТАБИЛИЗАЦИИ:                                                     │
│   Если (A, B) управляема, то ВСЕГДА можно найти матрицу K такую,           │
│   что система с обратной связью u = −Kx имеет любые желаемые полюса.       │
│                                                                             │
│   Замкнутая система: ẋ = (A − BK)x                                          │
│   Выбором K можно сделать все собственные значения (A − BK) отрицательными! │
│                                                                             │
│ LQR (Linear Quadratic Regulator):                                           │
│   Оптимальный выбор K, минимизирующий функционал качества:                  │
│   J = ∫₀^∞ (xᵀQx + uᵀRu) dt                                                 │
│   Q — штраф за отклонение состояния                                         │
│   R — штраф за расход управления                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────────────────┬─────────────────────────────────────────────────┐ │
│ │ РАЗДЕЛ                │ СВЯЗЬ С УСТОЙЧИВОСТЬЮ И УПРАВЛЕНИЕМ             │ │
│ ├───────────────────────┼─────────────────────────────────────────────────┤ │
│ │ A3 Линейная алгебра   │ Собственные значения определяют устойчивость    │ │
│ │                       │ Ранг матриц → управляемость/наблюдаемость       │ │
│ ├───────────────────────┼─────────────────────────────────────────────────┤ │
│ │ A12 Комплексные числа │ Полюса на комплексной плоскости                 │ │
│ │                       │ Критерий Найквиста (обход в ℂ)                  │ │
│ ├───────────────────────┼─────────────────────────────────────────────────┤ │
│ │ A9 Ряды (Фурье)       │ Частотный анализ, диаграммы Боде                │ │
│ │                       │ Передаточная функция G(jω)                      │ │
│ ├───────────────────────┼─────────────────────────────────────────────────┤ │
│ │ XIX Оптимизация       │ LQR, оптимальное управление                     │ │
│ │                       │ Принцип максимума Понтрягина                    │ │
│ ├───────────────────────┼─────────────────────────────────────────────────┤ │
│ │ Дифф. уравнения       │ Фазовые портреты, бифуркации                    │ │
│ │                       │ Нелинейная динамика, хаос                       │ │
│ └───────────────────────┴─────────────────────────────────────────────────┘ │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ГЛУБОКАЯ АНАЛОГИЯ: ПИД-РЕГУЛЯТОР ↔ ARIMA-МОДЕЛЬ                            │
│                                                                             │
│ ПИД (непрерывное управление) и ARIMA (анализ временных рядов) — это         │
│ ОДИН И ТОТ ЖЕ паттерн из разных миров!                                      │
│                                                                             │
│ ┌───────────────────┬────────────────────┬────────────────────────────────┐ │
│ │ КОМПОНЕНТА        │ ПИД                │ ARIMA                          │ │
│ ├───────────────────┼────────────────────┼────────────────────────────────┤ │
│ │ Текущее состояние │ P (пропорц.)       │ AR (авторегрессия)             │ │
│ │ "Где я сейчас?"   │ e(t)               │ xₜ₋₁, xₜ₋₂, ...               │ │
│ ├───────────────────┼────────────────────┼────────────────────────────────┤ │
│ │ Накопленная       │ I (интегральный)   │ I (интегрирование)             │ │
│ │ история           │ ∫e(τ)dτ            │ ∇⁻¹ = накопление               │ │
│ ├───────────────────┼────────────────────┼────────────────────────────────┤ │
│ │ Скорость          │ D (дифференц.)     │ MA (скользящее среднее)        │ │
│ │ изменения         │ de/dt              │ εₜ₋₁, εₜ₋₂, ... (шоки)        │ │
│ └───────────────────┴────────────────────┴────────────────────────────────┘ │
│                                                                             │
│ Оба подхода отвечают на вопрос: как учесть прошлое, настоящее              │
│ и тенденцию изменения для предсказания/управления будущим?                  │
│                                                                             │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│ ГЛУБИННЫЙ СМЫСЛ:                                                            │
│   Устойчивость — это ТОПОЛОГИЧЕСКОЕ свойство фазового пространства!         │
│   Траектории системы образуют "течение" на многообразии.                    │
│   Аттракторы (устойчивые точки/циклы) — особенности этого течения.          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П13. КАК ПОЛЬЗОВАТЬСЯ ТАБЛИЦАМИ ПРИ РЕШЕНИИ ЗАДАЧ
═══════════════════════════════════════════════════════════════════════════════

ПОШАГОВЫЙ АЛГОРИТМ:

Шаг 1: ОПРЕДЕЛИТЬ УРОВЕНЬ (Главная таблица, П11)
        ↓
       На каком уровне абстракции находится задача?

Шаг 2: ОПРЕДЕЛИТЬ ТИП СТРУКТУРЫ (столпы в главной таблице)
        ↓
       Дискретное? Алгебраическое? Топологическое? Аналитическое?

Шаг 3: ИДЕНТИФИЦИРОВАТЬ ОТНОШЕНИЯ (раздел 3)
        ↓
       Какие отношения даны? ∈, ⊆, ~, ≤, →?

Шаг 4: ИСКАТЬ АНАЛОГИЮ (Таблица аналогий, П12)
        ↓
       Видели ли похожий паттерн в другой области?

Шаг 5: ВЫБРАТЬ МЕТОД (раздел 2.3)
        ↓
       Прямое? От противного? Индукция? Контрапозиция?

Шаг 6: ПОСТРОИТЬ ПУТЬ (Философия)
        ↓
       Доказательство = путь вложений множеств

Шаг 7: ПРОВЕРИТЬ
        ↓
       Все вложения корректны?

КОНКРЕТНЫЙ ПРИМЕР:

ЗАДАЧА: Доказать, что сумма двух чётных чисел чётна

Шаг 1: УРОВЕНЬ — Числа (ℤ), Уровень 4
Шаг 2: ТИП — Алгебраическое (операция +) + Дискретное (делимость)
Шаг 3: ОТНОШЕНИЯ — "Чётные" = {n ∈ ℤ : ∃k, n = 2k}
Шаг 4: АНАЛОГИЯ — Замкнутость подгруппы!
Шаг 5: МЕТОД — Прямое доказательство
Шаг 6: ПУТЬ:
        1. a = 2k, b = 2m
        2. a + b = 2k + 2m = 2(k+m)
        3. ⇒ a + b чётно ✓
Шаг 7: ПРОВЕРКА — ✓ все шаги корректны

───────────────────────────────────────────────────────────────────────────────

ВТОРОЙ ПРИМЕР: Более сложная задача

ЗАДАЧА: Доказать, что множество иррациональных чисел несчётно

Шаг 1: ОПРЕДЕЛИТЬ УРОВЕНЬ
         • Множества + кардинальность → Уровень 2 (теория множеств)
         • Но используем факты о ℝ и ℚ → Уровень 4 (числа)

Шаг 2: ОПРЕДЕЛИТЬ ТИП
         • Дискретное (мощности множеств)
         • Работаем с "размерами" бесконечных множеств

Шаг 3: ИДЕНТИФИЦИРОВАТЬ ОТНОШЕНИЯ
         Дано:
           • ℝ несчётно (теорема Кантора)
           • ℚ счётно (известный факт)
           • Иррациональные = ℝ \ ℚ
         
         Требуется:
           • |ℝ \ ℚ| несчётно

Шаг 4: ИСКАТЬ АНАЛОГИЮ
         Вспоминаем арифметику мощностей:
           • Если A конечно, B конечно ⇒ A ∪ B конечно
           • Аналогия для бесконечных: счётное + счётное = счётное
           • Но: несчётное ≠ счётное + счётное

Шаг 5: ВЫБРАТЬ МЕТОД
         • От противного (reductio ad absurdum)
         • Предположим, что иррациональные счётны → противоречие

Шаг 6: ПОСТРОИТЬ ПУТЬ (ДОКАЗАТЕЛЬСТВО)
         1. Предположим, что ℝ \ ℚ счётно               [от противного]
         
         2. ℚ счётно (известно)                         [факт]
         
         3. ℝ = ℚ ∪ (ℝ \ ℚ)                             [разбиение]
         
         4. Счётное ∪ Счётное = Счётное                 [теорема]
         
         5. ⇒ ℝ счётно                                  [из 1,2,3,4]
         
         6. Но ℝ несчётно (диагональный метод Кантора)  [ПРОТИВОРЕЧИЕ]
         
         7. ⇒ Предположение неверно                     [reductio]
         
         8. ⇒ ℝ \ ℚ несчётно                            ✓

         ГЕОМЕТРИЯ (множества):
           Если бы ℝ\ℚ было счётным:
           
           ℝ = ℚ ∪ (ℝ\ℚ)
               ↓     ↓
            счётное + счётное = счётное  (должно быть)
               
           Но ℝ несчётное! → ПРОТИВОРЕЧИЕ

         ФИЛОСОФИЯ:
           Пытались представить ℝ как объединение двух счётных множеств.
           Получили абсурд: ℝ одновременно счётно и несчётно.
           Значит, одно из множеств несчётно. Так как ℚ счётно, то ℝ\ℚ несчётно.

Шаг 7: ПРОВЕРИТЬ
         ✓ Используемые факты верны (ℚ счётно, ℝ несчётно)
         ✓ Теорема о счётном объединении верна
         ✓ Логика от противного применена корректно
         ✓ Противоречие реальное (не мнимое)

═══════════════════════════════════════════════════════════════════════════════
П14. ТИПИЧНЫЕ ЗАДАЧИ — ОТ ФОРМУЛИРОВКИ К МЕТОДУ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────┬──────────────────────────┬──────────────────────────────┐
│ ФОРМУЛИРОВКА    │  ТИП ЗАДАЧИ              │  МЕТОД                       │
├─────────────────┼──────────────────────────┼──────────────────────────────┤
│ "Доказать x ∈ A"│ Принадлежность           │ Прямое: показать определение │
│ "Доказать A ⊆ B"│ Включение                │ Взять произвольный x ∈ A     │
│ "Доказать A = B"│ Равенство множеств       │ Показать A ⊆ B и B ⊆ A       │
│ "Не существует" │ Несуществование          │ От противного                │
│ "Для всех n ∈ ℕ"│ Для всех натуральных     │ Индукция                     │
│ "P ⇒ Q"         │ Импликация               │ Прямое или контрапозиция     │
│ "P ⇔ Q"         │ Эквивалентность          │ Две импликации               │
│ "Существует     │ Существование +          │ Построение + единственность  │
│  единственный"  │ единственность           │ отдельно                     │
└─────────────────┴──────────────────────────┴──────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П15. ИСТОРИЧЕСКИЙ АТЛАС — КАК МАТЕМАТИКА РОСЛА ПО УРОВНЯМ
═══════════════════════════════════════════════════════════════════════════════

┌──────────┬────────────────────────────────────────────────────────────────┐
│  ПЕРИОД  │  ЧТО ПОЯВИЛОСЬ (по уровням главной таблицы)                    │
├──────────┼────────────────────────────────────────────────────────────────┤
│~3000 BC  │ УРОВЕНЬ 2-3: ℕ, ℤ, ℚ, геометрия Евклида, логика Аристотеля    │
│ - 300 BC │                                                                │
│          │ • Евклид "Начала" — первая аксиоматическая система            │
│          │ • Аристотель — формализация логики                             │
├──────────┼────────────────────────────────────────────────────────────────┤
│1500-1700 │ УРОВЕНЬ 4: ℂ, исчисление                                       │
│          │                                                                │
│          │ • Комплексные числа ℂ (Кардано, ~1545)                         │
│          │ • Исчисление (Ньютон, Лейбниц, ~1670-1680)                     │
├──────────┼────────────────────────────────────────────────────────────────┤
│1800-1850 │ УРОВЕНЬ 4-5: Группы, строгость анализа                         │
│          │                                                                │
│          │ • Галуа — теория групп (~1830)                                 │
│          │ • Вейерштрасс — ε-δ определения (~1850)                        │
├──────────┼────────────────────────────────────────────────────────────────┤
│1850-1900 │ УРОВЕНЬ 2, 5: Множества, топология, векторы                   │
│          │                                                                │
│          │ • Кантор — теория множеств (~1870-1880) [ФУНДАМЕНТ!]          │
│          │ • Грассман — векторные пространства (~1844)                    │
│          │ • Фреше — метрические пространства (~1906)                     │
├──────────┼────────────────────────────────────────────────────────────────┤
│1900-1930 │ УРОВЕНЬ 5-6: Топология, функциональный анализ                 │
│          │                                                                │
│          │ • Лебег — теория меры (~1902)                                  │
│          │ • Хаусдорф — общая топология (~1914)                           │
│          │ • Банах — функциональный анализ (~1920-1930)                   │
│          │ • Гёдель — теоремы о неполноте (~1931)                         │
├──────────┼────────────────────────────────────────────────────────────────┤
│1930-1960 │ УРОВЕНЬ 6: Категории, алгебраическая топология                │
│          │                                                                │
│          │ • Эйленберг, Маклейн — теория категорий (~1945) [МЕТА-УРОВЕНЬ]│
│          │ • Бурбаки — структуралистский подход (~1935)                   │
│          │ • Колмогоров — аксиоматическая теория вероятностей (~1933)    │
└──────────┴────────────────────────────────────────────────────────────────┘

КЛЮЧЕВОЕ НАБЛЮДЕНИЕ:

  История математики идёт СНИЗУ ВВЕРХ по главной таблице!
  Каждая эпоха строит на предыдущих уровнях.

═══════════════════════════════════════════════════════════════════════════════
═══════════════════════════════════════════════════════════════════════════════

═══════════════════════════════════════════════════════════════════════════════
                         КАК МАТЕМАТИК ДУМАЕТ
═══════════════════════════════════════════════════════════════════════════════

Математика — это не только формулы. Это СПОСОБ МЫШЛЕНИЯ.
Ниже — эвристики, которым учатся на практике, но редко пишут в книгах.

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОГДА ИСКАТЬ ИНВАРИАНТ                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Если объекты МЕНЯЮТСЯ, но что-то СОХРАНЯЕТСЯ — ищи инвариант!              │
│                                                                             │
│ ПРИМЕРЫ:                                                                    │
│   • Вращения меняют координаты, но сохраняют длину: ‖v‖ = inv             │
│   • Деформации меняют форму, но сохраняют число дырок: π₁ = inv            │
│   • Время меняет систему, но сохраняет энергию: H = inv (если ∂L/∂t = 0)  │
│                                                                             │
│ ЭВРИСТИКА: "Что НЕ изменилось?" — первый вопрос математика.                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КОГДА ОБОБЩАТЬ, КОГДА КОНКРЕТИЗИРОВАТЬ                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ОБОБЩАЙ, если:                                                              │
│   • Доказательство работает для более широкого класса                       │
│   • Конкретные детали не используются                                       │
│   • Хочешь понять СУТЬ, отбросив "шум" частностей                          │
│                                                                             │
│ КОНКРЕТИЗИРУЙ, если:                                                        │
│   • Общая теорема не даёт явного ответа                                    │
│   • Нужен ВЫЧИСЛИТЕЛЬНЫЙ результат                                          │
│   • Частный случай имеет дополнительную структуру                           │
│                                                                             │
│ ПРИМЕР: Теорема о неподвижной точке (общая) → метод Ньютона (конкретный). │
│ Общая говорит "существует", конкретная говорит "как найти".                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧТО ДЕЛАТЬ, КОГДА ДОКАЗАТЕЛЬСТВО НЕ ИДЁТ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 1. ПРОВЕРЬ ЧАСТНЫЕ СЛУЧАИ                                                   │
│    Верно ли утверждение для n=1,2,3? Для простейших примеров?              │
│    Если нет — ищи контрпример, а не доказательство!                        │
│                                                                             │
│ 2. ОСЛАБЬ УТВЕРЖДЕНИЕ                                                       │
│    Может быть, верно при дополнительных условиях?                          │
│    Может быть, верна более слабая оценка?                                  │
│                                                                             │
│ 3. УСИЛЬ УТВЕРЖДЕНИЕ                                                        │
│    Парадоксально, но иногда более сильное утверждение ЛЕГЧЕ доказать!      │
│    Индукция часто требует усиления гипотезы.                               │
│                                                                             │
│ 4. ПЕРЕФОРМУЛИРУЙ                                                           │
│    Та же задача на другом языке (алгебра ↔ геометрия ↔ анализ).           │
│    Иногда другой взгляд делает решение очевидным.                          │
│                                                                             │
│ 5. ИЗУЧИ АНАЛОГИЧНЫЕ ТЕОРЕМЫ                                                │
│    Как доказывали похожие результаты? Какие идеи использовали?             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КАК ВЫБИРАТЬ МЕЖДУ ФОРМАЛИЗАЦИЯМИ                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Одна задача — много языков (см. введение). Как выбрать?                    │
│                                                                             │
│ КРИТЕРИИ:                                                                   │
│   • Какие ОПЕРАЦИИ нужны? (сложение → линалг, близость → топология)        │
│   • Какой ОТВЕТ нужен? (существование → абстрактно, число → конкретно)     │
│   • Что ИЗВЕСТНО? (симметрия → группы, гладкость → анализ)                 │
│                                                                             │
│ ЭВРИСТИКА: Выбирай язык, где задача становится СТАНДАРТНОЙ.                │
│                                                                             │
│ ПРИМЕР: Уравнение теплопроводности                                          │
│   • Хочу понять качественное поведение → полугруппы (e^{At})               │
│   • Хочу посчитать конкретное решение → Фурье или численно                 │
│   • Хочу доказать существование → функанализ                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИНЦИП ЭКОНОМИИ СТРУКТУРЫ                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Не вводи больше структуры, чем нужно для решения!                          │
│                                                                             │
│ ПЛОХО: "Пусть V — гильбертово пространство..." (если нужна только норма)  │
│ ХОРОШО: "Пусть V — нормированное пространство..."                          │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   • Доказательство работает для более широкого класса                       │
│   • Легче понять, ЧТО именно используется                                  │
│   • Результат легче применить в других контекстах                          │
│                                                                             │
│ ИСКЛЮЧЕНИЕ: Если дополнительная структура делает доказательство ПРОЩЕ,     │
│ иногда стоит её использовать, а потом обобщить результат.                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТУИЦИЯ vs СТРОГОСТЬ                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Математик работает в ДВА ЭТАПА:                                            │
│                                                                             │
│   ЭТАП 1 (интуиция): "Почему это ДОЛЖНО быть правдой?"                     │
│   Рисунки, аналогии, физические соображения, примеры.                      │
│   Цель: ПОНЯТЬ, не доказать.                                               │
│                                                                             │
│   ЭТАП 2 (строгость): "Как это ДОКАЗАТЬ?"                                  │
│   Формальные определения, логические шаги, проверка всех случаев.          │
│   Цель: УБЕДИТЬ (себя и других).                                           │
│                                                                             │
│ ОШИБКА НОВИЧКА: пропускать этап 1.                                         │
│   Без интуиции доказательство — это слепой перебор.                        │
│                                                                             │
│ ОШИБКА ФИЗИКА: останавливаться на этапе 1.                                 │
│   Интуиция иногда обманывает (пример: парадоксы анализа XIX века).         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
                           ТИПИЧНЫЕ ЗАБЛУЖДЕНИЯ
═══════════════════════════════════════════════════════════════════════════════

Эти ошибки совершают почти все. Лучше узнать о них заранее.

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ В ЛОГИКЕ                                                        │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Из ложного следует только     │ Из ложного следует ЧТО УГОДНО!            │
│ ложное"                        │ F → P истинно для любого P                 │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "∀ и ∃ можно менять местами"   │ ∀x∃y P(x,y) ≢ ∃y∀x P(x,y)                │
│                                │ "У каждого своя мама" ≠ "Одна мама у всех"│
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Доказать = проверить примеры" │ Примеры НИКОГДА не доказывают ∀-утв.      │
│                                │ Но один контрпример опровергает            │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ В АЛГЕБРЕ                                                       │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Группа — это числа с          │ Группа — множество СИММЕТРИЙ объекта.     │
│ операцией"                     │ Числа — лишь один частный случай           │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "В группе всегда ab = ba"      │ Только в АБЕЛЕВЫХ группах.                │
│                                │ Повороты + отражения: НЕ коммутативны      │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "(ab)⁻¹ = a⁻¹b⁻¹"             │ (ab)⁻¹ = b⁻¹a⁻¹ — порядок ОБРАТНЫЙ!      │
│                                │ (надеть носки, ботинки)⁻¹ = снять ботинки,│
│                                │ снять носки                                │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ В ТОПОЛОГИИ                                                     │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Открытое = без границы"       │ Открытое = "внутри каждой точки есть шар" │
│                                │ ℝ открыто в ℝ, хотя "границы нет"         │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Множество либо открыто,       │ Может быть И тем И другим (∅, X)          │
│ либо закрыто"                  │ Может быть НИ тем НИ другим: [0,1) в ℝ    │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Непрерывная функция не может  │ x ↦ 1/x непрерывна на (0,∞) и → ∞        │
│ уходить в бесконечность"       │ Непрерывность ≠ ограниченность            │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Бублик и чашка — это шутка"   │ Это ТОЧНАЯ теорема: оба имеют род 1       │
│                                │ (одну дырку), значит гомеоморфны          │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ В ЛИНЕЙНОЙ АЛГЕБРЕ                                              │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Вектор — это стрелка"         │ Вектор — элемент векторного пространства. │
│                                │ Функции, матрицы, ряды — тоже векторы!    │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Матрица — это таблица чисел"  │ Матрица — ПРЕДСТАВЛЕНИЕ линейного         │
│                                │ оператора в конкретном базисе.            │
│                                │ Меняем базис — меняется матрица           │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "det(A+B) = det(A) + det(B)"   │ НЕВЕРНО! det мультипликативен:            │
│                                │ det(AB) = det(A)·det(B)                   │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Если det A = 0, матрица       │ Матрица есть, но она НЕОБРАТИМА.          │
│ не существует"                 │ Некоторые векторы "схлопываются" в ядро    │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ В ДИФФЕРЕНЦИАЛЬНОЙ ГЕОМЕТРИИ                                    │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "dx — бесконечно малая         │ dx — базисный элемент кокасательного      │
│ величина"                      │ пространства T*M. Линейная функция!       │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "∫ — просто антипроизводная"   │ ∫ₘω — независимое понятие (интеграл формы │
│                                │ по многообразию). Связь через Стокса.     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Кривизна — это изогнутость"   │ Внутренняя кривизна определяется через    │
│                                │ параллельный перенос вектора по контуру.  │
│                                │ Цилиндр: K=0 (плоский!). Сфера: K>0.      │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Связность — абстрактная       │ Связность определяет, что значит          │
│ ерунда"                        │ "параллельно" в искривлённом пр-ве.       │
│                                │ Без неё нельзя сравнивать векторы в       │
│                                │ разных точках!                            │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ В МАТЕМАТИЧЕСКОМ АНАЛИЗЕ                                        │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Производная — это скорость"   │ Производная — ЛИНЕЙНОЕ ПРИБЛИЖЕНИЕ.        │
│                                │ Скорость — лишь один физический пример.   │
│                                │ f(x+h) ≈ f(x) + f'(x)·h — вот суть!       │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Интеграл — это площадь"       │ Площадь — частный случай.                  │
│                                │ Интеграл — это МЕРА (A16): обобщённый     │
│                                │ "размер" множества или функционал на C(X). │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "∞ — это число"                │ ∞ — это СИМВОЛ для записи пределов.       │
│                                │ Нельзя: ∞ − ∞, ∞/∞, 0·∞ — неопределённо! │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "1/0 = ∞"                      │ 1/0 НЕ ОПРЕДЕЛЕНО (см. A13.2).            │
│                                │ lim(1/x) = ∞ при x→0⁺ — это ПОВЕДЕНИЕ,   │
│                                │ не значение в точке!                      │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Сходящийся ряд можно          │ Только АБСОЛЮТНО сходящийся!              │
│ переставлять"                  │ Условно сходящийся → теорема Римана:      │
│                                │ перестановкой получим любую сумму!        │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ О ТЕНЗОРАХ                                                      │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Тензор — это многомерный      │ Тензор — МУЛЬТИЛИНЕЙНАЯ ФУНКЦИЯ (A6).     │
│ массив чисел"                  │ Массив — лишь представление в базисе.     │
│                                │ Тензор существует независимо от координат!│
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Матрица — это тензор 2-го     │ Матрица — представление оператора V → W.  │
│ ранга"                         │ Тензор типа (1,1) — это V* ⊗ V.           │
│                                │ Матрица меняется при замене базиса,       │
│                                │ тензор — нет!                             │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Индексы вверху/внизу — просто │ Это РАЗНЫЕ объекты: вектор (↑) vs         │
│ обозначения"                   │ ковектор (↓). Связаны через МЕТРИКУ!      │
│                                │ vⁱ = gⁱʲvⱼ — поднятие индекса требует g. │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ О ВЕРОЯТНОСТИ                                                   │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Вероятность — это частота"    │ Частота — одна ИНТЕРПРЕТАЦИЯ. Математически│
│                                │ вероятность — это МЕРА со свойством P(Ω)=1.│
│                                │ Байесовская вероятность — степень уверен. │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "P(A|B) = P(B|A)"              │ НЕВЕРНО! P(болезнь|тест⁺) ≠ P(тест⁺|болезнь)│
│                                │ Это путают даже врачи! Используй Байеса.  │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Независимые события не могут  │ Независимость: P(A∩B) = P(A)·P(B).        │
│ произойти вместе"              │ Они МОГУТ произойти вместе! Просто знание │
│                                │ об одном не меняет вероятность другого.   │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "После 10 орлов шанс решки     │ ОШИБКА ИГРОКА. Монета не помнит прошлое!  │
│ выше"                          │ P(решка) = 0.5 на каждом броске.          │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАБЛУЖДЕНИЯ О МЕРАХ И ИНТЕГРАЛАХ                                            │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ОШИБКА                         │ ПРАВДА                                     │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Любое множество имеет меру"   │ Существуют НЕИЗМЕРИМЫЕ множества!         │
│                                │ (Пример Витали, следствие аксиомы выбора) │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Интеграл Римана — это         │ Лебег: интегрируем по значениям функции.  │
│ единственный интеграл"         │ Риман не интегрирует характеристическую   │
│                                │ функцию ℚ, Лебег — интегрирует (= 0).    │
├────────────────────────────────┼────────────────────────────────────────────┤
│ "Множество меры нуль —         │ Канторово множество: несчётно, но μ = 0!  │
│ конечное или счётное"          │ Мера и мощность — разные понятия.         │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНОЕ ЗАБЛУЖДЕНИЕ                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   "Разделы математики — это разные предметы"                                │
│                                                                             │
│   ПРАВДА:                                                                   │
│   Это ОДИН предмет, рассматриваемый с разных сторон.                        │
│   Группа — это категория с одним объектом.                                  │
│   Топология — это категория открытых множеств.                              │
│   Векторное пр-во — это модуль над полем.                                   │
│   Дифференциальная форма — это сечение расслоения.                          │
│                                                                             │
│   Когда понимаешь глубинную структуру, границы между разделами исчезают.   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПОЧЕМУ X НЕ ЯВЛЯЕТСЯ Y — ОТРИЦАТЕЛЬНЫЕ ПРИМЕРЫ                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Понимание того, чем объект НЕ является, не менее важно, чем знать, чем     │
│ он является. Вот ключевые различия:                                        │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ АЛГЕБРАИЧЕСКИЕ СТРУКТУРЫ                                                    │
├────────────────────────────────┬────────────────────────────────────────────┤
│ УТВЕРЖДЕНИЕ                    │ ПРИЧИНА                                    │
├────────────────────────────────┼────────────────────────────────────────────┤
│ ℤ — кольцо, но НЕ поле         │ Нет деления: 1/2 ∉ ℤ                      │
├────────────────────────────────┼────────────────────────────────────────────┤
│ ℤ/6ℤ — кольцо, но НЕ          │ Есть делители нуля: 2·3 = 0 (mod 6)       │
│ целостное кольцо               │                                            │
├────────────────────────────────┼────────────────────────────────────────────┤
│ (ℝ>0, ×) — группа, но         │ Нет нейтрального элемента для + (0 ∉ ℝ>0) │
│ (ℝ>0, +) — НЕ группа           │                                            │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Кватернионы ℍ — тело, но       │ ab ≠ ba (некоммутативность умножения)     │
│ НЕ поле                        │                                            │
├────────────────────────────────┴────────────────────────────────────────────┤
│ ПРОСТРАНСТВА И НОРМЫ                                                        │
├────────────────────────────────┬────────────────────────────────────────────┤
│ L¹[0,1] — банахово, но НЕ      │ Норма ‖f‖₁ = ∫|f| не порождается         │
│ гильбертово                    │ скалярным произведением (нарушен паралл.) │
├────────────────────────────────┼────────────────────────────────────────────┤
│ C[0,1] с ‖·‖∞ — нормировано,  │ Есть последовательность Коши без предела  │
│ но НЕ полно по ‖·‖₁           │ в C[0,1]: предел — разрывная функция      │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Метрика d(x,y) = |x−y|/(1+|x−y|)│ d(x,y) ≤ 1, но исходное ℝ неограничено  │
│ не порождается нормой          │ Нет линейной структуры на уровне метрики  │
├────────────────────────────────┴────────────────────────────────────────────┤
│ ТОПОЛОГИЧЕСКИЕ СВОЙСТВА                                                     │
├────────────────────────────────┬────────────────────────────────────────────┤
│ ℚ — НЕ связное                 │ ℚ = (−∞,√2)∩ℚ ∪ (√2,∞)∩ℚ — два открытых│
├────────────────────────────────┼────────────────────────────────────────────┤
│ [0,1) — НЕ компактно           │ Покрытие (1/n, 1) не имеет конечного      │
│ (в отличие от [0,1])           │ подпокрытия                               │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Цилиндр — НЕ гомеоморфен       │ π₁(цилиндр) = ℤ ≠ 0 = π₁(плоскость)     │
│ плоскости                      │ (хотя оба локально евклидовы)             │
├────────────────────────────────┴────────────────────────────────────────────┤
│ ФУНКЦИОНАЛЬНЫЙ АНАЛИЗ                                                       │
├────────────────────────────────┬────────────────────────────────────────────┤
│ Слабая сходимость НЕ влечёт    │ eₙ → 0 слабо в L², но ‖eₙ‖ = 1           │
│ сходимость по норме            │ (ортонормированный базис)                 │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Компактность в ∞-мерном        │ Замкнутый единичный шар в L² —            │
│ НЕ эквивалентна замкнутости +  │ замкнут и ограничен, но НЕ компактен!    │
│ ограниченности                 │                                            │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Непрерывный линейный оператор  │ Сдвиг в l²: T(x₁,x₂,...) = (0,x₁,x₂,...) │
│ НЕ обязательно имеет собств.   │ Инъективен, но Tx = λx ⇒ x = 0           │
│ значения                       │                                            │
└────────────────────────────────┴────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                           СПРАВОЧНИК НОТАЦИЙ
═══════════════════════════════════════════════════════════════════════════════

Все символы, используемые в настоящем стандарте:

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.1  ЛОГИЧЕСКИЕ СИМВОЛЫ                                                   │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ ∀       │ Квантор всеобщности │ "для всех", "для любого"                    │
│ ∃       │ Квантор существов.  │ "существует", "найдётся хотя бы один"       │
│ ∃!      │ Единственность      │ "существует единственный"                   │
│ ¬       │ Отрицание           │ "не", "неверно что"                         │
│ ∧       │ Конъюнкция          │ "и", "одновременно"                         │
│ ∨       │ Дизъюнкция          │ "или" (включающее)                          │
│ →       │ Импликация          │ "если..., то...", "влечёт"                  │
│ ↔       │ Эквиваленция        │ "тогда и только тогда", "равносильно"       │
│ ⊢       │ Выводимость         │ "из левого выводится правое"                │
│ ⊨       │ Семант. следование  │ "из левого семантически следует правое"     │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.2  ТЕОРЕТИКО-МНОЖЕСТВЕННЫЕ СИМВОЛЫ                                      │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ ∈       │ Принадлежность      │ x ∈ A: "x является элементом A"             │
│ ∉       │ Непринадлежность    │ x ∉ A: "x не является элементом A"          │
│ ⊂, ⊆    │ Подмножество        │ A ⊂ B: "каждый элемент A есть элемент B"    │
│ ⊃, ⊇    │ Надмножество        │ A ⊃ B: эквивалентно B ⊂ A                   │
│ ∪       │ Объединение         │ A ∪ B = {x : x∈A или x∈B}                   │
│ ∩       │ Пересечение         │ A ∩ B = {x : x∈A и x∈B}                     │
│ \       │ Разность            │ A \ B = {x : x∈A и x∉B}                     │
│ ∅       │ Пустое множество    │ Множество без элементов                     │
│ ℘(A)    │ Булеан              │ Множество всех подмножеств A                │
│ |A|     │ Мощность            │ Количество элементов (для конечных)         │
│ ×       │ Декартово произвед. │ A×B = {(a,b) : a∈A, b∈B}                    │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.3  СИМВОЛЫ ОТОБРАЖЕНИЙ                                                  │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ →       │ Отображение         │ f: X → Y: "f из X в Y"                      │
│ ↦       │ Правило отображения │ x ↦ f(x): "x переходит в f(x)"              │
│ ∘       │ Композиция          │ (g∘f)(x) = g(f(x))                          │
│ f⁻¹     │ Обратное / Прообраз │ Обратное отображение или прообраз множества │
│ id      │ Тождественное       │ id(x) = x                                   │
│ Im, im  │ Образ               │ Im f = f(X) = {f(x) : x∈X}                  │
│ ker     │ Ядро                │ ker f = {x : f(x) = e} (e — нейтральный)    │
│ Hom     │ Множество морфизмов │ Hom(A,B) = {морфизмы из A в B}              │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.4  ЧИСЛОВЫЕ МНОЖЕСТВА                                                   │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЭЛЕМЕНТЫ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ ℕ       │ Натуральные         │ {0, 1, 2, 3, ...} или {1, 2, 3, ...}        │
│ ℤ       │ Целые               │ {..., −2, −1, 0, 1, 2, ...}                 │
│ ℚ       │ Рациональные        │ {p/q : p∈ℤ, q∈ℤ, q≠0}                      │
│ ℝ       │ Вещественные        │ Числовая прямая (включая иррациональные)    │
│ ℂ       │ Комплексные         │ {a + bi : a,b∈ℝ, i² = −1}                   │
│ ℍ       │ Кватернионы         │ 4-мерное расширение ℂ (некоммутативное)*    │
│ 𝕆       │ Октонионы           │ 8-мерное расширение ℍ (неассоциативное)     │
├─────────┴─────────────────────┴─────────────────────────────────────────────┤
│ *ℍ: x²+1=0 имеет ∞ корней (±i, ±j, ±k и все их комбинации на S²)          │
│ ℝⁿ      │ n-мерное простр.    │ Множество n-ок (x₁, ..., xₙ), xᵢ∈ℝ         │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ S¹      │ Единичная окружн.   │ {z ∈ ℂ : |z| = 1} = {e^{iθ} : θ ∈ [0,2π)}  │
│ Sⁿ      │ n-мерная сфера      │ {x ∈ ℝⁿ⁺¹ : |x| = 1}. S² — обычная сфера   │
│ Tⁿ      │ n-мерный тор        │ S¹ × S¹ × ... × S¹ (n раз). T² — бублик    │
│ ℝPⁿ     │ Проективное простр. │ Прямые через 0 в ℝⁿ⁺¹. ℝP¹ ≅ S¹           │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.5  АЛГЕБРАИЧЕСКИЕ СИМВОЛЫ                                               │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ ·, ∗    │ Групповая операция  │ Бинарная операция (умножение)               │
│ e, 1    │ Нейтральный элемент │ e·g = g·e = g для всех g                    │
│ g⁻¹     │ Обратный элемент    │ g·g⁻¹ = g⁻¹·g = e                          │
│ ≤, <    │ Подгруппа           │ H ≤ G: "H — подгруппа G"                    │
│ ⊲, ⊴    │ Нормальная подгр.   │ H ⊲ G: "H — нормальная подгруппа G"         │
│ G/H     │ Факторгруппа        │ Множество смежных классов gH                │
│ ≅       │ Изоморфизм          │ G ≅ H: "G изоморфна H"                      │
│ ⊕       │ Прямая сумма        │ V ⊕ W (для векторных пространств)           │
│ ⊗       │ Тензорное произв.   │ V ⊗ W (тензорное произведение)              │
│ ∧       │ Внешнее произв.     │ v ∧ w (антисимметричное)                    │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.6  ТОПОЛОГИЧЕСКИЕ СИМВОЛЫ                                               │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ τ       │ Топология           │ Семейство открытых множеств                 │
│ B(x,ε)  │ Открытый шар        │ {y : d(x,y) < ε}                            │
│ Ā       │ Замыкание           │ Наименьшее замкнутое, содержащее A          │
│ int(A)  │ Внутренность        │ Наибольшее открытое, содержащееся в A       │
│ ∂A      │ Граница             │ Ā \ int(A)                                  │
│ ≅       │ Гомеоморфизм        │ Топологическая эквивалентность              │
│ ≃       │ Гомотоп. эквив.     │ Гомотопическая эквивалентность              │
│ π₁      │ Фундамент. группа   │ π₁(X) — группа петель в X                   │
│ Hₙ      │ Группа гомологий    │ n-мерные "дырки" в пространстве             │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.7  СИМВОЛЫ ЛИНЕЙНОЙ АЛГЕБРЫ                                             │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ dim     │ Размерность         │ dim V = число базисных векторов             │
│ rank    │ Ранг                │ rank A = dim Im A                           │
│ det     │ Определитель        │ det A ∈ F (для квадратных матриц)           │
│ tr      │ След                │ tr A = Σ aᵢᵢ (сумма диагональных)           │
│ ⟨·,·⟩   │ Скалярное произв.   │ ⟨u,v⟩ ∈ F (билинейная форма)               │
│ ‖·‖     │ Норма               │ ‖v‖ = √⟨v,v⟩                               │
│ ⊥       │ Ортогональность     │ u ⊥ v ⟺ ⟨u,v⟩ = 0                         │
│ V*      │ Двойственное простр.│ V* = Hom(V, F) — линейные функционалы       │
│ Aᵀ      │ Транспонирование    │ (Aᵀ)ᵢⱼ = Aⱼᵢ                               │
│ A†, A*  │ Эрмитово сопряж.    │ (A†)ᵢⱼ = Āⱼᵢ                               │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.8  СИМВОЛЫ ДИФФЕРЕНЦИАЛЬНОЙ ГЕОМЕТРИИ                                   │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ TₚM     │ Касательное простр. │ Векторное пространство в точке p            │
│ T*ₚM    │ Кокасательное пр.   │ Двойственное к TₚM                          │
│ d       │ Внешняя производная │ d: Ωᵏ → Ωᵏ⁺¹, d² = 0                       │
│ Ωᵏ(M)   │ k-формы             │ Антисимметричные (0,k)-тензоры              │
│ ∇       │ Связность / Набла   │ Ковариантная производная                    │
│ ∂/∂xⁱ   │ Координатный базис  │ Базис касательного пространства             │
│ dxⁱ     │ Кобазис             │ Базис кокасательного пространства           │
│ gᵢⱼ     │ Метрический тензор  │ ⟨∂/∂xⁱ, ∂/∂xʲ⟩                             │
│ Γⁱⱼₖ    │ Символы Кристоффеля │ Коэффициенты связности                      │
│ Rⁱⱼₖₗ   │ Тензор Римана       │ Мера кривизны пространства                  │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.9  СИМВОЛЫ ТЕОРИИ КАТЕГОРИЙ                                             │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ЗНАЧЕНИЕ                                    │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ Ob(C)   │ Объекты             │ Класс объектов категории C                  │
│ Mor(C)  │ Морфизмы            │ Класс морфизмов категории C                 │
│ Hom(A,B)│ Hom-множество       │ Морфизмы из A в B                           │
│ F: C→D  │ Функтор             │ Отображение между категориями               │
│ η: F⇒G  │ Естеств. преобраз.  │ Семейство морфизмов ηₐ: F(A)→G(A)          │
│ ⊣       │ Сопряжённость       │ F ⊣ G: F левый сопряжённый к G             │
│ lim, ←  │ Предел              │ Универсальный конус над диаграммой          │
│ colim,→ │ Копредел            │ Универсальный коконус под диаграммой        │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1.1.10  СТАНДАРТНЫЕ КАТЕГОРИИ                                               │
├─────────┬─────────────────────┬─────────────────────────────────────────────┤
│ СИМВОЛ  │ НАЗВАНИЕ            │ ОБЪЕКТЫ / МОРФИЗМЫ                          │
├─────────┼─────────────────────┼─────────────────────────────────────────────┤
│ Set     │ Категория множеств  │ Множества / Функции                         │
│ Grp     │ Категория групп     │ Группы / Гомоморфизмы групп                 │
│ Ab      │ Абелевы группы      │ Коммутативные группы / Гомоморфизмы         │
│ Ring    │ Категория колец     │ Кольца / Гомоморфизмы колец                 │
│ Vect_F  │ Векторные простр.   │ Пространства над F / Линейные отображения   │
│ Top     │ Топол. пространства │ Простр-ва / Непрерывные отображения         │
│ Man     │ Многообразия        │ Гладкие многообразия / Гладкие отображения  │
└─────────┴─────────────────────┴─────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
                    СПРАВОЧНИК: ФУНДАМЕНТАЛЬНЫЕ НЕРАВЕНСТВА
═══════════════════════════════════════════════════════════════════════════════

Эти неравенства используются во всей математике. Запомните их — они встретятся
в анализе, линейной алгебре, теории вероятностей, физике.

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕРАВЕНСТВО КОШИ-БУНЯКОВСКОГО-ШВАРЦА (КБШ)                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                |⟨u, v⟩| ≤ ‖u‖ · ‖v‖                                    │ │
│ │                                                                         │ │
│ │ Модуль скалярного произведения ≤ произведение длин                      │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЧАСТНЫЕ СЛУЧАИ:                                                             │
│                                                                             │
│ Для векторов в ℝⁿ:                                                         │
│   |Σ aᵢbᵢ|² ≤ (Σ aᵢ²)(Σ bᵢ²)                                              │
│                                                                             │
│ Для интегралов:                                                             │
│   |∫fg dx|² ≤ (∫f² dx)(∫g² dx)                                            │
│                                                                             │
│ Для сумм:                                                                   │
│   (a₁b₁ + a₂b₂)² ≤ (a₁² + a₂²)(b₁² + b₂²)                                 │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИЙ СМЫСЛ:                                                       │
│   cos θ = ⟨u,v⟩/(‖u‖·‖v‖), а |cos θ| ≤ 1                                  │
│                                                                             │
│ КОГДА РАВЕНСТВО:                                                            │
│   u и v коллинеарны (один кратен другому): v = λu                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕРАВЕНСТВО ТРЕУГОЛЬНИКА                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │              ‖u + v‖ ≤ ‖u‖ + ‖v‖                                       │ │
│ │                                                                         │ │
│ │ Длина суммы ≤ суммы длин                                                │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ Для чисел: |a + b| ≤ |a| + |b|                                             │
│ Для метрик: d(x,z) ≤ d(x,y) + d(y,z)                                       │
│                                                                             │
│ ОБРАТНОЕ НЕРАВЕНСТВО:  |‖u‖ − ‖v‖| ≤ ‖u − v‖                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕРАВЕНСТВО О СРЕДНИХ (AM-GM)                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Для неотрицательных чисел a₁, ..., aₙ:                                  │ │
│ │                                                                         │ │
│ │      (a₁ + a₂ + ... + aₙ)/n  ≥  ⁿ√(a₁ · a₂ · ... · aₙ)                 │ │
│ │              AM              ≥           GM                             │ │
│ │   (среднее арифметическое)      (среднее геометрическое)                │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ЧАСТНЫЙ СЛУЧАЙ (n = 2):                                                     │
│   (a + b)/2 ≥ √(ab)     равенство при a = b                               │
│                                                                             │
│ ПРИМЕНЕНИЕ:                                                                 │
│   Минимизация суммы при фиксированном произведении (и наоборот)             │
│                                                                             │
│ ПРИМЕР: Какой прямоугольник с периметром 20 имеет max площадь?             │
│   2(a+b) = 20 ⇒ a+b = 10                                                   │
│   S = ab ≤ (a+b)²/4 = 25  (max при a = b = 5, т.е. квадрат)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕРАВЕНСТВО ЙЕНСЕНА                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ Для ВЫПУКЛОЙ функции f и весов λᵢ ≥ 0 с Σλᵢ = 1:                       │ │
│ │                                                                         │ │
│ │       f(Σ λᵢxᵢ)  ≤  Σ λᵢf(xᵢ)                                         │ │
│ │                                                                         │ │
│ │ Функция от среднего ≤ среднее от функции                                │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ВАЖНО: Для ВОГНУТОЙ функции знак меняется на ≥                             │
│                                                                             │
│ ПРИМЕРЫ ВЫПУКЛЫХ ФУНКЦИЙ: x², eˣ, |x|, −ln x (на x>0)                     │
│ ПРИМЕРЫ ВОГНУТЫХ ФУНКЦИЙ: √x, ln x, −x²                                   │
│                                                                             │
│ ЧАСТНЫЙ СЛУЧАЙ: AM-GM следует из Йенсена для f(x) = −ln(x)                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕРАВЕНСТВА ГЁЛЬДЕРА И МИНКОВСКОГО                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ НЕРАВЕНСТВО ГЁЛЬДЕРА (обобщение КБШ):                                       │
│                                                                             │
│   Для p, q > 1 с 1/p + 1/q = 1:                                            │
│                                                                             │
│   ┌───────────────────────────────────────────────────────────────────────┐ │
│   │  Σ|aᵢbᵢ| ≤ (Σ|aᵢ|ᵖ)^(1/p) · (Σ|bᵢ|^q)^(1/q)                         │ │
│   │                                                                       │ │
│   │  ‖ab‖₁ ≤ ‖a‖ₚ · ‖b‖_q                                               │ │
│   └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│   При p = q = 2 получаем КБШ.                                              │
│                                                                             │
│ НЕРАВЕНСТВО МИНКОВСКОГО (неравенство треугольника для Lᵖ):                 │
│                                                                             │
│   ┌───────────────────────────────────────────────────────────────────────┐ │
│   │  (Σ|aᵢ+bᵢ|ᵖ)^(1/p) ≤ (Σ|aᵢ|ᵖ)^(1/p) + (Σ|bᵢ|ᵖ)^(1/p)               │ │
│   │                                                                       │ │
│   │  ‖a + b‖ₚ ≤ ‖a‖ₚ + ‖b‖ₚ                                             │ │
│   └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│   Это доказывает, что ‖·‖ₚ — действительно норма.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ТАБЛИЦА: КОГДА КАКОЕ НЕРАВЕНСТВО ИСПОЛЬЗОВАТЬ                               │
├───────────────────────────────┬─────────────────────────────────────────────┤
│ СИТУАЦИЯ                      │ НЕРАВЕНСТВО                                 │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Оценить скалярное произведение│ КБШ: |⟨u,v⟩| ≤ ‖u‖·‖v‖                    │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Оценить норму суммы           │ Треугольника: ‖u+v‖ ≤ ‖u‖+‖v‖             │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Сравнить сумму и произведение │ AM-GM: (a+b)/2 ≥ √(ab)                     │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Выпуклая функция от среднего  │ Йенсен: f(Ex) ≤ E[f(x)]                    │
├───────────────────────────────┼─────────────────────────────────────────────┤
│ Работа в пространствах Lᵖ    │ Гёльдер, Минковский                        │
└───────────────────────────────┴─────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПРИКЛАДНОЙ ПРИМЕР: НЕРАВЕНСТВА В ТЕПЛООБМЕНЕ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА 1: Оптимальная форма оребрения (AM-GM)                               │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│   Радиатор отопления. Фиксированный объём металла V = a·b·L.               │
│   Как выбрать толщину ребра a и высоту b, чтобы максимизировать теплоотдачу?│
│                                                                             │
│   Теплоотдача ~ площадь поверхности ~ 2(a + b)·L                           │
│   При фиксированном ab = V/L:                                               │
│                                                                             │
│   Максимум (a + b) при ab = const достигается при a = b                     │
│   (по AM-GM: a+b ≥ 2√(ab), равенство при a=b)                              │
│                                                                             │
│   ВЫВОД: Квадратное сечение ребра оптимально!                               │
│                                                                             │
│ ЗАДАЧА 2: Оценка мощности вентилятора (КБШ)                                 │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│   Скорость воздуха v(x,y) неоднородна по сечению воздуховода.               │
│   Нужно оценить кинетическую энергию потока.                                │
│                                                                             │
│   E = ½ρ ∬ v³ dA = ½ρ ∬ v·v² dA                                           │
│                                                                             │
│   По Коши-Буняковскому:                                                     │
│   (∬v·v² dA)² ≤ (∬v² dA)·(∬v⁴ dA)                                        │
│                                                                             │
│   Это позволяет оценить энергию через более простые интегралы!              │
│                                                                             │
│ ЗАДАЧА 3: Усреднение температуры (Йенсен)                                   │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│   Излучательная способность ~ T⁴ (закон Стефана-Больцмана).                │
│   T⁴ — выпуклая функция!                                                   │
│                                                                             │
│   По Йенсену: (средняя T)⁴ ≤ среднее(T⁴)                                   │
│                                                                             │
│   ПРАКТИЧЕСКИЙ СМЫСЛ:                                                       │
│   Нельзя заменить распределение температур средней температурой             │
│   при расчёте радиационного теплообмена — получится занижение!              │
│                                                                             │
│   Если T₁ = 300 K, T₂ = 500 K:                                             │
│   (400)⁴ = 2.56×10¹⁰ — по средней температуре                             │
│   ½(300⁴ + 500⁴) = 3.53×10¹⁰ — правильный расчёт (на 38% больше!)         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


П16. ВЕКТОРНЫЙ АНАЛИЗ — СПРАВОЧНИК ДЛЯ ИНЖЕНЕРА
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТУИЦИЯ: ЧТО ДЕЛАЮТ grad, div, rot                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ∇f (ГРАДИЕНТ) — "КУДА ИДТИ ВВЕРХ?"                                         │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│   Представь карту высот (температур, давлений...).                          │
│   ∇f — это стрелка, указывающая в направлении НАИБОЛЬШЕГО РОСТА f.         │
│   Длина |∇f| = крутизна подъёма.                                           │
│                                                                             │
│            высоко                                                           │
│              ○                                                              │
│             /│\                                                             │
│            / │ \     ∇f указывает ВВЕРХ по склону                          │
│           /  │  \    ┌───→                                                  │
│          /   │   \   │                                                      │
│         ─────●─────  (точка, где стоишь)                                   │
│                низко                                                        │
│                                                                             │
│   ПРИМЕР: T(x,y) = 20 − x² − y² (холм температуры в центре)                │
│   ∇T = (−2x, −2y) — направлен К ЦЕНТРУ (к вершине холма)                   │
│                                                                             │
│ div F⃗ (ДИВЕРГЕНЦИЯ) — "ИСТОЧНИК ИЛИ СТОК?"                                 │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│   Представь векторное поле как течение жидкости.                            │
│   div F⃗ > 0: в этой точке жидкость ПОЯВЛЯЕТСЯ (источник, кран)            │
│   div F⃗ < 0: в этой точке жидкость ИСЧЕЗАЕТ (сток, слив)                  │
│   div F⃗ = 0: сколько втекает, столько вытекает (несжимаемый поток)        │
│                                                                             │
│      ИСТОЧНИК (div > 0)        СТОК (div < 0)         div = 0              │
│                                                                             │
│            ↑                        ↓↓↓                  → → →             │
│         ←──●──→                     ↓●↓                  → → →             │
│            ↓                        ↓↓↓                  → → →             │
│      (стрелки расходятся)    (стрелки сходятся)    (равномерный поток)     │
│                                                                             │
│   ПРИМЕР: F⃗ = (x, y, z) (радиальное поле)                                  │
│   div F⃗ = ∂x/∂x + ∂y/∂y + ∂z/∂z = 3 > 0 — ИСТОЧНИК везде!                │
│                                                                             │
│ rot F⃗ (РОТОР) — "ЕСТЬ ЛИ ВИХРЬ?"                                           │
│ ─────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│   Представь маленький пропеллер, брошенный в поток.                         │
│   rot F⃗ ≠ 0: пропеллер КРУТИТСЯ (есть вихрь)                              │
│   rot F⃗ = 0: пропеллер НЕ крутится (потенциальный поток)                  │
│                                                                             │
│      ВИХРЬ (rot ≠ 0)              ПОТЕНЦИАЛЬНЫЙ (rot = 0)                  │
│                                                                             │
│          ↑ ←                           ↑                                   │
│        ↗   ↖                           ↑                                   │
│       →  ●  ←                          ↑                                   │
│        ↘   ↙                           ●                                   │
│          ↓ →                           ↑                                   │
│     (закручивается)              (прямолинейный)                           │
│                                                                             │
│   Направление rot F⃗ — ось вращения (по правилу правой руки)               │
│   Длина |rot F⃗| — скорость вращения                                       │
│                                                                             │
│   ПРИМЕР: F⃗ = (−y, x, 0) (круговой поток)                                  │
│   rot F⃗ = (0, 0, 2) — вихрь вдоль оси z                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМУЛЫ В ДЕКАРТОВЫХ КООРДИНАТАХ (x, y, z)                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ∇f = (∂f/∂x, ∂f/∂y, ∂f/∂z)                                               │
│                                                                             │
│   div F⃗ = ∂Fₓ/∂x + ∂Fᵧ/∂y + ∂F_z/∂z                                       │
│                                                                             │
│   rot F⃗ = (∂F_z/∂y − ∂Fᵧ/∂z,  ∂Fₓ/∂z − ∂F_z/∂x,  ∂Fᵧ/∂x − ∂Fₓ/∂y)       │
│                                                                             │
│   ∇²f = ∂²f/∂x² + ∂²f/∂y² + ∂²f/∂z²   (лапласиан)                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМУЛЫ В ЦИЛИНДРИЧЕСКИХ КООРДИНАТАХ (r, φ, z)                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   x = r cos φ,  y = r sin φ,  z = z                                        │
│                                                                             │
│   ∇f = (∂f/∂r,  (1/r)∂f/∂φ,  ∂f/∂z)                                       │
│                                                                             │
│   div F⃗ = (1/r)∂(rFᵣ)/∂r + (1/r)∂Fφ/∂φ + ∂F_z/∂z                          │
│                                                                             │
│   rot F⃗ = ((1/r)∂F_z/∂φ − ∂Fφ/∂z,                                         │
│            ∂Fᵣ/∂z − ∂F_z/∂r,                                               │
│            (1/r)[∂(rFφ)/∂r − ∂Fᵣ/∂φ])                                      │
│                                                                             │
│   ∇²f = (1/r)∂/∂r(r∂f/∂r) + (1/r²)∂²f/∂φ² + ∂²f/∂z²                       │
│                                                                             │
│ КОГДА ИСПОЛЬЗОВАТЬ: трубы, цилиндры, осесимметричные задачи                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ФОРМУЛЫ В СФЕРИЧЕСКИХ КООРДИНАТАХ (r, θ, φ)                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   x = r sin θ cos φ,  y = r sin θ sin φ,  z = r cos θ                      │
│   (θ — угол от оси z, φ — азимутальный угол)                               │
│                                                                             │
│   ∇f = (∂f/∂r,  (1/r)∂f/∂θ,  (1/(r sin θ))∂f/∂φ)                          │
│                                                                             │
│   div F⃗ = (1/r²)∂(r²Fᵣ)/∂r + (1/(r sin θ))∂(sin θ Fθ)/∂θ                  │
│          + (1/(r sin θ))∂Fφ/∂φ                                             │
│                                                                             │
│   ∇²f = (1/r²)∂/∂r(r²∂f/∂r) + (1/(r²sin θ))∂/∂θ(sin θ ∂f/∂θ)             │
│        + (1/(r²sin²θ))∂²f/∂φ²                                              │
│                                                                             │
│ КОГДА ИСПОЛЬЗОВАТЬ: шары, сферы, точечные источники                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ВАЖНЕЙШИЕ ТОЖДЕСТВА                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   rot(∇f) = 0       ← "Градиент безвихревой"                               │
│                        (потенциальное поле не крутит)                       │
│                                                                             │
│   div(rot F⃗) = 0   ← "Вихрь не имеет источников"                          │
│                        (линии вихря замкнуты)                               │
│                                                                             │
│   rot(rot F⃗) = ∇(div F⃗) − ∇²F⃗                                           │
│                                                                             │
│   div(fF⃗) = f div F⃗ + ∇f · F⃗                                            │
│                                                                             │
│   rot(fF⃗) = f rot F⃗ + ∇f × F⃗                                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ФИЗИКОЙ (уравнения в векторной форме)                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ТЕПЛОПРОВОДНОСТЬ:                                                           │
│   q⃗ = −λ∇T               (тепловой поток ~ минус градиент температуры)    │
│   ∂T/∂t = a∇²T            (уравнение теплопроводности)                     │
│                                                                             │
│ ГИДРОДИНАМИКА:                                                              │
│   div v⃗ = 0               (несжимаемая жидкость)                          │
│   ∂v⃗/∂t + (v⃗·∇)v⃗ = −∇p/ρ + ν∇²v⃗   (Навье-Стокс)                       │
│                                                                             │
│ ЭЛЕКТРОДИНАМИКА (Максвелл):                                                 │
│   div E⃗ = ρ/ε₀           (источник E⃗ — заряды)                           │
│   div B⃗ = 0               (нет магнитных монополей)                       │
│   rot E⃗ = −∂B⃗/∂t         (изменение B⃗ порождает вихрь E⃗)               │
│   rot B⃗ = μ₀J⃗ + μ₀ε₀∂E⃗/∂t   (ток и изменение E⃗ порождают B⃗)          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
П17. ЧИСЛЕННЫЕ МЕТОДЫ — ГОТОВЫЕ ИНСТРУМЕНТЫ ДЛЯ ВЫЧИСЛЕНИЙ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТОТ РАЗДЕЛ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Атлас до сих пор был про ПОНИМАНИЕ математики.                             │
│ Этот раздел — про ВЫЧИСЛЕНИЯ: готовые алгоритмы для практических задач.    │
│                                                                             │
│ Каждый метод описан так:                                                    │
│   1. Задача (что решаем)                                                   │
│   2. Алгоритм (пошагово)                                                   │
│   3. Пример с числами                                                      │
│   4. Когда использовать / когда НЕ использовать                            │
│   5. Код (псевдокод или Python-подобный)                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ТЕОРИЕЙ — ПОЧЕМУ МЕТОДЫ РАБОТАЮТ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Численные методы — не просто "рецепты". За каждым стоит теорема!            │
│                                                                             │
│ ┌───────────────────────┬───────────────────────────────────────────────┐   │
│ │ МЕТОД                 │ ТЕОРЕТИЧЕСКОЕ ОБОСНОВАНИЕ                     │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Бисекция              │ Теорема о промежуточном значении (A13):       │   │
│ │                       │ непрерывная функция принимает все значения    │   │
│ │                       │ между f(a) и f(b)                             │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Ньютон                │ Теорема Банаха о сжимающем отображении (A2):  │   │
│ │                       │ итерации xₙ₊₁ = g(xₙ) сходятся, если g —     │   │
│ │                       │ сжатие. Ньютон: g(x) = x − f(x)/f'(x)        │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Гаусс (LU-разложение) │ Факторизация в группе GL(n) (A1):             │   │
│ │                       │ любая обратимая матрица = произведение        │   │
│ │                       │ элементарных (перестановка, масштаб, сдвиг)   │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Квадратуры            │ Интеграл как линейный функционал (A5, A15):   │   │
│ │                       │ ∫ω — ковектор на пространстве функций.       │   │
│ │                       │ Квадратуры — конечномерное приближение        │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ FFT                   │ Ортогональность exp(2πikn/N) в L² (A14, A15): │   │
│ │                       │ дискретный аналог разложения Фурье.           │   │
│ │                       │ Быстрота = рекурсия по группе ℤ/Nℤ (A1)      │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Рунге-Кутта           │ Разложение Тейлора (A13) + согласование       │   │
│ │                       │ коэффициентов для максимального порядка       │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Градиентный спуск     │ Производная как ковектор (A5, A8):            │   │
│ │                       │ ∇f ∈ T*M указывает направление роста.        │   │
│ │                       │ Метрика g переводит его в вектор −g⁻¹∇f     │   │
│ └───────────────────────┴───────────────────────────────────────────────┘   │
│                                                                             │
│ Понимание теории помогает:                                                  │
│   • Предсказать, когда метод НЕ сработает                                   │
│   • Выбрать правильный метод для задачи                                     │
│   • Оценить погрешность без эксперимента                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.1  РЕШЕНИЕ НЕЛИНЕЙНЫХ УРАВНЕНИЙ f(x) = 0
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД БИСЕКЦИИ (ДЕЛЕНИЯ ПОПОЛАМ)                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Найти корень f(x) = 0 на отрезке [a, b], где f(a) и f(b) разных    │
│         знаков.                                                             │
│                                                                             │
│ ИДЕЯ: Делим отрезок пополам, выбираем половину с разными знаками, повторяем.│
│                                                                             │
│ АЛГОРИТМ:                                                                   │
│   1. c = (a + b) / 2                                                        │
│   2. Если f(c) ≈ 0 — нашли корень                                          │
│   3. Если f(a) и f(c) разных знаков — корень в [a, c], берём b = c         │
│   4. Иначе — корень в [c, b], берём a = c                                  │
│   5. Повторяем до нужной точности                                          │
│                                                                             │
│ ПРИМЕР: f(x) = x³ − x − 1, найти корень на [1, 2]                          │
│                                                                             │
│   Проверка: f(1) = 1 − 1 − 1 = −1 < 0                                      │
│             f(2) = 8 − 2 − 1 = 5 > 0   ✓ Разные знаки                       │
│                                                                             │
│   Шаг 1: c = 1.5, f(1.5) = 3.375 − 1.5 − 1 = 0.875 > 0                     │
│          Корень в [1, 1.5]                                                  │
│                                                                             │
│   Шаг 2: c = 1.25, f(1.25) = 1.953 − 1.25 − 1 = −0.297 < 0                 │
│          Корень в [1.25, 1.5]                                               │
│                                                                             │
│   Шаг 3: c = 1.375, f(1.375) = 2.600 − 1.375 − 1 = 0.224 > 0               │
│          Корень в [1.25, 1.375]                                             │
│                                                                             │
│   Шаг 4: c = 1.3125, f(1.3125) ≈ −0.051 < 0                                │
│          Корень в [1.3125, 1.375]                                           │
│                                                                             │
│   ... Продолжаем до нужной точности. Ответ: x ≈ 1.3247                     │
│                                                                             │
│ СХОДИМОСТЬ: Линейная. Каждая итерация уменьшает интервал вдвое.            │
│             За n итераций: погрешность ≤ (b−a)/2ⁿ                          │
│             Для 6 знаков после запятой нужно ≈ 20 итераций.                │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Всегда работает, если есть смена знака               │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ: Медленно, не работает для кратных корней          │
│                                                                             │
│ КОД:                                                                        │
│   while b - a > eps:                                                        │
│       c = (a + b) / 2                                                       │
│       if f(a) * f(c) < 0:                                                   │
│           b = c                                                             │
│       else:                                                                 │
│           a = c                                                             │
│   return c                                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД НЬЮТОНА (КАСАТЕЛЬНЫХ)                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Найти корень f(x) = 0, имея начальное приближение x₀.              │
│                                                                             │
│ ИДЕЯ: Заменяем кривую касательной, находим пересечение с осью x.           │
│                                                                             │
│ ФОРМУЛА:                                                                    │
│                                                                             │
│   xₙ₊₁ = xₙ − f(xₙ) / f'(xₙ)                                               │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИ:                                                              │
│                                                                             │
│       y                                                                     │
│       │     ╱                                                               │
│       │    ╱ f(x)                                                          │
│       │   ●───────────────── касательная в xₙ                              │
│       │  ╱│                                                                 │
│       │ ╱ │                                                                 │
│       │╱  │                                                                 │
│   ────●───┼───────────────→ x                                               │
│      x*   xₙ₊₁  xₙ                                                         │
│                                                                             │
│   Касательная: y = f(xₙ) + f'(xₙ)(x − xₙ)                                  │
│   Пересечение с y = 0: xₙ₊₁ = xₙ − f(xₙ)/f'(xₙ)                            │
│                                                                             │
│ ПРИМЕР: f(x) = x² − 2 (ищем √2), x₀ = 1                                    │
│                                                                             │
│   f(x) = x² − 2,  f'(x) = 2x                                               │
│                                                                             │
│   Шаг 1: x₁ = 1 − (1 − 2)/(2·1) = 1 − (−1)/2 = 1.5                        │
│                                                                             │
│   Шаг 2: x₂ = 1.5 − (2.25 − 2)/(2·1.5) = 1.5 − 0.25/3 = 1.4167            │
│                                                                             │
│   Шаг 3: x₃ = 1.4167 − (2.007 − 2)/(2·1.4167) = 1.4142                    │
│                                                                             │
│   Уже 4 знака после 3 итераций! (√2 ≈ 1.41421356...)                       │
│                                                                             │
│ СХОДИМОСТЬ: Квадратичная! Число верных цифр удваивается каждую итерацию.   │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Быстро, если хорошее начальное приближение           │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ:                                                   │
│   • f'(x) = 0 около корня (деление на 0)                                   │
│   • Плохое x₀ (может уйти не туда или зациклиться)                        │
│   • Нужно уметь вычислять производную                                      │
│                                                                             │
│ КОД:                                                                        │
│   x = x0                                                                    │
│   for i in range(max_iter):                                                 │
│       x = x - f(x) / df(x)                                                  │
│       if abs(f(x)) < eps:                                                   │
│           break                                                             │
│   return x                                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД СЕКУЩИХ                                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Как Ньютон, но производную заменяем разностным отношением.            │
│       Не нужно знать f'(x)!                                                │
│                                                                             │
│ ФОРМУЛА:                                                                    │
│                                                                             │
│   xₙ₊₁ = xₙ − f(xₙ) · (xₙ − xₙ₋₁) / (f(xₙ) − f(xₙ₋₁))                     │
│                                                                             │
│ СХОДИМОСТЬ: Сверхлинейная (порядок ≈ 1.618, золотое сечение!)              │
│             Медленнее Ньютона, но не нужна производная.                    │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Когда f'(x) сложно вычислить                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СРАВНЕНИЕ МЕТОДОВ                                                           │
├─────────────────┬───────────────┬─────────────────┬─────────────────────────┤
│ МЕТОД           │ СХОДИМОСТЬ    │ ТРЕБУЕТСЯ       │ НАДЁЖНОСТЬ              │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ Бисекция        │ Линейная      │ [a,b] с разн.   │ 100% если есть корень   │
│                 │ (медленно)    │ знаками         │                         │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ Ньютон          │ Квадратичная  │ f'(x), хор. x₀  │ Может расходиться       │
│                 │ (очень быстро)│                 │                         │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ Секущих         │ Сверхлинейная │ Две начальные   │ Может расходиться       │
│                 │ (~1.618)      │ точки           │                         │
└─────────────────┴───────────────┴─────────────────┴─────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНЖЕНЕРНЫЕ ТРЕЙД-ОФФЫ: ТОЧНОСТЬ vs СТОИМОСТЬ                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Компьютер не знает, какой метод "лучше". Инженер должен ВЫБИРАТЬ.          │
│                                                                             │
│ ВОПРОС: Почему не всегда использовать самый точный метод (Ньютон)?         │
│                                                                             │
│   ОТВЕТ: Каждый вызов f'(x) — это ВЫЧИСЛЕНИЯ.                              │
│   Если f(x) — сложная функция (моделирование, БД-запрос), это дорого!      │
│                                                                             │
│ ПРИМЕР: Поиск оптимальной температуры реактора                             │
│                                                                             │
│   f(T) = выход продукта при температуре T                                  │
│   Один вызов f(T) = запуск симуляции на 10 минут                           │
│                                                                             │
│   Бисекция: 20 итераций × 1 вызов = 20 вызовов = 200 минут                 │
│   Ньютон:   5 итераций × 2 вызова (f и f') = 10 вызовов = 100 минут        │
│                                                                             │
│   НО: если f' нужно считать численно (ещё 2 вызова f), то:                 │
│   Ньютон: 5 × 3 = 15 вызовов = 150 минут ← уже не так выгодно!             │
│                                                                             │
│ ПРАВИЛО: Выбирай метод, исходя из СТОИМОСТИ вызова функции.                │
│                                                                             │
│   • f дешёвая (формула) → Ньютон                                           │
│   • f дорогая (симуляция) → бисекция или методы без производных            │
│   • f с шумом (эксперимент) → методы, устойчивые к шуму                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

ПРАКТИЧЕСКАЯ РЕКОМЕНДАЦИЯ:
  Бисекция для надёжности → Ньютон для точности (комбинированный метод)


═══════════════════════════════════════════════════════════════════════════════
П17.2  ЧИСЛЕННОЕ ИНТЕГРИРОВАНИЕ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД ТРАПЕЦИЙ                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Вычислить ∫ₐᵇ f(x) dx                                              │
│                                                                             │
│ ИДЕЯ: Заменяем кривую ломаной (трапециями).                                │
│                                                                             │
│   y│    ╱╲                                                                 │
│    │   ╱  ╲                                                                │
│    │  ╱    ╲                                                               │
│    │ ╱──────╲──────── ← ломаная (трапеции)                                │
│    │╱        ╲                                                             │
│    └────────────────→ x                                                     │
│     a  x₁ x₂  ...  b                                                       │
│                                                                             │
│ ФОРМУЛА (n равных отрезков, h = (b−a)/n):                                  │
│                                                                             │
│   ∫ₐᵇ f(x) dx ≈ h · [f(a)/2 + f(x₁) + f(x₂) + ... + f(xₙ₋₁) + f(b)/2]     │
│                                                                             │
│ ПРИМЕР: ∫₀¹ x² dx, n = 4 (точный ответ = 1/3 ≈ 0.333)                      │
│                                                                             │
│   h = 1/4 = 0.25                                                           │
│   Точки: x₀ = 0, x₁ = 0.25, x₂ = 0.5, x₃ = 0.75, x₄ = 1                   │
│   Значения: f = 0, 0.0625, 0.25, 0.5625, 1                                 │
│                                                                             │
│   I ≈ 0.25 × [0/2 + 0.0625 + 0.25 + 0.5625 + 1/2]                         │
│     = 0.25 × [0 + 0.0625 + 0.25 + 0.5625 + 0.5]                            │
│     = 0.25 × 1.375 = 0.34375                                               │
│                                                                             │
│   Погрешность: 0.34375 − 0.333... = 0.01  (около 3%)                       │
│                                                                             │
│ ПОГРЕШНОСТЬ: O(h²) — уменьшение h вдвое уменьшает ошибку вчетверо          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД СИМПСОНА (ПАРАБОЛ)                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Заменяем кривую параболами (точнее, чем трапеции).                   │
│       Требуется чётное число отрезков n.                                   │
│                                                                             │
│ ФОРМУЛА:                                                                    │
│                                                                             │
│   ∫ₐᵇ f dx ≈ (h/3) · [f(a) + 4f(x₁) + 2f(x₂) + 4f(x₃) + ... + f(b)]       │
│                                                                             │
│   Коэффициенты: 1, 4, 2, 4, 2, 4, ..., 2, 4, 1                             │
│                                                                             │
│ ПРИМЕР: ∫₀¹ x² dx, n = 4                                                   │
│                                                                             │
│   I ≈ (0.25/3) × [0 + 4×0.0625 + 2×0.25 + 4×0.5625 + 1]                   │
│     = (0.25/3) × [0 + 0.25 + 0.5 + 2.25 + 1]                               │
│     = (0.25/3) × 4 = 0.3333...                                             │
│                                                                             │
│   Точный ответ! (Симпсон точен для полиномов до степени 3)                 │
│                                                                             │
│ ПОГРЕШНОСТЬ: O(h⁴) — намного точнее трапеций!                              │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Почти всегда лучше трапеций                          │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ: Разрывные функции, сильные осцилляции             │
│                                                                             │
│ КОД:                                                                        │
│   h = (b - a) / n                                                           │
│   I = f(a) + f(b)                                                           │
│   for i in range(1, n):                                                     │
│       x = a + i * h                                                         │
│       if i % 2 == 1:                                                        │
│           I += 4 * f(x)                                                     │
│       else:                                                                 │
│           I += 2 * f(x)                                                     │
│   return I * h / 3                                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КВАДРАТУРЫ ГАУССА — МАКСИМАЛЬНАЯ ТОЧНОСТЬ                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Выбираем точки xᵢ и веса wᵢ ОПТИМАЛЬНО (не равномерно!)              │
│                                                                             │
│   ∫₋₁¹ f(x) dx ≈ Σᵢ wᵢ f(xᵢ)                                              │
│                                                                             │
│ ТАБЛИЦА УЗЛОВ И ВЕСОВ (на [−1, 1]):                                        │
│                                                                             │
│ ┌─────┬────────────────────────────────┬────────────────────────────────┐  │
│ │ n   │ УЗЛЫ xᵢ                        │ ВЕСА wᵢ                        │  │
│ ├─────┼────────────────────────────────┼────────────────────────────────┤  │
│ │ 1   │ 0                              │ 2                              │  │
│ │ 2   │ ±1/√3 ≈ ±0.577                 │ 1, 1                           │  │
│ │ 3   │ 0, ±√(3/5) ≈ ±0.775            │ 8/9, 5/9, 5/9                  │  │
│ │ 4   │ ±0.340, ±0.861                 │ 0.653, 0.653, 0.348, 0.348     │  │
│ └─────┴────────────────────────────────┴────────────────────────────────┘  │
│                                                                             │
│ ТОЧНОСТЬ: n точек Гаусса интегрируют точно полиномы до степени 2n−1!      │
│           (Симпсон с 3 точками — только до степени 3)                      │
│                                                                             │
│ ДЛЯ ПРОИЗВОЛЬНОГО [a, b]:                                                   │
│   Замена: x = (b−a)t/2 + (a+b)/2,  t ∈ [−1, 1]                             │
│   dx = (b−a)/2 dt                                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.3  РЕШЕНИЕ СИСТЕМ ЛИНЕЙНЫХ УРАВНЕНИЙ Ax = b
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД ГАУССА (ПРЯМОЙ МЕТОД)                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Приводим матрицу к треугольному виду, решаем обратным ходом.         │
│                                                                             │
│ АЛГОРИТМ:                                                                   │
│                                                                             │
│ 1. ПРЯМОЙ ХОД: Обнуляем элементы под диагональю                            │
│                                                                             │
│    ┌ a₁₁  a₁₂  a₁₃ │ b₁ ┐      ┌ a₁₁  a₁₂  a₁₃ │ b₁  ┐                   │
│    │ a₂₁  a₂₂  a₂₃ │ b₂ │  →   │  0   a'₂₂ a'₂₃│ b'₂ │                    │
│    └ a₃₁  a₃₂  a₃₃ │ b₃ ┘      └  0    0   a"₃₃│ b"₃ ┘                    │
│                                                                             │
│ 2. ОБРАТНЫЙ ХОД: Находим xₙ, потом xₙ₋₁, ..., x₁                          │
│                                                                             │
│    x₃ = b"₃ / a"₃₃                                                         │
│    x₂ = (b'₂ − a'₂₃ x₃) / a'₂₂                                             │
│    x₁ = (b₁ − a₁₂ x₂ − a₁₃ x₃) / a₁₁                                      │
│                                                                             │
│ ПРИМЕР:                                                                     │
│    2x + y − z = 8                                                           │
│   −3x − y + 2z = −11                                                        │
│   −2x + y + 2z = −3                                                         │
│                                                                             │
│   Расширенная матрица:                                                      │
│   ┌  2   1  −1 │  8  ┐                                                     │
│   │ −3  −1   2 │−11  │                                                     │
│   └ −2   1   2 │ −3  ┘                                                     │
│                                                                             │
│   Шаг 1: R₂ → R₂ + (3/2)R₁,  R₃ → R₃ + R₁                                 │
│   ┌  2    1    −1  │   8   ┐                                               │
│   │  0   0.5   0.5 │   1   │                                               │
│   └  0    2     1  │   5   ┘                                               │
│                                                                             │
│   Шаг 2: R₃ → R₃ − 4R₂                                                     │
│   ┌  2    1    −1  │   8   ┐                                               │
│   │  0   0.5   0.5 │   1   │                                               │
│   └  0    0    −1  │   1   ┘                                               │
│                                                                             │
│   Обратный ход:                                                             │
│   z = 1/(−1) = −1                                                          │
│   y = (1 − 0.5×(−1)) / 0.5 = 1.5/0.5 = 3                                  │
│   x = (8 − 1×3 − (−1)×(−1)) / 2 = 4/2 = 2                                 │
│                                                                             │
│   Ответ: x = 2, y = 3, z = −1                                              │
│                                                                             │
│ СЛОЖНОСТЬ: O(n³) операций                                                  │
│                                                                             │
│ ВАЖНО: Выбор главного элемента (pivoting) для численной устойчивости!      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ LU-РАЗЛОЖЕНИЕ                                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Разложить A = LU, где L — нижнетреугольная, U — верхнетреугольная.   │
│                                                                             │
│ ЗАЧЕМ: Если нужно решать много систем с одной A, но разными b.             │
│        Ax = b → LUx = b → Ly = b (легко!), Ux = y (легко!)                 │
│                                                                             │
│ Разложение делается ОДИН РАЗ (O(n³)), потом каждое решение — O(n²).        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД ПРОСТОЙ ИТЕРАЦИИ (для больших разреженных систем)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Преобразуем Ax = b в x = Bx + c и итерируем: xₙ₊₁ = Bxₙ + c         │
│                                                                             │
│ СХОДИМОСТЬ: Если ‖B‖ < 1 (спектральный радиус < 1)                         │
│                                                                             │
│ МЕТОДЫ ЯКОБИ И ГАУССА-ЗЕЙДЕЛЯ — конкретные способы построить B и c.        │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Очень большие разреженные матрицы (тысячи × тысячи)  │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ: Плотные матрицы — Гаусс быстрее                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.4  ЧИСЛЕННОЕ РЕШЕНИЕ ОДУ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАДАЧА КОШИ: y' = f(t, y), y(t₀) = y₀                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Найти функцию y(t), зная начальное условие и дифференциальное уравнение.   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД ЭЙЛЕРА (ПРОСТЕЙШИЙ)                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Заменяем производную разностью: y' ≈ (yₙ₊₁ − yₙ)/h                   │
│                                                                             │
│ ФОРМУЛА:                                                                    │
│   yₙ₊₁ = yₙ + h · f(tₙ, yₙ)                                                │
│                                                                             │
│ ГЕОМЕТРИЧЕСКИ: Идём по касательной на шаг h                                │
│                                                                             │
│       y                                                                     │
│       │      ●──→ куда идём (Эйлер)                                        │
│       │     ╱ ╲                                                            │
│       │    ╱   ╲ куда на самом деле                                        │
│       │   ●                                                                 │
│       │  yₙ                                                                 │
│       └─────────────→ t                                                     │
│          tₙ   tₙ₊₁                                                         │
│                                                                             │
│ ПРИМЕР: y' = y, y(0) = 1 (решение: y = eᵗ)                                 │
│                                                                             │
│   h = 0.1,  f(t, y) = y                                                    │
│                                                                             │
│   y₀ = 1                                                                    │
│   y₁ = 1 + 0.1×1 = 1.1                                                     │
│   y₂ = 1.1 + 0.1×1.1 = 1.21                                                │
│   y₃ = 1.21 + 0.1×1.21 = 1.331                                             │
│   ...                                                                       │
│   y₁₀ = y(1) ≈ 2.594  (точно: e¹ ≈ 2.718)                                  │
│                                                                             │
│   Погрешность ≈ 5% за 10 шагов. Не очень точно!                            │
│                                                                             │
│ ПОГРЕШНОСТЬ: O(h) на шаг, O(h) глобально — метод первого порядка           │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Быстрый прототип, обучение                           │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ: Когда нужна точность                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД РУНГЕ-КУТТЫ 4-ГО ПОРЯДКА (RK4) — РАБОЧАЯ ЛОШАДКА                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Оцениваем наклон в нескольких точках и усредняем.                    │
│                                                                             │
│ ФОРМУЛЫ:                                                                    │
│                                                                             │
│   k₁ = f(tₙ, yₙ)                                                           │
│   k₂ = f(tₙ + h/2, yₙ + h·k₁/2)                                           │
│   k₃ = f(tₙ + h/2, yₙ + h·k₂/2)                                           │
│   k₄ = f(tₙ + h, yₙ + h·k₃)                                               │
│                                                                             │
│   yₙ₊₁ = yₙ + (h/6)(k₁ + 2k₂ + 2k₃ + k₄)                                  │
│                                                                             │
│ ИНТУИЦИЯ:                                                                   │
│   k₁ — наклон в начале                                                     │
│   k₂ — наклон в середине (по оценке k₁)                                   │
│   k₃ — наклон в середине (по оценке k₂, точнее!)                          │
│   k₄ — наклон в конце                                                      │
│   Итог — взвешенное среднее: (1×k₁ + 2×k₂ + 2×k₃ + 1×k₄)/6                │
│                                                                             │
│ ПРИМЕР: y' = y, y(0) = 1, h = 0.1                                          │
│                                                                             │
│   k₁ = 1                                                                    │
│   k₂ = 1 + 0.1×1/2 = 1.05                                                  │
│   k₃ = 1 + 0.1×1.05/2 = 1.0525                                             │
│   k₄ = 1 + 0.1×1.0525 = 1.10525                                            │
│                                                                             │
│   y₁ = 1 + (0.1/6)(1 + 2×1.05 + 2×1.0525 + 1.10525)                       │
│      = 1 + (0.1/6)×6.31025 = 1.10517...                                    │
│                                                                             │
│   Точно: e^0.1 = 1.10517...  ← Совпадает до 5 знаков за 1 шаг!             │
│                                                                             │
│ ПОГРЕШНОСТЬ: O(h⁴) на шаг, O(h⁴) глобально — метод 4-го порядка            │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Универсальный метод, подходит для большинства задач  │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ:                                                   │
│   • Жёсткие уравнения (нужны неявные методы)                               │
│   • Очень высокая точность (нужен адаптивный шаг)                          │
│                                                                             │
│ КОД:                                                                        │
│   def rk4_step(f, t, y, h):                                                 │
│       k1 = f(t, y)                                                          │
│       k2 = f(t + h/2, y + h*k1/2)                                           │
│       k3 = f(t + h/2, y + h*k2/2)                                           │
│       k4 = f(t + h, y + h*k3)                                               │
│       return y + h/6 * (k1 + 2*k2 + 2*k3 + k4)                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СРАВНЕНИЕ МЕТОДОВ ОДУ                                                       │
├─────────────────┬───────────────┬─────────────────┬─────────────────────────┤
│ МЕТОД           │ ПОРЯДОК       │ ВЫЧИСЛЕНИЙ f    │ КОГДА ИСПОЛЬЗОВАТЬ      │
│                 │               │ НА ШАГ          │                         │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ Эйлер           │ 1             │ 1               │ Обучение, прототип      │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ RK2 (Хойна)     │ 2             │ 2               │ Быстрые грубые оценки   │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ RK4             │ 4             │ 4               │ Универсальный           │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ Адаптивный RK   │ 4-5           │ 6               │ Высокая точность,       │
│ (Дорманд-Принс) │               │                 │ переменный шаг          │
├─────────────────┼───────────────┼─────────────────┼─────────────────────────┤
│ Неявный Эйлер   │ 1             │ итерации        │ Жёсткие уравнения       │
└─────────────────┴───────────────┴─────────────────┴─────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.5  ИНТЕРПОЛЯЦИЯ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАДАЧА: Построить функцию, проходящую через заданные точки (xᵢ, yᵢ)        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ПОЛИНОМИАЛЬНАЯ ИНТЕРПОЛЯЦИЯ:                                                │
│   n+1 точка → полином степени n (единственный!)                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТЕРПОЛЯЦИЯ ЛАГРАНЖА                                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ФОРМУЛА:                                                                    │
│                                                                             │
│   P(x) = Σᵢ yᵢ · Lᵢ(x)                                                     │
│                                                                             │
│   где Lᵢ(x) = ∏ⱼ≠ᵢ (x − xⱼ)/(xᵢ − xⱼ)                                     │
│                                                                             │
│ СВОЙСТВО Lᵢ: равен 1 в точке xᵢ, равен 0 в остальных узлах.               │
│                                                                             │
│ ПРИМЕР: Точки (0, 1), (1, 3), (2, 2)                                       │
│                                                                             │
│   L₀(x) = (x−1)(x−2)/((0−1)(0−2)) = (x−1)(x−2)/2                          │
│   L₁(x) = (x−0)(x−2)/((1−0)(1−2)) = x(x−2)/(−1) = −x(x−2)                 │
│   L₂(x) = (x−0)(x−1)/((2−0)(2−1)) = x(x−1)/2                              │
│                                                                             │
│   P(x) = 1·(x−1)(x−2)/2 + 3·(−x(x−2)) + 2·x(x−1)/2                        │
│        = (x²−3x+2)/2 − 3x² + 6x + x² − x                                   │
│        = −1.5x² + 3.5x + 1                                                 │
│                                                                             │
│   Проверка: P(0) = 1 ✓, P(1) = −1.5 + 3.5 + 1 = 3 ✓, P(2) = −6 + 7 + 1 = 2 ✓│
│                                                                             │
│ ⚠️ ПРОБЛЕМА: При большом числе точек полином сильно осциллирует!           │
│              (Феномен Рунге)                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СПЛАЙН-ИНТЕРПОЛЯЦИЯ (КУБИЧЕСКИЙ СПЛАЙН)                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Между каждой парой точек — свой кубический полином,                  │
│       но они "гладко сшиты" (совпадают значения, первые и вторые производ.)│
│                                                                             │
│       y                                                                     │
│       │    ●                                                                │
│       │   ╱ ╲         ● ← узлы                                             │
│       │  ╱   ●───────╱                                                     │
│       │ ●                                                                   │
│       └────────────────→ x                                                  │
│         гладкая кривая, не осциллирует                                      │
│                                                                             │
│ ПРЕИМУЩЕСТВА:                                                               │
│   • Нет осцилляций Рунге                                                   │
│   • Гладкая кривая (C² — непрерывны до 2-й производной)                    │
│   • Локальность: изменение одной точки влияет только на соседние сегменты  │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Практически всегда лучше полиномиальной              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.6  ОПТИМИЗАЦИЯ (МИНИМИЗАЦИЯ ФУНКЦИЙ)
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГРАДИЕНТНЫЙ СПУСК                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Найти минимум f(x), x ∈ ℝⁿ                                         │
│                                                                             │
│ ИДЕЯ: Двигаемся в направлении наибыстрейшего убывания = против градиента   │
│                                                                             │
│ АЛГОРИТМ:                                                                   │
│   xₙ₊₁ = xₙ − α · ∇f(xₙ)                                                   │
│                                                                             │
│   где α — шаг (learning rate)                                              │
│                                                                             │
│       ╭────────────────────╮                                                │
│      ╱    ↘                 ╲                                               │
│     │       ↘                │      Спуск по "склону"                       │
│     │         ↘    ●        │      к минимуму                              │
│      ╲          ↘          ╱                                                │
│       ╰────────────────────╯                                                │
│                                                                             │
│ ПРИМЕР: f(x, y) = x² + y², начало (3, 4), α = 0.1                          │
│                                                                             │
│   ∇f = (2x, 2y)                                                            │
│                                                                             │
│   Шаг 1: (3, 4) − 0.1×(6, 8) = (3−0.6, 4−0.8) = (2.4, 3.2)                 │
│   Шаг 2: (2.4, 3.2) − 0.1×(4.8, 6.4) = (1.92, 2.56)                        │
│   ...                                                                       │
│   Сходится к (0, 0)                                                         │
│                                                                             │
│ ВЫБОР α:                                                                    │
│   • Слишком большой — расходится, "прыгает" через минимум                  │
│   • Слишком маленький — сходится очень медленно                            │
│   • Адаптивные методы (Adam, RMSprop) — автоматически подбирают α          │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Гладкие функции, машинное обучение                   │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ: Много локальных минимумов, разрывные функции      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ МЕТОД НЬЮТОНА ДЛЯ ОПТИМИЗАЦИИ                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Аппроксимируем f квадратичной функцией, находим её минимум.          │
│                                                                             │
│ ФОРМУЛА:                                                                    │
│   xₙ₊₁ = xₙ − H⁻¹(xₙ) · ∇f(xₙ)                                             │
│                                                                             │
│   где H — матрица Гессе (вторых производных)                               │
│                                                                             │
│ СХОДИМОСТЬ: Квадратичная (очень быстро!)                                   │
│                                                                             │
│ ✓ КОГДА ИСПОЛЬЗОВАТЬ: Функция гладкая, размерность невелика                │
│ ✗ КОГДА НЕ ИСПОЛЬЗОВАТЬ:                                                   │
│   • Большая размерность (H⁻¹ дорого считать)                              │
│   • H вырождена или отрицательно определена (седловые точки)               │
│                                                                             │
│ КВАЗИ-НЬЮТОНОВСКИЕ МЕТОДЫ (BFGS, L-BFGS):                                   │
│   Аппроксимируют H⁻¹ без явного вычисления — компромисс между              │
│   скоростью сходимости и стоимостью итерации.                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.7  БЫСТРОЕ ПРЕОБРАЗОВАНИЕ ФУРЬЕ (БПФ / FFT)
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАДАЧА И ИДЕЯ                                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ЗАДАЧА: Вычислить дискретное преобразование Фурье (ДПФ):                   │
│                                                                             │
│   Xₖ = Σⁿ⁻¹ⱼ₌₀ xⱼ · e^{−2πijk/n}                                          │
│                                                                             │
│ ПРЯМОЙ РАСЧЁТ: O(n²) операций                                              │
│ БПФ (Кули-Тьюки): O(n log n) операций!                                     │
│                                                                             │
│ УСКОРЕНИЕ: Для n = 1024:  прямой = 1 млн операций                          │
│                            БПФ = 10 тыс. операций (в 100 раз быстрее!)     │
│                                                                             │
│ ИДЕЯ: Разделяй и властвуй. Разбиваем на чётные и нечётные индексы,         │
│       рекурсивно считаем, комбинируем за O(n).                             │
│                                                                             │
│ ПРИМЕНЕНИЯ:                                                                 │
│   • Обработка сигналов и звука                                             │
│   • Сжатие изображений (JPEG)                                              │
│   • Спектральный анализ                                                    │
│   • Быстрое умножение полиномов и больших чисел                            │
│   • Решение УрЧП спектральными методами                                    │
│                                                                             │
│ КОД (рекурсивный, для понимания):                                           │
│   def fft(x):                                                               │
│       n = len(x)                                                            │
│       if n == 1: return x                                                   │
│       even = fft(x[0::2])   # чётные индексы                                │
│       odd = fft(x[1::2])    # нечётные индексы                              │
│       W = [exp(-2j*pi*k/n) for k in range(n//2)]                            │
│       return [even[k] + W[k]*odd[k] for k in range(n//2)] + \               │
│              [even[k] - W[k]*odd[k] for k in range(n//2)]                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════
П17.8  КРАТКИЙ СПРАВОЧНИК: КАКОЙ МЕТОД ВЫБРАТЬ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ РЕШЕНИЕ УРАВНЕНИЙ f(x) = 0                                                  │
├────────────────────────────────┬────────────────────────────────────────────┤
│ СИТУАЦИЯ                       │ РЕКОМЕНДАЦИЯ                               │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Есть интервал со сменой знака  │ Бисекция (надёжно) + Ньютон (точно)       │
│ Есть хорошее начальное прибл.  │ Ньютон                                    │
│ Нет производной                │ Секущих или Брента                        │
│ Система нелинейных уравнений   │ Многомерный Ньютон                        │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЧИСЛЕННОЕ ИНТЕГРИРОВАНИЕ                                                    │
├────────────────────────────────┬────────────────────────────────────────────┤
│ СИТУАЦИЯ                       │ РЕКОМЕНДАЦИЯ                               │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Гладкая функция                │ Симпсон или Гаусс                         │
│ Нужна адаптивность             │ Адаптивный Симпсон (сгущаем где надо)     │
│ Многомерный интеграл           │ Монте-Карло                               │
│ Осциллирующая функция          │ Специальные методы (Филон)                │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЛИНЕЙНЫЕ СИСТЕМЫ Ax = b                                                     │
├────────────────────────────────┬────────────────────────────────────────────┤
│ СИТУАЦИЯ                       │ РЕКОМЕНДАЦИЯ                               │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Небольшая плотная матрица      │ LU-разложение                             │
│ Много систем с одной A         │ LU один раз, потом быстрые решения        │
│ Симметричная положит. опред.   │ Холецкого (A = LLᵀ)                       │
│ Большая разреженная            │ Итерационные (CG, GMRES)                  │
│ Очень большая (>10⁶)           │ Многосеточные методы                      │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОБЫКНОВЕННЫЕ ДИФФ. УРАВНЕНИЯ                                                │
├────────────────────────────────┬────────────────────────────────────────────┤
│ СИТУАЦИЯ                       │ РЕКОМЕНДАЦИЯ                               │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Обычная задача, нужна точность │ RK4 или адаптивный RK (dopri5)            │
│ Жёсткое уравнение              │ Неявные методы (BDF, Radau)               │
│ Сохранение энергии (Гамильтон) │ Симплектические методы (Верле)            │
│ Длительное интегрирование      │ Многошаговые (Adams-Bashforth)            │
└────────────────────────────────┴────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ОПТИМИЗАЦИЯ                                                                 │
├────────────────────────────────┬────────────────────────────────────────────┤
│ СИТУАЦИЯ                       │ РЕКОМЕНДАЦИЯ                               │
├────────────────────────────────┼────────────────────────────────────────────┤
│ Гладкая, малая размерность     │ BFGS                                      │
│ Большая размерность (ML)       │ Adam, SGD                                 │
│ Ограничения (неравенства)      │ Внутренних точек, SQP                     │
│ Глобальный оптимум             │ Генетические алгоритмы, отжиг             │
│ Выпуклая функция               │ Любой градиентный — сойдётся к глобальному│
└────────────────────────────────┴────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════


▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
П18. ЭКОНОМИКА КАК МНОГООБРАЗИЕ — ГЕОМЕТРИЯ ДОВЕРИЯ
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▀

                    ┌──────────────────────────────────────────┐
                    │                                          │
                    │  Экономика — это искривлённое            │
                    │  пространство доверия.                   │
                    │                                          │
                    │  Центробанки пытаются управлять          │
                    │  кривизной.                              │
                    │                                          │
                    │  Кризисы — когда кривизна становится     │
                    │  бесконечной или пространство рвётся.    │
                    │                                          │
                    └──────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЗАЧЕМ ЭТО НУЖНО                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Язык дифференциальной геометрии — это не только физика (ОТО, калибровочные │
│ теории). Экономические явления тоже можно описать геометрически!            │
│                                                                             │
│ ПРЕИМУЩЕСТВО: Геометрия делает механизмы кризисов ВИЗУАЛЬНО ПОНЯТНЫМИ.     │
│ Вместо абстрактных переменных — искривления, сингулярности, потоки.         │
│                                                                             │
│ ⚠️ ПРЕДУПРЕЖДЕНИЕ: Это МЕТАФОРИЧЕСКАЯ модель, не строгая теория.           │
│    Её ценность — в интуиции, а не в точных предсказаниях.                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЭКОНОМИКА КАК МНОГООБРАЗИЕ M                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ БАЗОВОЕ МНОГООБРАЗИЕ M:                                                     │
│   Точка p ∈ M = состояние ВСЕЙ экономики                                   │
│   dim(M) = N_агентов × N_товаров (огромная размерность!)                   │
│                                                                             │
│ КАСАТЕЛЬНОЕ ПРОСТРАНСТВО TₚM:                                               │
│   Векторы = возможные ИЗМЕНЕНИЯ состояния                                  │
│   Скорости обмена, производства, потребления                               │
│                                                                             │
│ ТРАЕКТОРИЯ γ(t):                                                            │
│   Путь экономики во времени = кривая на M                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДЕНЬГИ КАК СВЯЗНОСТЬ ∇                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ИДЕЯ: Связность = способ СРАВНИВАТЬ векторы в разных точках                │
│                                                                             │
│ В геометрии: как понять, что "север" в Москве и "север" в Нью-Йорке?       │
│ В экономике: как сравнить "стоимость хлеба вчера" и "стоимость хлеба сегодня"?│
│                                                                             │
│ ДЕНЬГИ = связность на экономическом многообразии!                          │
│   Они позволяют СРАВНИВАТЬ стоимости в разных точках и временах.           │
│                                                                             │
│ ПАРАЛЛЕЛЬНЫЙ ПЕРЕНОС = сохранение стоимости при обмене                     │
│                                                                             │
│ КРИВИЗНА СВЯЗНОСТИ R = инфляция/дефляция!                                  │
│   R ≠ 0 означает: "параллельный перенос по циклу" МЕНЯЕТ стоимость         │
│                                                                             │
│   Пример: Купи доллары → купи евро → купи рубли → вернись к долларам       │
│           Если R ≠ 0, получишь ДРУГУЮ сумму! (арбитраж)                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРЕДИТ КАК ВЕКТОРНОЕ ПОЛЕ X                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ВЕКТОРНОЕ ПОЛЕ: в каждой точке стрелочка "куда течёт"                      │
│   (как поле ветра на карте погоды)                                         │
│                                                                             │
│ X(p) ∈ TₚM указывает направление "заимствования из будущего"               │
│                                                                             │
│ ДИВЕРГЕНЦИЯ div(X):                                                         │
│   div(X) > 0: из этой точки "вытекает" больше, чем "втекает"               │
│   = СОЗДАНИЕ ДЕНЕГ через кредит!                                           │
│                                                                             │
│   Банки создают деньги кредитованием = положительная дивергенция           │
│                                                                             │
│ ИНТЕГРАЛЬНЫЕ КРИВЫЕ X = траектории долга                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПУЗЫРЬ КАК ИСКРИВЛЕНИЕ МЕТРИКИ                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕТРИКА g: как измерять "расстояния" между состояниями                     │
│   На резиновом листе можно растянуть участок — расстояния изменятся        │
│   В экономике: "расстояние" между ценами искажается ОЖИДАНИЯМИ             │
│                                                                             │
│ ПУЗЫРЬ:                                                                     │
│   g_ожиданий ≠ g_реальности                                                │
│   Секционная кривизна K → ∞ (пространство цен "сворачивается")             │
│                                                                             │
│ КОЛЛАПС = сингулярность метрики                                            │
│   Метрика вырождается, расстояния теряют смысл                             │
│   "Никто не знает, сколько что стоит" — кризис ликвидности                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ЭКОНОМИЧЕСКИЙ ЦИКЛ КАК ГЕОДЕЗИЧЕСКИЙ ПОТОК                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ГЕОДЕЗИЧЕСКИЕ: кратчайшие пути (минимум "экономического усилия")           │
│   Экономика движется по геодезическим естественным образом                 │
│                                                                             │
│ ОТРИЦАТЕЛЬНАЯ КРИВИЗНА:                                                     │
│   Близкие траектории РАЗБЕГАЮТСЯ (хаос, неустойчивость)                    │
│   Малые возмущения усиливаются экспоненциально                             │
│                                                                             │
│ ПОЛОЖИТЕЛЬНАЯ КРИВИЗНА:                                                     │
│   Траектории ВОЗВРАЩАЮТСЯ (циклы!)                                         │
│   Экономические циклы = замкнутые геодезические                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П18.1  КРИЗИСЫ КАК ГЕОМЕТРИЧЕСКИЕ СИНГУЛЯРНОСТИ
═══════════════════════════════════════════════════════════════════════════════

Все экономические кризисы можно интерпретировать как СИНГУЛЯРНОСТИ
различных геометрических структур!

┌─────────────────────────────────────────────────────────────────────────────┐
│ 1. ДОЛГОВОЙ КРИЗИС                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕХАНИЗМ:                                                                   │
│   Низкие ставки → много кредитов → рост → ещё больше кредитов →            │
│   → ставки растут или доходы не растут →                                   │
│   → платежи неподъёмны → дефолты → кредитование останавливается            │
│                                                                             │
│ ГЕОМЕТРИЯ:                                                                  │
│   Поле кредитования X растёт → div(X) >> 0                                 │
│   Многообразие M "растягивается" в направлении "будущих доходов"           │
│   Метрика g становится ВЫРОЖДЕННОЙ (det(g) → 0)                            │
│   Связность ∇ теряет параллельный перенос                                  │
│   → Невозможно сравнить долг с активами!                                   │
│   → Многообразие РАЗРЫВАЕТСЯ вдоль "долговых линий"                        │
│                                                                             │
│ СИНГУЛЯРНОСТЬ: Вырождение метрики                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 2. ПУЗЫРЬ АКТИВОВ                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕХАНИЗМ:                                                                   │
│   Актив растёт → люди покупают для перепродажи → цены растут →             │
│   → FOMO → цены отрываются от реальности →                                 │
│   → первые продажи → паника → обвал                                        │
│                                                                             │
│ ГЕОМЕТРИЯ:                                                                  │
│   Подмногообразие N ⊂ M (рынок актива)                                     │
│   Положительная обратная связь создаёт векторное поле Y                    │
│   Интегральные кривые Y спиралят внутрь                                    │
│   Секционная кривизна K → ∞                                                │
│   → N "сворачивается в точку" (все цены → ∞ в собственной метрике)        │
│   → КОЛЛАПС: N отрывается от M (метрика становится несовместимой)          │
│   → Проекция N обратно на M = обвал цен                                    │
│                                                                             │
│ СИНГУЛЯРНОСТЬ: Кривизна → ∞                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 3. СМЕШАННЫЙ КРИЗИС (самый разрушительный)                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕХАНИЗМ:                                                                   │
│   Активы растут → банки дают кредиты под залог → покупают ещё активы →    │
│   → активы растут → ещё больше кредитов →                                  │
│   → пузырь лопается → залоги обесцениваются →                              │
│   → массовые дефолты → банковский кризис                                   │
│                                                                             │
│ ГЕОМЕТРИЯ:                                                                  │
│   Связность ∇_кредит и метрика g_активы ВЗАИМНО УСИЛИВАЮТСЯ               │
│   ∇_кредит(g_активы) создаёт КРУЧЕНИЕ τ ≠ 0                               │
│   Параллельный перенос по циклу = спираль вверх                            │
│   → ОДНОВРЕМЕННАЯ сингулярность и связности, И метрики                     │
│   → Катастрофа КОРАЗМЕРНОСТИ 2 (оба параметра критические!)                │
│                                                                             │
│ СИНГУЛЯРНОСТЬ: Коразмерности 2 (Вспомним 2008 год!)                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 4. ИНФЛЯЦИОННАЯ СПИРАЛЬ                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕХАНИЗМ:                                                                   │
│   Шок → издержки растут → цены растут → зарплаты растут →                  │
│   → издержки растут → ожидания закрепляются → спираль                      │
│                                                                             │
│ ГЕОМЕТРИЯ:                                                                  │
│   Векторное поле цен P получает РОТОР: rot(P) ≠ 0                          │
│   Циркуляция ∮ P·dl > 0 (цены → зарплаты → издержки → цены)                │
│   Поле P НЕ ПОТЕНЦИАЛЬНО → нет функции "истинной стоимости"!               │
│   Спиральные интегральные кривые в пространстве цен                        │
│   → ЦБ должен создать ДИССИПАЦИЮ (трение) через высокие ставки            │
│                                                                             │
│ СИНГУЛЯРНОСТЬ: Потеря потенциальности                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 5. ДЕФЛЯЦИОННАЯ ЛОВУШКА (японский сценарий)                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕХАНИЗМ:                                                                   │
│   Кризис → цены падают → люди откладывают покупки →                        │
│   → спрос падает → цены падают сильнее → реальный долг растёт →           │
│   → банкротства → стагнация (ставки уже на нуле!)                         │
│                                                                             │
│ ГЕОМЕТРИЯ:                                                                  │
│   Метрика g получает ОТРИЦАТЕЛЬНУЮ скалярную кривизну R < 0                │
│   Все геодезические РАЗБЕГАЮТСЯ (агенты избегают трат)                     │
│   Объём Vol(M,g) → 0 (экономика сжимается)                                 │
│   Связность становится плоской (ставки = 0), но геодезические разбегаются  │
│   → ТОПОЛОГИЧЕСКАЯ ЛОВУШКА: M гомотопически стягивается в точку            │
│                                                                             │
│ СИНГУЛЯРНОСТЬ: Отрицательная кривизна + коллапс объёма                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 6. ВАЛЮТНЫЙ КРИЗИС                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ МЕХАНИЗМ:                                                                   │
│   Страна занимает в долларах → дефицит баланса → резервы тают →            │
│   → вывод капитала → курс падает → паника → обвал → дефолт                 │
│                                                                             │
│ ГЕОМЕТРИЯ:                                                                  │
│   Два многообразия M₁, M₂ (две валютные зоны)                              │
│   Связаны отображением f: M₁ → M₂ (обменный курс)                          │
│   Первоначально f — диффеоморфизм (гладкий обмен)                          │
│   Якобиан J(f) начинает расти (дисбаланс платежей)                         │
│   det(J) → ∞ в некоторых точках                                            │
│   → f перестаёт быть гомеоморфизмом                                        │
│   → РАЗРЫВ связи между M₁ и M₂                                             │
│                                                                             │
│ СИНГУЛЯРНОСТЬ: Вырождение отображения                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ КРАСОТА ПОДХОДА                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Все кризисы — это ГЕОМЕТРИЧЕСКИЕ СИНГУЛЯРНОСТИ разных типов!               │
│                                                                             │
│   ┌────────────────────────┬──────────────────────────────────────────────┐ │
│   │ КРИЗИС                 │ ТИП СИНГУЛЯРНОСТИ                            │ │
│   ├────────────────────────┼──────────────────────────────────────────────┤ │
│   │ Долговой               │ Вырождение метрики (det g → 0)               │ │
│   │ Пузырь                 │ Кривизна → ∞                                 │ │
│   │ Смешанный              │ Коразмерность 2 (метрика + связность)        │ │
│   │ Инфляционный           │ Потеря потенциальности (rot ≠ 0)            │ │
│   │ Дефляционный           │ Коллапс объёма (R < 0)                       │ │
│   │ Валютный               │ Вырождение отображения (det J → ∞)          │ │
│   └────────────────────────┴──────────────────────────────────────────────┘ │
│                                                                             │
│ РОЛЬ ЦЕНТРОБАНКА:                                                           │
│   ЦБ = управление кривизной R через изменение связности ∇_ставка           │
│   R > R_target → ЦБ увеличивает "жёсткость" связности                      │
│   Геодезические становятся короче (кредиты дороже)                         │
│   Фазовое пространство сжимается → R уменьшается                           │
│   Но с ЗАПАЗДЫВАНИЕМ τ (волна кривизны распространяется медленно)          │
│                                                                             │
│ Теперь понятно, почему центробанки "СГЛАЖИВАЮТ" —                          │
│ они пытаются уменьшить кривизну!                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
П21. МАШИННОЕ ОБУЧЕНИЕ — ГЕОМЕТРИЯ ДАННЫХ
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│ ГЛАВНАЯ ИДЕЯ                                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Машинное обучение = ГЕОМЕТРИЯ В ПРОСТРАНСТВЕ ПРИЗНАКОВ                   │
│                                                                             │
│   • Объект = точка в ℝⁿ (n признаков)                                      │
│   • Обучение = поиск структуры в облаке точек                              │
│   • Классификация = разделение точек гиперповерхностью                     │
│   • Регрессия = проекция на подпространство                                │
│   • Снижение размерности = отображение ℝⁿ → ℝᵏ                             │
│                                                                             │
│   Все методы ML — это ГЕОМЕТРИЧЕСКИЕ операции над точками в пространстве.  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ СВЯЗЬ С ДРУГИМИ РАЗДЕЛАМИ АТЛАСА                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ML — не изолированная область. Это ПРИМЕНЕНИЕ математики атласа!            │
│                                                                             │
│ ┌───────────────────────┬───────────────────────────────────────────────┐   │
│ │ КОНЦЕПЦИЯ ML          │ ГДЕ В АТЛАСЕ                                  │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Линейная регрессия    │ Проекция на подпространство (A3):             │   │
│ │                       │ ŷ = X(XᵀX)⁻¹Xᵀy — ортогональная проекция    │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Backpropagation       │ Цепное правило дифференцирования (A13):       │   │
│ │                       │ ∂L/∂wᵢ = ∂L/∂y · ∂y/∂wᵢ                      │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Регуляризация         │ Априорное распределение = мера (A16, П19):    │   │
│ │                       │ L2-регуляризация ↔ гауссов prior на веса     │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ SVM с ядрами          │ Гильбертово пространство (A15):               │   │
│ │                       │ K(x,y) — воспроизводящее ядро, ⟨φ(x),φ(y)⟩   │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ PCA                   │ Собственные векторы (A3):                     │   │
│ │                       │ Спектральное разложение ковариационной матрицы│   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Градиентный спуск     │ Оптимизация на многообразии (П8):             │   │
│ │                       │ −∇L ∈ T*M → движение в направлении убывания  │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Softmax               │ Экспоненциальное семейство распределений:     │   │
│ │                       │ p(y=k) ∝ exp(zₖ) — максимум энтропии (П20)   │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Cross-entropy loss    │ KL-дивергенция (П20):                         │   │
│ │                       │ H(p,q) = −Σp log q — информационная мера      │   │
│ ├───────────────────────┼───────────────────────────────────────────────┤   │
│ │ Нейросеть             │ Композиция функций: f = fₙ ∘ ... ∘ f₁        │   │
│ │                       │ Универсальная аппроксимация (A15)             │   │
│ └───────────────────────┴───────────────────────────────────────────────┘   │
│                                                                             │
│ Понимая эти связи, мы видим: ML — это не "чёрный ящик", а ГЕОМЕТРИЯ.       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

───────────────────────────────────────────────────────────────────────────────
П21.1  ФУНДАМЕНТАЛЬНЫЕ КОНЦЕПЦИИ
───────────────────────────────────────────────────────────────────────────────

РАЗДЕЛЕНИЕ ДАННЫХ
─────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ АНАЛОГИЯ С ЭКЗАМЕНОМ                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ПЛОХОЙ ПОДХОД:                                                            │
│   Учишь ответы на конкретные вопросы из прошлогодних экзаменов.            │
│   На тех же вопросах получаешь 100%. На реальном экзамене — провал!        │
│                                                                             │
│   ХОРОШИЙ ПОДХОД:                                                           │
│   Учишь материал глубоко. Проверяешься на НОВЫХ задачах.                   │
│   Если хорошо справляешься с новыми задачами → реально понял материал.     │
│                                                                             │
│   МОДЕЛЬ ДОЛЖНА РАБОТАТЬ НА ДАННЫХ, КОТОРЫЕ НЕ ВИДЕЛА ПРИ ОБУЧЕНИИ!        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

TRAIN / VALIDATION / TEST:

    Исходные данные (100%):
    ├─ 70% → ОБУЧАЮЩАЯ (training)
    │         Модель "видит" эти данные и "учится" на них
    │
    ├─ 10% → ВАЛИДАЦИОННАЯ (validation)
    │         Подбор гиперпараметров, сравнение моделей
    │         Можно смотреть многократно
    │
    └─ 20% → ТЕСТОВАЯ (test)
              ФИНАЛЬНАЯ проверка ОДИН РАЗ в конце
              Честная оценка качества

ЧЕГО НИКОГДА НЕЛЬЗЯ ДЕЛАТЬ:
    ✗ Обучать модель на тесте
    ✗ Подбирать гиперпараметры по результатам на тесте
    ✗ Многократно проверять на тесте (тогда он становится валидацией)


ПЕРЕОБУЧЕНИЕ И НЕДООБУЧЕНИЕ
───────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ПЕРЕОБУЧЕНИЕ (Overfitting)                                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Модель "запоминает" обучающие данные вместо выучивания закономерностей.  │
│                                                                             │
│   СИМПТОМЫ:                                                                 │
│   • Отличное качество на train (99%)                                       │
│   • Плохое качество на test (70%)                                          │
│   • Большой РАЗРЫВ между train и test                                      │
│                                                                             │
│   ПРИЧИНЫ: слишком сложная модель, мало данных, нет регуляризации          │
│                                                                             │
│   ГЕОМЕТРИЧЕСКИ:                                                            │
│                                                                             │
│        •  •  класс 1                                                        │
│      ╱─│─╲╱─│─╲  ← граница "изогнулась" чтобы пройти через каждую точку    │
│     ──•───•───•──                                                           │
│        •  •  класс 0                                                        │
│                                                                             │
│   Модель подстроилась под ШУМ в данных, а не под истинную зависимость!     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ НЕДООБУЧЕНИЕ (Underfitting)                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Модель слишком простая и не может выучить закономерности.                │
│                                                                             │
│   СИМПТОМЫ:                                                                 │
│   • Плохое качество на train (70%)                                         │
│   • Плохое качество на test (68%)                                          │
│   • ОБА плохие, разрыв маленький                                           │
│                                                                             │
│   ПРИЧИНЫ: слишком простая модель, слишком сильная регуляризация           │
│                                                                             │
│   ГЕОМЕТРИЧЕСКИ:                                                            │
│                                                                             │
│          •  •  класс 1                                                      │
│        •  ○○○  •                                                            │
│          •  •  класс 0 (○) окружает класс 1                                │
│       ────┼────  ← прямая линия НЕ МОЖЕТ разделить такие данные            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


КРОСС-ВАЛИДАЦИЯ (K-Fold CV)
───────────────────────────

Проблема: validation set может быть "неудачным" — слишком простым или сложным.

Решение: усреднить по K разным разбиениям.

    ┌─────┬─────┬─────┬─────┬─────┐
    │ F1  │ F2  │ F3  │ F4  │ F5  │
    └─────┴─────┴─────┴─────┴─────┘
    
    Итерация 1: обучаем на F2,F3,F4,F5  →  тестируем на F1
    Итерация 2: обучаем на F1,F3,F4,F5  →  тестируем на F2
    ...
    Итерация 5: обучаем на F1,F2,F3,F4  →  тестируем на F5

    Финальная оценка = среднее по 5 итерациям
    Стандартное отклонение = мера стабильности модели

    ╔════════════════════════════════════════════════════════════════════╗
    ║  Низкий std = модель работает одинаково на разных данных          ║
    ║  Высокий std = модель чувствительна к выбору train                ║
    ╚════════════════════════════════════════════════════════════════════╝


РЕГУЛЯРИЗАЦИЯ
─────────────

Регуляризация = ограничение сложности модели для борьбы с переобучением.

L2 (Ridge): L(θ) = Loss(θ) + λ‖θ‖²
    Сжимает веса к нулю, но не обнуляет

L1 (Lasso): L(θ) = Loss(θ) + λ‖θ‖₁
    Обнуляет часть весов → отбор признаков

ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ:

         θ₂                              θ₂
         ↑                               ↑
         │    ╱───╲                      │    ╱───╲
         │   ╱  ●  ╲ ← OLS решение       │   ╱  ●  ╲
         │  │   ╲   │                    │  │   ╱│ │
         │  │    ○  │ ← Ridge (на круге) │  │  ╱ ○ │ ← Lasso (на ромбе)
         │   ╲     ╱                     │   ╲╱   ╱
         │    ⊙    │ ← ограничение       │    ◆   │
         └────────────→ θ₁               └────────────→ θ₁
              RIDGE                           LASSO

    Ridge: касание эллипса с КРУГОМ → веса сжимаются, но ≠ 0
    Lasso: касание эллипса с РОМБОМ → касание в УГЛУ → некоторые веса = 0


───────────────────────────────────────────────────────────────────────────────
П21.2  ЛИНЕЙНАЯ РЕГРЕССИЯ — ГЕОМЕТРИЯ ПРОЕКЦИИ
───────────────────────────────────────────────────────────────────────────────

ПОСТАНОВКА:

    Дано: X ∈ ℝⁿˣᵖ (n объектов, p признаков), y ∈ ℝⁿ (отклик)
    Найти: θ ∈ ℝᵖ такой что ŷ = Xθ минимизирует ‖y - ŷ‖²

ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ:

    ╔════════════════════════════════════════════════════════════════════╗
    ║  Линейная регрессия = ПРОЕКЦИЯ вектора y                          ║
    ║  на подпространство, натянутое на столбцы X                       ║
    ╚════════════════════════════════════════════════════════════════════╝

         y (реальный вектор)
         ●
        ╱│╲
       ╱ │ ╲ 
      ╱  │  ╲
     ╱   │90°╲
    ╱────●────╲────────→ подпространство L = span(X)
         ŷ (проекция)
         ↑
         Это ПЕРПЕНДИКУЛЯР!

Условие оптимальности: остаток (y - ŷ) ⊥ подпространству L

    Xᵀ(y - Xθ) = 0
    Xᵀy = XᵀXθ
    θ* = (XᵀX)⁻¹Xᵀy   ← НОРМАЛЬНОЕ УРАВНЕНИЕ


───────────────────────────────────────────────────────────────────────────────
П21.3  ЛОГИСТИЧЕСКАЯ РЕГРЕССИЯ — ВЕРОЯТНОСТНАЯ КЛАССИФИКАЦИЯ
───────────────────────────────────────────────────────────────────────────────

ПОСТАНОВКА:

    Дано: X ∈ ℝⁿˣᵖ, y ∈ {0,1}ⁿ (бинарные метки)
    Найти: P(y=1|x) для новых объектов

ПОЧЕМУ НЕ ЛИНЕЙНАЯ РЕГРЕССИЯ?

    Проблема 1: предсказания выходят за [0,1]
        Пациент с очень высоким давлением: ŷ = 1.8 ???
        
    Проблема 2: выбросы ломают модель
        Линейная регрессия "тянется" к выбросам

РЕШЕНИЕ — СИГМОИДА:

    Линейная часть         Сигмоида           Вероятность
    z = θᵀx        ───→    σ(z) = 1/(1+e⁻ᶻ)  ───→   P(y=1)
    z ∈ (-∞, +∞)                                   ∈ [0,1]

    z = -10  →  P ≈ 0     (почти уверены: класс 0)
    z = 0    →  P = 0.5   (неопределённость)
    z = +10  →  P ≈ 1     (почти уверены: класс 1)

ФУНКЦИЯ ПОТЕРЬ (Cross-Entropy):

    L(θ) = -Σᵢ[yᵢ log(p̂ᵢ) + (1-yᵢ) log(1-p̂ᵢ)]
    
    где p̂ᵢ = σ(θᵀxᵢ)

ПОЧЕМУ CROSS-ENTROPY, А НЕ MSE? (Критически важно!)

    Градиенты для модели ŷ = σ(z), z = θᵀx:
    
    MSE:              ∂L/∂z = 2(ŷ - y) · σ(z)(1-σ(z))
    Cross-entropy:    ∂L/∂z = ŷ - y
    
    Ключевой факт: σ'(z) = σ(z)(1-σ(z)) → НОЛЬ при |z|→∞

    НАСЫЩЕНИЕ СИГМОИДЫ:
    
        z       σ(z)    σ'(z)
        ─────   ─────   ─────
        -10     0.00005 0.00005  ← почти ноль!
          0     0.50    0.25     ← максимум
        +10     0.99995 0.00005  ← почти ноль!

    КРИТИЧЕСКИЙ ПРИМЕР:
    
        Правильный ответ: y = 1
        Модель предсказывает: z = -10 → σ(-10) ≈ 0
        
        ОШИБКА ОГРОМНАЯ! (предсказали 0 вместо 1)
        
        MSE градиент:  2(0 - 1) · 0.00005 ≈ -0.0001  ← МИКРОСКОПИЧЕСКИЙ!
        CE градиент:   0 - 1 = -1.0                   ← НОРМАЛЬНЫЙ!

    ╔════════════════════════════════════════════════════════════════════╗
    ║  При БОЛЬШОЙ ошибке MSE даёт МАЛЕНЬКИЙ градиент → застревание!    ║
    ║  Cross-entropy: производная σ'(z) СОКРАЩАЕТСЯ при дифференц.      ║
    ║                 оставляя чистый градиент (ŷ - y)                  ║
    ╚════════════════════════════════════════════════════════════════════╝

    Математически: CE = negative log-likelihood для Bernoulli:
    P(y|x) = σ(z)ʸ · (1-σ(z))¹⁻ʸ  →  -log P = L_CE

ГРАНИЦА РЕШЕНИЙ:

    Граница = {x : P(y=1|x) = 0.5} = {x : θᵀx = 0} ← ГИПЕРПЛОСКОСТЬ!

         •  •  класс 1
         •  •
    ─────────────────  ← граница θᵀx = 0
         •  •
         •  •  класс 0


───────────────────────────────────────────────────────────────────────────────
П21.4  SVM — МАКСИМАЛЬНЫЙ ЗАЗОР
───────────────────────────────────────────────────────────────────────────────

ИДЕЯ: найти гиперплоскость с МАКСИМАЛЬНЫМ зазором (margin) между классами.

         •  •  класс 1
        ═══════════  ← margin (зазор)
    ───────────────  ← разделяющая гиперплоскость wᵀx + b = 0
        ═══════════  
         •  •  класс 0

ЗАДАЧА ОПТИМИЗАЦИИ:

    max  margin = 2/‖w‖
    s.t. yᵢ(wᵀxᵢ + b) ≥ 1  для всех i

    Эквивалентно: min ½‖w‖²

ОПОРНЫЕ ВЕКТОРА (Support Vectors):

    Точки, лежащие на границе margin (yᵢ(wᵀxᵢ + b) = 1).
    Только они определяют решение!
    
    ● ← опорный вектор (на границе margin)
    • ← обычная точка (не влияет на решение)

KERNEL TRICK:

    Для нелинейно разделимых данных: проецируем в пространство большей 
    размерности, где данные становятся линейно разделимы.

    Фокус: не вычисляем φ(x) явно, а используем ядро K(x,x') = ⟨φ(x),φ(x')⟩

    Популярные ядра:
    • Линейное: K(x,x') = xᵀx'
    • RBF (Гауссово): K(x,x') = exp(-γ‖x-x'‖²)
    • Полиномиальное: K(x,x') = (xᵀx' + c)ᵈ


───────────────────────────────────────────────────────────────────────────────
П21.5  KNN — КЛАССИФИКАЦИЯ ПО СОСЕДЯМ
───────────────────────────────────────────────────────────────────────────────

ИДЕЯ: "Скажи мне, кто твои соседи — и я скажу, кто ты."

АЛГОРИТМ:

    1. Для нового объекта x найти K ближайших соседей в обучающей выборке
    2. Класс x = голосование большинства среди K соседей

    K=1: граница = диаграмма Вороного
    K большое: граница сглаживается

ОСОБЕННОСТИ:

    ✓ Нет обучения (lazy learning)
    ✓ Естественная нелинейная граница
    ✓ Легко добавлять новые данные
    
    ✗ Медленное предсказание O(nN) где N — размер обучающей выборки
    ✗ Проклятие размерности (в высоких измерениях все точки "далеко")
    ✗ Чувствителен к масштабу признаков → нужна нормализация


───────────────────────────────────────────────────────────────────────────────
П21.6  PCA — СНИЖЕНИЕ РАЗМЕРНОСТИ
───────────────────────────────────────────────────────────────────────────────

ПОСТАНОВКА:

    Дано: X ∈ ℝⁿˣᵖ (центрированные данные)
    Найти: направления w₁, w₂, ..., wₖ максимальной дисперсии

ГЛАВНАЯ ТЕОРЕМА:

    ╔════════════════════════════════════════════════════════════════════╗
    ║  Направления максимальной дисперсии =                             ║
    ║  = СОБСТВЕННЫЕ ВЕКТОРА ковариационной матрицы S = XᵀX/(n-1)       ║
    ║                                                                    ║
    ║  Дисперсия вдоль PCᵢ = СОБСТВЕННОЕ ЗНАЧЕНИЕ λᵢ                    ║
    ╚════════════════════════════════════════════════════════════════════╝

ВЫВОД:

    max  Var(Xw) = wᵀSw
    s.t. ‖w‖ = 1

    Лагранжиан: ℒ = wᵀSw - λ(wᵀw - 1)
    ∂ℒ/∂w = 2Sw - 2λw = 0
    
    Sw = λw  ← ЗАДАЧА НА СОБСТВЕННЫЕ ВЕКТОРА!

ГЕОМЕТРИЧЕСКАЯ ИНТУИЦИЯ:

    x₂
     ↑     PC1 (направление макс. дисперсии)
     │    ╱●
     │  ●╱  ●
     │ ●╱ ●  ●    ← PC1 проходит вдоль "длины" облака
     │●╱ ●   ●       PC2 ⊥ PC1
     └╱──────────→ x₁
      ╲
       PC2

    Проекция на PC1 сохраняет МАКСИМУМ информации о различиях между точками.

ПОЧЕМУ ДИСПЕРСИЯ = ИНФОРМАЦИЯ?

    Большая дисперсия → точки хорошо различимы → много информации
    Малая дисперсия → точки "слиплись" → мало информации
    Нулевая дисперсия = константа → нет информации

СВЯЗЬ С SVD:

    X = UΣVᵀ
    
    • Столбцы V = направления главных компонент (loadings)
    • Σᵢᵢ² / (n-1) = собственные значения S = дисперсии
    • Столбцы U·Σ = проекции на главные компоненты (scores)


───────────────────────────────────────────────────────────────────────────────
П21.7  СРАВНЕНИЕ МЕТОДОВ КЛАССИФИКАЦИИ
───────────────────────────────────────────────────────────────────────────────

┌──────────────────────┬────────────────────┬─────────────────────┬──────────┐
│ Аспект               │ Логистич. регрес.  │ SVM                 │ KNN      │
├──────────────────────┼────────────────────┼─────────────────────┼──────────┤
│ Подход               │ Вероятностная      │ Геометрич. (margin) │ Соседи   │
│ Граница              │ Линейная           │ Линейная/нелинейная │ Любая    │
│ Обучение             │ Итеративное        │ Квадр. оптимизация  │ Нет      │
│ Предсказание         │ Быстро O(p)        │ Быстро O(#SV·p)     │ Медленно │
│ Вероятности          │ ✓ Естественные     │ ✗ Нет               │ ✓ Прибл. │
│ Интерпретируемость   │ ✓ Высокая          │ ~ Средняя           │ ✓ Высокая│
│ Высокие размерности  │ ✓ Хорошо           │ ✓ Хорошо            │ ✗ Плохо  │
│ Большие данные       │ ✓ Хорошо           │ ✗ Плохо             │ ✗ Плохо  │
└──────────────────────┴────────────────────┴─────────────────────┴──────────┘

РЕКОМЕНДАЦИИ:

    Логистическая регрессия:
    ✓ Нужны вероятности, важна интерпретируемость, линейная граница достаточна
    ✓ Всегда начинай с неё как baseline!

    SVM:
    ✓ Средний объём данных (n < 10,000), высокая размерность
    ✓ Нелинейная граница (с kernel), нужна робастность к выбросам

    KNN:
    ✓ Малые данные, сложная граница, нет времени настраивать модель
    ✓ Рекомендательные системы, поиск похожих объектов


═══════════════════════════════════════════════════════════════════════════════
П22. НЕЙРОННЫЕ СЕТИ — КОМПОЗИЦИЯ НЕЛИНЕЙНЫХ ПРЕОБРАЗОВАНИЙ
═══════════════════════════════════════════════════════════════════════════════

───────────────────────────────────────────────────────────────────────────────
П22.1  ИДЕЯ И СТРУКТУРА
───────────────────────────────────────────────────────────────────────────────

ПОЧЕМУ НУЖНЫ НЕЙРОСЕТИ?

    Линейные методы ограничены: если зависимость y = sin(x₁) + x₂³,
    линейная модель не справится.

    Нейросеть = КОМПОЗИЦИЯ линейных преобразований и нелинейных активаций.

АРХИТЕКТУРА (один скрытый слой):

    f(x) = W₂ · σ(W₁x + b₁) + b₂

    где:
    • W₁ ∈ ℝʰˣⁿ, b₁ ∈ ℝʰ  (входной → скрытый слой, h нейронов)
    • σ: ℝ → ℝ             (нелинейная активация, поэлементно)
    • W₂ ∈ ℝᵏˣʰ, b₂ ∈ ℝᵏ  (скрытый → выходной слой)

    x ∈ ℝⁿ  →  [W₁, b₁]  →  z ∈ ℝʰ  →  [σ]  →  a ∈ ℝʰ  →  [W₂, b₂]  →  y ∈ ℝᵏ
     вход       аффинное      линейная    нелинейность   аффинное       выход

ГЕОМЕТРИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ:

    • W₁x + b₁ = аффинное преобразование ℝⁿ → ℝʰ (поворот, растяжение, сдвиг)
    • σ = нелинейная деформация ("складывание" пространства)
    • W₂ = линейная комбинация ℝʰ → ℝᵏ

    Композиция даёт нелинейное отображение ℝⁿ → ℝᵏ!

ФУНКЦИИ АКТИВАЦИИ:

    ReLU(z) = max(0, z)      ← самая популярная, "складывает" половину пространства
    σ(z) = 1/(1+e⁻ᶻ)         ← сигмоида, сжимает в (0,1)
    tanh(z) = (eᶻ-e⁻ᶻ)/(eᶻ+e⁻ᶻ)  ← сжимает в (-1,1)

UNIVERSAL APPROXIMATION THEOREM:

    Нейросеть с одним скрытым слоем и достаточным числом нейронов
    может аппроксимировать ЛЮБУЮ непрерывную функцию!

┌─────────────────────────────────────────────────────────────────────────────┐
│ ДВА ПРОСТРАНСТВА В НЕЙРОСЕТЯХ — КЛЮЧЕВАЯ ИДЕЯ                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В ML есть ДВА разных пространства, и их нельзя путать:                      │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРОСТРАНСТВО ДАННЫХ (input space)                                           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   • Каждая точка = один пример (изображение, текст, измерение)             │
│   • Размерность = число признаков (784 для MNIST, миллионы для LLM)        │
│   • Нейросеть ДЕФОРМИРУЕТ это пространство, чтобы классы стали разделимы   │
│                                                                             │
│   КАРТИНКА: облако точек двух цветов. Изначально перемешаны.               │
│   После нескольких слоёв — разделены гиперплоскостью.                      │
│                                                                             │
│       ДО ОБУЧЕНИЯ:              ПОСЛЕ ОБУЧЕНИЯ:                            │
│       • ○ • ○ •                 • • • │ ○ ○ ○                               │
│       ○ • ○ • ○                 • • • │ ○ ○ ○                               │
│       • ○ • ○ •                 • • • │ ○ ○ ○                               │
│       (перемешано)              (линейно разделимо)                        │
│                                                                             │
│ ═══════════════════════════════════════════════════════════════════════════ │
│ ПРОСТРАНСТВО ВЕСОВ (parameter space) — ЗДЕСЬ ПРОИСХОДИТ ОБУЧЕНИЕ           │
│ ═══════════════════════════════════════════════════════════════════════════ │
│                                                                             │
│   • Каждая точка = один набор весов θ = (W₁, b₁, W₂, b₂, ...)             │
│   • Размерность = общее число параметров (миллионы или миллиарды!)        │
│   • Функция потерь L(θ) — это "высота" в каждой точке                      │
│                                                                             │
│   ЛАНДШАФТ ФУНКЦИИ ПОТЕРЬ:                                                  │
│                                                                             │
│             ╱╲      ╱╲                                                      │
│            ╱  ╲    ╱  ╲         ← локальные максимумы (плохо)               │
│       ────╱────╲──╱────╲────                                                │
│              ╲╱                 ← седловые точки (много!)                   │
│           глоб.мин              ← хотим попасть сюда                        │
│                                                                             │
│   Обучение = ПУТЕШЕСТВИЕ по этому ландшафту в поисках минимума.            │
│   Градиентный спуск = "скатываемся вниз по склону".                        │
│                                                                             │
│ ПОЧЕМУ ЭТО СЛОЖНО:                                                          │
│   • Ландшафт в МИЛЛИОНАХ измерений — нельзя визуализировать                │
│   • Много локальных минимумов и седловых точек                             │
│   • Градиент может быть огромным или исчезающе малым                       │
│                                                                             │
│ УДИВИТЕЛЬНЫЙ ФАКТ:                                                          │
│   В высокой размерности большинство критических точек — СЁДЛА, не минимумы.│
│   Поэтому градиентный спуск обычно находит путь к хорошему решению.        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ ⚠️  ТЕНЗОР В ML ≠ ТЕНЗОР В МАТЕМАТИКЕ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ В PyTorch/TensorFlow "тензор" — это просто МНОГОМЕРНЫЙ МАССИВ чисел:       │
│                                                                             │
│   torch.tensor([1, 2, 3])           # "1D-тензор" = вектор                  │
│   torch.tensor([[1,2], [3,4]])      # "2D-тензор" = матрица                 │
│   torch.randn(3, 4, 5)              # "3D-тензор" = 3×4×5 массив            │
│                                                                             │
│ В математике/физике (раздел A6) ТЕНЗОР — это объект, который:              │
│   • Преобразуется по определённому закону при смене координат              │
│   • Ковариантные индексы: T'ᵢ = (∂xʲ/∂x'ⁱ) Tⱼ                              │
│   • Контравариантные: T'ⁱ = (∂x'ⁱ/∂xʲ) Tʲ                                  │
│                                                                             │
│ ┌─────────────────────┬─────────────────────┬───────────────────────────┐   │
│ │                     │ ML "ТЕНЗОР"         │ МАТЕМАТИЧЕСКИЙ ТЕНЗОР     │   │
│ ├─────────────────────┼─────────────────────┼───────────────────────────┤   │
│ │ Что это?            │ Контейнер данных    │ Геометрический объект     │   │
│ │ Зависит от базиса?  │ Да (просто числа)   │ Нет (инвариантен)         │   │
│ │ Закон преобразования│ Нет                 │ Да (ко/контравариантность)│   │
│ │ Пример              │ Батч изображений    │ Метрический тензор gᵢⱼ    │   │
│ └─────────────────────┴─────────────────────┴───────────────────────────┘   │
│                                                                             │
│ ПОЧЕМУ ЭТО ВАЖНО:                                                           │
│   В обычном ML ковариантность не нужна — нет "смены координат".            │
│   Но в Geometric Deep Learning (графовые сети, эквивариантные CNN)         │
│   требуется настоящая тензорная структура: выход должен правильно          │
│   преобразовываться при повороте/отражении входа.                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


───────────────────────────────────────────────────────────────────────────────
П22.2  BACKPROPAGATION — ОБРАТНОЕ РАСПРОСТРАНЕНИЕ ОШИБКИ
───────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────────┐
│ ИНТУИЦИЯ: "ЭХО ОШИБКИ"                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ Представьте: вы стреляете из лука и промахиваетесь.                        │
│                                                                             │
│   Промах (ошибка на выходе) = вы попали на 10 см левее.                    │
│                                                                             │
│   КТО ВИНОВАТ?                                                              │
│   • Может, рука дрогнула при выстреле (последний "слой")                   │
│   • Может, вы плохо прицелились (средний "слой")                           │
│   • Может, неправильно встали (первый "слой")                              │
│                                                                             │
│   Backpropagation = РАСПРЕДЕЛЕНИЕ ВИНЫ от конца к началу.                  │
│                                                                             │
│   Ошибка "отражается" от выхода и идёт назад через сеть,                   │
│   как эхо, затухая или усиливаясь на каждом слое.                          │
│                                                                             │
│         вход → [слой 1] → [слой 2] → [слой 3] → выход                      │
│                                                  ↓                          │
│                                              ОШИБКА                         │
│                                                  ↓                          │
│         ∂L/∂W₁ ← [δ₁] ← [δ₂] ← [δ₃] ← ∂L/∂выход                            │
│                   ↑        ↑        ↑                                       │
│              затухает  (или усиливается) на каждом слое                    │
│                                                                             │
│ δ (дельта) = "сколько вины" несёт этот нейрон за итоговую ошибку.          │
│                                                                             │
│ ПРОБЛЕМА ЗАТУХАНИЯ ГРАДИЕНТА:                                               │
│   Если каждый слой умножает δ на число < 1, то δ₁ ≈ 0.                     │
│   Первые слои не учатся! (эхо затухло)                                     │
│                                                                             │
│   ReLU решает эту проблему: градиент либо 0, либо 1 (не затухает).         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

ЗАДАЧА: вычислить ∇L(θ) для всех параметров θ = {W₁, b₁, W₂, b₂, ...}

ИДЕЯ: применить chain rule для композиции функций.

    Для f = g ∘ h:  ∂f/∂x = (∂g/∂h) · (∂h/∂x)

АЛГОРИТМ:

    FORWARD PASS (сохраняем промежуточные значения):
    для i = 1 до L:
        aⁱ = Wᵢzⁱ⁻¹ + bᵢ       (линейное преобразование)
        zⁱ = σᵢ(aⁱ)            (активация)

    BACKWARD PASS (вычисляем градиенты от конца к началу):
    
    δᴸ = ∂L/∂aᴸ               (градиент на последнем слое)
    
    для i = L-1 до 1:
        δⁱ = (Wᵢ₊₁ᵀ · δⁱ⁺¹) ⊙ σ'ᵢ(aⁱ)    (рекуррентное вычисление)
    
    Градиенты по параметрам:
        ∂L/∂Wᵢ = δⁱ · (zⁱ⁻¹)ᵀ            (внешнее произведение)
        ∂L/∂bᵢ = δⁱ

ВЫЧИСЛИТЕЛЬНАЯ СЛОЖНОСТЬ: такая же как forward pass! O(Σᵢ nᵢ₋₁ · nᵢ)

ЧИСЛЕННЫЙ ПРИМЕР:

    Сеть: ℝ¹ → ℝ¹, один скрытый нейрон, ReLU
    f(x) = w₂ · ReLU(w₁x + b₁) + b₂
    
    Параметры: w₁=1, b₁=-1, w₂=2, b₂=0
    Данные: x=2, y=5
    
    FORWARD:
    a¹ = w₁·x + b₁ = 1·2 + (-1) = 1
    z¹ = ReLU(1) = 1
    ŷ = w₂·z¹ + b₂ = 2·1 + 0 = 2
    L = ½(ŷ-y)² = ½(2-5)² = 4.5
    
    BACKWARD:
    ∂L/∂ŷ = ŷ - y = -3
    
    ∂L/∂w₂ = ∂L/∂ŷ · z¹ = -3 · 1 = -3
    ∂L/∂b₂ = ∂L/∂ŷ · 1 = -3
    
    δ¹ = ∂L/∂ŷ · w₂ · ReLU'(a¹) = -3 · 2 · 1 = -6
    
    ∂L/∂w₁ = δ¹ · x = -6 · 2 = -12
    ∂L/∂b₁ = δ¹ · 1 = -6


───────────────────────────────────────────────────────────────────────────────
П22.3  ОПТИМИЗАЦИЯ
───────────────────────────────────────────────────────────────────────────────

ГРАДИЕНТНЫЙ СПУСК:

    θₜ₊₁ = θₜ - η · ∇L(θₜ)

    η = learning rate (скорость обучения)

ВАРИАНТЫ:

    Batch GD:     градиент по ВСЕЙ выборке — точный, но медленный
    
    SGD:          градиент по ОДНОМУ примеру — шумный, но быстрый
    
    Mini-batch:   градиент по пачке B примеров — компромисс (B=32,64,128)

MOMENTUM:

    vₜ = β·vₜ₋₁ + ∇L(θₜ)        (накопление "скорости")
    θₜ₊₁ = θₜ - η·vₜ
    
    Аналогия: шар, катящийся с горы с инерцией

ADAM (Adaptive Moment Estimation):

    mₜ = β₁·mₜ₋₁ + (1-β₁)·∇L             (среднее градиента)
    vₜ = β₂·vₜ₋₁ + (1-β₂)·(∇L)²          (среднее квадрата градиента)
    
    θₜ₊₁ = θₜ - η · m̂ₜ / (√v̂ₜ + ε)
    
    Каждый параметр имеет СВОЙ адаптивный learning rate!


───────────────────────────────────────────────────────────────────────────────
П22.4  СВЁРТОЧНЫЕ НЕЙРОСЕТИ (CNN)
───────────────────────────────────────────────────────────────────────────────

ПРОБЛЕМА ПОЛНОСВЯЗНЫХ СЕТЕЙ ДЛЯ ИЗОБРАЖЕНИЙ:

    MNIST 28×28: 784 входа → W₁ ∈ ℝ¹²⁸ˣ⁷⁸⁴ = 100k параметров
    ImageNet 224×224×3: 150,528 входов → W₁ ∈ ℝ¹²⁸ˣ¹⁵⁰⁵²⁸ = 19M параметров!
    
    И это только ОДИН слой!

ИДЕИ CNN:

    1. ЛОКАЛЬНОСТЬ: каждый нейрон смотрит только на окрестность k×k
    2. WEIGHT SHARING: один фильтр используется для всех позиций
    3. ИЕРАРХИЯ: края → текстуры → части → объекты

СВЁРТКА:

    Y[i,j] = Σₘ Σₙ K[m,n] · X[i+m, j+n]
    
    Геометрически: скалярное произведение ядра K с патчем изображения

ПРИМЕР (детектор вертикального края):

    X = [1  2  3  0]     K = [-1  1]
        [0  1  2  3]         [-1  1]
        [3  0  1  2]
        [4  2  0  1]

    Y[0,0] = (-1)·1 + 1·2 + (-1)·0 + 1·1 = 2   (есть вертикальный край)

POOLING:

    Max Pooling: Y[i,j] = max{X[2i+m, 2j+n] | m,n ∈ {0,1}}
    
    • Уменьшает размерность в 2 раза по каждой оси
    • Обеспечивает локальную инвариантность к сдвигам
    • Нет обучаемых параметров

ТИПИЧНАЯ АРХИТЕКТУРА:

    INPUT → [CONV-ReLU-POOL]×N → FLATTEN → FC → OUTPUT
    
    Пример LeNet-5:
    INPUT 28×28×1 → CONV1 24×24×20 → POOL 12×12×20 → 
    → CONV2 8×8×50 → POOL 4×4×50 → FLATTEN 800 → FC 500 → FC 10

ЭКОНОМИЯ ПАРАМЕТРОВ:

    Свёрточный слой k=3, Cᵢₙ=64, Cₒᵤₜ=128:
        Параметры = 3² · 64 · 128 + 128 ≈ 74k
    
    Полносвязный слой для изображения 32×32×64 → 32×32×128:
        Параметры = (32·32·64) · (32·32·128) = 4.3 МИЛЛИАРДА!
    
    CNN экономит параметры на 4-5 ПОРЯДКОВ!

ИЕРАРХИЯ ПРИЗНАКОВ:

    Слой 1-2:   Края, углы, простые градиенты (receptive field 3-7 px)
    Слой 3-5:   Текстуры, повторяющиеся паттерны (RF 20-50 px)
    Слой 6-8:   Части объектов (глаза, колёса) (RF 100+ px)
    Финальный:  Классификация по признакам высокого уровня


───────────────────────────────────────────────────────────────────────────────
П22.5  СРАВНЕНИЕ КЛАССИЧЕСКИХ МЕТОДОВ И НЕЙРОСЕТЕЙ
───────────────────────────────────────────────────────────────────────────────

┌──────────────────────┬───────────────────────┬───────────────────────────────┐
│ Критерий             │ Линейные методы       │ Нейросети                     │
├──────────────────────┼───────────────────────┼───────────────────────────────┤
│ Параметры            │ O(n)                  │ O(h·n) или больше             │
│ Решение              │ Closed form или выпукл│ Итеративное, невыпуклое      │
│ Выразительность      │ Только линейные       │ Произвольные непрерывные      │
│ Интерпретируемость   │ Высокая               │ Низкая                        │
│ Данные               │ Работает на малых     │ Требует много данных          │
│ Вычисления           │ Легко на CPU          │ Требует GPU                   │
└──────────────────────┴───────────────────────┴───────────────────────────────┘

КОГДА ЧТО ИСПОЛЬЗОВАТЬ:

    Линейные методы:
    ✓ n < 1000 признаков
    ✓ Зависимость близка к линейной
    ✓ Важна интерпретируемость
    ✓ Мало данных (N < 10,000)
    
    Нейросети:
    ✓ n > 1000 признаков (изображения, текст)
    ✓ Нелинейные зависимости
    ✓ Много данных (N > 100,000)
    ✓ Есть GPU




═══════════════════════════════════════════════════════════════════════════════
